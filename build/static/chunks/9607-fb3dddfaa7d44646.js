(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9607],{53094:function(e,t,r){"use strict";var i,n=(i=r(72871))&&i.__esModule?i:{default:i};e.exports=(0,n.default)(function(e){var t,r=e.matchUtilities,i=e.matchVariant,n=e.theme,parseValue=function(e){var t,r;return null===(null!==(r=null===(t=e.match(/^(\d+\.\d+|\d+|\.\d+)\D+/))||void 0===t?void 0:t[1])&&void 0!==r?r:null)?null:parseFloat(e)},o=null!==(t=n("containers"))&&void 0!==t?t:{};r({"@container":function(e,t){return{"container-type":e,"container-name":t.modifier}}},{values:{DEFAULT:"inline-size",normal:"normal"},modifiers:"any"}),i("@",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(arguments.length>1?arguments[1]:void 0).modifier;return null!==parseValue(e)?"@container ".concat(null!=t?t:""," (min-width: ").concat(e,")"):[]},{values:o,sort:function(e,t){var r,i,n=parseFloat(e.value),o=parseFloat(t.value);if(null===n||null===o)return 0;if(n-o!=0)return n-o;var a=null!==(r=e.modifier)&&void 0!==r?r:"",s=null!==(i=t.modifier)&&void 0!==i?i:"";return""===a&&""!==s?1:""!==a&&""===s?-1:a.localeCompare(s,"en",{numeric:!0})}})},{theme:{containers:{xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"}}})},79608:function(e,t,r){let i=r(33619),n=r(72871),o=r(46175),a=r(97444),[s,{lineHeight:l}]=o.fontSize.base,{spacing:u,borderWidth:c,borderRadius:d}=o;function resolveColor(e,t){return e.replace("<alpha-value>",`var(${t}, 1)`)}let p=n.withOptions(function(e={strategy:void 0}){return function({addBase:t,addComponents:r,theme:n}){let o=void 0===e.strategy?["base","class"]:[e.strategy],p=[{base:["[type='text']","input:where(:not([type]))","[type='email']","[type='url']","[type='password']","[type='number']","[type='date']","[type='datetime-local']","[type='month']","[type='search']","[type='tel']","[type='time']","[type='week']","[multiple]","textarea","select"],class:[".form-input",".form-textarea",".form-select",".form-multiselect"],styles:{appearance:"none","background-color":"#fff","border-color":resolveColor(n("colors.gray.500",a.gray[500]),"--tw-border-opacity"),"border-width":c.DEFAULT,"border-radius":d.none,"padding-top":u[2],"padding-right":u[3],"padding-bottom":u[2],"padding-left":u[3],"font-size":s,"line-height":l,"--tw-shadow":"0 0 #0000","&:focus":{outline:"2px solid transparent","outline-offset":"2px","--tw-ring-inset":"var(--tw-empty,/*!*/ /*!*/)","--tw-ring-offset-width":"0px","--tw-ring-offset-color":"#fff","--tw-ring-color":resolveColor(n("colors.blue.600",a.blue[600]),"--tw-ring-opacity"),"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color)","box-shadow":"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow)","border-color":resolveColor(n("colors.blue.600",a.blue[600]),"--tw-border-opacity")}}},{base:["input::placeholder","textarea::placeholder"],class:[".form-input::placeholder",".form-textarea::placeholder"],styles:{color:resolveColor(n("colors.gray.500",a.gray[500]),"--tw-text-opacity"),opacity:"1"}},{base:["::-webkit-datetime-edit-fields-wrapper"],class:[".form-input::-webkit-datetime-edit-fields-wrapper"],styles:{padding:"0"}},{base:["::-webkit-date-and-time-value"],class:[".form-input::-webkit-date-and-time-value"],styles:{"min-height":"1.5em"}},{base:["::-webkit-date-and-time-value"],class:[".form-input::-webkit-date-and-time-value"],styles:{"text-align":"inherit"}},{base:["::-webkit-datetime-edit"],class:[".form-input::-webkit-datetime-edit"],styles:{display:"inline-flex"}},{base:["::-webkit-datetime-edit","::-webkit-datetime-edit-year-field","::-webkit-datetime-edit-month-field","::-webkit-datetime-edit-day-field","::-webkit-datetime-edit-hour-field","::-webkit-datetime-edit-minute-field","::-webkit-datetime-edit-second-field","::-webkit-datetime-edit-millisecond-field","::-webkit-datetime-edit-meridiem-field"],class:[".form-input::-webkit-datetime-edit",".form-input::-webkit-datetime-edit-year-field",".form-input::-webkit-datetime-edit-month-field",".form-input::-webkit-datetime-edit-day-field",".form-input::-webkit-datetime-edit-hour-field",".form-input::-webkit-datetime-edit-minute-field",".form-input::-webkit-datetime-edit-second-field",".form-input::-webkit-datetime-edit-millisecond-field",".form-input::-webkit-datetime-edit-meridiem-field"],styles:{"padding-top":0,"padding-bottom":0}},{base:["select"],class:[".form-select"],styles:{"background-image":`url("${i(`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20"><path stroke="${resolveColor(n("colors.gray.500",a.gray[500]),"--tw-stroke-opacity")}" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 8l4 4 4-4"/></svg>`)}")`,"background-position":`right ${u[2]} center`,"background-repeat":"no-repeat","background-size":"1.5em 1.5em","padding-right":u[10],"print-color-adjust":"exact"}},{base:["[multiple]",'[size]:where(select:not([size="1"]))'],class:['.form-select:where([size]:not([size="1"]))'],styles:{"background-image":"initial","background-position":"initial","background-repeat":"unset","background-size":"initial","padding-right":u[3],"print-color-adjust":"unset"}},{base:["[type='checkbox']","[type='radio']"],class:[".form-checkbox",".form-radio"],styles:{appearance:"none",padding:"0","print-color-adjust":"exact",display:"inline-block","vertical-align":"middle","background-origin":"border-box","user-select":"none","flex-shrink":"0",height:u[4],width:u[4],color:resolveColor(n("colors.blue.600",a.blue[600]),"--tw-text-opacity"),"background-color":"#fff","border-color":resolveColor(n("colors.gray.500",a.gray[500]),"--tw-border-opacity"),"border-width":c.DEFAULT,"--tw-shadow":"0 0 #0000"}},{base:["[type='checkbox']"],class:[".form-checkbox"],styles:{"border-radius":d.none}},{base:["[type='radio']"],class:[".form-radio"],styles:{"border-radius":"100%"}},{base:["[type='checkbox']:focus","[type='radio']:focus"],class:[".form-checkbox:focus",".form-radio:focus"],styles:{outline:"2px solid transparent","outline-offset":"2px","--tw-ring-inset":"var(--tw-empty,/*!*/ /*!*/)","--tw-ring-offset-width":"2px","--tw-ring-offset-color":"#fff","--tw-ring-color":resolveColor(n("colors.blue.600",a.blue[600]),"--tw-ring-opacity"),"--tw-ring-offset-shadow":"var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color)","--tw-ring-shadow":"var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color)","box-shadow":"var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow)"}},{base:["[type='checkbox']:checked","[type='radio']:checked"],class:[".form-checkbox:checked",".form-radio:checked"],styles:{"border-color":"transparent","background-color":"currentColor","background-size":"100% 100%","background-position":"center","background-repeat":"no-repeat"}},{base:["[type='checkbox']:checked"],class:[".form-checkbox:checked"],styles:{"background-image":`url("${i('<svg viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg"><path d="M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z"/></svg>')}")`,"@media (forced-colors: active) ":{appearance:"auto"}}},{base:["[type='radio']:checked"],class:[".form-radio:checked"],styles:{"background-image":`url("${i('<svg viewBox="0 0 16 16" fill="white" xmlns="http://www.w3.org/2000/svg"><circle cx="8" cy="8" r="3"/></svg>')}")`,"@media (forced-colors: active) ":{appearance:"auto"}}},{base:["[type='checkbox']:checked:hover","[type='checkbox']:checked:focus","[type='radio']:checked:hover","[type='radio']:checked:focus"],class:[".form-checkbox:checked:hover",".form-checkbox:checked:focus",".form-radio:checked:hover",".form-radio:checked:focus"],styles:{"border-color":"transparent","background-color":"currentColor"}},{base:["[type='checkbox']:indeterminate"],class:[".form-checkbox:indeterminate"],styles:{"background-image":`url("${i('<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h8"/></svg>')}")`,"border-color":"transparent","background-color":"currentColor","background-size":"100% 100%","background-position":"center","background-repeat":"no-repeat","@media (forced-colors: active) ":{appearance:"auto"}}},{base:["[type='checkbox']:indeterminate:hover","[type='checkbox']:indeterminate:focus"],class:[".form-checkbox:indeterminate:hover",".form-checkbox:indeterminate:focus"],styles:{"border-color":"transparent","background-color":"currentColor"}},{base:["[type='file']"],class:null,styles:{background:"unset","border-color":"inherit","border-width":"0","border-radius":"0",padding:"0","font-size":"unset","line-height":"inherit"}},{base:["[type='file']:focus"],class:null,styles:{outline:["1px solid ButtonText","1px auto -webkit-focus-ring-color"]}}],getStrategyRules=e=>p.map(t=>null===t[e]?null:{[t[e]]:t.styles}).filter(Boolean);o.includes("base")&&t(getStrategyRules("base")),o.includes("class")&&r(getStrategyRules("class"))}});e.exports=p},94517:function(e,t,r){"use strict";r.d(t,{jl:function(){return function getWebGLContext(e,t){if(!(e in n)||null!=t){let r=function(e,t){if(1!==e&&2!==e)throw Error("Cannot get WebGL rendering context, WebGL is disabled.");let r=null==t?function(e){if(!(0,i.OBj)().getBool("IS_SAFARI")&&"undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw Error("Cannot create a canvas in this context")}(e):t;return(r.addEventListener("webglcontextlost",t=>{t.preventDefault(),delete n[e]},!1),(0,i.OBj)().getBool("SOFTWARE_WEBGL_ENABLED")&&(o.failIfMajorPerformanceCaveat=!1),1===e)?r.getContext("webgl",o)||r.getContext("experimental-webgl",o):r.getContext("webgl2",o)}(e,t);if(null===r)return console.log("Could not get context for WebGL version",e),null;n[e]=r}let r=n[e];return null==r||r.isContextLost()?(delete n[e],getWebGLContext(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),n[e])}},nd:function(){return setWebGLContext}});var i=r(92427);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let n={},o={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function setWebGLContext(e,t){n[e]=t}},73048:function(e,t,r){"use strict";r.d(t,{_:function(){return DecodeMatrixProgram}});var i=r(54031),n=r(27004),o=r(85076),a=r(87067);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let DecodeMatrixProgram=class DecodeMatrixProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=a.m1.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];let t=(0,i.A)();this.outputShape=e,this.enableShapeUniforms=(0,n.C9)(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?o.Kn(["r","c","d"],e):o.RW(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getA(rc.x, rc.y, rc.z);
        }

        ${t.output} = result;
      }
    `}}},18355:function(e,t,r){"use strict";r.d(t,{G:function(){return DecodeMatrixPackedProgram}});var i=r(54031),n=r(27004),o=r(85076),a=r(87067);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let DecodeMatrixPackedProgram=class DecodeMatrixPackedProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=a.m1.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];let t=(0,i.A)();this.outputShape=e,this.enableShapeUniforms=(0,n.C9)(this.outputShape.length),this.userCode=`
      ivec3 outCoordsFromFlatIndex(int index) {
        ${this.enableShapeUniforms?o.Kn(["r","c","d"],e):o.RW(["r","c","d"],e)}
        return ivec3(r, c, d);
      }

      void main() {
        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));
        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);

        vec4 result = vec4(0.);

        for (int i=0; i<4; i++) {
          int flatIndex = index + i;
          ivec3 rc = outCoordsFromFlatIndex(flatIndex);
          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));
        }

        ${t.output} = result;
      }
    `}}},73500:function(e,t,r){"use strict";r.d(t,{q:function(){return EncodeFloatProgram}});var i=r(54031),n=r(85076),o=r(87067);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let EncodeFloatProgram=class EncodeFloatProgram{constructor(e){this.variableNames=["A"],this.outTexUsage=o.v2.DOWNLOAD;let t=(0,i.A)();this.outputShape=e,this.userCode=`
      ${n.ye}

      void main() {
        float x = getAAtOutCoords();
        ${t.output} = encode_float(x);
      }
    `}}},84602:function(e,t,r){"use strict";r.d(t,{d:function(){return EncodeFloatPackedProgram}});var i=r(54031),n=r(85076),o=r(87067);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let EncodeFloatPackedProgram=class EncodeFloatPackedProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=o.v2.DOWNLOAD;let t=(0,i.A)();this.outputShape=e,this.userCode=`
      ${n.ye}

      void main() {
        ivec3 coords = getOutputCoords();
        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));
        ${t.output} = encode_float(x);
      }
    `}}},70516:function(e,t,r){"use strict";r.d(t,{F:function(){return EncodeMatrixProgram}});var i=r(54031),n=r(27004),o=r(85076);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let a={R:0,G:1,B:2,A:3};let EncodeMatrixProgram=class EncodeMatrixProgram{constructor(e,t=!1,r="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];let s=(0,i.A)();this.outputShape=e,this.enableShapeUniforms=(0,n.C9)(this.outputShape.length);let l="result";t&&(l="floor(result * 255. + 0.5)");let u="";for(let e=0;e<r.length;e++){let t=r[e];u+=`
          if(offset == ${e}) {
            result = values[${a[t]}];
          }`}this.userCode=`
      ${this.enableShapeUniforms?o.nc():o.ku(e)}

      void main() {
        ivec3 coords = getOutputCoords();
        int flatIndex = getFlatIndex(coords);
        float result = 0.;
        int offset = imod(flatIndex, ${r.length});

        flatIndex = idiv(flatIndex, ${r.length}, 1.);

        int r = flatIndex / texShape[1];
        if (r < texShape[0]) {
          int c = imod(flatIndex, texShape[1]);
          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
          vec4 values = ${s.texture2D}(A, uv);
          ${u}
        }
        ${s.output} = vec4(${l}, 0., 0., 0.);
      }
    `}}},15661:function(e,t,r){"use strict";r.d(t,{Z:function(){return EncodeMatrixPackedProgram}});var i=r(54031),n=r(27004),o=r(85076);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let EncodeMatrixPackedProgram=class EncodeMatrixPackedProgram{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];let r=(0,i.A)();this.outputShape=e,this.enableShapeUniforms=(0,n.C9)(this.outputShape.length);let a="",s="result";t&&(s="floor(result * 255. + 0.5)");for(let t=0;t<=1;t++)for(let i=0;i<=1;i++){let n=2*t+i;a+=`
          localCoords = coords;
          if(localCoords[2] + ${i} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {
          localCoords[2] += ${i};
          if (localCoords[1] + ${t} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {
            localCoords[1] += ${t};

            flatIndex = getFlatIndex(localCoords);
            offset = imod(flatIndex, 4);

            flatIndex = idiv(flatIndex, 4, 1.);

            int r = flatIndex / texShape[1];
            int c = imod(flatIndex, texShape[1]);
            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);
            values = ${r.texture2D}(A, uv);

            if (offset == 0) {
              result[${n}] = values[0];
            } else if (offset == 1) {
              result[${n}] = values[1];
            } else if (offset == 2) {
              result[${n}] = values[2];
            } else {
              result[${n}] = values[3];
            }
          }
        }
        `}this.userCode=`
        ${this.enableShapeUniforms?o.nc():o.ku(e)}

        void main() {
          ivec3 coords = getOutputCoords();

          vec4 result = vec4(0.);
          int flatIndex, r, c, offset;
          ivec3 localCoords;
          vec2 uv;
          vec4 values;

          ${a}

          ${r.output} = ${s};
        }
    `}}},93581:function(e,t,r){"use strict";var i=r(92427),n=r(47311);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let o=(0,i.OBj)();o.registerFlag("HAS_WEBGL",()=>o.getNumber("WEBGL_VERSION")>0),o.registerFlag("WEBGL_VERSION",()=>(0,n.uH)(2)?2:(0,n.uH)(1)?1:0),o.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",()=>!1),o.registerFlag("WEBGL_BUFFER_SUPPORTED",()=>2===o.get("WEBGL_VERSION")),o.registerFlag("WEBGL_CPU_FORWARD",()=>!0),o.registerFlag("WEBGL_FORCE_F16_TEXTURES",()=>!1),o.registerFlag("WEBGL_PACK",()=>o.getBool("HAS_WEBGL")),o.registerFlag("WEBGL_PACK_NORMALIZATION",()=>o.getBool("WEBGL_PACK")),o.registerFlag("WEBGL_PACK_CLIP",()=>o.getBool("WEBGL_PACK")),o.registerFlag("WEBGL_PACK_DEPTHWISECONV",()=>o.getBool("WEBGL_PACK")),o.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",()=>o.getBool("WEBGL_PACK")),o.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",()=>o.getBool("WEBGL_PACK")),o.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",()=>o.getBool("WEBGL_PACK")),o.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",()=>o.getBool("WEBGL_PACK")),o.registerFlag("WEBGL_PACK_REDUCE",()=>o.getBool("WEBGL_PACK")),o.registerFlag("WEBGL_LAZILY_UNPACK",()=>o.getBool("WEBGL_PACK")),o.registerFlag("WEBGL_CONV_IM2COL",()=>o.getBool("WEBGL_PACK")),o.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",()=>o.getBool("WEBGL_PACK")),o.registerFlag("WEBGL_MAX_TEXTURE_SIZE",()=>(0,n.lo)(o.getNumber("WEBGL_VERSION"))),o.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",()=>(0,n.KP)(o.getNumber("WEBGL_VERSION"))),o.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",()=>{let e=o.getNumber("WEBGL_VERSION");return 0===e?0:(0,n.nr)(e)}),o.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",()=>o.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!i.C2$.isMobile()),o.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",()=>(0,n.wb)(o.getNumber("WEBGL_VERSION"))),o.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",()=>!o.getBool("WEBGL_FORCE_F16_TEXTURES")&&o.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")),o.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",()=>(0,n.BH)(o.getNumber("WEBGL_VERSION"))),o.registerFlag("WEBGL_FENCE_API_ENABLED",()=>(0,n.Qd)(o.getNumber("WEBGL_VERSION"))),o.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",()=>{let e=o.getBool("WEBGL_RENDER_FLOAT32_ENABLED");return e?4:0}),o.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",()=>-1,e=>{if("number"!=typeof e)throw Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)}),o.registerFlag("WEBGL_FLUSH_THRESHOLD",()=>i.C2$.isMobile()?1:-1,e=>{if("number"!=typeof e)throw Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)}),o.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",()=>128),o.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",()=>!1),o.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",()=>1e5),o.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",()=>128),o.registerFlag("WEBGL_EXP_CONV",()=>!1),o.registerFlag("SOFTWARE_WEBGL_ENABLED",()=>o.getBool("IS_TEST")),o.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",()=>1/0),o.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",()=>!1),o.registerFlag("WEBGL2_ISNAN_CUSTOM",()=>!1),o.registerFlag("ENGINE_COMPILE_ONLY",()=>!1)},54031:function(e,t,r){"use strict";r.d(t,{A:function(){return getGlslDifferences}});var i=r(92427);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function getGlslDifferences(){let e,t,r,n,o,a,s,l,u,c;return 2===(0,i.OBj)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",r="out",n="in",o="texture",a="outputColor",s="out vec4 outputColor;",l=(0,i.OBj)().getBool("WEBGL2_ISNAN_CUSTOM")?`
      bool isnan_custom(float val) {
        uint floatToUint = floatBitsToUint(val);
        return (floatToUint & 0x7fffffffu) > 0x7f800000u;
      }

      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan_custom(val.x),
          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));
      }

      #define isnan(value) isnan_custom(value)
    `:"",u="",c=`
      #define round(value) newRound(value)
      int newRound(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 newRound(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `):(e="",t="attribute",r="varying",n="varying",o="texture2D",a="gl_FragColor",s="",l=`
      #define isnan(value) isnan_custom(value)
      bool isnan_custom(float val) {
        return (val > 0. || val < 1. || val == 0.) ? false : true;
      }
      bvec4 isnan_custom(vec4 val) {
        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));
      }
    `,u=`
      uniform float INFINITY;

      bool isinf(float val) {
        return abs(val) == INFINITY;
      }
      bvec4 isinf(vec4 val) {
        return equal(abs(val), vec4(INFINITY));
      }
    `,c=`
      int round(float value) {
        return int(floor(value + 0.5));
      }

      ivec4 round(vec4 value) {
        return ivec4(floor(value + vec4(0.5)));
      }
    `),{version:e,attribute:t,varyingVs:r,varyingFs:n,texture2D:o,output:a,defineOutput:s,defineSpecialNaN:l,defineSpecialInf:u,defineRound:c}}},11408:function(e,t,r){"use strict";r.d(t,{A:function(){return GPGPUContext}});var i=r(92427),n=r(94517),o=r(14055),a=r(87067),s=r(47311);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let GPGPUContext=class GPGPUContext{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];let t=(0,i.OBj)().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,(0,n.nd)(t,e)):this.gl=(0,n.jl)(t),e=this.gl,2===(0,i.OBj)().getNumber("WEBGL_VERSION")){let t=e;this.createVertexArray=()=>s.O7(t,()=>t.createVertexArray()),this.bindVertexArray=e=>s.O7(t,()=>t.bindVertexArray(e)),this.deleteVertexArray=e=>s.O7(t,()=>t.deleteVertexArray(e)),this.getVertexArray=()=>s.O7(t,()=>t.getParameter(t.VERTEX_ARRAY_BINDING))}else if(null!=e){let t=e.getExtension("OES_vertex_array_object");if(null==t)throw Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>s.O7(e,()=>t.createVertexArrayOES()),this.bindVertexArray=r=>s.O7(e,()=>t.bindVertexArrayOES(r)),this.deleteVertexArray=r=>s.O7(e,()=>t.deleteVertexArrayOES(r)),this.getVertexArray=()=>s.O7(e,()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES))}let r="WEBGL_color_buffer_float",l="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===(0,i.OBj)().getNumber("WEBGL_VERSION")){let e="OES_texture_half_float";if(this.textureFloatExtension=s.HH(this.gl,"OES_texture_float"),s.y_(this.gl,e))this.textureHalfFloatExtension=s.HH(this.gl,e);else if((0,i.OBj)().get("WEBGL_FORCE_F16_TEXTURES"))throw Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),s.y_(this.gl,l))this.colorBufferHalfFloatExtension=s.HH(this.gl,l);else if((0,i.OBj)().get("WEBGL_FORCE_F16_TEXTURES"))throw Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",s.y_(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else if(s.y_(this.gl,l))this.colorBufferHalfFloatExtension=this.gl.getExtension(l);else throw Error("GL context does not support color renderable floats");this.vertexBuffer=o.Y3(this.gl),this.indexBuffer=o.Hb(this.gl),this.framebuffer=s.d8(this.gl),this.textureConfig=a.Sq(this.gl,this.textureHalfFloatExtension)}get debug(){return(0,i.OBj)().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");let e=this.gl;s.O7(e,()=>e.finish()),s.O7(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,null)),s.O7(e,()=>e.deleteFramebuffer(this.framebuffer)),s.O7(e,()=>e.bindBuffer(e.ARRAY_BUFFER,null)),s.O7(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),s.O7(e,()=>e.deleteBuffer(this.indexBuffer)),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),o.T2(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),o.iN(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),o.BQ(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),o.Qr(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,r,i){this.throwIfDisposed(),o.Uk(this.gl,e,t,r,i,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),o.Cs(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),o.cU(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(s.ax(this.gl,this.framebuffer),this.outputTexture=null),s.O7(this.gl,()=>this.gl.deleteTexture(e))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,r){return this.downloadMatrixDriver(e,()=>o.HC(this.gl,t,r,this.textureConfig))}downloadPackedMatrixFromBuffer(e,t,r,i,n,a){return o.AD(this.gl,e,t,r,i,n,a,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return o.ez(this.gl,e,t)}createBufferFromTexture(e,t,r){this.bindTextureToFrameBuffer(e);let i=o.A8(this.gl,t,r,this.textureConfig);return this.unbindTextureToFrameBuffer(),i}createAndWaitForFence(){let e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,r;if((0,i.OBj)().getBool("WEBGL_FENCE_API_ENABLED")){let i=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),r=()=>{let t=e.clientWaitSync(i,0,0);return t===e.ALREADY_SIGNALED||t===e.CONDITION_SATISFIED},t=i}else(0,i.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),r=()=>this.isQueryAvailable(t,(0,i.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):r=()=>!0;return{query:t,isFencePassed:r}}downloadMatrixFromPackedTexture(e,t,r){return this.downloadMatrixDriver(e,()=>o.P1(this.gl,t,r))}createProgram(e){this.throwIfDisposed();let t=this.gl;null==this.vertexShader&&(this.vertexShader=o.Jj(t));let r=s.HO(t);s.O7(t,()=>t.attachShader(r,this.vertexShader)),s.O7(t,()=>t.attachShader(r,e)),s.aj(t,r);let i=Object.assign(r,{vao:this.createVertexArray()});return this.debug&&s.vu(t,i),i}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);let t=this.gl;s.O7(t,()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer)),o.Hc(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(s.O7(this.gl,()=>this.gl.deleteProgram(e)),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&s.vu(this.gl,this.program),s.O7(this.gl,()=>this.gl.useProgram(e))}getUniformLocation(e,t,r=!0){return(this.throwIfDisposed(),r)?s.XE(this.gl,e,t):s.Hg(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),s.O7(this.gl,()=>this.gl.getAttribLocation(e,t))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,r){this.throwIfDisposed(),this.throwIfNoProgram(),s.B(this.gl,e,t,r)}setOutputMatrixTexture(e,t,r){this.setOutputMatrixTextureDriver(e,r,t)}setOutputPackedMatrixTexture(e,t,r){this.throwIfDisposed();let[i,n]=a.qe(t,r);this.setOutputMatrixTextureDriver(e,i,n)}setOutputMatrixWriteRegion(e,t,r,i){this.setOutputMatrixWriteRegionDriver(r,e,i,t)}setOutputPackedMatrixWriteRegion(e,t,r,i){throw Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&s.vu(this.gl,this.program),s.cu(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();let e=this.gl;if(this.debug){let e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}s.O7(e,()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),s.O7(this.gl,()=>this.gl.finish())}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=s.HH(this.gl,2===(0,i.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===(0,i.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){let e=this.gl,t=this.getQueryTimerExtensionWebGL2(),r=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,r),r}let e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===(0,i.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){let e=this.gl,t=this.getQueryTimerExtensionWebGL2();e.endQuery(t.TIME_ELAPSED_EXT);return}let e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await i.D5U.repeatedTry(()=>this.disposed||this.isQueryAvailable(e,(0,i.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))),this.getQueryTime(e,(0,i.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){let t=this.gl,r=t.getQueryParameter(e,t.QUERY_RESULT);return r/1e6}{let t=this.getQueryTimerExtensionWebGL1(),r=t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT);return r/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){let t=this.gl,r=this.getQueryTimerExtensionWebGL2(),i=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),i&&!this.disjoint}{let t=this.getQueryTimerExtensionWebGL1(),r=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),r&&!this.disjoint}}pollFence(e){return new Promise(t=>{this.addItemToPoll(()=>e.isFencePassed(),()=>t())})}pollItems(){let e=function(e){let t=0;for(;t<e.length;++t){let r=e[t]();if(!r)break}return t-1}(this.itemsToPoll.map(e=>e.isDoneFn));for(let t=0;t<=e;++t){let{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){let r;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||("setTimeoutCustom"in(0,i.OBj)().platform&&(r=(0,i.OBj)().platform.setTimeoutCustom.bind((0,i.OBj)().platform)),i.D5U.repeatedTry(()=>(this.pollItems(),0===this.itemsToPoll.length),()=>0,null,r))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),s.JG(this.gl,e,this.framebuffer),this.debug&&s.cu(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(s.JG(this.gl,this.outputTexture,this.framebuffer),this.debug&&s.cu(this.gl)):s.ax(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);let r=t();return this.unbindTextureToFrameBuffer(),r}setOutputMatrixTextureDriver(e,t,r){this.throwIfDisposed();let i=this.gl;s.JG(i,e,this.framebuffer),this.debug&&s.cu(i),this.outputTexture=e,s.O7(i,()=>i.viewport(0,0,t,r)),s.O7(i,()=>i.scissor(0,0,t,r))}setOutputMatrixWriteRegionDriver(e,t,r,i){this.throwIfDisposed(),s.O7(this.gl,()=>this.gl.scissor(e,t,r,i))}throwIfDisposed(){if(this.disposed)throw Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw Error("No GPU program is currently set.")}}},27004:function(e,t,r){"use strict";r.d(t,{C9:function(){return useShapeUniforms},IJ:function(){return compileProgram},Yv:function(){return getUniformLocations},_s:function(){return runProgram},mi:function(){return makeShaderKey}});var i=r(92427),n=r(96767),o=r(47311);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function compileProgram(e,t,r,a){let s=r.map((e,r)=>{let i={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(i.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[r],shapeInfo:i}}),l=s.map(e=>e.shapeInfo),u={logicalShape:a.shape,texShape:a.texData.texShape,isUniform:!1,isPacked:a.texData.isPacked,flatOffset:null},c=n.Vm(s,u,t),d=(0,o.xc)(e.gl,c),p=e.createProgram(d);return(0,i.OBj)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:d,source:c,webGLProgram:p,inShapeInfos:l,outShapeInfo:u,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(p),Object.assign({program:t,fragmentShader:d,source:c,webGLProgram:p,inShapeInfos:l,outShapeInfo:u},getUniformLocations(e,t,p)))}function getUniformLocations(e,t,r){let n,o,a;let s=[],l=[],u=null,c=null;for(let n of(c=e.getUniformLocation(r,"NAN",!1),1===(0,i.OBj)().getNumber("WEBGL_VERSION")&&(u=e.getUniformLocation(r,"INFINITY",!1)),t.variableNames)){let i={name:n,uniform:e.getUniformLocation(r,n,!1),offset:e.getUniformLocation(r,`offset${n}`,!1)};t.enableShapeUniforms&&(i.shape=e.getUniformLocation(r,`${n}Shape`,!1),i.texShape=e.getUniformLocation(r,`${n}TexShape`,!1)),s.push(i)}if(t.enableShapeUniforms&&(n=e.getUniformLocation(r,"outShape",!1),a=e.getUniformLocation(r,"outShapeStrides",!1),o=e.getUniformLocation(r,"outTexShape",!1)),t.customUniforms)for(let i of t.customUniforms)l.push(e.getUniformLocation(r,i.name,!1));return{variablesLocations:s,customUniformLocations:l,infLoc:u,nanLoc:c,outShapeLocation:n,outShapeStridesLocation:a,outTexShapeLocation:o}}function validateBinaryAndProgram(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach((e,r)=>{let n=e.logicalShape,o=t[r],a=o.shape;if(!i.D5U.arraysEqual(n,a))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${n} and ${a} must match`);if(e.isUniform&&o.isUniform)return;let s=e.texShape,l=o.isUniform?null:o.texData.texShape;if(!i.D5U.arraysEqual(s,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${s} and ${l} must match`)})}function runProgram(e,t,r,o,a){t.program.enableShapeUniforms||(validateBinaryAndProgram(t.inShapeInfos,r),validateBinaryAndProgram([t.outShapeInfo],[o]));let s=o.texData.texture,l=o.texData.texShape;o.texData.isPacked?e.setOutputPackedMatrixTexture(s.texture,l[0],l[1]):e.setOutputMatrixTexture(s.texture,l[0],l[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===(0,i.OBj)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let o=0;o<r.length;++o){let a=r[o],{uniform:s,offset:l,shape:u,texShape:c}=t.variablesLocations[o];if(u){let{uniformShape:r}=n.Tt(t.program.packedInputs,a.shape,a.texData.texShape);switch(r.length){case 1:e.gl.uniform1iv(u,new Int32Array(r));break;case 2:e.gl.uniform2iv(u,new Int32Array(r));break;case 3:e.gl.uniform3iv(u,new Int32Array(r));break;case 4:e.gl.uniform4iv(u,new Int32Array(r))}}if(c&&e.gl.uniform2i(c,a.texData.texShape[0],a.texData.texShape[1]),null!=s){if(a.isUniform){if(2>i.D5U.sizeFromShape(a.shape))e.gl.uniform1f(s,a.uniformValues[0]);else{let t=a.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(s,t)}continue}null!=a.texData.slice&&null!=l&&e.gl.uniform1i(l,a.texData.slice.flatOffset),e.setInputMatrixTexture(a.texData.texture.texture,s,o)}}let u=t.outShapeLocation;if(u)switch(o.shape.length){case 1:e.gl.uniform1iv(u,new Int32Array(o.shape));break;case 2:e.gl.uniform2iv(u,new Int32Array(o.shape));break;case 3:e.gl.uniform3iv(u,new Int32Array(o.shape));break;case 4:e.gl.uniform4iv(u,new Int32Array(o.shape))}if(t.outShapeStridesLocation){let r=i.D5U.computeStrides(o.shape);switch(o.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(r));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(r));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(r))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,o.texData.texShape[0],o.texData.texShape[1]),t.program.customUniforms&&a)for(let r=0;r<t.program.customUniforms.length;++r){let i=t.program.customUniforms[r],n=t.customUniformLocations[r],o=a[r];if("float"===i.type)e.gl.uniform1fv(n,o);else if("vec2"===i.type)e.gl.uniform2fv(n,o);else if("vec3"===i.type)e.gl.uniform3fv(n,o);else if("vec4"===i.type)e.gl.uniform4fv(n,o);else if("int"===i.type)e.gl.uniform1iv(n,o);else if("ivec2"===i.type)e.gl.uniform2iv(n,o);else if("ivec3"===i.type)e.gl.uniform3iv(n,o);else if("ivec4"===i.type)e.gl.uniform4iv(n,o);else throw Error(`uniform type ${i.type} is not supported yet.`)}e.executeProgram()}function makeShaderKey(e,t,r){let o="";t.concat(r).forEach(t=>{let a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){let s=t.texData.texShape,{useSqueezeShape:l,uniformShape:u,keptDims:c}=n.Tt(e.packedInputs,t.shape,s),d="",p="",h="";if(1===u.length&&e.packedInputs){let e=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)];d=`${e[0]>1}_${e[1]>1}`}else if(2!==u.length||e.packedInputs){if(u.length>2&&!e.packedInputs){let e=i.D5U.computeStrides(u);h=`${e[0]===s[1]}_${e[e.length-1]===s[1]}`}}else p=`${u[0]>1}_${u[1]>1}`;let f=t.shape.length,y=2===u.length&&i.D5U.arraysEqual(t.shape,s),g=1===i.D5U.sizeFromShape(t.shape),v=i.backend_util.getBroadcastDims(t.shape,r.shape),m=!e.packedInputs&&f===r.shape.length&&i.D5U.arraysEqual(s,r.texData.texShape),S=e.packedInputs||u.length>2?"":`${s[0]>1}_${s[1]>1}`;o+=`${f}_${m}_${l?c:""}_${u.length}_${g}_${v}_${y}_${d}_${p}_${h}_${S}_${a}`}else{let e=t.isUniform?"uniform":t.texData.texShape;o+=`${t.shape}_${e}_${a}`}});let a=e.userCode;return e.constructor.name+("_"+o+"_"+a)+`${(0,i.OBj)().getNumber("WEBGL_VERSION")}`}function useShapeUniforms(e){return(0,i.OBj)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}},14055:function(e,t,r){"use strict";r.d(t,{A8:function(){return createBufferFromOutputTexture},AD:function(){return downloadPackedMatrixFromBuffer},BQ:function(){return createUnsignedBytesMatrixTexture},Cs:function(){return createFloat16PackedMatrixTexture},HC:function(){return downloadByteEncodedFloatMatrixFromOutputTexture},Hb:function(){return createIndexBuffer},Hc:function(){return bindVertexProgramAttributeStreams},Jj:function(){return createVertexShader},NQ:function(){return getInternalFormatForUnsignedBytesMatrixTexture},P1:function(){return downloadMatrixFromPackedOutputTexture},Qr:function(){return uploadPixelDataToTexture},T2:function(){return createFloat32MatrixTexture},Uk:function(){return uploadDenseMatrixToTexture},Y3:function(){return createVertexBuffer},cU:function(){return createPackedMatrixTexture},ez:function(){return downloadFloat32MatrixFromBuffer},gl:function(){return getInternalFormatForPackedMatrixTexture},hf:function(){return getInternalFormatForFloat16PackedMatrixTexture},iN:function(){return createFloat16MatrixTexture},m8:function(){return getInternalFormatForFloat16MatrixTexture},q3:function(){return getInternalFormatForFloat32MatrixTexture}});var i=r(92427),n=r(54031),o=r(87067),a=r(47311);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function createVertexShader(e){let t=(0,n.A)(),r=`${t.version}
    precision highp float;
    ${t.attribute} vec3 clipSpacePos;
    ${t.attribute} vec2 uv;
    ${t.varyingVs} vec2 resultUV;

    void main() {
      gl_Position = vec4(clipSpacePos, 1);
      resultUV = uv;
    }`;return a.Jj(e,r)}function createVertexBuffer(e){let t=new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]);return a.ED(e,t)}function createIndexBuffer(e){let t=new Uint16Array([0,1,2,2,1,3]);return a.mZ(e,t)}function createAndConfigureTexture(e,t,r,n,o,s){a.b6(t,r);let l=a.cU(e),u=e.TEXTURE_2D;return a.O7(e,()=>e.bindTexture(u,l)),a.O7(e,()=>e.texParameteri(u,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)),a.O7(e,()=>e.texParameteri(u,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)),a.O7(e,()=>e.texParameteri(u,e.TEXTURE_MIN_FILTER,e.NEAREST)),a.O7(e,()=>e.texParameteri(u,e.TEXTURE_MAG_FILTER,e.NEAREST)),1===(0,i.OBj)().getNumber("WEBGL_VERSION")?a.O7(e,()=>e.texImage2D(u,0,n,t,r,0,o,s,null)):a.O7(e,()=>e.texStorage2D(u,1,n,t,r)),a.O7(e,()=>e.bindTexture(e.TEXTURE_2D,null)),{texture:l,texShape:[r,t]}}function getInternalFormatForFloat32MatrixTexture(e){return e.internalFormatFloat}function createFloat32MatrixTexture(e,t,r,i){let[n,a]=o.kk(t,r);return createAndConfigureTexture(e,n,a,getInternalFormatForFloat32MatrixTexture(i),i.textureFormatFloat,e.FLOAT)}function getInternalFormatForFloat16MatrixTexture(e){return e.internalFormatHalfFloat}function createFloat16MatrixTexture(e,t,r,i){let[n,a]=o.kk(t,r);return createAndConfigureTexture(e,n,a,getInternalFormatForFloat16MatrixTexture(i),i.textureFormatFloat,i.textureTypeHalfFloat)}function getInternalFormatForUnsignedBytesMatrixTexture(e){return e.downloadTextureFormat}function createUnsignedBytesMatrixTexture(e,t,r,i){let[n,a]=o.kk(t,r);return createAndConfigureTexture(e,n,a,getInternalFormatForUnsignedBytesMatrixTexture(i),e.RGBA,e.UNSIGNED_BYTE)}function getInternalFormatForPackedMatrixTexture(e){return e.internalFormatPackedFloat}function createPackedMatrixTexture(e,t,r,i){let[n,a]=o.qe(t,r);return createAndConfigureTexture(e,n,a,getInternalFormatForPackedMatrixTexture(i),e.RGBA,e.FLOAT)}function getInternalFormatForFloat16PackedMatrixTexture(e){return e.internalFormatPackedHalfFloat}function createFloat16PackedMatrixTexture(e,t,r,i){let[n,a]=o.qe(t,r);return createAndConfigureTexture(e,n,a,getInternalFormatForFloat16PackedMatrixTexture(i),e.RGBA,i.textureTypeHalfFloat)}function bindVertexProgramAttributeStreams(e,t,r){a.O7(e,()=>e.bindBuffer(e.ARRAY_BUFFER,r));let i=a.sb(e,t,"clipSpacePos",r,3,20,0);return i&&a.sb(e,t,"uv",r,2,20,12)}function uploadDenseMatrixToTexture(e,t,r,n,o,s){let l,u,c;a.O7(e,()=>e.bindTexture(e.TEXTURE_2D,t)),o instanceof Uint8Array?(l=new Uint8Array(r*n*4),u=e.UNSIGNED_BYTE,c=e.RGBA):(l=new Float32Array(r*n*4),u=e.FLOAT,c=s.internalFormatPackedFloat),l.set(o),2===(0,i.OBj)().getNumber("WEBGL_VERSION")?a.O7(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,r,n,e.RGBA,u,l)):a.O7(e,()=>e.texImage2D(e.TEXTURE_2D,0,c,r,n,0,e.RGBA,u,l)),a.O7(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function uploadPixelDataToTexture(e,t,r){a.O7(e,()=>e.bindTexture(e.TEXTURE_2D,t)),r.data instanceof Uint8Array?2===(0,i.OBj)().getNumber("WEBGL_VERSION")?a.O7(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,r.width,r.height,e.RGBA,e.UNSIGNED_BYTE,r.data)):a.O7(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)):2===(0,i.OBj)().getNumber("WEBGL_VERSION")?a.O7(e,()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,r)):a.O7(e,()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)),a.O7(e,()=>e.bindTexture(e.TEXTURE_2D,null))}function createBufferFromOutputTexture(e,t,r,i){let n=e.createBuffer();a.O7(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,n));let o=16*t*r;return a.O7(e,()=>e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)),a.O7(e,()=>e.readPixels(0,0,r,t,e.RGBA,e.FLOAT,0)),a.O7(e,()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null)),n}function downloadFloat32MatrixFromBuffer(e,t,r){let i=new Float32Array(r);return e.bindBuffer(e.PIXEL_PACK_BUFFER,t),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,i),e.bindBuffer(e.PIXEL_PACK_BUFFER,null),i}function downloadByteEncodedFloatMatrixFromOutputTexture(e,t,r,i){let[n,s]=o.kk(t,r),l=new Uint8Array(o.yb(t*r,4));return a.O7(e,()=>e.readPixels(0,0,n,s,i.downloadTextureFormat,e.UNSIGNED_BYTE,l)),new Float32Array(l.buffer)}function downloadPackedMatrixFromBuffer(e,t,r,i,n,a,s,l){let u=new Float32Array(o.Se(a,s));return e.bindBuffer(e.PIXEL_PACK_BUFFER,t),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,u),e.bindBuffer(e.PIXEL_PACK_BUFFER,null),u}function downloadMatrixFromPackedOutputTexture(e,t,r){let i=new Float32Array(t*r*4);return a.O7(e,()=>e.readPixels(0,0,r,t,e.RGBA,e.FLOAT,i)),i}},39615:function(e,t,r){"use strict";let i;var n,o,a=r(92427),s=r(55011);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */a.C2$.isBrowser()&&(0,a.jqO)("webgl",()=>new s.QC,2);var l=r(27004);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let u=`
  if (isnan(a)) return a;
  if (isnan(b)) return b;
`;let BinaryOpProgram=class BinaryOpProgram{constructor(e,t,r){this.variableNames=["A","B"],this.outputShape=a.backend_util.assertAndGetBroadcastShape(t,r),this.enableShapeUniforms=(0,l.C9)(this.outputShape.length),this.userCode=`
      float binaryOperation(float a, float b) {
        ${e}
      }

      void main() {
        float a = getAAtOutCoords();
        float b = getBAtOutCoords();
        setOutput(binaryOperation(a, b));
      }
    `}};var c=r(1897),d=r(96767);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let p=`
  result.r = isNaN.r ? NAN : result.r;
  result.g = isNaN.g ? NAN : result.g;
  result.b = isNaN.b ? NAN : result.b;
  result.a = isNaN.a ? NAN : result.a;
`;let BinaryOpPackedProgram=class BinaryOpPackedProgram{constructor(e,t,r,i=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=a.backend_util.assertAndGetBroadcastShape(t,r);let n=this.outputShape.length;this.enableShapeUniforms=(0,l.C9)(n);let o="";if(i){if(0===n||1===a.D5U.sizeFromShape(this.outputShape))o=`
          result.y = 0.;
          result.z = 0.;
          result.w = 0.;
        `;else{let e=(0,d.kW)(n);if(o=`
          ${e} coords = getOutputCoords();
        `,1===n)this.enableShapeUniforms?o+=`
            result.y = (coords + 1) >= outShape ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `:o+=`
            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;
            result.z = 0.;
            result.w = 0.;
          `;else{let e=(0,c.Ky)("coords",n);this.enableShapeUniforms?o+=`
            bool nextRowOutOfBounds =
              (${e[n-2]} + 1) >= outShape[${n} - 2];
            bool nextColOutOfBounds =
              (${e[n-1]} + 1) >= outShape[${n} - 1];
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `:o+=`
            bool nextRowOutOfBounds =
              (${e[n-2]} + 1) >= ${this.outputShape[n-2]};
            bool nextColOutOfBounds =
              (${e[n-1]} + 1) >= ${this.outputShape[n-1]};
            result.y = nextColOutOfBounds ? 0. : result.y;
            result.z = nextRowOutOfBounds ? 0. : result.z;
            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;
          `}}}this.userCode=`
      vec4 binaryOperation(vec4 a, vec4 b) {
        ${e}
      }

      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();

        vec4 result = binaryOperation(a, b);
        ${o}

        setOutput(result);
      }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function identity(e){let{inputs:t,backend:r}=e,{x:i}=t;return r.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}let h={kernelName:a.iJz,backendName:"webgl",kernelFunc:identity};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function complex(e){let{inputs:t,backend:r}=e,{real:i,imag:n}=t,o=r.makeTensorInfo(i.shape,"complex64"),a=r.texData.get(o.dataId),s=identity({inputs:{x:i},backend:r}),l=identity({inputs:{x:n},backend:r});return a.complexTensorInfos={real:s,imag:l},o}let f={kernelName:a.Zz9,backendName:"webgl",kernelFunc:complex},y="return (a < 0.) ? b * a : a;",g=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,v={kernelName:a.J$2,backendName:"webgl",kernelFunc:function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{alpha:o}=i,s=r.makeTensorInfo([],"float32",a.D5U.createScalarValue(o,"float32")),l=(0,a.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new BinaryOpPackedProgram(g,n.shape,s.shape):new BinaryOpProgram(y,n.shape,s.shape),u=r.runWebGLProgram(l,[n,s],"float32");return r.disposeIntermediateTensorInfo(s),u}},m="return (a < 0.) ? b * a : a;",S=`
  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));
  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);
`,b={kernelName:a.o0g,backendName:"webgl",kernelFunc:function(e){let{inputs:t,backend:r}=e,{x:i,alpha:n}=t,o=(0,a.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new BinaryOpPackedProgram(S,i.shape,n.shape):new BinaryOpProgram(m,i.shape,n.shape);return r.runWebGLProgram(o,[i,n],"float32")}};var P=r(43110),C=r(83541);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let x="if (isnan(x)) return x;";function unaryKernelFunc({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:r,dtype:i}){return({inputs:n,backend:o})=>{let s;let{x:l}=n,u=i||l.dtype;if(o.shouldExecuteOnCPU([l])&&null!=r){let e=o.texData.get(l.dataId),t=r(e.values,u);return o.makeTensorInfo(l.shape,u,t)}let c=(0,a.OBj)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t;return s=c?new C.cc(l.shape,t):new P.l(l.shape,e),o.runWebGLProgram(s,[l],u)}}function binaryKernelFunc({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:r=!1,supportsComplex:i=!1,cpuKernelImpl:n,dtype:o}){return({inputs:s,backend:l})=>{let u;let{a:c,b:d}=s;if(i&&"complex64"===c.dtype){let t=l.texData.get(c.dataId),r=l.texData.get(d.dataId),[i,n]=[[t.complexTensorInfos.real,r.complexTensorInfos.real],[t.complexTensorInfos.imag,r.complexTensorInfos.imag]].map(t=>{let[r,i]=t,n={dataId:r.dataId,dtype:r.dtype,shape:c.shape},o={dataId:i.dataId,dtype:i.dtype,shape:d.shape},s=new BinaryOpProgram(e,c.shape,d.shape);return l.runWebGLProgram(s,[n,o],(0,a.x8V)(r.dtype,i.dtype))}),o=complex({inputs:{real:i,imag:n},backend:l});return l.disposeIntermediateTensorInfo(i),l.disposeIntermediateTensorInfo(n),o}let p=o||(0,a.x8V)(c.dtype,d.dtype);if(("string"===c.dtype||"string"===d.dtype||l.shouldExecuteOnCPU([c,d]))&&null!=n){let e=l.texData.get(c.dataId).values,t=l.texData.get(d.dataId).values,r="string"===c.dtype?a.backend_util.fromUint8ToStringArray(e):e,i="string"===c.dtype?a.backend_util.fromUint8ToStringArray(t):t,[o,s]=n(c.shape,d.shape,r,i,p),u=l.makeTensorInfo(s,p),h=l.texData.get(u.dataId);return h.values=o,u}let h=(0,a.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t;return u=h?new BinaryOpPackedProgram(t,c.shape,d.shape,r):new BinaryOpProgram(e,c.shape,d.shape),l.runWebGLProgram(u,[c,d],p)}}function mapActivationToShaderProgram(e,t=!1){if("linear"===e)return t?C.t$:P.t$;if("relu"===e)return t?C.RX:P.RX;if("elu"===e)return t?C.Cv:P.Cv;if("relu6"===e)return t?C.eW:P.eW;if("prelu"===e)return t?S:m;if("leakyrelu"===e)return t?g:y;if("sigmoid"===e)return t?C.Tq:P.Tq;throw Error(`Activation ${e} has not been implemented for the WebGL backend.`)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let MatMulPackedProgram=class MatMulPackedProgram{constructor(e,t,r,i=!1,n=!1,o=!1,a=null,s=!1,u=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=(0,l.C9)(this.outputShape.length);let c=i?e[1]:e[2],d=Math.ceil(c/2),p=i?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],h=n?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],f="",y="";a&&(f=s?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${a}
        }`:u?`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${a}
        }`:`vec4 activation(vec4 x) {
          ${a}
        }`,y="result = activation(result);"),o&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),u&&this.variableNames.push("leakyreluAlpha");let g="rc.x",v="rc.x";e[0]<t[0]?g=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(v=`imod(rc.x, ${t[0]})`),this.userCode=`
      ${f}
      // Don't use uniform for sharedDimensionPacked for performance.
      const float sharedDimension = ${d}.0;

      vec4 dot2x2ARowBCol(ivec3 rc) {
        vec4 result = vec4(0);
        int batchA = ${g};
        int batchB = ${v};
        for (int i = 0; i < ${d}; i++) {
          vec4 a = getMatrixA(batchA, ${i?"i * 2, rc.y":"rc.y, i * 2"});
          vec4 b = getMatrixB(batchB, ${n?"rc.z, i * 2":"i * 2, rc.z"});

          // These swizzled products need to be separately added.
          // See: https://github.com/tensorflow/tfjs/issues/1735
          result += (${p[0]} * ${h[0]});
          result += (${p[1]} * ${h[1]});
        }
        return result;
      }

      void main() {
        ivec3 rc = getOutputCoords();
        vec4 result = dot2x2ARowBCol(rc);

        ${o?"result += getBiasAtOutCoords();":""}

        ${y}

        setOutput(result);
      }
    `}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let A={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};let BinaryOpComplexProgram=class BinaryOpComplexProgram{constructor(e,t,r){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=a.backend_util.assertAndGetBroadcastShape(t,r),this.userCode=`
      float binaryOpComplex(
          float areal, float aimag, float breal, float bimag) {
        ${e}
      }

      void main() {
        float areal = getARealAtOutCoords();
        float aimag = getAImagAtOutCoords();
        float breal = getBRealAtOutCoords();
        float bimag = getBImagAtOutCoords();
        setOutput(binaryOpComplex(areal, aimag, breal, bimag));
      }
    `}};var T=r(72284);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let _="return a * b;";function multiply(e){let t;let{inputs:r,backend:i}=e,{a:n,b:o}=r,s=a.backend_util.upcastType(n.dtype,o.dtype);if("complex64"===n.dtype){let e=i.texData.get(n.dataId),t=i.texData.get(o.dataId),r=new BinaryOpComplexProgram(A.REAL,n.shape,o.shape),a=new BinaryOpComplexProgram(A.IMAG,n.shape,o.shape),s=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:n.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:n.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:o.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:o.shape}],l=i.runWebGLProgram(r,s,"float32"),u=i.runWebGLProgram(a,s,"float32"),c=complex({inputs:{real:l,imag:u},backend:i});return i.disposeIntermediateTensorInfo(l),i.disposeIntermediateTensorInfo(u),c}if(i.shouldExecuteOnCPU([n,o])){let e=i.texData.get(n.dataId),t=i.texData.get(o.dataId),[r,a]=(0,T.Th)(n.shape,o.shape,e.values,t.values,s),l=i.makeTensorInfo(a,s),u=i.texData.get(l.dataId);return u.values=r,l}return t=(0,a.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new BinaryOpPackedProgram(_,n.shape,o.shape):new BinaryOpProgram(_,n.shape,o.shape),i.runWebGLProgram(t,[n,o],s)}let R={kernelName:a.wYn,backendName:"webgl",kernelFunc:multiply};var E=r(44894),w=r(47311);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function reshape(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{shape:o}=i,s=a.D5U.sizeFromShape(n.shape),l=a.D5U.inferFromImplicitShape(o,s),u=a.D5U.sizeFromShape(l);a.D5U.assert(s===u,()=>`The new shape (${l}) has ${u} elements and the old shape (${n.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`);let c=r.texData.get(n.dataId);return!c.isPacked||(0,w.oT)(n.shape,l)||null!==c.texture&&(0,w.oT)(c.shape,l)?(r.incRef(n.dataId),{dataId:n.dataId,shape:l,dtype:n.dtype}):/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r){let i=[(0,w.Cp)(e.shape),...(0,w.W8)(e.shape)],n={dtype:e.dtype,shape:i,dataId:e.dataId},o=[(0,w.Cp)(t),...(0,w.W8)(t)],a=new E.v(o,i),s=[i],l=r.runWebGLProgram(a,[n],e.dtype,s,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(n,l,r)}let D={kernelName:a.HZH,backendName:"webgl",kernelFunc:reshape};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let MeanProgram=class MeanProgram{constructor(e,t){this.variableNames=["x"];let{windowSize:r,batchSize:i,inSize:n,outSize:o}=e;this.outputShape=[i,o];let s=4*Math.floor(r/4),l=r%4,u="sumValue += dot(values, ones);";if(null!=t){let e=1/t;u=`sumValue += dot(values * ${a.D5U.isInt(e)?e.toPrecision(2):e}, ones);`}let c="";n%r>0&&(c=`
        if (inIdx < 0 || inIdx >= ${n}) {
          return 0.0;
        }
      `),this.userCode=`
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${c}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        float sumValue = 0.0;

        for (int i = 0; i < ${s}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${u}
        }

        int inIdx = inOffset + ${s};
        if (${1===l}) {
          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);

          ${u}
        } else if (${2===l}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1), 0.0, 0.0);

          ${u}
        } else if (${3===l}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2), 0.0);

          ${u}
        }
        setOutput(sumValue);
      }
    `}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ReduceProgram=class ReduceProgram{constructor(e,t){this.variableNames=["x"];let{windowSize:r,batchSize:i,inSize:n,outSize:o}=e;this.outputShape=[i,o];let a="0.0",s="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",s="min"):"max"===t&&(a="-1.0 / 1e-20",s="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");let u=4*Math.floor(r/4),c=r%4,d=`
      if (${"sum"===t}) {
        sumValue += dot(values, ones);
      } else if (${"prod"===t}) {
        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);
        prodValue *= tmp[0] * tmp[1];
      } else {
        minMaxValue = ${s}(values, minMaxValue);
        if (${"min"===t} || ${"max"===t}) {
          minMaxValue = ${s}(values, minMaxValue);
          bvec4 isNaN = isnan(values);
          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {
            minMaxValue = vec4(NAN);
          }
        }
      }
    `,p="vec4";"all"===t?(a="1.0",d=`
        bool reducedAllValue = all(values);
        float floatedReducedAllValue = float(reducedAllValue);
        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);
      `,p="bvec4"):"any"===t&&(a="0.0",d=`
        bool reducedAnyValue = any(values);
        float floatedReducedAnyValue = float(reducedAnyValue);
        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);
      `,p="bvec4");let h="";n%r>0&&(h=`
        if (inIdx < 0 || inIdx >= ${n}) {
          return initializationValue;
        }
      `),this.userCode=`
      const float initializationValue = ${a};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float getValue(int batch, int inIdx) {
        ${h}
        return getX(batch, inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${r};

        vec4 minMaxValue = vec4(${a});
        float prodValue = 1.0;
        float sumValue = 0.0;
        float allValue = 1.0;
        float anyValue = 0.0;

        for (int i = 0; i < ${u}; i += 4) {
          int inIdx = inOffset + i;
          ${p} values = ${p}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          ${d}
        }

        int inIdx = inOffset + ${u};
        if (${1===c}) {
          ${p} values = ${p}(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${2===c}) {
          ${p} values = ${p}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          ${d}
        } else if (${3===c}) {
          ${p} values = ${p}(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          ${d}
        }
        setOutput(${l});
      }
    `}};function reduce(e,t,r,i){let n=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=[];for(;0===t.length||1!==t[t.length-1].outSize;){let r=t.length?t[t.length-1].outSize:e[1],i=a.backend_util.computeOptimalWindowSize(r);t.push({inSize:r,windowSize:i,outSize:Math.ceil(r/i)})}return t}(e.shape),o=e;for(let a=0;a<n.length;a++){let s,l;let{inSize:u,windowSize:c,outSize:d}=n[a];s="mean"===r?0===a?new MeanProgram({windowSize:c,inSize:u,batchSize:e.shape[0],outSize:d},u):new MeanProgram({windowSize:c,inSize:u,batchSize:e.shape[0],outSize:d}):new ReduceProgram({windowSize:c,inSize:u,batchSize:e.shape[0],outSize:d},r),l=o,o=i.runWebGLProgram(s,[o],t),l.dataId!==e.dataId&&i.disposeIntermediateTensorInfo(l)}return o}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let TransposeProgram=class TransposeProgram{constructor(e,t){this.variableNames=["A"];let r=Array(e.length);for(let i=0;i<r.length;i++)r[i]=e[t[i]];this.outputShape=r,this.rank=r.length;let i=(0,d.kW)(this.rank),n=function(e){let t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);let r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],i=Array(t);for(let t=0;t<e.length;t++)i[e[t]]=r[t];return i.join()}(t);this.userCode=`
    void main() {
      ${i} resRC = getOutputCoords();
      setOutput(getA(${n}));
    }
    `}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let TransposePackedProgram=class TransposePackedProgram{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;let r=Array(e.length);for(let i=0;i<r.length;i++)r[i]=e[t[i]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);let i=(0,d.kW)(this.rank),n=(0,c.k6)("rc",this.rank),o=Array(this.rank);for(let e=0;e<t.length;e++)o[t[e]]=n[e];let a=`vec2(${o.slice(-2).join()})`,s=`++${n[this.rank-1]} < ${r[this.rank-1]}`,l=`getChannel(getA(${o.join()}), ${a})`;this.userCode=`
    void main() {
      ${i} rc = getOutputCoords();
      vec4 result = vec4(0.);
      result[0] = ${l};
      if(${s}) {
        result[1] = ${l};
      }
      --${n[this.rank-1]};
      if(++${n[this.rank-2]} < ${r[this.rank-2]}) {
        result[2] = ${l};
        if(${s}) {
          result[3] = ${l};
        }
      }
      setOutput(result);
    }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function transposeImpl(e,t,r){let i=(0,a.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new TransposePackedProgram(e.shape,t):new TransposeProgram(e.shape,t);return r.runWebGLProgram(i,[e],e.dtype)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sum(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{axis:o,keepDims:s}=i;return(/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r,i){let n=e.shape.length,o=a.D5U.parseAxisParam(t,e.shape),s=o,l=a.backend_util.getAxesPermutation(s,n),u=null!=l,c=e;u&&(c=transposeImpl(e,l,i),s=a.backend_util.getInnerMostAxes(s.length,n)),a.backend_util.assertAxesAreInnerMostDims("sum",s,n);let[d,p]=a.backend_util.computeOutAndReduceShapes(c.shape,s),h=d;r&&(h=a.backend_util.expandShapeToKeepDim(d,o));let f=a.D5U.sizeFromShape(p),y=a.D5U.sizeFromShape(e.shape),g=y/f,v=reshape({inputs:{x:c},attrs:{shape:[g,f]},backend:i}),m=(0,a.z4k)(e.dtype),S=reduce(v,m,"sum",i),b=reshape({inputs:{x:S},attrs:{shape:h},backend:i});return i.disposeIntermediateTensorInfo(v),i.disposeIntermediateTensorInfo(S),u&&i.disposeIntermediateTensorInfo(c),b}(n,o,s,r))}let O={kernelName:a.GBy,backendName:"webgl",kernelFunc:sum};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function transpose(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o}=r,{perm:a}=n,s=o.shape.length,l=Array(s);for(let e=0;e<l.length;e++)l[e]=o.shape[a[e]];if(i.shouldExecuteOnCPU([o])){let e=i.texData.get(o.dataId),r=e.values,n=(0,T.Fv)(r,o.shape,o.dtype,a,l);t=i.makeTensorInfo(l,o.dtype);let s=i.texData.get(t.dataId);s.values=n}else t=transposeImpl(o,a,i);return t}let I={kernelName:a.G3Y,backendName:"webgl",kernelFunc:transpose};function batchMatMulImpl({a:e,b:t,transposeA:r,transposeB:i,backend:n,bias:o=null,preluActivationWeights:s=null,leakyreluAlpha:l=0,activation:u=null}){let c;let d=e.shape.length,p=t.shape.length,h=r?e.shape[d-2]:e.shape[d-1],f=i?t.shape[p-1]:t.shape[p-2],y=r?e.shape[d-1]:e.shape[d-2],g=i?t.shape[p-2]:t.shape[p-1],v=e.shape.slice(0,-2),m=t.shape.slice(0,-2),S=a.D5U.sizeFromShape(v),b=a.D5U.sizeFromShape(m),P=a.Jyw.assertAndGetBroadcastShape(e.shape.slice(0,-2),t.shape.slice(0,-2)),C=P.concat([y,g]);a.D5U.assert(h===f,()=>`Error in matMul: inner shapes (${h}) and (${f}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${r} and transposeB=${i} must match.`);let x=r?[S,h,y]:[S,y,h],A=i?[b,g,f]:[b,f,g],T=reshape({inputs:{x:e},backend:n,attrs:{shape:x}}),_=reshape({inputs:{x:t},backend:n,attrs:{shape:A}}),R=[T,_],E=Math.max(S,b),w=r?T.shape[1]:T.shape[2],D=null!=o,O=null!=s,I="leakyrelu"===u,M=null!=u?mapActivationToShaderProgram(u,!0):null,L=D||O||I||null!=M;if((1===y||1===g)&&w>1e3&&!1===L){let e=T,t=_;r&&(e=transpose({inputs:{x:T},backend:n,attrs:{perm:[0,2,1]}}),R.push(e)),i&&(t=transpose({inputs:{x:_},backend:n,attrs:{perm:[0,2,1]}}),R.push(t));let o=1!==g,a=1===g,s=e;o&&(s=reshape({inputs:{x:e},backend:n,attrs:{shape:[E,w,1]}}),R.push(s));let l=1===g?2:1,u=t;a&&(u=reshape({inputs:{x:t},backend:n,attrs:{shape:[E,1,w]}}),R.push(u));let d=multiply({inputs:{a:s,b:u},backend:n});c=sum({inputs:{x:d},backend:n,attrs:{axis:l,keepDims:!0}}),R.push(d)}else{let u=(0,a.x8V)(e.dtype,t.dtype),d=new MatMulPackedProgram(x,A,[E,y,g],r,i,D,M,O,I),p=[T,_];if(null!=o&&p.push(o),O&&p.push(s),I){let e=n.makeTensorInfo([],"float32",a.D5U.createScalarValue(l,"float32"));p.push(e),R.push(e)}c=n.runWebGLProgram(d,p,u)}let k=reshape({inputs:{x:c},backend:n,attrs:{shape:C}});for(let e of(R.push(c),R))n.disposeIntermediateTensorInfo(e);return k}let M={kernelName:a.usg,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{a:n,b:o,bias:a,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=i;return batchMatMulImpl({a:n,b:o,transposeA:l,transposeB:u,backend:r,bias:a,preluActivationWeights:s,leakyreluAlpha:d,activation:c})}},L="return abs(x);",k={kernelName:a.SYM,backendName:"webgl",kernelFunc:function(e){let t;let{inputs:r,backend:i}=e,{x:n}=r;if(i.shouldExecuteOnCPU([n])&&"complex64"!==n.dtype){let e=i.texData.get(n.dataId),t=(0,T.CJ)(e.values);return i.makeTensorInfo(n.shape,n.dtype,t)}return t=(0,a.OBj)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new C.cc(n.shape,L):new P.l(n.shape,L),i.runWebGLProgram(t,[n],n.dtype)}},N=P.D1+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return acos(x);
`,B=unaryKernelFunc({opSnippet:N}),V={kernelName:a.VGw,backendName:"webgl",kernelFunc:B},F=P.D1+`
  if (x < 1.0) return NAN;
return log(x + sqrt(x * x - 1.0));`,j=unaryKernelFunc({opSnippet:F}),H={kernelName:a.SpW,backendName:"webgl",kernelFunc:j},z="return a + b;",G=binaryKernelFunc({opSnippet:z,packedOpSnippet:z,supportsComplex:!0,cpuKernelImpl:T.cK}),U={kernelName:a.mm_,backendName:"webgl",kernelFunc:G};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let AddNProgram=class AddNProgram{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map((e,t)=>`T${t}`);let r=[];this.variableNames.forEach(e=>{r.push(`float v${e} = get${e}AtOutCoords();`)});let i=this.variableNames.map(e=>`v${e}`).join(" + ");this.userCode=`
      void main() {
        ${r.join("\n        ")}

        float result = ${i};
        setOutput(result);
      }
    `}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let AddNPackedProgram=class AddNPackedProgram{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map((e,t)=>`T${t}`);let r=[];this.variableNames.forEach(e=>{r.push(`vec4 v${e} = get${e}AtOutCoords();`)});let i=this.variableNames.map(e=>`v${e}`).join(" + ");this.userCode=`
      void main() {
        ${r.join("\n        ")}

        vec4 result = ${i};
        setOutput(result);
      }
    `}};let W={kernelName:a.Xze,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function addN(e){let{inputs:t,backend:r}=e;if(1===t.length)return identity({inputs:{x:t[0]},backend:r});if(t.length>(0,a.OBj)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){let e=Math.floor(t.length/2),i=addN({inputs:t.slice(0,e),backend:r}),n=addN({inputs:t.slice(e),backend:r});return addN({inputs:[i,n],backend:r})}let i=t.map(e=>e.dtype).reduce((e,t)=>(0,a.x8V)(e,t)),n=t.map(e=>e.shape),o=(0,a.OBj)().getBool("WEBGL_PACK"),s=o?new AddNPackedProgram(t[0].shape,n):new AddNProgram(t[0].shape,n);return r.runWebGLProgram(s,t,i)}},X={kernelName:a.oT6,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o}=r,{axis:s,keepDims:l}=n,u=o.shape.length,c=a.D5U.parseAxisParam(s,o.shape),d=c,p=a.backend_util.getAxesPermutation(d,u),h=o;null!=p&&(h=transpose({inputs:{x:o},backend:i,attrs:{perm:p}}),d=a.backend_util.getInnerMostAxes(d.length,u)),a.backend_util.assertAxesAreInnerMostDims("all",d,u);let[f,y]=a.backend_util.computeOutAndReduceShapes(h.shape,d),g=a.D5U.sizeFromShape(y),v=reshape({inputs:{x:h},backend:i,attrs:{shape:[-1,g]}}),m=reduce(v,v.dtype,"all",i);if(l){let e=a.backend_util.expandShapeToKeepDim(f,c);t=reshape({inputs:{x:m},backend:i,attrs:{shape:e}})}else t=reshape({inputs:{x:m},backend:i,attrs:{shape:f}});return i.disposeIntermediateTensorInfo(v),i.disposeIntermediateTensorInfo(m),null!=p&&i.disposeIntermediateTensorInfo(h),t}},Y={kernelName:a.IKK,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o}=r,{axis:s,keepDims:l}=n,u=o.shape.length,c=a.D5U.parseAxisParam(s,o.shape),d=c,p=a.backend_util.getAxesPermutation(d,u),h=o;null!=p&&(h=transpose({inputs:{x:o},backend:i,attrs:{perm:p}}),d=a.backend_util.getInnerMostAxes(d.length,u)),a.backend_util.assertAxesAreInnerMostDims("any",d,u);let[f,y]=a.backend_util.computeOutAndReduceShapes(h.shape,d),g=a.D5U.sizeFromShape(y),v=reshape({inputs:{x:h},backend:i,attrs:{shape:[-1,g]}}),m=reduce(v,v.dtype,"any",i);if(l){let e=a.backend_util.expandShapeToKeepDim(f,c);t=reshape({inputs:{x:m},backend:i,attrs:{shape:e}})}else t=reshape({inputs:{x:m},backend:i,attrs:{shape:f}});return i.disposeIntermediateTensorInfo(v),i.disposeIntermediateTensorInfo(m),null!=p&&i.disposeIntermediateTensorInfo(h),t}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ArgMinMaxProgram=class ArgMinMaxProgram{constructor(e,t,r){this.variableNames=["A"];let{windowSize:i,batchSize:n,outSize:o}=e;r||this.variableNames.push("bestIndicesA"),this.outputShape=[n,o],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = outIdx * ${i};

        int bestIndex = inOffset;
        float bestValue = getA(batch, bestIndex);

        for (int i = 0; i < ${i}; i++) {
          int inIdx = ${r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));"};
          float candidate = getA(batch, inIdx);
          if (candidate ${"max"===t?">":"<"} bestValue) {
            bestValue = candidate;
            bestIndex = inIdx;
          }
        }
        setOutput(float(bestIndex));
      }
    `}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ArgMinMaxPackedProgram=class ArgMinMaxPackedProgram{constructor(e,t,r,i){let n,o;this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,a.D5U.assert(e.length>2,()=>`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`);let s=e[e.length-1],l=Math.ceil(s/t);this.outputShape=e.slice(0,-1),l>1&&this.outputShape.push(l),i||this.variableNames.push("bestIndicesA");let u=this.outputShape,p=u.length,h=(0,d.kW)(p),f=(0,c.Ky)("coords",p);if(1===l){o=p+1;let e=(0,d.kW)(o);n=`
        ${e} sourceLocR = ${e}(${f.join()}, 0);
        ++${f[p-1]};
        ${e} sourceLocG = ${e}(${f.join()}, 0);
        ++${f[p-2]};
        ${e} sourceLocA = ${e}(${f.join()}, 0);
        --${f[p-1]};
        ${e} sourceLocB = ${e}(${f.join()}, 0);
        --${f[p-2]};`}else o=p,n=`
        ${h} sourceLocR = coords;
        ++${f[p-1]};
        ${h} sourceLocG = coords;
        ++${f[p-2]};
        ${h} sourceLocA = coords;
        --${f[p-1]};
        ${h} sourceLocB = coords;
        --${f[p-2]};`;let y=["x","y","z","w","u","v"].slice(0,o),g="."+y[o-1],v=y.map(e=>"int "+e),m=(0,c.Ky)("sourceLocR",o-1).concat("inIdx.r"),S=(0,c.Ky)("sourceLocG",o-1).concat("inIdx.g"),b=(0,c.Ky)("sourceLocB",o-1).concat("inIdx.b"),P=(0,c.Ky)("sourceLocA",o-1).concat("inIdx.a"),C=i?"":`
          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),
                             getBestIndicesAChannel(${S.join()}),
                             getBestIndicesAChannel(${b.join()}),
                             getBestIndicesAChannel(${P.join()})));`,x=`vec4(
            getAChannel(${m.join()}),
            hasNextCol ? getAChannel(${S.join()}) : 0.,
            hasNextRow ? getAChannel(${b.join()}) : 0.,
            hasNextRow && hasNextCol ? getAChannel(${P.join()}) : 0.)`,A=i?"":`
      float getBestIndicesAChannel(${v.join()}) {
        return getChannel(getBestIndicesA(${y.join()}),
                                          vec2(${y.slice(-2).join()}));
      }`;this.userCode=`
      float getAChannel(${v.join()}) {
        return getChannel(getA(${y.join()}),
                               vec2(${y.slice(-2).join()}));
      }
      ${A}
      void main() {
        ${h} coords = getOutputCoords();
        bool hasNextCol = ${f[p-1]} < ${u[p-1]-1};
        bool hasNextRow = ${f[p-2]} < ${u[p-2]-1};
        ${n}
        ivec4 srcIdx = ivec4(sourceLocR${g}, sourceLocG${g},
          sourceLocB${g}, sourceLocA${g}) * ${t};
        ivec4 inIdx = srcIdx;
        vec4 bestIndex = vec4(inIdx);
        vec4 bestValue = ${x};

        for (int i = 0; i < ${t}; i++) {
          inIdx = srcIdx;
          ${C}
          vec4 candidate = ${x};
          bvec4 nan = isnan(candidate);
          bvec4 replace = bvec4(
            vec4(${"max"===r?"greaterThan":"lessThan"}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));

          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,
                           replace.y  ? candidate.y : bestValue.y,
                           replace.z  ? candidate.z : bestValue.z,
                           replace.w  ? candidate.w : bestValue.w);
          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));
          srcIdx++;
        }
        setOutput(bestIndex);
      }
    `}};function argMinMaxReduce(e,t,r,i){let n=[r];if(a.backend_util.assertAxesAreInnerMostDims("arg"+i.charAt(0).toUpperCase()+i.slice(1),n,t.shape.length),!(0,a.OBj)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){let r=[],o=e.texData.get(t.dataId),s=null!==o&&o.isPacked,l=t;s&&r.push(l=e.unpackTensor(t));let[u,c]=a.backend_util.computeOutAndReduceShapes(l.shape,n),d=a.D5U.sizeFromShape(c),p=reshape({inputs:{x:l},backend:e,attrs:{shape:[-1,d]}});r.push(p);let h=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function argReduce(e,t,r,i=null){let n=t.shape[0],o=t.shape[1];null!=i&&(n=i.shape[0],o=i.shape[1]);let s=a.backend_util.computeOptimalWindowSize(o),l={windowSize:s,inSize:o,batchSize:n,outSize:Math.ceil(o/s)},u=new ArgMinMaxProgram(l,r,null==i),c=[t];null!=i&&c.push(i);let d=e.runWebGLProgram(u,c,"int32");if(1===d.shape[1])return d;let p=argReduce(e,t,r,d);return e.disposeIntermediateTensorInfo(d),p}(e,p,i);r.push(h);let f=reshape({inputs:{x:h},backend:e,attrs:{shape:u}});return r.forEach(t=>e.disposeIntermediateTensorInfo(t)),f}return function argReducePacked(e,t,r,i=null){let n=null!=i?i.shape:t.shape,o=n[n.length-1],s=a.backend_util.computeOptimalWindowSize(o),l=new ArgMinMaxPackedProgram(n,s,r,null==i),u=null==i?[t]:[t,i],c=e.runWebGLProgram(l,u,"int32");if(c.shape.length===t.shape.length){let i=argReducePacked(e,t,r,c);return e.disposeIntermediateTensorInfo(c),i}return c}(e,t,i)}let $={kernelName:a.sJF,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{axis:o}=i,s=a.D5U.parseAxisParam(o,n.shape),l=a.backend_util.getAxesPermutation(s,n.shape.length),u=n,c=[];null!=l&&(c.push(u=transpose({inputs:{x:n},backend:r,attrs:{perm:l}})),s=a.backend_util.getInnerMostAxes(s.length,u.shape.length)),a.backend_util.assertAxesAreInnerMostDims("argMax",[s[0]],u.shape.length);let d=argMinMaxReduce(r,u,s[0],"max");return c.forEach(e=>r.disposeIntermediateTensorInfo(e)),d}},K={kernelName:a.aJk,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{axis:o}=i,s=a.D5U.parseAxisParam(o,n.shape),l=a.backend_util.getAxesPermutation(s,n.shape.length),u=n,c=[];null!=l&&(c.push(u=transpose({inputs:{x:n},backend:r,attrs:{perm:l}})),s=a.backend_util.getInnerMostAxes(s.length,u.shape.length)),a.backend_util.assertAxesAreInnerMostDims("argMin",[s[0]],u.shape.length);let d=argMinMaxReduce(r,u,s[0],"min");return c.forEach(e=>r.disposeIntermediateTensorInfo(e)),d}},q=P.D1+`
  if (abs(x) > 1.) {
    return NAN;
  }
  return asin(x);
`,Z=unaryKernelFunc({opSnippet:q}),J={kernelName:a.M2y,backendName:"webgl",kernelFunc:Z},Q=P.D1+"return log(x + sqrt(x * x + 1.0));",ee=unaryKernelFunc({opSnippet:Q}),et={kernelName:a.qw7,backendName:"webgl",kernelFunc:ee},er=P.D1+`
  return atan(x);
`,ei=unaryKernelFunc({opSnippet:er}),en={kernelName:a.jMg,backendName:"webgl",kernelFunc:ei},eo=u+`
  return atan(a, b);
`,ea=`
  vec4 result = atan(a, b);
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+p+`
  return result;
`,es=binaryKernelFunc({opSnippet:eo,packedOpSnippet:ea}),el={kernelName:a.QCc,backendName:"webgl",kernelFunc:es},eu=P.D1+`
  if ((x < -1.0) || (x > 1.0)) return NAN;
return (log(1.0 + x) - log(1.0 - x)) / 2.0;`,ec=unaryKernelFunc({opSnippet:eu}),ed={kernelName:a.Oyi,backendName:"webgl",kernelFunc:ec};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Pool2DProgram=class Pool2DProgram{constructor(e,t,r,i=!1,n=!1){if(this.variableNames=["x"],"avg"===t&&r)throw Error("Cannot compute positions for average pool.");let o=e.filterWidth,a=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;let f="avg"===t,y=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`,v="0.0";if(f||(v="-1.0 / 1e-20"),r){this.userCode=`
        const ivec2 strides = ivec2(${a}, ${s});
        const ivec2 pads = ivec2(${p}, ${h});

        void main() {
          ivec4 coords = getOutputCoords();
          int batch = coords[0];
          int d = coords[3];

          ivec2 xRCCorner = coords.yz * strides - pads;
          int xRCorner = xRCCorner.x;
          int xCCorner = xRCCorner.y;

          // max/min x(?, ?, d) to get y(yR, yC, d).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;
          float avgValue = 0.0;

          for (int wR = 0; wR < ${c};
              wR += ${l}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${d};
                wC += ${u}) {
              int xC = xCCorner + wC;

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float value = getX(batch, xR, xC, d);

              // If a min / max value has already been found, use it. If not,
              // use the current value.
              float currMinMaxValue = mix(
                  value, minMaxValue, minMaxValueFound);
              if (value >= currMinMaxValue) {
                minMaxValue = value;
                minMaxValueFound = 1.0;
                minMaxPosition = ${i?n?y:g:`wR * ${d} + wC`};
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}let m=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(m="avgValue / max(count, 1.0)");let S=4*Math.floor(o/4),b=o%4,P=`
      if (${f}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec2 strides = ivec2(${a}, ${s});
      const ivec2 pads = ivec2(${p}, ${h});
      const float initializationValue = ${v};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xR, int xC, int d) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xR, xC, d);
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d = coords[3];

        ivec2 xRCCorner = coords.yz * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // max/min x(?, ?, d) to get y(yR, yC, d).
        // ? = to be determined
        vec4 minMaxValue = vec4(${v});
        float avgValue = 0.0;
        count = 0.0;

        for (int wR = 0; wR < ${c};
            wR += ${l}) {
          int xR = xRCorner + wR;

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${S}; wC += 4) {
            int xC = xCCorner + wC * ${u};

            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              getValue(batch, xR, xC + 3 * ${u}, d)
            );

            ${P}
          }

          int xC = xCCorner + ${S};
          if (${1===b}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              initializationValue,
              initializationValue,
              initializationValue
            );

            ${P}
          } else if (${2===b}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              initializationValue,
              initializationValue
            );

            ${P}
          } else if (${3===b}) {
            vec4 values = vec4(
              getValue(batch, xR, xC, d),
              getValue(batch, xR, xC + ${u}, d),
              getValue(batch, xR, xC + 2 * ${u}, d),
              initializationValue
            );

            ${P}
          }
        }
        setOutput(${m});
      }
    `}};let Pool3DProgram=class Pool3DProgram{constructor(e,t,r,i=!1,n=!1){if(this.variableNames=["x"],"avg"===t&&r)throw Error("Cannot compute positions for average pool.");let o=e.filterWidth,a=e.strideDepth,s=e.strideHeight,l=e.strideWidth,u=e.dilationDepth,c=e.dilationHeight,d=e.dilationWidth,p=e.effectiveFilterDepth,h=e.effectiveFilterHeight,f=e.effectiveFilterWidth,y=e.padInfo.front,g=e.padInfo.top,v=e.padInfo.left;this.outputShape=e.outShape;let m="avg"===t,S="0.0";if(m||(S="-1.0 / 1e-20"),r){this.userCode=`
        const ivec3 strides =
            ivec3(${a}, ${s}, ${l});
        const ivec3 pads = ivec3(${y}, ${g}, ${v});

        void main() {
          ivec5 coords = getOutputCoords();
          int batch = coords.x;
          int ch = coords.u;

          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
          int xDCorner = xCorner.x;
          int xRCorner = xCorner.y;
          int xCCorner = xCorner.z;

          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).
          // ? = to be determined
          float minMaxValue = 0.0;
          float minMaxValueFound = 0.0;
          int minMaxPosition = 0;

          for (int wD = 0; wD < ${p};
              wD += ${u}) {
            int xD = xDCorner + wD;

            if (xD < 0 || xD >= ${e.inDepth}) {
              continue;
            }

            for (int wR = 0; wR < ${h};
                wR += ${c}) {
              int xR = xRCorner + wR;

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int wC = 0; wC < ${f};
                  wC += ${d}) {
                int xC = xCCorner + wC;

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float value = getX(batch, xD, xR, xC, ch);

                // If a min / max value has already been found, use it. If not,
                // use the current value.
                float currMinMaxValue = mix(
                    value, minMaxValue, minMaxValueFound);
                if (value >= currMinMaxValue) {
                  minMaxValue = value;
                  minMaxValueFound = 1.0;
                  minMaxPosition = ${i?n?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${h} * ${f} +
                      wR * ${f} + wC`};
                }
              }
            }
          }
          setOutput(float(minMaxPosition));
        }
      `;return}let b=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(b="avgValue / max(count, 1.0)");let P=4*Math.floor(o/4),C=o%4,x=`
      if (${m}) {
        avgValue += dot(values, ones);
      } else {
        minMaxValue = max(values, minMaxValue);
      }
    `;this.userCode=`
      const ivec3 strides =
        ivec3(${a}, ${s}, ${l});
      const ivec3 pads = ivec3(${y}, ${g}, ${v});
      const float initializationValue = ${S};
      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);

      float count = 0.0;

      float getValue(int batch, int xD, int xR, int xC, int ch) {
        if (xC < 0 || xC >= ${e.inWidth}) {
          return initializationValue;
        }
        count += 1.0;
        return getX(batch, xD, xR, xC, ch);
      }

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xDCorner = xCorner.x;
        int xRCorner = xCorner.y;
        int xCCorner = xCorner.z;

        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).
        // ? = to be determined
        vec4 minMaxValue = vec4(${S});
        float avgValue = 0.0;
        count = 0.0;

        for (int wD = 0; wD < ${p};
            wD += ${u}) {
          int xD = xDCorner + wD;

          if (xD < 0 || xD >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${h};
            wR += ${c}) {
            int xR = xRCorner + wR;

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${P}; wC += 4) {
              int xC = xCCorner + wC * ${d};

              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                getValue(batch, xD, xR, xC + 3 * ${d}, ch)
              );

              ${x}
            }

            int xC = xCCorner + ${P};
            if (${1===C}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                initializationValue,
                initializationValue,
                initializationValue
              );

              ${x}
            } else if (${2===C}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                initializationValue,
                initializationValue
              );

              ${x}
            } else if (${3===C}) {
              vec4 values = vec4(
                getValue(batch, xD, xR, xC, ch),
                getValue(batch, xD, xR, xC + ${d}, ch),
                getValue(batch, xD, xR, xC + 2 * ${d}, ch),
                initializationValue
              );

              ${x}
            }
          }
        }
        setOutput(${b});
      }
    `}};let ep={kernelName:a.JhU,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t;(0,w.HS)(n,"avgPool");let{filterSize:o,strides:s,pad:l,dimRoundingMode:u}=i;a.D5U.assert(a.backend_util.eitherStridesOrDilationsAreOne(s,1),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`);let c=a.backend_util.computePool2DInfo(n.shape,o,s,1,l,u);if(1===c.filterWidth&&1===c.filterHeight&&a.D5U.arraysEqual(c.inShape,c.outShape))return identity({inputs:{x:n},backend:r});let d=new Pool2DProgram(c,"avg",!1);return r.runWebGLProgram(d,[n],"float32")}},eh={kernelName:a._k9,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{filterSize:o,strides:s,pad:l,dimRoundingMode:u,dataFormat:c}=i,d=a.backend_util.computePool3DInfo(n.shape,o,s,[1,1,1],l,u,c),p=new Pool3DProgram(d,"avg",!1);return r.runWebGLProgram(p,[n],"float32")}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let AvgPool2DBackpropProgram=class AvgPool2DBackpropProgram{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;let t=e.filterHeight,r=e.filterWidth,i=e.strideHeight,n=e.strideWidth,o=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.top,c=l-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${u}, ${c});
      const float avgMultiplier = float(${1/(t*r)});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${s};
            wR += ${o}) {
          float dyR = float(dyRCorner + wR) / ${i}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${l};
            wC+= ${a}) {
            float dyC = float(dyCCorner + wC) / ${n}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);

            dotProd += dyValue * avgMultiplier;
          }
        }
        setOutput(dotProd);
      }
    `}};let AvgPool3DBackpropProgram=class AvgPool3DBackpropProgram{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;let t=e.filterDepth,r=e.filterHeight,i=e.filterWidth,n=e.strideDepth,o=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,h=c-1-e.padInfo.front,f=d-1-e.padInfo.top,y=p-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${h}, ${f}, ${y});
      const float avgMultiplier = float(${1/(t*r*i)});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${c};
            wD += ${s}) {
          float dyD = float(dyDCorner + wD) / ${n}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${d};
              wR += ${l}) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${p};
                wC += ${u}) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);

              dotProd += dyValue * avgMultiplier;
            }
          }
        }
        setOutput(dotProd);
      }
    `}};let ef={kernelName:a.IMb,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{dy:n,input:o}=t,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=i,d=a.backend_util.computePool3DInfo(o.shape,s,l,[1,1,1],u,c),p=new AvgPool3DBackpropProgram(d);return r.runWebGLProgram(p,[n],o.dtype)}},ey={kernelName:a.ROF,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{dy:n,input:o}=t;(0,w.HS)([n,o],"avgPoolGrad");let{filterSize:s,strides:l,pad:u}=i,c=a.backend_util.computePool2DInfo(o.shape,s,l,1,u),d=new AvgPool2DBackpropProgram(c);return r.runWebGLProgram(d,[n],o.dtype)}},eg={kernelName:a.XLW,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{a:n,b:o}=t,{transposeA:a,transposeB:s}=i;return batchMatMulImpl({a:n,b:o,transposeA:a,transposeB:s,backend:r})}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let BatchNormProgram=class BatchNormProgram{constructor(e,t,r,i,n,o){this.outputShape=[],this.variableNames=["x","mean","variance"],a.backend_util.assertAndGetBroadcastShape(e,t),a.backend_util.assertAndGetBroadcastShape(e,r);let s="0.0";null!=i&&(a.backend_util.assertAndGetBroadcastShape(e,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let l="1.0";null!=n&&(a.backend_util.assertAndGetBroadcastShape(e,n),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        float x = getXAtOutCoords();
        float mean = getMeanAtOutCoords();
        float variance = getVarianceAtOutCoords();
        float offset = ${s};
        float scale = ${l};
        float inv = scale * inversesqrt(variance + float(${o}));
        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));
      }
    `}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let BatchNormPackedProgram=class BatchNormPackedProgram{constructor(e,t,r,i,n,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],a.backend_util.assertAndGetBroadcastShape(e,t),a.backend_util.assertAndGetBroadcastShape(e,r);let s="vec4(0.0)";null!=i&&(a.backend_util.assertAndGetBroadcastShape(e,i),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let l="vec4(1.0)";null!=n&&(a.backend_util.assertAndGetBroadcastShape(e,n),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`
      void main() {
        vec4 offset = ${s};
        vec4 scale = ${l};

        vec4 x = getXAtOutCoords();
        vec4 mean = getMeanAtOutCoords();
        vec4 variance = getVarianceAtOutCoords();

        vec4 inv = scale * inversesqrt(variance + vec4(${o}));

        setOutput((x - mean) * inv + offset);
      }
    `}};let ev={kernelName:a.sHE,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:r})=>{let{x:i,mean:n,variance:o,offset:s,scale:l}=e;a.D5U.assert(n.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),a.D5U.assert(null==s||n.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),a.D5U.assert(null==l||n.shape.length===l.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");let{varianceEpsilon:u}=r;null==u&&(u=.001);let c=[i,n,o],d=null;null!=s&&(d=s.shape,c.push(s));let p=null;null!=l&&(p=l.shape,c.push(l));let h=(0,a.OBj)().getBool("WEBGL_PACK_NORMALIZATION")?new BatchNormPackedProgram(i.shape,n.shape,o.shape,d,p,u):new BatchNormProgram(i.shape,n.shape,o.shape,d,p,u),f=t.runWebGLProgram(h,c,c[0].dtype);return f}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let SliceProgram=class SliceProgram{constructor(e){let t;this.variableNames=["source"],this.outputShape=e,this.rank=e.length;let r=(0,d.kW)(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];let i=function(e){if(1===e)return"sourceLoc";if(e<=6)return em.slice(0,e).map(e=>"sourceLoc."+e).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank),n=e.map((e,t)=>`sourceLoc.${em[t]} = start[${t}] + coords.${em[t]};`);t=`
        ${r} sourceLoc;
        ${r} coords = getOutputCoords();
        ${n.join("\n")}
      `,this.userCode=`
      void main() {
        ${t}
        setOutput(getSource(${i}));
      }
    `}};let em=["x","y","z","w","u","v"];/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let SlicePackedProgram=class SlicePackedProgram{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];let t=(0,d.kW)(this.rank),r=(0,c.Ky)("coords",this.rank),i=(0,c.Ky)("sourceLoc",this.rank),n=1===this.rank?"sourceLoc":`vec2(${i.slice(-2).join()})`,o=`getChannel(getSource(${i.join()}), ${n})`,a=`
      result.x = ${o};
      if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
        ++${i[this.rank-1]};
        result.y = ${o};
        --${i[this.rank-1]};
      }
    `,s=1===this.rank?"":`
      --${r[this.rank-1]};
      if (++${r[this.rank-2]} < ${e[this.rank-2]}) {
        ++${i[this.rank-2]};
        result.z = ${o};
        if (++${r[this.rank-1]} < ${e[this.rank-1]}) {
          ++${i[this.rank-1]};
          result.w = ${o};
        }
      }
    `,l=this.rank<=4?`sourceLoc = coords +
            ${t}(${e.map((e,t)=>`start[${t}]`).join()});`:e.map((e,t)=>`${i[t]} = ${r[t]} + start[${t}];`).join("\n");this.userCode=`
      void main() {
        ${t} coords = getOutputCoords();
        ${t} sourceLoc;
        ${l}
        vec4 result = vec4(0.);
        ${a}
        ${s}
        setOutput(result);
      }
    `}};function slice(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{begin:o,size:s}=i,[l,u]=a.kuN.parseSliceParams(n,o,s);if(a.kuN.assertParamsValid(n,l,u),0===a.D5U.sizeFromShape(u))return r.makeTensorInfo(u,n.dtype,[]);if(r.shouldExecuteOnCPU([n])||"string"===n.dtype){let e=r.texData.get(n.dataId),t=(0,T.nT)(e.values,l,u,n.shape,n.dtype);return r.makeTensorInfo(u,n.dtype,t)}let{isPacked:c}=r.texData.get(n.dataId),d=a.kuN.isSliceContinous(n.shape,l,u);if(c||!d){let e=(0,a.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new SlicePackedProgram(u):new SliceProgram(u),t=[l];return r.runWebGLProgram(e,[n],n.dtype,t)}return r.uploadToGPU(n.dataId),/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r,i){let n=i.texData.get(e.dataId),o=i.makeTensorInfo(r,e.dtype),s=i.texData.get(o.dataId);Object.assign(s,n),s.refCount=1,s.shape=r,s.dtype=e.dtype;let l=a.kuN.computeFlatOffset(t,a.D5U.computeStrides(e.shape));n.slice&&(l+=n.slice.flatOffset),s.slice={flatOffset:l,origDataId:n.slice&&n.slice.origDataId||e.dataId};let u=i.dataRefCount.get(s.slice.origDataId)||1;return i.dataRefCount.set(s.slice.origDataId,u+1),o}(n,l,u,r)}let eS={kernelName:a.p2w,backendName:"webgl",kernelFunc:slice},eb={kernelName:a.zws,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{blockShape:o,crops:s}=i;a.D5U.assert(n.shape.length<=4,()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet");let l=o.reduce((e,t)=>e*t),u=a.backend_util.getReshaped(n.shape,o,l),c=a.backend_util.getPermuted(u.length,o.length),d=a.backend_util.getReshapedPermuted(n.shape,o,l),p=a.backend_util.getSliceBeginCoords(s,o.length),h=a.backend_util.getSliceSize(d,s,o.length),f=[],y=reshape({inputs:{x:n},backend:r,attrs:{shape:u}}),g=transpose({inputs:{x:y},backend:r,attrs:{perm:c}}),v=reshape({inputs:{x:g},backend:r,attrs:{shape:d}}),m=slice({inputs:{x:v},backend:r,attrs:{begin:p,size:h}});return f.push(y),f.push(g),f.push(v),f.forEach(e=>r.disposeIntermediateTensorInfo(e)),m}},eP={kernelName:a.zvY,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n,weights:o}=t,{size:a}=i,s=r.readSync(n.dataId),l=r.readSync(o.dataId),u=(0,T.qO)(s,l,o.dtype,o.shape,a);return r.makeTensorInfo([a],o.dtype,u)}},eC=`
  int r = int(a.r) & int(b.r);
  int g = int(a.g) & int(b.g);
  int rb = int(a.b) & int(b.b);
  int ra = int(a.a) & int(b.a);
  return vec4(r, g, rb, ra);
`,ex=`
  return float(int(a.r) & int(b.r));
`,eA={kernelName:a.hCO,backendName:"webgl",kernelFunc:function(e){let t;let{inputs:r,backend:i}=e,{a:n,b:o}=r,s=(0,a.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS"),l=(0,a.OBj)().getNumber("WEBGL_VERSION");if(i.shouldExecuteOnCPU([n,o])||1===l){let e=i.texData.get(n.dataId).values,t=i.texData.get(o.dataId).values,[r,a]=(0,T.XM)(n.shape,o.shape,e,t,n.dtype),s=i.makeTensorInfo(a,n.dtype),l=i.texData.get(s.dataId);return l.values=r,s}return t=s?new BinaryOpPackedProgram(eC,n.shape,o.shape,!1):new BinaryOpProgram(ex,n.shape,o.shape),i.runWebGLProgram(t,[n,o],n.dtype)}},eT={kernelName:a.eEB,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r}=e,{s0:i,s1:n}=t,o=r.readSync(i.dataId),s=r.readSync(n.dataId),l=a.backend_util.assertAndGetBroadcastShape(Array.from(o),Array.from(s));return r.makeTensorInfo([l.length],"int32",Int32Array.from(l))}},e_=binaryKernelFunc({opSnippet:"return float(a != b);",cpuKernelImpl:T.cZ,dtype:"bool"}),eR={kernelName:a.yQU,backendName:"webgl",kernelFunc:e_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function real(e){let{inputs:t,backend:r}=e,{input:i}=t,n=r.texData.get(i.dataId);return identity({inputs:{x:n.complexTensorInfos.real},backend:r})}let eE={kernelName:a.xJR,backendName:"webgl",kernelFunc:real},ew={kernelName:a.RFZ,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cast(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{dtype:o}=i;if("complex64"===o){if("complex64"===n.dtype)return identity({inputs:{x:n},backend:r});let e=a.lls(n.shape),t=cast({inputs:{x:n},backend:r,attrs:{dtype:"float32"}}),i=complex({inputs:{real:t,imag:e},backend:r});return e.dispose(),r.disposeIntermediateTensorInfo(t),i}if("complex64"===n.dtype){let e=real({inputs:{input:n},backend:r}),t=cast({inputs:{x:e},backend:r,attrs:{dtype:o}});return r.disposeIntermediateTensorInfo(e),t}if(!a.D5U.hasEncodingLoss(n.dtype,o)){let e=identity({inputs:{x:n},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:o}}if(r.shouldExecuteOnCPU([n])){let e=r.texData.get(n.dataId).values,[t,i,a]=(0,T.cm)(e,n.shape,n.dtype,o);return r.makeTensorInfo(t,i,a)}if("int32"===o)return function(e,t){let r=new P.l(e.shape,"return float(int(x));"),i=t.runWebGLProgram(r,[e],"int32");return{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}(n,r);if("bool"===o){let e=r.makeTensorInfo([],"bool",a.D5U.getTypedArrayFromDType("bool",1)),t=e_({inputs:{a:n,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw Error(`Error in Cast: failed to cast ${n.dtype} to ${o}`)}},eD="return ceil(x);",eO=unaryKernelFunc({opSnippet:eD,packedOpSnippet:eD,cpuKernelImpl:T.pk}),eI={kernelName:a.gJX,backendName:"webgl",kernelFunc:eO};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ClipProgram=class ClipProgram{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`

      void main() {
        float value = getAAtOutCoords();
        if (isnan(value)) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, minVal, maxVal));
      }
    `}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ClipPackedProgram=class ClipPackedProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode=`
      void main() {
        vec4 value = getAAtOutCoords();

        if (any(isnan(value))) {
          setOutput(value);
          return;
        }

        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));
      }
    `}};let eM={kernelName:a.xnO,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o}=r,{clipValueMin:s,clipValueMax:l}=n;t=(0,a.OBj)().getBool("WEBGL_PACK_CLIP")?new ClipPackedProgram(o.shape):new ClipProgram(o.shape);let u=[[s],[l]];return i.runWebGLProgram(t,[o],o.dtype,u)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ComplexAbsProgram=class ComplexAbsProgram{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode=`
      void main() {
        float re = abs(getRealAtOutCoords());
        float im = abs(getImagAtOutCoords());
        float mx = max(re, im);

        // sadly the length function in glsl is not underflow-safe
        // (at least not on Intel GPUs). So the safe solution is
        // to ensure underflow-safety in all cases.
        setOutput(
          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))
        );
      }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function makeComplexComponentTensorInfo(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}let eL={kernelName:a.yj2,backendName:"webgl",kernelFunc:function(e){let{inputs:t,backend:r}=e,{x:i}=t,n=r.texData.get(i.dataId),o=new ComplexAbsProgram(i.shape),a=[makeComplexComponentTensorInfo(i,n.complexTensorInfos.real),makeComplexComponentTensorInfo(i,n.complexTensorInfos.imag)];return r.runWebGLProgram(o,a,a[0].dtype)}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ConcatProgram=class ConcatProgram{constructor(e){this.outputShape=[],this.outputShape=a.backend_util.computeOutShape(e,1),this.variableNames=e.map((e,t)=>`T${t}`);let t=Array(e.length-1);t[0]=e[0][1];for(let r=1;r<t.length;r++)t[r]=t[r-1]+e[r][1];let r=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let e=1;e<t.length;e++){let i=t[e-1];r.push(`else if (yC < ${t[e]}) setOutput(getT${e}(yR, yC-${i}));`)}let i=t.length,n=t[t.length-1];r.push(`else setOutput(getT${i}(yR, yC-${n}));`),this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int yR = coords.x;
        int yC = coords.y;

        ${r.join("\n        ")}
      }
    `}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ConcatPackedProgram=class ConcatPackedProgram{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=a.backend_util.computeOutShape(e,t);let r=this.outputShape,i=r.length,n=(0,d.kW)(i),o=(0,c.Ky)("coords",i),s=["x","y","z","w","u","v"].slice(0,i);this.variableNames=e.map((e,t)=>`T${t}`);let l=Array(e.length-1);l[0]=e[0][t];for(let r=1;r<l.length;r++)l[r]=l[r-1]+e[r][t];let u=s[t],p=s.slice(-2),h=s.join(),f=`if (${u} < ${l[0]}) {
        return getChannel(
            getT0(${h}), vec2(${p.join()}));
        }`;for(let e=1;e<l.length;e++){let t=l[e-1];f+=`
        if (${u} < ${l[e]}  && ${u} >= ${l[e-1]}) {
          return getChannel(
            getT${e}(${shiftedChannels(s,u,t)}),
            vec2(${shiftedChannels(p,u,t)}));
        }`}let y=l.length,g=l[l.length-1];f+=`
        return getChannel(
          getT${y}(${shiftedChannels(s,u,g)}),
          vec2(${shiftedChannels(p,u,g)}));`,this.userCode=`
      float getValue(${s.map(e=>"int "+e)}) {
        ${f}
      }

      void main() {
        ${n} coords = getOutputCoords();
        vec4 result = vec4(getValue(${o}), 0., 0., 0.);

        ${o[i-1]} = ${o[i-1]} + 1;
        if (${o[i-1]} < ${r[i-1]}) {
          result.g = getValue(${o});
        }

        ${o[i-2]} = ${o[i-2]} + 1;
        if (${o[i-2]} < ${r[i-2]}) {
          result.a = getValue(${o});
        }

        ${o[i-1]} = ${o[i-1]} - 1;
        if (${o[i-2]} < ${r[i-2]} &&
            ${o[i-1]} < ${r[i-1]}) {
          result.b = getValue(${o});
        }
        setOutput(result);
      }
    `}};function shiftedChannels(e,t,r){let i=e.indexOf(t),n=e.map((e,t)=>t===i?`${e} - ${r}`:e);return n.join()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function imag(e){let{inputs:t,backend:r}=e,{input:i}=t,n=r.texData.get(i.dataId);return identity({inputs:{x:n.complexTensorInfos.imag},backend:r})}let ek={kernelName:a.J_u,backendName:"webgl",kernelFunc:imag};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function concat(e){let{inputs:t,backend:r,attrs:i}=e,{axis:n}=i,o=a.D5U.parseAxisParam(n,t[0].shape)[0],s=t.map(e=>e.shape);a.backend_util.assertParamsConsistent(s,o);let l=a.backend_util.computeOutShape(t.map(e=>e.shape),o);if(0===a.D5U.sizeFromShape(l))return r.makeTensorInfo(l,t[0].dtype,[]);let u=t.filter(e=>a.D5U.sizeFromShape(e.shape)>0);return 1===u.length?identity({inputs:{x:u[0]},backend:r}):/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function concatImpl(e,t,r){let i=e[0].dtype;if("complex64"===i){let i=e.map(e=>real({inputs:{input:e},backend:r})),n=e.map(e=>imag({inputs:{input:e},backend:r})),o=concatImpl(i,t,r),a=concatImpl(n,t,r),s=complex({inputs:{real:o,imag:a},backend:r});return i.forEach(e=>r.disposeIntermediateTensorInfo(e)),n.forEach(e=>r.disposeIntermediateTensorInfo(e)),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(a),s}let n=r.shouldExecuteOnCPU(e);if("string"===i&&(n=!0),n){let n=e.map(e=>{let i=a.D5U.sizeFromShape(e.shape.slice(t));return reshape({inputs:{x:e},backend:r,attrs:{shape:[-1,i]}})}),o=n.map(e=>({vals:r.readSync(e.dataId),shape:e.shape})),s=a.backend_util.computeOutShape(n.map(e=>e.shape),1),l=1===n[0].shape[0],u=(0,T.n7)(o,s,i,l),c=a.backend_util.computeOutShape(e.map(e=>e.shape),t),d=r.makeTensorInfo(c,i,u);return n.forEach(e=>r.disposeIntermediateTensorInfo(e)),d}let o=e.filter(e=>a.D5U.sizeFromShape(e.shape)>0),s=(0,a.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&o[0].shape.length>1;if(1===o.length){let t=s?new P.l(e[0].shape,P.bl):new C.cc(e[0].shape,P.bl);return r.runWebGLProgram(t,e,i)}let l=(0,a.OBj)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(o.length>l){let e=[];for(let i=0;i<o.length;i+=l){let n=o.slice(i,i+l);e.push(concatImpl(n,t,r))}let i=concatImpl(e,t,r);for(let t of e)r.disposeIntermediateTensorInfo(t);return i}if(s){let e=new ConcatPackedProgram(o.map(e=>e.shape),t);return r.runWebGLProgram(e,o,i)}let{tensors2D:u,outShape:c}=function(e,t,r){let i=a.backend_util.computeOutShape(e.map(e=>e.shape),t),n=e.map(e=>reshape({inputs:{x:e},attrs:{shape:[-1,a.D5U.sizeFromShape(e.shape.slice(t))]},backend:r}));return{tensors2D:n,outShape:i}}(o,t,r),d=new ConcatProgram(u.map(e=>e.shape)),p=r.runWebGLProgram(d,u,i);u.forEach(e=>r.disposeIntermediateTensorInfo(e));let h=reshape({inputs:{x:p},attrs:{shape:c},backend:r});return r.disposeIntermediateTensorInfo(p),h}(u,o,r)}let eN={kernelName:a.Eh3,backendName:"webgl",kernelFunc:concat};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Conv2DProgram=class Conv2DProgram{constructor(e,t=!1,r=null,i=!1,n=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;let o=e.padInfo.top,a=e.padInfo.left,s=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4,y="channelsLast"===e.dataFormat,g="",v="";r&&(g=i?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:n?`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:`
          float activation(float x) {
            ${r}
          }
        `,v="result = activation(result);"),t&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),n&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${g}

      const ivec2 strides = ivec2(${s}, ${l});
      const ivec2 pads = ivec2(${o}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d2 = coords[${y?3:1}];

        ivec2 xRCCorner =
            ivec2(coords[${y?1:2}], coords[${y?2:3}]) * strides - pads;
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${d}; wR++) {
          int xR = xRCorner + wR * ${u};

          if (xR < 0 || xR >= ${e.inHeight}) {
            continue;
          }

          for (int wC = 0; wC < ${p}; wC++) {
            int xC = xCCorner + wC * ${c};

            if (xC < 0 || xC >= ${e.inWidth}) {
              continue;
            }

            for (int d1 = 0; d1 < ${h}; d1 += 4) {
              vec4 wValues = vec4(
                getW(wR, wC, d1, d2),
                getW(wR, wC, d1 + 1, d2),
                getW(wR, wC, d1 + 2, d2),
                getW(wR, wC, d1 + 3, d2)
              );

              if (${y}) {
                vec4 xValues = vec4(
                  getX(batch, xR, xC, d1),
                  getX(batch, xR, xC, d1 + 1),
                  getX(batch, xR, xC, d1 + 2),
                  getX(batch, xR, xC, d1 + 3)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec4 xValues = vec4(
                  getX(batch, d1, xR, xC),
                  getX(batch, d1 + 1, xR, xC),
                  getX(batch, d1 + 2, xR, xC),
                  getX(batch, d1 + 3, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }
            }

            if (${1===f}) {

              if (${y}) {
                dotProd +=
                    getX(batch, xR, xC, ${h}) *
                    getW(wR, wC, ${h}, d2);
              } else {
                dotProd +=
                    getX(batch, ${h}, xR, xC) *
                    getW(wR, wC, ${h}, d2);
              }

            } else if (${2===f}) {
              vec2 wValues = vec2(
                getW(wR, wC, ${h}, d2),
                getW(wR, wC, ${h} + 1, d2)
              );

              if (${y}) {
                vec2 xValues = vec2(
                  getX(batch, xR, xC, ${h}),
                  getX(batch, xR, xC, ${h} + 1)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec2 xValues = vec2(
                  getX(batch, ${h}, xR, xC),
                  getX(batch, ${h} + 1, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            } else if (${3===f}) {
              vec3 wValues = vec3(
                getW(wR, wC, ${h}, d2),
                getW(wR, wC, ${h} + 1, d2),
                getW(wR, wC, ${h} + 2, d2)
              );

              if (${y}) {
                vec3 xValues = vec3(
                  getX(batch, xR, xC, ${h}),
                  getX(batch, xR, xC, ${h} + 1),
                  getX(batch, xR, xC, ${h} + 2)
                );
                dotProd += dot(xValues, wValues);
              } else {
                vec3 xValues = vec3(
                  getX(batch, ${h}, xR, xC),
                  getX(batch, ${h} + 1, xR, xC),
                  getX(batch, ${h} + 2, xR, xC)
                );
                dotProd += dot(xValues, wValues);
              }

            }
          }
        }

        float result = dotProd;
        ${t?"result += getBiasAtOutCoords();":""}
        ${v}
        setOutput(result);
      }
    `}};let Conv3DProgram=class Conv3DProgram{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;let t=e.padInfo.front,r=e.padInfo.top,i=e.padInfo.left,n=e.strideDepth,o=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode=`
      const ivec3 strides = ivec3(${n}, ${o}, ${a});
      const ivec3 pads = ivec3(${t}, ${r}, ${i});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d2 = coords.u;

        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;
        int xFCorner = xFRCCorner.x;
        int xRCorner = xFRCCorner.y;
        int xCCorner = xFRCCorner.z;

        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get
        // y(yF, yR, yC, d2). ? = to be determined. : = across all
        // values in that axis.
        float dotProd = 0.0;
        for (int wF = 0; wF < ${c}; wF++) {
          int xF = xFCorner + wF * ${s};

          if (xF < 0 || xF >= ${e.inDepth}) {
            continue;
          }

          for (int wR = 0; wR < ${d}; wR++) {
            int xR = xRCorner + wR * ${l};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int wC = 0; wC < ${p}; wC++) {
              int xC = xCCorner + wC * ${u};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              for (int d1 = 0; d1 < ${h}; d1 += 4) {
                vec4 xValues = vec4(
                  getX(batch, xF, xR, xC, d1),
                  getX(batch, xF, xR, xC, d1 + 1),
                  getX(batch, xF, xR, xC, d1 + 2),
                  getX(batch, xF, xR, xC, d1 + 3)
                );
                vec4 wValues = vec4(
                  getW(wF, wR, wC, d1, d2),
                  getW(wF, wR, wC, d1 + 1, d2),
                  getW(wF, wR, wC, d1 + 2, d2),
                  getW(wF, wR, wC, d1 + 3, d2)
                );

                dotProd += dot(xValues, wValues);
              }

              if (${1===f}) {
                dotProd +=
                  getX(batch, xF, xR, xC, ${h}) *
                  getW(wF, wR, wC, ${h}, d2);
              } else if (${2===f}) {
                vec2 xValues = vec2(
                  getX(batch, xF, xR, xC, ${h}),
                  getX(batch, xF, xR, xC, ${h} + 1)
                );
                vec2 wValues = vec2(
                  getW(wF, wR, wC, ${h}, d2),
                  getW(wF, wR, wC, ${h} + 1, d2)
                );
                dotProd += dot(xValues, wValues);
              } else if (${3===f}) {
                vec3 xValues = vec3(
                  getX(batch, xF, xR, xC, ${h}),
                  getX(batch, xF, xR, xC, ${h} + 1),
                  getX(batch, xF, xR, xC, ${h} + 2)
                );
                vec3 wValues = vec3(
                  getW(wF, wR, wC, ${h}, d2),
                  getW(wF, wR, wC, ${h} + 1, d2),
                  getW(wF, wR, wC, ${h} + 2, d2)
                );
                dotProd += dot(xValues, wValues);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Conv2DPackedProgram=class Conv2DPackedProgram{constructor(e,t=!1,r=null,i=!1,n=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=(0,l.C9)(this.outputShape.length);let o=e.padInfo.left,s=e.strideWidth,u=e.dilationWidth,c=e.filterHeight,d=e.filterWidth,p=`
       int xR; int xC; int xCOffset;
       vec4 wTexel; vec4 previous; vec4 final;`;for(let e=0;e<d;e++)p+=`
           vec4 xTexelC${2*e};
           int xTexelC${2*e}Ready;
           vec4 xTexelC${2*e+1};
           int xTexelC${2*e+1}Ready;
           vec4 xC${e};`;p+=`
     for (int r = 0; r < ${c}; r++) {
      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {
       `;for(let e=0;e<d;e++)p+=`
           xTexelC${2*e} = vec4(0.0);
           xTexelC${2*e}Ready = 0;
           xTexelC${2*e+1} = vec4(0.0);
           xTexelC${2*e+1}Ready = 0;
           xC${e} = vec4(0.0);`;p+=`
         xR = xRCorner + r * dilations[0];
         if (xR >=0 && xR < inDims[0]) {
       `;for(let t=0;t<(d+1)/2;t++){let r=2*t;if(p+=`
           xC = xCCorner + ${r*u};
           `,1===s){if(r<d&&(o%2==1?(p+=`
                 xCOffset = xC + 1;
                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${r}Ready == 0) {
                   xTexelC${r} = getX(batch, xR, xCOffset, d1);

                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${r}.zw = vec2(0.0);
                   }
                   xTexelC${r}Ready = 1;
                 }
               `,1===u&&r>0?p+=`
                 xC${r} = vec4(xTexelC${r-2}.zw, xTexelC${r}.xy);
                 `:p+=`
                   xCOffset = xC + 1 - 2;

                   if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       previous.zw = vec2(0.0);
                     }

                     xC${r} = vec4(previous.zw, xTexelC${r}.xy);
                   } else {
                     xC${r} = vec4(0.0, 0.0, xTexelC${r}.xy);
                   }
                   `):p+=`
                 if (xC >= 0 && xC < inDims[1] && xTexelC${r}Ready == 0) {
                   xTexelC${r} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${r}.zw = vec2(0.0);
                   }
                   xTexelC${r}Ready = 1;
                 }

                 xC${r} = xTexelC${r};
                 `,r+1<d)){let e=o%2==0?a.D5U.nearestLargerEven(u):u;u%2==0&&o%2==1||u%2!=0&&o%2!=1?(p+=`
                   xCOffset = xC + imod(pads[1], 2) + ${e};

                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${r+1}Ready == 0) {
                     xTexelC${r+1} = getX(batch, xR, xCOffset, d1);

                     // Need to manually clear unused channels in case
                     // we're reading from recycled texture.
                     if (xCOffset + 1 >= inDims[1]) {
                       xTexelC${r+1}.zw = vec2(0.0);
                     }
                     xTexelC${r+1}Ready = 1;
                   }
                   `,u>1?p+=`
                     xCOffset -= 2;
                     if (xCOffset >= 0 && xCOffset < inDims[1]) {
                      previous = getX(batch, xR, xCOffset, d1);
                      xC${r+1} = vec4(previous.zw, xTexelC${r+1}.xy);
                     } else {
                      xC${r+1} = vec4(0.0, 0.0, xTexelC${r+1}.xy);
                     }
                     `:p+=`
                     xC${r+1} = vec4(xTexelC${r}.zw, xTexelC${r+1}.xy);
                     `):1===e?p+=`
                     xC${r+1} = xTexelC${r};
                     `:p+=`
                     xCOffset = xC + ${e};

                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${r+1}Ready == 0) {
                       xTexelC${r+1} = getX(batch, xR, xCOffset, d1);
                       if (xCOffset + 1 >= inDims[1]) {
                         xTexelC${r+1}.zw = vec2(0.0);
                       }
                       xTexelC${r+1}Ready = 1;
                     }

                     xC${r+1} = xTexelC${r+1};
                     `}}else r<d&&(o%2==1?(p+=`
                 xCOffset = xC + 1 - strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${r}Ready == 0) {
                   xTexelC${r} = getX(batch, xR, xCOffset, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${r}.zw = vec2(0.0);
                   }
                   xTexelC${r}Ready = 1;
                 }

                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${r+1}Ready == 0) {
                   xTexelC${r+1} = getX(batch, xR, xC + 1, d1);
                   // Need to manually clear unused channels in case
                   // we're reading from recycled texture.
                   if (xC + 2 >= inDims[1]) {
                     xTexelC${r+1}.zw = vec2(0.0);
                   }
                   xTexelC${r+1}Ready = 1;
                 }

                 xC${r} = vec4(xTexelC${r}.zw, xTexelC${r+1}.zw);
               `,r+1<d&&(p+=`
                   final = vec4(0.0);
                   xCOffset = xC + 1 + strides[1];
                   if(xCOffset >= 0 && xCOffset < inDims[1]) {
                     final = getX(batch, xR, xCOffset, d1);
                   }
                   xC${r+1} = vec4(xTexelC${r+1}.xy, final.xy);
                 `)):(p+=`
                 if(xC >= 0 && xC < inDims[1] && xTexelC${r}Ready == 0) {
                   xTexelC${r} = getX(batch, xR, xC, d1);
                   if (xC + 1 >= inDims[1]) {
                     xTexelC${r}.zw = vec2(0.0);
                   }
                   xTexelC${r}Ready = 1;
                 }

                 xCOffset = xC + strides[1];
                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${r+1}Ready == 0) {
                   xTexelC${r+1} = getX(batch, xR, xCOffset, d1);
                   if (xCOffset + 1 >= inDims[1]) {
                     xTexelC${r+1}.zw = vec2(0.);
                   }
                   xTexelC${r+1}Ready = 1;
                 }

                 xC${r} = vec4(
                   xTexelC${r}.xy, xTexelC${r+1}.xy);
               `,r+1<d&&(p+=`
                   xC${r+1} = vec4(xTexelC${r}.zw, xTexelC${r+1}.zw);
                 `)));r<d&&(p+=`
             wTexel = getW(r, ${r}, d1, d2);
             dotProd += xC${r}.xxzz * vec4(wTexel.xy, wTexel.xy);
             if(d1 + 1 < ${e.inChannels}) {
               dotProd += xC${r}.yyww * vec4(wTexel.zw, wTexel.zw);
             }
           `,r+1<d&&(p+=`
               wTexel = getW(r, ${r+1}, d1, d2);
               dotProd += xC${r+1}.xxzz * vec4(wTexel.xy, wTexel.xy);
               if(d1 + 1 < ${e.inChannels}) {
                 dotProd += xC${r+1}.yyww * vec4(wTexel.zw, wTexel.zw);
               }
             `))}p+=`
     }
   
     }
   
     }
   `;let h="",f="";r&&(h=i?`vec4 activation(vec4 a) {
           vec4 b = getPreluActivationWeightsAtOutCoords();
           ${r}
         }`:n?`vec4 activation(vec4 a) {
           vec4 b = getLeakyreluAlphaAtOutCoords();
           ${r}
         }`:`vec4 activation(vec4 x) {
           ${r}
         }`,f="result = activation(result);"),t&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),n&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
       ${h}

       void main() {
         ivec4 coords = getOutputCoords();
         int batch = coords.x;
         ivec2 xRCCorner = coords.yz * strides - pads;
         int d2 = coords.w;
         int xRCorner = xRCCorner.x;
         int xCCorner = xRCCorner.y;

         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
         vec4 dotProd = vec4(0.000000000000001);

         ${p}

         vec4 result = dotProd - vec4(0.000000000000001);
         ${t?"result += getBiasAtOutCoords();":""}
         ${f}
         setOutput(result);
       }
     `}};var eB=r(54031);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Im2ColPackedProgram=class Im2ColPackedProgram{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=(0,l.C9)(this.outputShape.length);let{dataFormat:r}=t,i=(0,eB.A)(),n="channelsLast"===r,o=n?1:2,a=n?2:3,s=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`,u="";for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)u+=`
          blockIndex = rc.z + ${t};
          pos = rc.y + ${e};

          ${s}
            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];
            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);

            if(d0 < inputShape[${o}] && d0 >= 0) {
              // Use custom imod instead mod. On Intel GPU, mod may generate
              // unexpected value.
              // https://github.com/tensorflow/tfjs/issues/5447
              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];
              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /
                  inChannels);

              if(d1 < inputShape[${a}] && d1 >= 0) {

                ch = imod(pos, inChannels);

                if (${n}) {
                  innerDims = vec2(d1, ch);
                  result[${2*e+t}] = getChannel(
                    getA(rc.x, d0, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                } else {
                  innerDims = vec2(d0, d1);
                  result[${2*e+t}] = getChannel(
                    getA(rc.x, ch, int(innerDims.x),
                    int(innerDims.y)), innerDims);
                }
              }
            }
          }
        `;this.userCode=`
      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0);

        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
        vec2 innerDims;

        ${u}

        ${i.output} = result;
      }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function getShapeForBatchMatMul(e,t){let r=e.length;return r>=3?t?[...e.slice(0,-3),e[r-3]*e[r-2],e[r-1]]:[...e.slice(0,-3),e[r-3],e[r-2]*e[r-1]]:!t&&1===r&&e[0]>1?[e[0],1]:null}function conv2dByMatMul({x:e,filter:t,convInfo:r,backend:i,bias:n=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:l=null}){let u;let c=e.shape,d=i.texData.get(e.dataId),p=r.inChannels,h=c[0]*c[1]*c[2],f=r.outChannels,y="channelsLast"===r.dataFormat,g=[];if(null!=o){let e=getShapeForBatchMatMul(o.shape,y);null!=e&&(o=reshape({inputs:{x:o},backend:i,attrs:{shape:e}}),g.push(o))}if(null!=n){let e=getShapeForBatchMatMul(n.shape,y);null!=e&&(n=reshape({inputs:{x:n},backend:i,attrs:{shape:e}}),g.push(n))}let v=!((1===h||1===f)&&p>1e3)&&d.isPacked&&y&&null!=d.texture&&c[2]%2!=0&&a.D5U.arraysEqual(d.shape.slice(-3),c.slice(-3));if(v){let p=c[0]*c[1]*(c[2]+1),h={dataId:e.dataId,shape:[1,p,r.inChannels],dtype:e.dtype},f=d.shape;d.shape=d.shape.slice(),d.shape[d.shape.length-2]++,a.D5U.assert(w.oT(d.shape,h.shape),()=>`packed reshape ${d.shape} to ${h.shape} isn't free`);let y=reshape({inputs:{x:t},backend:i,attrs:{shape:[1,r.inChannels,r.outChannels]}});g.push(y);let v=batchMatMulImpl({a:h,b:y,backend:i,transposeA:!1,transposeB:!1,bias:n,activation:l,preluActivationWeights:o,leakyreluAlpha:s}),m=i.texData.get(v.dataId);a.D5U.assert(m.isPacked,()=>"batchMatMul result is expected to be packed"),d.shape=f,m.shape=r.outShape,(u=identity({inputs:{x:v},backend:i})).shape=r.outShape,g.push(v)}else{let a=r.outHeight*r.outWidth,c=reshape({inputs:{x:e},backend:i,attrs:{shape:y?[r.batchSize,a,r.inChannels]:[r.batchSize,r.inChannels,a]}}),d=reshape({inputs:{x:t},backend:i,attrs:{shape:[1,r.inChannels,r.outChannels]}}),p=batchMatMulImpl({a:y?c:d,b:y?d:c,transposeA:!y,transposeB:!1,backend:i,bias:n,activation:l,preluActivationWeights:o,leakyreluAlpha:s});u=reshape({inputs:{x:p},backend:i,attrs:{shape:r.outShape}}),g.push(c),g.push(d),g.push(p)}for(let e of g)i.disposeIntermediateTensorInfo(e);return u}function conv2dWithIm2Row({x:e,filter:t,convInfo:r,backend:i,bias:n=null,preluActivationWeights:o=null,leakyreluAlpha:s=0,activation:l=null}){let{filterWidth:u,filterHeight:c,inChannels:d,outWidth:p,outHeight:h,dataFormat:f}=r,y="channelsLast"===f,g=u*c*d,v=h*p,m=[r.batchSize,g,v],S=[];if(null!=o){let e=getShapeForBatchMatMul(o.shape,y);null!=e&&(o=reshape({inputs:{x:o},backend:i,attrs:{shape:e}}),S.push(o))}if(null!=n){let e=getShapeForBatchMatMul(n.shape,y);null!=e&&(n=reshape({inputs:{x:n},backend:i,attrs:{shape:e}}),S.push(n))}let b=reshape({inputs:{x:t},backend:i,attrs:{shape:[1,g,a.D5U.sizeFromShape(t.shape)/g]}});S.push(b);let P=new Im2ColPackedProgram(m,r),C=[e.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],x=i.runWebGLProgram(P,[e],"float32",C),A=reshape({inputs:{x:x},backend:i,attrs:{shape:m}});S.push(x),S.push(A);let T=null!=n,_=null!=o,R="leakyrelu"===l,E=l?mapActivationToShaderProgram(l,!0):null,w=new MatMulPackedProgram(y?A.shape:b.shape,y?b.shape:A.shape,y?[r.batchSize,v,r.outChannels]:[r.batchSize,r.outChannels,v],!0,!1,T,E,_,R),D=y?[A,b]:[b,A];if(n&&D.push(n),_&&D.push(o),R){let e=i.makeTensorInfo([],"float32",a.D5U.createScalarValue(s,"float32"));D.push(e),S.push(e)}let O=i.runWebGLProgram(w,D,"float32"),I=reshape({inputs:{x:O},backend:i,attrs:{shape:r.outShape}});for(let e of(S.push(O),S))i.disposeIntermediateTensorInfo(e);return I}let eV={kernelName:a.mhS,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o,filter:s}=r,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p}=n,h=a.backend_util.convertConv2DDataFormat(c),f=a.backend_util.computeConv2DInfo(o.shape,s.shape,l,d,u,p,!1,h);if(1===f.filterHeight&&1===f.filterWidth&&1===f.dilationHeight&&1===f.dilationWidth&&1===f.strideHeight&&1===f.strideWidth&&("SAME"===f.padInfo.type||"VALID"===f.padInfo.type))t=conv2dByMatMul({x:o,filter:s,convInfo:f,backend:i});else if(f.strideWidth<=2&&"channelsLast"===h&&(0,a.OBj)().getBool("WEBGL_EXP_CONV")){let e=new Conv2DPackedProgram(f),r=[[f.padInfo.top,f.padInfo.left],[f.strideHeight,f.strideWidth],[f.dilationHeight,f.dilationWidth],[f.inHeight,f.inWidth]];t=i.runWebGLProgram(e,[o,s],"float32",r)}else if((0,a.OBj)().getBool("WEBGL_CONV_IM2COL"))t=conv2dWithIm2Row({x:o,filter:s,convInfo:f,backend:i});else{let e=new Conv2DProgram(f);t=i.runWebGLProgram(e,[o,s],"float32")}let y=reshape({inputs:{x:t},backend:i,attrs:{shape:f.outShape}});return i.disposeIntermediateTensorInfo(t),y}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Conv2DDerFilterProgram=class Conv2DDerFilterProgram{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;let t=e.strideHeight,r=e.strideWidth,i=e.padInfo.top,n=e.padInfo.left,o="channelsLast"===e.dataFormat;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int d2 = coords.w;

        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${t} - ${i};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${n};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              ${o?`float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);`:`float dyValue = getDy(b, d2, yR, yC);
              float xValue = getX(b, d1, xR, xC);
              dotProd += (xValue * dyValue);`}
            }
          }
        }
        setOutput(dotProd);
      }
    `}};let Conv2DDerInputProgram=class Conv2DDerInputProgram{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;let t=e.filterHeight,r=e.filterWidth,i=e.strideHeight,n=e.strideWidth,o="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,s=r-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[${o?3:1}];

        ivec2 dyCorner = ivec2(coords[${o?1:2}], coords[${o?2:3}]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / ${i}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${n}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {

              if (${o}) {
                float xValue = getDy(batch, idyR, idyC, d2);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              } else {
                float xValue = getDy(batch, d2, idyR, idyC);
                float wValue = getW(wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }

            }
          }
        }
        setOutput(dotProd);
      }
    `}};let Conv3DDerFilterProgram=class Conv3DDerFilterProgram{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;let t=e.strideDepth,r=e.strideHeight,i=e.strideWidth,n=e.padInfo.front,o=e.padInfo.top,a=e.padInfo.left;this.userCode=`
      void main() {
        ivec5 coords = getOutputCoords();
        int wF = coords.x;
        int wR = coords.y;
        int wC = coords.z;
        int d1 = coords.w;
        int d2 = coords.u;

        float dotProd = 0.0;

        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yF = 0; yF < ${e.outDepth}; yF++) {
            int xF = wF + yF * ${t} - ${n};

            if (xF < 0 || xF >= ${e.inDepth}) {
              continue;
            }

            for (int yR = 0; yR < ${e.outHeight}; yR++) {
              int xR = wR + yR * ${r} - ${o};

              if (xR < 0 || xR >= ${e.inHeight}) {
                continue;
              }

              for (int yC = 0; yC < ${e.outWidth}; yC++) {
                int xC = wC + yC * ${i} - ${a};

                if (xC < 0 || xC >= ${e.inWidth}) {
                  continue;
                }

                float dyValue = getDy(b, yF, yR, yC, d2);
                float xValue = getX(b, xF, xR, xC, d1);
                dotProd += (xValue * dyValue);
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}};let Conv3DDerInputProgram=class Conv3DDerInputProgram{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;let t=e.filterDepth,r=e.filterHeight,i=e.filterWidth,n=e.strideDepth,o=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.front,l=r-1-e.padInfo.top,u=i-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${s}, ${l}, ${u});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.u;


        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyFCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        float dotProd = 0.0;
        for (int wF = 0; wF < ${t}; wF++) {
          float dyF = float(dyFCorner + wF) / ${n}.0;

          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {
            continue;
          }
          int idyF = int(dyF);

          int wFPerm = ${t} - 1 - wF;

          for (int wR = 0; wR < ${r}; wR++) {
            float dyR = float(dyRCorner + wR) / ${o}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
              fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            int wRPerm = ${r} - 1 - wR;

            for (int wC = 0; wC < ${i}; wC++) {
              float dyC = float(dyCCorner + wC) / ${a}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              int wCPerm = ${i} - 1 - wC;

              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {
                float xValue = getDy(batch, idyF, idyR, idyC, d2);
                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);
                dotProd += xValue * wValue;
              }
            }
          }
        }
        setOutput(dotProd);
      }
    `}};let eF={kernelName:a.wUP,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n,dy:o}=t,{strides:s,pad:l,dataFormat:u,dimRoundingMode:c,filterShape:d}=i,p=a.backend_util.convertConv2DDataFormat(u),h=a.backend_util.computeConv2DInfo(n.shape,d,s,1,l,c,!1,p),f=new Conv2DDerFilterProgram(h);return r.runWebGLProgram(f,[n,o],"float32")}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Conv2DDerInputPackedProgram=class Conv2DDerInputPackedProgram{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=(0,l.C9)(this.outputShape.length);let t=e.filterHeight,r=e.filterWidth,i=t-1-e.padInfo.top,n=r-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${i}, ${n});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];

        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        vec4 result = vec4(0.);
        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / strides[0];
          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);
          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            int wCPerm = ${r} - 1 - wC;

            float dyC = float(dyCCorner + wC) / strides[1];
            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)
              && (fract(dyC) == 0.0);
            int idyC = int(dyC);

            float dyC2 = float(dyCCorner + wC + 1) / strides[1];
            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)
              && (fract(dyC2) == 0.0);
            int idyC2 = int(dyC2);

            if (idyCVal && idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?
                  dySample : getDy(batch, idyR, idyC2, d2);

                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));

                dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample2.xy : dySample2.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC, d2);
                vec2 dyValue = mod(float(idyC), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.xy += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            } else if (idyCVal2) {
              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {
                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);
                vec4 dySample = getDy(batch, idyR, idyC2, d2);
                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?
                  dySample.xy : dySample.zw;
                result.zw += vec2(dot(dyValue, wValue.xy),
                  dot(dyValue, wValue.zw));
              }
            }
          }
        }
        setOutput(result);
      }
    `}};let ej={kernelName:a.wm,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{dy:n,filter:o}=t,{inputShape:s,strides:l,pad:u,dataFormat:c,dimRoundingMode:d}=i,p=a.backend_util.convertConv2DDataFormat(c),h=a.backend_util.computeConv2DInfo(s,o.shape,l,1,u,d,!1,p);if((0,a.OBj)().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===p){let e=[[h.strideHeight,h.strideWidth]],t=new Conv2DDerInputPackedProgram(h);return r.runWebGLProgram(t,[n,o],"float32",e)}{let e=new Conv2DDerInputProgram(h);return r.runWebGLProgram(e,[n,o],"float32")}}},eH={kernelName:a.x12,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n,filter:o}=t,{strides:s,pad:l,dilations:u}=i,c=a.backend_util.computeConv3DInfo(n.shape,o.shape,s,u,l),d=new Conv3DProgram(c);return r.runWebGLProgram(d,[n,o],"float32")}},ez={kernelName:a.o2y,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n,dy:o}=t,{strides:s,pad:l,filterShape:u}=i,c=a.backend_util.computeConv3DInfo(n.shape,u,s,1,l),d=new Conv3DDerFilterProgram(c);return r.runWebGLProgram(d,[n,o],"float32")}},eG={kernelName:a.ik2,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{dy:n,filter:o}=t,{pad:s,strides:l,inputShape:u}=i,c=a.backend_util.computeConv3DInfo(u,o.shape,l,1,s),d=new Conv3DDerInputProgram(c);return r.runWebGLProgram(d,[n,o],"float32")}},eU=x+`
  return cos(x);
`,eW=`
  vec4 result = cos(x);
  bvec4 isNaN = isnan(x);
  ${p}
  return result;
`,eX=unaryKernelFunc({opSnippet:eU,packedOpSnippet:eW}),eY={kernelName:a.mc4,backendName:"webgl",kernelFunc:eX},e$=`
  float e2x = exp(-x);
  return (e2x + 1.0 / e2x) / 2.0;
`,eK=unaryKernelFunc({opSnippet:e$}),eq={kernelName:a.TR1,backendName:"webgl",kernelFunc:eK};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let CropAndResizeProgram=class CropAndResizeProgram{constructor(e,t,r,i,n){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];let[o,a,s,l]=e,[u]=t,[c,d]=r;this.outputShape=[u,c,d,l];let[p,h]=[`${a-1}.0`,`${s-1}.0`],[f,y,g]=c>1?[`${(a-1)/(c-1)}`,"(y2-y1) * height_ratio",`y1*${p} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${p}`],[v,m,S]=d>1?[`${(s-1)/(d-1)}`,"(x2-x1) * width_ratio",`x1*${h} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${h}`];this.userCode=`
      const float height_ratio = float(${f});
      const float width_ratio = float(${v});
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int y = coords[1];
        int x = coords[2];
        int d = coords[3];

        // get box vals
        float y1 = getBoxes(b,0);
        float x1 = getBoxes(b,1);
        float y2 = getBoxes(b,2);
        float x2 = getBoxes(b,3);

        // get image in batch index
        int bInd = round(getBoxInd(b));
        if(bInd < 0 || bInd >= ${o}) {
          return;
        }

        float height_scale = ${y};
        float width_scale = ${m};

        float in_y = ${g};
        if( in_y < 0.0 || in_y > ${p} ) {
          setOutput(float(${n}));
          return;
        }
        float in_x = ${S};
        if( in_x < 0.0 || in_x > ${h} ) {
          setOutput(float(${n}));
          return;
        }

        vec2 sourceFracIndexCR = vec2(in_x,in_y);
        if(${"bilinear"===i?1:0} == 1) {
          // Compute the four integer indices.
          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);
          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));

          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);
          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);
          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);
          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);

          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);

          float top = topLeft + (topRight - topLeft) * fracCR.x;
          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;
          float newValue = top + (bottom - top) * fracCR.y;
          setOutput(newValue);
        } else {
          // Compute the coordinators of nearest neighbor point.
          ivec2 sourceNearestCR = ivec2(floor(
            sourceFracIndexCR + vec2(0.5,0.5)));
          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);
          setOutput(newValue);
        }
      }
    `}};let eZ={kernelName:a.VcC,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:r,attrs:i}=e,{image:n,boxes:o,boxInd:a}=t,{cropSize:s,method:l,extrapolationValue:u}=i,c=new CropAndResizeProgram(n.shape,o.shape,s,l,u);return r.runWebGLProgram(c,[n,o,a],"float32")}};(n=o||(o={})).Prod="*",n.Sum="+";let CumProgram=class CumProgram{constructor(e,t,r,i){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];let n=this.outputShape.length,a=this.op===o.Prod?"1.0":"0.0",s=r?a:`getX(${cum_gpu_getCoords(n,"coords",this.op)})`,l=this.outputShape[this.outputShape.length-1],u="",c="";r?(u=i?`end != ${l-1}`:"end != 0",c=i?"end + 1":"end - 1"):(u=i?`end + pow2 < ${l}`:"end >= pow2",c=i?"end + pow2":"end - pow2"),this.userCode=`
      void main() {
        ${(0,d.kW)(n)} coords = getOutputCoords();
        int end = ${getFinalCoord(n,"coords",this.op)};
        float val = ${s};
        int pow2 = int(pow(2.0, index));
        if (${u}) {
          int idx = ${c};
          ${getFinalCoord(n,"coords",this.op)} = idx;
          val ${this.op}= getX(${cum_gpu_getCoords(n,"coords",this.op)});
        }
        setOutput(val);
      }
    `}};function cum_gpu_getCoords(e,t,r){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw Error(`Cumulative ${r} for rank ${e} is not yet supported`)}function getFinalCoord(e,t,r){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw Error(`Cumulative ${r} for rank ${e} is not yet supported`)}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cumImpl(e,t,r,i,n,o){let s=t.shape.length,l=a.backend_util.getAxesPermutation([i],s),u=t;null!=l&&(u=transpose({inputs:{x:t},backend:r,attrs:{perm:l}}));let c=a.backend_util.getInnerMostAxes(1,s)[0];if(c!==s-1)throw Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${i}`);let d=u.shape[c],p=identity({inputs:{x:u},backend:r});for(let t=0;t<=Math.ceil(Math.log2(d))-1;t++){let i=new CumProgram(e,u.shape,!1,o),n=[[t]],a=p;p=r.runWebGLProgram(i,[p],p.dtype,n),r.disposeIntermediateTensorInfo(a)}if(n){let t=new CumProgram(e,u.shape,n,o),i=p;p=r.runWebGLProgram(t,[p],p.dtype),r.disposeIntermediateTensorInfo(i)}if(null!=l){let e=a.backend_util.getUndoAxesPermutation(l),t=transpose({inputs:{x:p},backend:r,attrs:{perm:e}});return r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(u),t}return p}let eJ={kernelName:a.Byc,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{axis:a,exclusive:s,reverse:l}=i;return cumImpl(o.Prod,n,r,a,s,l)}},eQ={kernelName:a.iHb,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{axis:a,exclusive:s,reverse:l}=i;return cumImpl(o.Sum,n,r,a,s,l)}},e0={kernelName:a.QRR,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n,weights:o}=t,{size:a,binaryOutput:s}=i;if(1===n.shape.length){let e=r.readSync(n.dataId),t=r.readSync(o.dataId),i=(0,T.qO)(e,t,o.dtype,o.shape,a);return r.makeTensorInfo([a],o.dtype,i)}if(2===n.shape.length){let e=r.bufferSync(n),t=r.bufferSync(o),i=(0,T.cx)(e,t,a,s);return r.makeTensorInfo(i.shape,o.dtype,i.values)}throw Error(`Error in denseBincount: input must be at most rank 2, but got rank${n.shape.length}.`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let DepthToSpaceProgram=class DepthToSpaceProgram{constructor(e,t,r){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=r,this.userCode=`
    void main() {
      ivec4 coords = getOutputCoords();
      int b = coords[0];
      int h = ${this.getHeightCoordString()};
      int w = ${this.getWidthCoordString()};
      int d = ${this.getDepthCoordString()};

      int in_h = h / ${t};
      int offset_h = imod(h, ${t});
      int in_w = w / ${t};
      int offset_w = imod(w, ${t});
      int offset_d = (offset_h * ${t} + offset_w) *
        ${this.getOutputDepthSize()};
      int in_d = d + offset_d;

      float result = ${this.getInputSamplingString()};
      setOutput(result);
    }
  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}};let e1={kernelName:a.T0n,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{blockSize:o,dataFormat:a}=i,s=n.shape[0],l="NHWC"===a?n.shape[1]:n.shape[2],u="NHWC"===a?n.shape[2]:n.shape[3],c="NHWC"===a?n.shape[3]:n.shape[1],d=l*o,p=u*o,h=c/(o*o),f="NHWC"===a?[s,d,p,h]:[s,h,d,p],y=new DepthToSpaceProgram(f,o,a);return r.runWebGLProgram(y,[n],n.dtype)}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let DepthwiseConv2DProgram=class DepthwiseConv2DProgram{constructor(e,t=!1,r=null,i=!1,n=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=(0,l.C9)(this.outputShape.length);let o=e.filterHeight,a=e.filterWidth,s=e.outChannels/e.inChannels,u="",c="";r&&(u=i?`float activation(float a) {
          float b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:n?`float activation(float a) {
          float b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:`
          float activation(float x) {
            ${r}
          }
        `,c="result = activation(result);"),t&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),n&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${u}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${s};
        int q = d2 - d1 * ${s};

        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.
        for (int wR = 0; wR < ${o}; wR++) {
          int xR = xRCorner + wR * dilations[0];

          if (xR < 0 || xR >= inDims[0]) {
            continue;
          }

          for (int wC = 0; wC < ${a}; wC++) {
            int xC = xCCorner + wC * dilations[1];

            if (xC < 0 || xC >= inDims[1]) {
              continue;
            }

            float xVal = getX(batch, xR, xC, d1);
            float wVal = getW(wR, wC, d1, q);
            dotProd += xVal * wVal;
          }
        }

        float result = dotProd;
        ${t?"result += getBiasAtOutCoords();":""}
        ${c}
        setOutput(result);
      }
    `}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let DepthwiseConvPacked2DProgram=class DepthwiseConvPacked2DProgram{constructor(e,t=!1,r=null,i=!1,n=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=(0,l.C9)(this.outputShape.length);let o=e.outChannels/e.inChannels,s=e.padInfo.left,u=e.strideWidth,c=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=`
      int xR; int xC; int xCOffset;
      vec4 wTexel; vec4 previous; vec4 final;`;for(let e=0;e<p;e++)h+=`
          vec4 xTexelC${2*e};
          int xTexelC${2*e}Ready;
          vec4 xTexelC${2*e+1};
          int xTexelC${2*e+1}Ready;
          vec4 xC${e};`;h+=`
    for (int r = 0; r < ${d}; r++) {
      `;for(let e=0;e<p;e++)h+=`
          xTexelC${2*e} = vec4(0.0);
          xTexelC${2*e}Ready = 0;
          xTexelC${2*e+1} = vec4(0.0);
          xTexelC${2*e+1}Ready = 0;
          xC${e} = vec4(0.0);`;h+=`
        xR = xRCorner + r * dilations[0];
        if (xR >=0 && xR < inDims[0]) {
      `;for(let e=0;e<(p+1)/2;e++){let t=2*e;if(h+=`
          xC = xCCorner + ${t*c};
          `,1===u){if(t<p&&(s%2==1?(h+=`
                xCOffset = xC + 1;
                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {
                  xTexelC${t} = getX(batch, xR, xCOffset, d1);

                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${t}.zw = vec2(0.0);
                  }
                  xTexelC${t}Ready = 1;
                }
              `,1===c&&t>0?h+=`
                xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);
                `:h+=`
                  xCOffset = xC + 1 - 2;

                  if (xCOffset >= 0 && xCOffset < inDims[1]) {
                    previous = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      previous.zw = vec2(0.0);
                    }

                    xC${t} = vec4(previous.zw, xTexelC${t}.xy);
                  } else {
                    xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);
                  }
                  `):h+=`
                if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {
                  xTexelC${t} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${t}.zw = vec2(0.0);
                  }
                  xTexelC${t}Ready = 1;
                }

                xC${t} = xTexelC${t};
                `,t+1<p)){let e=s%2==0?a.D5U.nearestLargerEven(c):c;c%2==0&&s%2==1||c%2!=0&&s%2!=1?(h+=`
                  xCOffset = xC + imod(pads[1], 2) + ${e};

                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {
                    xTexelC${t+1} = getX(batch, xR, xCOffset, d1);

                    // Need to manually clear unused channels in case
                    // we're reading from recycled texture.
                    if (xCOffset + 1 >= inDims[1]) {
                      xTexelC${t+1}.zw = vec2(0.0);
                    }
                    xTexelC${t+1}Ready = 1;
                  }
                  `,c>1?h+=`
                    xCOffset -= 2;
                    if (xCOffset >= 0 && xCOffset < inDims[1]) {
                     previous = getX(batch, xR, xCOffset, d1);
                     xC${t+1} = vec4(previous.zw, xTexelC${t+1}.xy);
                    } else {
                     xC${t+1} = vec4(0.0, 0.0, xTexelC${t+1}.xy);
                    }
                    `:h+=`
                    xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);
                    `):1===e?h+=`
                    xC${t+1} = xTexelC${t};
                    `:h+=`
                    xCOffset = xC + ${e};

                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {
                      xTexelC${t+1} = getX(batch, xR, xCOffset, d1);
                      if (xCOffset + 1 >= inDims[1]) {
                        xTexelC${t+1}.zw = vec2(0.0);
                      }
                      xTexelC${t+1}Ready = 1;
                    }

                    xC${t+1} = xTexelC${t+1};
                    `}}else t<p&&(s%2==1?(h+=`
                xCOffset = xC + 1 - strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {
                  xTexelC${t} = getX(batch, xR, xCOffset, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${t}.zw = vec2(0.0);
                  }
                  xTexelC${t}Ready = 1;
                }

                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {
                  xTexelC${t+1} = getX(batch, xR, xC + 1, d1);
                  // Need to manually clear unused channels in case
                  // we're reading from recycled texture.
                  if (xC + 2 >= inDims[1]) {
                    xTexelC${t+1}.zw = vec2(0.0);
                  }
                  xTexelC${t+1}Ready = 1;
                }

                xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);
              `,t+1<p&&(h+=`
                  final = vec4(0.0);
                  xCOffset = xC + 1 + strides[1];
                  if(xCOffset >= 0 && xCOffset < inDims[1]) {
                    final = getX(batch, xR, xCOffset, d1);
                  }
                  xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);
                `)):(h+=`
                if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {
                  xTexelC${t} = getX(batch, xR, xC, d1);
                  if (xC + 1 >= inDims[1]) {
                    xTexelC${t}.zw = vec2(0.0);
                  }
                  xTexelC${t}Ready = 1;
                }

                xCOffset = xC + strides[1];
                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {
                  xTexelC${t+1} = getX(batch, xR, xCOffset, d1);
                  if (xCOffset + 1 >= inDims[1]) {
                    xTexelC${t+1}.zw = vec2(0.);
                  }
                  xTexelC${t+1}Ready = 1;
                }

                xC${t} = vec4(
                  xTexelC${t}.xy, xTexelC${t+1}.xy);
              `,t+1<p&&(h+=`
                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);
                `)));t<p&&(h+=`
            wTexel = getW(r, ${t}, d1, q);
            dotProd += xC${t} * vec4(wTexel.xz, wTexel.xz);
          `,t+1<p&&(h+=`
              wTexel = getW(r, ${t+1}, d1, q);
              dotProd += xC${t+1} * vec4(wTexel.xz, wTexel.xz);
            `))}h+=`
    }
  
      }
    `;let f="",y="";r&&(f=i?`vec4 activation(vec4 a) {
          vec4 b = getPreluActivationWeightsAtOutCoords();
          ${r}
        }`:n?`vec4 activation(vec4 a) {
          vec4 b = getLeakyreluAlphaAtOutCoords();
          ${r}
        }`:`vec4 activation(vec4 x) {
          ${r}
        }`,y="result = activation(result);"),t&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),n&&this.variableNames.push("leakyreluAlpha"),this.userCode=`
      ${f}

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        ivec2 xRCCorner = coords.yz * strides - pads;
        int d2 = coords.w;
        int d1 = d2 / ${o};
        int q = d2 - d1 * ${o};
        int xRCorner = xRCCorner.x;
        int xCCorner = xRCCorner.y;

        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.
        vec4 dotProd = vec4(0.000000000000001);

        ${h}

        vec4 result = dotProd - vec4(0.000000000000001);
        ${t?"result += getBiasAtOutCoords();":""}
        ${y}
        setOutput(result);
      }
    `}};let e2={kernelName:a.cie,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o,filter:s}=r,{strides:l,pad:u,dilations:c,dimRoundingMode:d}=n,p=c;null==p&&(p=[1,1]),a.D5U.assert(a.backend_util.eitherStridesOrDilationsAreOne(l,p),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${p}'`);let h=a.backend_util.computeConv2DInfo(o.shape,s.shape,l,p,u,d,!0);t=(0,a.OBj)().getBool("WEBGL_PACK_DEPTHWISECONV")&&h.strideWidth<=2&&h.outChannels/h.inChannels==1?new DepthwiseConvPacked2DProgram(h):new DepthwiseConv2DProgram(h);let f=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];return i.runWebGLProgram(t,[o,s],"float32",f)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let DepthwiseConv2DDerFilterProgram=class DepthwiseConv2DDerFilterProgram{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;let t=e.strideHeight,r=e.strideWidth,i=e.padInfo.top,n=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int wR = coords.x;
        int wC = coords.y;
        int d1 = coords.z;
        int dm = coords.w;
        int d2 = d1 * ${o} + dm;

        float dotProd = 0.0;

        // TO DO: Vec4 over the batch size
        for (int b = 0; b < ${e.batchSize}; b++) {
          for (int yR = 0; yR < ${e.outHeight}; yR++) {
            int xR = wR + yR * ${t} - ${i};

            if (xR < 0 || xR >= ${e.inHeight}) {
              continue;
            }

            for (int yC = 0; yC < ${e.outWidth}; yC++) {
              int xC = wC + yC * ${r} - ${n};

              if (xC < 0 || xC >= ${e.inWidth}) {
                continue;
              }

              float dyValue = getDy(b, yR, yC, d2);
              float xValue = getX(b, xR, xC, d1);
              dotProd += (xValue * dyValue);
            }
          }
        }
        setOutput(dotProd);
      }
    `}};let DepthwiseConv2DDerInputProgram=class DepthwiseConv2DDerInputProgram{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;let t=e.filterHeight,r=e.filterWidth,i=e.strideHeight,n=e.strideWidth,o=t-1-e.padInfo.top,a=r-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`
      const ivec2 pads = ivec2(${o}, ${a});

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords[0];
        int d1 = coords[3];
        ivec2 dyCorner = coords.yz - pads;
        int dyRCorner = dyCorner.x;
        int dyCCorner = dyCorner.y;

        float dotProd = 0.0;

        for (int wR = 0; wR < ${t}; wR++) {
          float dyR = float(dyRCorner + wR) / ${i}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          int wRPerm = ${t} - 1 - wR;

          for (int wC = 0; wC < ${r}; wC++) {
            float dyC = float(dyCCorner + wC) / ${n}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            int wCPerm = ${r} - 1 - wC;

            // TO DO: Vec4 over the channelMul
            for (int dm = 0; dm < ${s}; dm++) {
              int d2 = d1 * ${s} + dm;
              float xValue = getDy(batch, idyR, idyC, d2);
              float wValue = getW(wRPerm, wCPerm, d1, dm);
              dotProd += xValue * wValue;
            }
          }
        }
        setOutput(dotProd);
      }
    `}};let e3={kernelName:a.sL$,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n,dy:o}=t,{strides:s,dilations:l,pad:u,dimRoundingMode:c,filterShape:d}=i,p=a.backend_util.computeConv2DInfo(n.shape,d,s,l,u,c,!0),h=new DepthwiseConv2DDerFilterProgram(p);return r.runWebGLProgram(h,[n,o],"float32")}},e5={kernelName:a.y7R,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{dy:n,filter:o}=t,{strides:s,dilations:l,pad:u,dimRoundingMode:c,inputShape:d}=i,p=a.backend_util.computeConv2DInfo(d,o.shape,s,l,u,c,!0),h=new DepthwiseConv2DDerInputProgram(p);return r.runWebGLProgram(h,[n,o],"float32")}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let DiagProgram=class DiagProgram{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode=`
      void main() {
          ivec2 coords = getOutputCoords();
          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;
          setOutput(val);
      }
    `}};let e4={kernelName:a.$w,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r}=e,{x:i}=t,n=[...i.shape,...i.shape],o=a.D5U.sizeFromShape(i.shape),s=reshape({inputs:{x:i},backend:r,attrs:{shape:[o]}}),l=new DiagProgram(o),u=r.runWebGLProgram(l,[s],s.dtype),c=reshape({inputs:{x:u},backend:r,attrs:{shape:n}});return r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Dilation2DProgram=class Dilation2DProgram{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;let{inHeight:t,inWidth:r,padInfo:i,strideHeight:n,strideWidth:o,filterHeight:a,filterWidth:s,dilationHeight:l,dilationWidth:u}=e,{top:c,left:d}=i;this.userCode=`
      const ivec2 strides = ivec2(${n}, ${o});
      const ivec2 pads = ivec2(${c}, ${d});
      const float neg_infinity = -3.4e38;

      void main() {
        ivec4 coords = getOutputCoords();
        int batch = coords.x;
        int d1 = coords.w;
        ivec2 outTopLeftCorner =
            coords.yz * strides - pads;
        int hBeg = outTopLeftCorner.x;
        int wBeg = outTopLeftCorner.y;

        float curVal = neg_infinity;
        for (int h = 0; h < ${a}; h++) {
          int hIn = hBeg + h * ${l};

          if (hIn >= 0 && hIn < ${t}) {
            for (int w = 0; w < ${s}; w++) {
              int wIn = wBeg + w * ${u};

              if (wIn >= 0 && wIn < ${r}) {
                float xVal = getX(batch, hIn, wIn, d1);
                float wVal = getW(h, w, d1);

                float val = xVal + wVal;
                if (val > curVal) {
                  curVal = val;
                }
              }
            }
          }
        }

        float result = curVal;
        setOutput(result);
      }
    `}};let e6={kernelName:a.p4S,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o,filter:s}=r,{strides:l,pad:u,dilations:c}=n,d=a.backend_util.computeDilation2DInfo(o.shape,s.shape,l,u,"NHWC",c),p=new Dilation2DProgram(d);t=i.runWebGLProgram(p,[o,s],"float32");let h=reshape({inputs:{x:t},backend:i,attrs:{shape:d.outShape}});return i.disposeIntermediateTensorInfo(t),h}},e8={kernelName:a.$g6,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{equation:n}=i,{allDims:o,summedDims:s,idDims:l}=a.backend_util.decodeEinsumEquation(n,t.length);a.backend_util.checkEinsumDimSizes(o.length,l,t);let{path:u,steps:c}=a.backend_util.getEinsumComputePath(s,l),d=c.length,p=null,h=o.length,f=[];for(let e=0;e<d;++e){for(let i of c[e]){let e;let{permutationIndices:n,expandDims:o}=a.backend_util.getEinsumPermutation(h,l[i]);a.backend_util.isIdentityPermutation(n)?e=t[i]:(e=transpose({inputs:{x:t[i]},backend:r,attrs:{perm:n}}),f.push(e));let s=e.shape.slice();for(let e=0;e<o.length;++e)s.splice(o[e],0,1);a.D5U.arraysEqual(e.shape,s)||(e=reshape({inputs:{x:e},backend:r,attrs:{shape:s}}),f.push(e)),null===p?p=e:(p=multiply({inputs:{a:e,b:p},backend:r}),f.push(p))}e<d-1&&(u[e]>=0&&(p=sum({inputs:{x:p},backend:r,attrs:{axis:u[e]-(o.length-h),keepDims:!1}}),f.push(p)),h--)}for(let e of f)e!==p&&r.disposeIntermediateTensorInfo(e);return p}},e7=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,e9=unaryKernelFunc({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:e7}),te={kernelName:a.SX0,backendName:"webgl",kernelFunc:e9},tt=`
  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));
  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));
`,tr={kernelName:a.HEU,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:r}=e,{dy:i,y:n}=t,o=(0,a.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new BinaryOpPackedProgram(tt,i.shape,n.shape):new BinaryOpProgram("return (b >= 0.0) ? a : a * (b + 1.0);",i.shape,n.shape);return r.runWebGLProgram(o,[i,n],i.dtype)}},ti=`
  return vec4(equal(a, b));
`,tn=binaryKernelFunc({opSnippet:"return float(a == b);",packedOpSnippet:ti,dtype:"bool",cpuKernelImpl:T.gv}),to={kernelName:a.hdR,backendName:"webgl",kernelFunc:tn},ta=`
  // Error function is calculated approximately with elementary function.
  // See "Handbook of Mathematical Functions with Formulas,
  // Graphs, and Mathematical Tables", Abramowitz and Stegun.
  float p = ${a.backend_util.ERF_P};
  float a1 = ${a.backend_util.ERF_A1};
  float a2 = ${a.backend_util.ERF_A2};
  float a3 = ${a.backend_util.ERF_A3};
  float a4 = ${a.backend_util.ERF_A4};
  float a5 = ${a.backend_util.ERF_A5};

  float sign = sign(x);
  x = abs(x);
  float t = 1.0 / (1.0 + p * x);
  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));
`,ts=unaryKernelFunc({opSnippet:ta}),tl={kernelName:a.Omj,backendName:"webgl",kernelFunc:ts},tu=x+`
  return exp(x);
`,tc=`
  vec4 result = exp(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,td=unaryKernelFunc({opSnippet:tu,packedOpSnippet:tc,cpuKernelImpl:T.aX,dtype:"float32"}),tp={kernelName:a.NEP,backendName:"webgl",kernelFunc:td};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function expandDims(e){let{inputs:t,attrs:r,backend:i}=e,{dim:n}=r,{input:o}=t,s=o.shape.length,l=o.shape.slice(),u=n;return n<0&&(a.D5U.assert(-(s+1)<=n,()=>`Axis must be in the interval [${-(s+1)}, ${s}]`),u=s+n+1),l.splice(u,0,1),reshape({inputs:{x:o},backend:i,attrs:{shape:l}})}let th={kernelName:a.YFo,backendName:"webgl",kernelFunc:expandDims},tf="return exp(x) - 1.0;",ty=unaryKernelFunc({opSnippet:tf,packedOpSnippet:tf,cpuKernelImpl:T.tx}),tg={kernelName:a.Y0y,backendName:"webgl",kernelFunc:ty};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let FFTProgram=class FFTProgram{constructor(e,t,r){let i;this.variableNames=["real","imag"];let n=t[1];this.outputShape=t;let o=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,a=r?`${n}.0`:"1.0";if("real"===e)i="return real * expR - imag * expI;";else if("imag"===e)i="return real * expI + imag * expR;";else throw Error(`FFT component must be either "real" or "imag", got ${e}.`);this.userCode=`
      const float exponentMultiplier = ${o};

      float unaryOpComplex(float real, float expR, float imag, float expI) {
        ${i}
      }

      float mulMatDFT(int batch, int index) {
        float indexRatio = float(index) / float(${n});
        float exponentMultiplierTimesIndexRatio =
            exponentMultiplier * indexRatio;

        float result = 0.0;

        for (int i = 0; i < ${n}; i++) {
          // x = (-2|2 * PI / N) * index * i;
          float x = exponentMultiplierTimesIndexRatio * float(i);
          float expR = cos(x);
          float expI = sin(x);
          float real = getReal(batch, i);
          float imag = getImag(batch, i);

          result +=
              unaryOpComplex(real, expR, imag, expI) / ${a};
        }

        return result;
      }

      void main() {
        ivec2 coords = getOutputCoords();
        setOutput(mulMatDFT(coords[0], coords[1]));
      }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fftImpl(e,t,r){let i=r.texData.get(e.dataId),n=a.D5U.sizeFromShape(e.shape),o=e.shape[e.shape.length-1],s=n/o,l=reshape({inputs:{x:e},backend:r,attrs:{shape:[s,o]}}),u=l.shape,c=new FFTProgram("real",u,t),d=new FFTProgram("imag",u,t),p=[{dataId:i.complexTensorInfos.real.dataId,dtype:i.complexTensorInfos.real.dtype,shape:u},{dataId:i.complexTensorInfos.imag.dataId,dtype:i.complexTensorInfos.imag.dtype,shape:u}],h=r.runWebGLProgram(c,p,"float32"),f=r.runWebGLProgram(d,p,"float32"),y=complex({inputs:{real:h,imag:f},backend:r});r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(f);let g=reshape({inputs:{x:y},backend:r,attrs:{shape:e.shape}});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(y),g}let tv={kernelName:a.vwp,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r}=e,{input:i}=t;return fftImpl(i,!1,r)}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let FillProgram=class FillProgram{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode=`
      void main() {
        // Input can be obtained from uniform value.
        setOutput(value);
      }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fill(e){let{backend:t,attrs:r}=e,{shape:i,value:n}=r,{dtype:o}=r;if("string"===(o=o||a.D5U.inferDtype(n))){let e=a.D5U.getArrayFromDType(o,a.D5U.sizeFromShape(i));return e.fill(n),t.makeTensorInfo(i,o,e)}{let e=new FillProgram(i,n),r=[[n]];return t.runWebGLProgram(e,[],o,r)}}let tm={kernelName:a.deh,backendName:"webgl",kernelFunc:fill};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let FlipLeftRightProgram=class FlipLeftRightProgram{constructor(e){this.variableNames=["Image"],this.outputShape=[];let t=e[2];this.outputShape=e,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];

          int coordX = ${t} - x - 1;
          float outputValue;
          if(coordX >= 0 && coordX < ${t}) {
            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);
          } else {
            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);
          }
          setOutput(outputValue);
        }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let tS={kernelName:a.Uyb,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{let{image:r}=e,i=new FlipLeftRightProgram(r.shape),n=t.runWebGLProgram(i,[r],r.dtype);return n}},tb="return floor(x);",tP=unaryKernelFunc({opSnippet:tb,packedOpSnippet:tb,cpuKernelImpl:T.MZ}),tC={kernelName:a.OR,backendName:"webgl",kernelFunc:tP},tx=`
  float s = sign(a) * sign(b);
  int ia = round(a);
  int ib = round(b);
  if (ib != 0) {
    // Windows (D3D) wants guaranteed non-zero int division at compile-time.
    return float(idiv(ia, ib, s));
  } else {
    return NAN;
  }
`,tA=`
  ivec4 ia = round(a);
  ivec4 ib = round(b);
  bvec4 cond = notEqual(ib, ivec4(0));
  ivec4 result = ivec4(0);
  vec4 s = sign(a) * sign(b);

  // Windows (D3D) wants guaranteed non-zero int division at compile-time.
  if (cond[0]) {
    result[0] = idiv(ia[0], ib[0], s[0]);
  }
  if (cond[1]) {
    result[1] = idiv(ia[1], ib[1], s[1]);
  }
  if (cond[2]) {
    result[2] = idiv(ia[2], ib[2], s[2]);
  }
  if (cond[3]) {
    result[3] = idiv(ia[3], ib[3], s[3]);
  }
  return vec4(result);
`,tT=binaryKernelFunc({opSnippet:tx,packedOpSnippet:tA,dtype:"int32"}),t_={kernelName:a.jeX,backendName:"webgl",kernelFunc:tT};var tR=r(87067);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let FromPixelsProgram=class FromPixelsProgram{constructor(e){this.variableNames=["A"];let t=(0,eB.A)(),[r,i]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];
        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${i}.0, ${r}.0);

        vec4 values = ${t.texture2D}(A, uv);
        float value;
        if (depth == 0) {
          value = values.r;
        } else if (depth == 1) {
          value = values.g;
        } else if (depth == 2) {
          value = values.b;
        } else if (depth == 3) {
          value = values.a;
        }

        setOutput(floor(value * 255.0 + 0.5));
      }
    `}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let FromPixelsPackedProgram=class FromPixelsPackedProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;let t=(0,eB.A)(),[r,i]=e;this.outputShape=e,this.userCode=`
      void main() {
        ivec3 coords = getOutputCoords();
        int texR = coords[0];
        int texC = coords[1];
        int depth = coords[2];

        vec4 result = vec4(0.);

        for(int row=0; row<=1; row++) {
          for(int col=0; col<=1; col++) {
            texC = coords[1] + row;
            depth = coords[2] + col;

            vec2 uv = (vec2(texC, texR) + halfCR) /
                       vec2(${i}.0, ${r}.0);
            vec4 values = ${t.texture2D}(A, uv);
            float value;
            if (depth == 0) {
              value = values.r;
            } else if (depth == 1) {
              value = values.g;
            } else if (depth == 2) {
              value = values.b;
            } else if (depth == 3) {
              value = values.a;
            }

            result[row * 2 + col] = floor(value * 255.0 + 0.5);
          }
        }

        ${t.output} = result;
      }
    `}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let tE={kernelName:a.eBW,backendName:"webgl",kernelFunc:function(e){let{inputs:t,backend:r,attrs:n}=e,{pixels:o}=t,{numChannels:s}=n,l="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,u="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,[c,d]=l?[o.videoWidth,o.videoHeight]:[o.width,o.height],p=[d,c],h=[d,c,s];if(u||l){let e=(0,a.OBj)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");(null==i||e!==tw)&&(tw=e,i=document.createElement("canvas").getContext("2d",{willReadFrequently:tw})),i.canvas.width=c,i.canvas.height=d,i.drawImage(o,0,0,c,d),o=i.canvas}let f=r.makeTensorInfo(p,"int32");r.texData.get(f.dataId).usage=tR.v2.PIXELS,r.gpgpu.uploadPixelDataToTexture(r.getTexture(f.dataId),o);let y=(0,a.OBj)().getBool("WEBGL_PACK")?new FromPixelsPackedProgram(h):new FromPixelsProgram(h),g=r.runWebGLProgram(y,[f],"int32");return r.disposeData(f.dataId),g}},tw=(0,a.OBj)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU"),tD={kernelName:a._V0,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o,filter:s,bias:l,preluActivationWeights:u}=r,{strides:c,pad:d,dataFormat:p,dilations:h,dimRoundingMode:f,activation:y,leakyreluAlpha:g}=n,v=a.backend_util.convertConv2DDataFormat(p),m=a.backend_util.computeConv2DInfo(o.shape,s.shape,c,h,d,f,!1,v),S=[],b=null!=l,P=null!=u,C="leakyrelu"===y,prepareInputs=()=>{let e=[o,s],alignInputWithDataFormat=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){let t=reshape({inputs:{x:e},backend:i,attrs:{shape:[e.shape[0],1,1]}});return S.push(t),t}return e};if(b&&e.push(alignInputWithDataFormat(l,p)),P&&e.push(alignInputWithDataFormat(u,p)),C){let t=i.makeTensorInfo([],"float32",a.D5U.createScalarValue(g,"float32"));e.push(t),S.push(t)}return e};if(1===m.filterHeight&&1===m.filterWidth&&1===m.dilationHeight&&1===m.dilationWidth&&1===m.strideHeight&&1===m.strideWidth&&("SAME"===m.padInfo.type||"VALID"===m.padInfo.type))t=conv2dByMatMul({x:o,filter:s,convInfo:m,backend:i,bias:l,activation:y,preluActivationWeights:u,leakyreluAlpha:g});else if(m.strideWidth<=2&&"channelsLast"===v&&(0,a.OBj)().getBool("WEBGL_EXP_CONV")){let e=y?mapActivationToShaderProgram(y,!0):null,r=new Conv2DPackedProgram(m,b,e,P,C),n=[[m.padInfo.top,m.padInfo.left],[m.strideHeight,m.strideWidth],[m.dilationHeight,m.dilationWidth],[m.inHeight,m.inWidth]],o=prepareInputs();t=i.runWebGLProgram(r,o,"float32",n)}else if((0,a.OBj)().getBool("WEBGL_CONV_IM2COL"))t=conv2dWithIm2Row({x:o,filter:s,convInfo:m,backend:i,bias:l,activation:y,preluActivationWeights:u,leakyreluAlpha:g});else{let e=y?mapActivationToShaderProgram(y,!1):null,r=new Conv2DProgram(m,b,e,P,C),n=prepareInputs();t=i.runWebGLProgram(r,n,"float32")}let x=reshape({inputs:{x:t},backend:i,attrs:{shape:m.outShape}});return S.push(t),S.forEach(e=>i.disposeIntermediateTensorInfo(e)),x}},tO={kernelName:a.luS,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o,filter:s,bias:l,preluActivationWeights:u}=r,{strides:c,pad:d,dilations:p,dimRoundingMode:h,activation:f,leakyreluAlpha:y}=n,g=[],v=p;null==v&&(v=[1,1]),a.D5U.assert(a.backend_util.eitherStridesOrDilationsAreOne(c,v),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${c} and dilations '${v}'`);let m=a.backend_util.computeConv2DInfo(o.shape,s.shape,c,v,d,h,!0),S=(0,a.OBj)().getBool("WEBGL_PACK_DEPTHWISECONV")&&m.strideWidth<=2&&m.outChannels/m.inChannels==1,b=f?mapActivationToShaderProgram(f,S):null,P=[o,s],C=null!=l,x=null!=u,A="leakyrelu"===f;if(C&&P.push(l),x&&P.push(u),A){let e=i.makeTensorInfo([],"float32",a.D5U.createScalarValue(y,"float32"));P.push(e),g.push(e)}t=S?new DepthwiseConvPacked2DProgram(m,C,b,x,A):new DepthwiseConv2DProgram(m,C,b,x,A);let T=[[m.padInfo.top,m.padInfo.left],[m.strideHeight,m.strideWidth],[m.dilationHeight,m.dilationWidth],[m.inHeight,m.inWidth]],_=i.runWebGLProgram(t,P,"float32",T);return g.forEach(e=>i.disposeIntermediateTensorInfo(e)),_}};let GatherNDProgram=class GatherNDProgram{constructor(e,t,r,i){this.sliceDim=e,this.strides=t,this.paramsShape=i,this.variableNames=["x","indices"],this.outputShape=r;let n=(0,d.kW)(r.length),o=`
    int index;`;for(let e=0;e<this.sliceDim;e++)o+=`
          index = round(getIndices(coords[0], ${e}));
          out_of_bounds = out_of_bounds || index < 0;
          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[e]};
          flattenIndex += index * ${this.strides[e]};`;this.userCode=`
         void main() {
          ${n} coords = getOutputCoords();
          int flattenIndex = 0;
          bool out_of_bounds = false;

          ${o}

          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));
        }
      `}};let tI={kernelName:a.q1x,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r}=e,{params:i,indices:n}=t,o=n.shape,s=o[o.length-1],l=a.D5U.sizeFromShape(i.shape),[u,c,d,p]=a.backend_util.prepareAndValidate(i,n),h=reshape({inputs:{x:n},backend:r,attrs:{shape:[c,s]}}),f=reshape({inputs:{x:i},backend:r,attrs:{shape:[a.D5U.sizeFromShape(i.shape)/d,d]}});if(r.shouldExecuteOnCPU([i,n])||"string"===i.dtype){let e=r.readSync(n.dataId),t=r.bufferSync(i),o=(0,T.TD)(e,t,i.dtype,c,s,d,p,i.shape,l);return r.makeTensorInfo(u,i.dtype,o.values)}let y=new GatherNDProgram(s,p,[c,d],i.shape),g=r.runWebGLProgram(y,[f,h],f.dtype),v=reshape({inputs:{x:g},backend:r,attrs:{shape:u}});return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(g),v}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let GatherProgram=class GatherProgram{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;let r=(0,d.kW)(this.rank),i=function(e,t){let r=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[];for(let t=0;t<e.length;t++)2===t?i.push("index"):i.push(`${r[t]}`);return i.join()}(e,0);this.userCode=`
      void main() {
        ${r} resRC = getOutputCoords();
        int index = int(getIndices(resRC.x, resRC.z));
        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;
        setOutput(inBounds * getA(${i}));
      }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gatherV2(e){let{inputs:t,backend:r,attrs:i}=e,{x:n,indices:o}=t,{axis:s,batchDims:l}=i,u=a.D5U.parseAxisParam(s,n.shape)[0];if((0,a.OBj)().get("DEBUG")){let e=r.readSync(o.dataId),t=n.shape[u];for(let r=0;r<e.length;++r){let i=e[r];a.D5U.assert(i<=t-1&&i>=0,()=>`GatherV2: the index value ${i} is not in [0, ${t-1}]`)}}let c=a.backend_util.segment_util.collectGatherOpShapeInfo(n,o,u,l),d=a.D5U.sizeFromShape(o.shape),p=[],h=reshape({inputs:{x:n},backend:r,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),f=reshape({inputs:{x:o},backend:r,attrs:{shape:[c.batchSize,d/c.batchSize]}});p.push(h),p.push(f);let y=[c.batchSize,c.outerSize,d/c.batchSize,c.sliceSize];if(r.shouldExecuteOnCPU([n,o])||"string"===n.dtype){let e=r.bufferSync(f),t=r.bufferSync(h),i=(0,T.m$)(t,e,y);return p.forEach(e=>r.disposeIntermediateTensorInfo(e)),r.makeTensorInfo(c.outputShape,i.dtype,i.values)}let g=new GatherProgram(h.shape,y),v=r.runWebGLProgram(g,[h,f],h.dtype);p.push(v);let m=reshape({inputs:{x:v},backend:r,attrs:{shape:c.outputShape}});return p.forEach(e=>r.disposeIntermediateTensorInfo(e)),m}let tM={kernelName:a.qi_,backendName:"webgl",kernelFunc:gatherV2},tL=`
  return vec4(greaterThan(a, b));
`,tk=binaryKernelFunc({opSnippet:"return float(a > b);",packedOpSnippet:tL,cpuKernelImpl:T.B_,dtype:"bool"}),tN={kernelName:a.iZT,backendName:"webgl",kernelFunc:tk},tB=`
  return vec4(greaterThanEqual(a, b));
`,tV=binaryKernelFunc({opSnippet:"return float(a >= b);",packedOpSnippet:tB,dtype:"bool",cpuKernelImpl:T.ji}),tF={kernelName:a.Acj,backendName:"webgl",kernelFunc:tV},tj={kernelName:a.Qg5,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r}=e,{input:i}=t;return fftImpl(i,!0,r)}},tH=unaryKernelFunc({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),tz={kernelName:a.avt,backendName:"webgl",kernelFunc:tH},tG=unaryKernelFunc({opSnippet:"return float(isinf(x));",dtype:"bool"}),tU={kernelName:a.iWB,backendName:"webgl",kernelFunc:tG},tW=unaryKernelFunc({opSnippet:"return float(isnan(x));",dtype:"bool"}),tX={kernelName:a.r7n,backendName:"webgl",kernelFunc:tW},tY=`
  return vec4(lessThan(a, b));
`,t$=binaryKernelFunc({opSnippet:"return float(a < b);",packedOpSnippet:tY,cpuKernelImpl:T.kY,dtype:"bool"}),tK={kernelName:a.vtC,backendName:"webgl",kernelFunc:t$},tq=`
  return vec4(lessThanEqual(a, b));
`,tZ=binaryKernelFunc({opSnippet:"return float(a <= b);",packedOpSnippet:tq,cpuKernelImpl:T.Rn,dtype:"bool"}),tJ={kernelName:a.CAk,backendName:"webgl",kernelFunc:tZ},tQ={kernelName:a.e7N,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{backend:t,attrs:r}=e,{start:i,stop:n,num:o}=r,a=(0,T.PQ)(i,n,o);return t.makeTensorInfo([a.length],"float32",a)}},t0=x+`
  return x < 0.0 ? 0./0. : log(x);
`,t1=`
  vec4 result = log(x);
  bvec4 isNaN = isnan(x);
  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);
  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);
  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);
  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);
  return result;
`,t2=unaryKernelFunc({opSnippet:t0,packedOpSnippet:t1,cpuKernelImpl:T.Sd}),t3={kernelName:a.ZbH,backendName:"webgl",kernelFunc:t2},t5=x+`
  return log(1.0 + x);
`,t4=unaryKernelFunc({opSnippet:t5}),t6={kernelName:a.kU,backendName:"webgl",kernelFunc:t4},t8=`
  return vec4(
    vec4(greaterThanEqual(a, vec4(1.0))) *
    vec4(greaterThanEqual(b, vec4(1.0))));
`,t7=binaryKernelFunc({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:t8,dtype:"bool"}),t9={kernelName:a.PYm,backendName:"webgl",kernelFunc:t7},re=unaryKernelFunc({opSnippet:"return float(!(x >= 1.0));"}),rt={kernelName:a.VfG,backendName:"webgl",kernelFunc:re},rr=`
  return min(
    vec4(greaterThanEqual(a, vec4(1.0))) +
    vec4(greaterThanEqual(b, vec4(1.0))),
    vec4(1.0));
`,ri=binaryKernelFunc({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:rr,dtype:"bool"}),rn={kernelName:a.MZg,backendName:"webgl",kernelFunc:ri};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let LRNProgram=class LRNProgram{constructor(e,t,r,i,n){let o;this.variableNames=["x"],this.outputShape=[];let a=e[3]-1;this.outputShape=e;let s=`float(${r}) + float(${i}) * sum`;o=.5===n?`inversesqrt(${s})`:1===n?`1.0/(${s})`:`exp(log(${s}) * float(-${n}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];
        int d = coords[3];
        float x = getX(b, r, c, d);
        float sum = 0.0;
        for (int j = -${t}; j <= ${t}; j++) {
          int idx = d + j;
          if (idx >= 0 && idx <=  ${a}) {
            float z = getX(b, r, c, idx);
            sum += z * z;
          }
        }
        float val = x * ${o};
        setOutput(val);
      }
    `}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let LRNPackedProgram=class LRNPackedProgram{constructor(e,t,r,i,n){let o;this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;let a=e[3]-1;this.outputShape=e;let s=`float(${r}) + float(${i}) * sum`;o=.5===n?`inversesqrt(${s})`:1===n?`1.0/(${s})`:`exp(log(${s}) * float(-${n}));`,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords.x;
        int r = coords.y;
        int c = coords.z;
        int d = coords.w;

        bool hasNextCol = d < ${this.outputShape[3]};
        bool hasNextRow = c < ${this.outputShape[2]};

        vec4 sum = vec4(0.);
        vec4 xFragAtOutputCoords = getX(b, r, c, d);

        vec4 xAtOutputCoords = vec4(
          getChannel(xFragAtOutputCoords, vec2(c, d)),
          hasNextCol ?
            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,
          hasNextRow ?
            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,
          (hasNextRow && hasNextCol) ?
            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0
        );

        int firstChannel = d - ${t};
        vec2 cache = vec2(0.);
        if(firstChannel >= 0){
          vec4 firstChannelFrag = getX(b, r, c, firstChannel);
          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));
            if(hasNextRow){
              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));
            }
        }

        ivec2 depth = ivec2(d, d + 1);
        for (int j = - ${t}; j <= ${t}; j++) {
          ivec2 idx = depth + j;
          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));
          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));

          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;
          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;

          if(depthInRange || depthPlusOneInRange){
            vec4 z = vec4(0.);
            vec4 xFragAtCurrentDepth;
            z.xz = cache.xy;
            if(depthPlusOneInRange && hasNextCol){
              xFragAtCurrentDepth = idx.y != d ?
                getX(b, r, c, idx.y) : xFragAtOutputCoords;
              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));
              if(hasNextRow){
                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));
              }
            }
            cache.xy = z.yw;
            sum += z * z;
          }
        }
        vec4 result = xAtOutputCoords * ${o};
        setOutput(result);
      }
    `}};let ro={kernelName:a.eZ0,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{depthRadius:o,bias:s,alpha:l,beta:u}=i,c=(0,a.OBj)().getBool("WEBGL_PACK_NORMALIZATION")?new LRNPackedProgram(n.shape,o,s,l,u):new LRNProgram(n.shape,o,s,l,u);return r.runWebGLProgram(c,[n],n.dtype)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let LRNGradProgram=class LRNGradProgram{constructor(e,t,r,i,n){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=r,this.alpha=i,this.beta=n,this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int r = coords[1];
        int c = coords[2];

        float result = 0.0;
        for (int d = 0; d < ${this.depth}; ++d) {
          int depthBegin = int(max(0.0, float(d - ${t})));
          int depthEnd = int(min(float(${this.depth}),
              float(d + ${t} + 1)));

          const int MIN_DEPTH_BEGIN = 0;
          const int MAX_DEPTH_END = ${this.depth};

          float norm = 0.0;
          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd) {
              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);
            }
            else {
              break;
            }
          }

          norm = float(${i}) * norm + float(${r});

          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){
            if (k < depthBegin){
              continue;
            }
            else if (k >= depthBegin && k < depthEnd){
              float dyi = -2.0 * float(${i})
                * float(${n})
                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)
                / norm;
              if (k == d) {
                dyi += pow(norm, -1.0 * ${n});
              }
              if (k == coords[3]) {
                dyi *= getDy(b, r, c, d);
                result += dyi;
              }
            }
            else {
              break;
            }
          }
      }
      setOutput(result);
      }
    `}};let ra={kernelName:a.Hhh,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:r,attrs:i}=e,{x:n,y:o,dy:a}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=i,d=new LRNGradProgram(n.shape,s,l,u,c);return r.runWebGLProgram(d,[n,o,a],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function max(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o}=r,{reductionIndices:s,keepDims:l}=n,u=o.shape.length,c=a.D5U.parseAxisParam(s,o.shape),d=c,p=a.backend_util.getAxesPermutation(d,u),h=null!=p,f=i.shouldExecuteOnCPU([o]),y=o;if(h){if(f){let e=i.texData.get(y.dataId),t=e.values,r=Array(u);for(let e=0;e<r.length;e++)r[e]=o.shape[p[e]];let n=(0,T.Fv)(t,o.shape,o.dtype,p,r);y=i.makeTensorInfo(r,o.dtype);let a=i.texData.get(y.dataId);a.values=n}else y=transposeImpl(o,p,i);d=a.backend_util.getInnerMostAxes(d.length,u)}a.backend_util.assertAxesAreInnerMostDims("max",d,u);let[g,v]=a.backend_util.computeOutAndReduceShapes(y.shape,d),m=g;if(l&&(m=a.backend_util.expandShapeToKeepDim(g,c)),f){let e=i.texData.get(y.dataId),r=e.values,n=(0,T.$O)(r,a.D5U.sizeFromShape(v),m,o.dtype);t=i.makeTensorInfo(m,o.dtype);let s=i.texData.get(t.dataId);s.values=n}else t=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r,i){let n=a.D5U.sizeFromShape(t),o=a.D5U.sizeFromShape(e.shape),s=o/n,l=reshape({inputs:{x:e},attrs:{shape:[s,n]},backend:i}),u=reduce(l,e.dtype,"max",i),c=reshape({inputs:{x:u},attrs:{shape:r},backend:i});return i.disposeIntermediateTensorInfo(l),i.disposeIntermediateTensorInfo(u),c}(y,v,m,i);return h&&i.disposeIntermediateTensorInfo(y),t}let rs={kernelName:a.YoZ,backendName:"webgl",kernelFunc:max},rl=u+`
  return max(a, b);
`,ru=`
  vec4 result = vec4(max(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+p+`
  return result;
`,rc=binaryKernelFunc({opSnippet:rl,packedOpSnippet:ru,cpuKernelImpl:T.nL}),rd={kernelName:a.BMI,backendName:"webgl",kernelFunc:rc},rp={kernelName:a.mTV,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t;(0,w.HS)(n,"maxPool");let{filterSize:o,strides:s,pad:l,dimRoundingMode:u}=i;a.D5U.assert(a.backend_util.eitherStridesOrDilationsAreOne(s,1),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`);let c=a.backend_util.computePool2DInfo(n.shape,o,s,1,l,u);if(1===c.filterWidth&&1===c.filterHeight&&a.D5U.arraysEqual(c.inShape,c.outShape))return identity({inputs:{x:n},backend:r});let d=new Pool2DProgram(c,"max",!1);return r.runWebGLProgram(d,[n],n.dtype)}},rh={kernelName:a.OAf,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{filterSize:o,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=i,d=a.backend_util.computePool3DInfo(n.shape,o,s,[1,1,1],l,c,u),p=new Pool3DProgram(d,"max",!1);return r.runWebGLProgram(p,[n],n.dtype)}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let MaxPool2DBackpropProgram=class MaxPool2DBackpropProgram{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;let t=e.strideHeight,r=e.strideWidth,i=e.dilationHeight,n=e.effectiveFilterHeight,o=e.effectiveFilterWidth,a=n-1-e.padInfo.top,s=o-1-e.padInfo.left;this.userCode=`
      const ivec2 pads = ivec2(${a}, ${s});

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];

        ivec2 dyRCCorner = coords.yz - pads;
        int dyRCorner = dyRCCorner.x;
        int dyCCorner = dyRCCorner.y;

        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;
        for (int wR = 0; wR < ${n};
          wR += ${i}) {
          float dyR = float(dyRCorner + wR) / ${t}.0;

          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {
            continue;
          }
          int idyR = int(dyR);

          for (int wC = 0; wC < ${o}; wC++) {
            float dyC = float(dyCCorner + wC) / ${r}.0;

            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                fract(dyC) > 0.0) {
              continue;
            }
            int idyC = int(dyC);

            float dyValue = getDy(b, idyR, idyC, d);
            int maxPosValue = ${n*o-1} - int(getMaxPos(b, idyR, idyC, d));

            // Get the current value, check it against the value from the
            // position matrix.
            int curPosValue = wR * ${o} + wC;
            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

            dotProd += dyValue * mask;
          }
        }
        setOutput(dotProd);
      }
    `}};let MaxPool3DBackpropProgram=class MaxPool3DBackpropProgram{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;let t=e.strideDepth,r=e.strideHeight,i=e.strideWidth,n=e.dilationDepth,o=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.front,d=l-1-e.padInfo.top,p=u-1-e.padInfo.left;this.userCode=`
      const ivec3 pads = ivec3(${c}, ${d}, ${p});

      void main() {
        ivec5 coords = getOutputCoords();
        int batch = coords.x;
        int ch = coords.u;

        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;
        int dyDCorner = dyCorner.x;
        int dyRCorner = dyCorner.y;
        int dyCCorner = dyCorner.z;

        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get
        // dx(xD, xR, xC, ch).
        // ? = to be determined. : = across all values in that axis.
        float dotProd = 0.0;

        for (int wD = 0; wD < ${s};
           wD += ${n}) {
          float dyD = float(dyDCorner + wD) / ${t}.0;

          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {
            continue;
          }
          int idyD = int(dyD);

          for (int wR = 0; wR < ${l};
              wR += ${o}) {
            float dyR = float(dyRCorner + wR) / ${r}.0;

            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||
                fract(dyR) > 0.0) {
              continue;
            }
            int idyR = int(dyR);

            for (int wC = 0; wC < ${u};
                wC += ${a}) {
              float dyC = float(dyCCorner + wC) / ${i}.0;

              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||
                  fract(dyC) > 0.0) {
                continue;
              }
              int idyC = int(dyC);

              float dyValue = getDy(batch, idyD, idyR, idyC, ch);
              int maxPosValue = ${s*l*u-1} -
                  int(getMaxPos(batch, idyD, idyR, idyC, ch));

              // Get the current value, check it against the value from the
              // position matrix.
              int curPosValue =
                  wD * ${l} * ${u} +
                  wR * ${u} + wC;
              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);

              dotProd += dyValue * mask;
            }
          }
        }
        setOutput(dotProd);
      }
    `}};let rf={kernelName:a.OU7,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{dy:n,input:o}=t,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=i,d=a.backend_util.computePool3DInfo(o.shape,s,l,[1,1,1],u,c),p=new Pool3DProgram(d,"max",!0),h=r.runWebGLProgram(p,[o],o.dtype),f=new MaxPool3DBackpropProgram(d),y=r.runWebGLProgram(f,[n,h],o.dtype);return r.disposeIntermediateTensorInfo(h),y}},ry={kernelName:a.OV7,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{dy:n,input:o,output:s}=t;(0,w.HS)([o,s],"maxPoolGrad");let{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=i,p=a.backend_util.computePool2DInfo(o.shape,l,u,1,c,d),h=new Pool2DProgram(p,"max",!0),f=r.runWebGLProgram(h,[o],o.dtype),y=new MaxPool2DBackpropProgram(p),g=r.runWebGLProgram(y,[n,f],o.dtype);return r.disposeIntermediateTensorInfo(f),g}},rg={kernelName:a.vFR,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:r})=>{let{x:i}=e,{filterSize:n,strides:o,pad:s,includeBatchInIndex:l}=t;a.D5U.assert(4===i.shape.length,()=>`Error in maxPool: input must be rank 4 but got rank ${i.shape.length}.`);let u=[1,1];a.D5U.assert(a.backend_util.eitherStridesOrDilationsAreOne(o,u),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${u}'`);let c=a.backend_util.computePool2DInfo(i.shape,n,o,u,s),[d,p]=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r,i){let n=new Pool2DProgram(r,"max",!1),o=i.runWebGLProgram(n,[e],"float32");n=new Pool2DProgram(r,"max",!0,!0,t);let a=i.runWebGLProgram(n,[e],"float32");return[o,a]}(i,l,c,r);return[d,p]}},rv={kernelName:a.q2K,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:r})=>{let{x:i}=e,{keepDims:n,axis:o}=t,s=i.shape.length,l=a.D5U.parseAxisParam(o,i.shape),u=l,c=a.backend_util.getAxesPermutation(u,s),d=null!=c,p=r.shouldExecuteOnCPU([i]),h=[],f=i;if(d){if(p){let e=r.texData.get(f.dataId),t=e.values,n=Array(s);for(let e=0;e<n.length;e++)n[e]=i.shape[c[e]];let o=(0,T.Fv)(t,i.shape,i.dtype,c,n);f=r.makeTensorInfo(n,i.dtype);let a=r.texData.get(f.dataId);a.values=o}else f=transposeImpl(i,c,r);h.push(f),u=a.backend_util.getInnerMostAxes(u.length,s)}a.backend_util.assertAxesAreInnerMostDims("sum",u,s);let[y,g]=a.backend_util.computeOutAndReduceShapes(f.shape,u),v=y;n&&(v=a.backend_util.expandShapeToKeepDim(y,l));let m=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r,i){let n=a.D5U.sizeFromShape(t),o=a.D5U.sizeFromShape(e.shape),s=o/n,l=reshape({inputs:{x:e},attrs:{shape:[s,n]},backend:i}),u=reduce(l,"float32","mean",i),c=reshape({inputs:{x:u},attrs:{shape:r},backend:i});return i.disposeIntermediateTensorInfo(l),i.disposeIntermediateTensorInfo(u),c}(f,g,v,r);for(let e of h)r.disposeIntermediateTensorInfo(e);return m}},rm={kernelName:a.c17,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o}=r,{axis:s,keepDims:l}=n,u=o.shape.length,c=a.D5U.parseAxisParam(s,o.shape),d=c,p=a.backend_util.getAxesPermutation(d,u),h=o;null!=p&&(h=transpose({inputs:{x:o},backend:i,attrs:{perm:p}}),d=a.backend_util.getInnerMostAxes(d.length,o.shape.length)),a.backend_util.assertAxesAreInnerMostDims("min",d,u);let[f,y]=a.backend_util.computeOutAndReduceShapes(h.shape,d),g=a.D5U.sizeFromShape(y),v=reshape({inputs:{x:h},backend:i,attrs:{shape:[-1,g]}}),m=reduce(v,v.dtype,"min",i);if(l){let e=a.backend_util.expandShapeToKeepDim(f,c);t=reshape({inputs:{x:m},backend:i,attrs:{shape:e}})}else t=reshape({inputs:{x:m},backend:i,attrs:{shape:f}});return i.disposeIntermediateTensorInfo(v),i.disposeIntermediateTensorInfo(m),null!=p&&i.disposeIntermediateTensorInfo(h),t}},rS=u+`
  return min(a, b);
`,rb=`
  vec4 result = vec4(min(a, b));
  bvec4 isNaNA = isnan(a);
  bvec4 isNaNB = isnan(b);
  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);
  `+p+`
  return result;
`,rP=binaryKernelFunc({opSnippet:rS,packedOpSnippet:rb,cpuKernelImpl:T.r}),rC={kernelName:a.q8u,backendName:"webgl",kernelFunc:rP};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let MirrorPadProgram=class MirrorPadProgram{constructor(e,t,r){this.variableNames=["x"],this.outputShape=t.map((t,r)=>t[0]+e[r]+t[1]);let i=e.length,n=(0,d.kW)(i),o=t.map(e=>e[0]).join(","),a=t.map((t,r)=>t[0]+e[r]).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i),l="reflect"===r?0:1;if(1===i){this.userCode=`
        int start = ${o};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start) {
            outC = start * 2 - outC - ${l};
          } else if(outC >= end) {
            outC = (end - 1) * 2 - outC + ${l};
          }
          setOutput(getX(outC - start));
        }
      `;return}this.userCode=`
      ${n} start = ${n}(${o});
      ${n} end = ${n}(${a});

      void main() {
        ${n} outC = getOutputCoords();
        for (int i = 0; i < ${i}; i++) {
          if (outC[i] < start[i]) {
            outC[i] = start[i] * 2 - outC[i] - ${l};
          } else if(outC[i] >= end[i]) {
            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};
          }
        }
        ${n} coords = outC - start;
        setOutput(getX(${s}));
      }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let MirrorPadPackedProgram=class MirrorPadPackedProgram{constructor(e,t,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map((t,r)=>t[0]+e[r]+t[1]);let i=e.length,n=(0,d.kW)(i),o=t.map(e=>e[0]).join(","),a=t.map((t,r)=>t[0]+e[r]).join(","),s=(0,c.Ky)("rc",i),l=(0,c.Ky)("source",i),u=`${s[i-1]} < ${this.outputShape[i-1]}`,p=1===i?"source":`vec2(${l.slice(-2).join()})`,h="reflect"===r?0:1,f="";if(1===i){let e=`
        ${n} source = rc;
        if (source < start) {
          source = start * 2 - source - ${h};
        } else if (source >= end) {
          source = (end - 1) * 2 - source + ${h};
        }
        source -= start;
      `;f=`
        ${n} rc = outputLoc;
        ${e}
        result[0] = getChannel(getX(${l.join()}), ${p});
        ${s[i-1]} += 1;
        if(${u}) {
          ${e}
          result[1] = getChannel(getX(${l.join()}), ${p});
        }
      `}else{let e=`
        ${n} source = rc;
        ${n} lt = ${n}(lessThan(source, start));
        ${n} gte = ${n}(greaterThanEqual(source, end));
        ${n} orig = 1 - (lt + gte);
        source = orig * source +
                lt * (start * 2 - source - ${h}) +
                gte * ((end - 1) * 2 - source + ${h});
        source -= start;
      `;f=`
        ${n} rc = outputLoc;
        ${e}
        result[0] = getChannel(getX(${l.join()}), ${p});
        ${s[i-1]} += 1;
        if(${u}) {
          ${e}
          result[1] = getChannel(getX(${l.join()}), ${p});
        }
        rc = outputLoc;
        ${s[i-2]} += 1;
        if(${s[i-2]} < ${this.outputShape[i-2]}) {
          ${e}
          result[2] = getChannel(getX(${l.join()}), ${p});
          ${s[i-1]} += 1;
          if(${u}) {
            ${e}
            result[3] = getChannel(getX(${l.join()}), ${p});
          }
        }
      `}this.userCode=`
      const ${n} start = ${n}(${o});
      const ${n} end = ${n}(${a});

      void main() {
        ${n} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${f}
        setOutput(result);
      }
    `}};let rx={kernelName:a.jQs,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:r})=>{let{x:i}=e,{paddings:n,mode:o}=r,s=(0,a.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new MirrorPadPackedProgram(i.shape,n,o):new MirrorPadProgram(i.shape,n,o),l=t.runWebGLProgram(s,[i],i.dtype);return l}},rA=`if (b == 0.0) return NAN;
  return mod(a, b);`,rT=`
  vec4 result = mod(a, b);
  bvec4 isNaN = equal(b, vec4(0.0));
  `+p+`
  return result;
`,r_=binaryKernelFunc({opSnippet:rA,packedOpSnippet:rT}),rR={kernelName:a.Vbg,backendName:"webgl",kernelFunc:r_};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let MultinomialProgram=class MultinomialProgram{constructor(e,t,r){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,r],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];

        float r = random(seed);
        float cdf = 0.0;

        for (int i = 0; i < ${t-1}; i++) {
          cdf += getProbs(batch, i);

          if (r < cdf) {
            setOutput(float(i));
            return;
          }
        }

        // If no other event happened, last event happened.
        setOutput(float(${t-1}));
      }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let rE=`
if (a == b) {
  return 1.0;
};
return a / b;`,rw=`
  // vec4 one = vec4(equal(a, b));
  // return one + (vec4(1.0) - one) * a / b;
  vec4 result = a / b;
  if(a.x == b.x) {
    result.x = 1.;
  }
  if(a.y == b.y) {
    result.y = 1.;
  }
  if(a.z == b.z) {
    result.z = 1.;
  }
  if(a.w == b.w) {
    result.w = 1.;
  }

  return result;
`,rD=binaryKernelFunc({opSnippet:rE,packedOpSnippet:rw,checkOutOfBounds:!0}),rO={kernelName:a.oHH,backendName:"webgl",kernelFunc:rD},rI="return a - b;",rM=binaryKernelFunc({opSnippet:rI,packedOpSnippet:rI,supportsComplex:!0,cpuKernelImpl:T.kI}),rL={kernelName:a.Tr8,backendName:"webgl",kernelFunc:rM};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function softmax(e){let{inputs:t,backend:r,attrs:i}=e,{logits:n}=t,{dim:o}=i,s=a.D5U.parseAxisParam([o],n.shape),l=max({inputs:{x:n},backend:r,attrs:{reductionIndices:s,keepDims:!1}}),u=a.backend_util.expandShapeToKeepDim(l.shape,s),c=reshape({inputs:{x:l},backend:r,attrs:{shape:u}}),d=rM({inputs:{a:n,b:c},backend:r}),p=td({inputs:{x:d},backend:r}),h=sum({inputs:{x:p},backend:r,attrs:{axis:s,keepDims:!1}}),f=reshape({inputs:{x:h},backend:r,attrs:{shape:u}}),y=rD({inputs:{a:p,b:f},backend:r});return r.disposeIntermediateTensorInfo(l),r.disposeIntermediateTensorInfo(c),r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(f),y}let rk={kernelName:a.Gcp,backendName:"webgl",kernelFunc:softmax},rN={kernelName:a.NZg,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{logits:n}=t,{numSamples:o,seed:a,normalized:s}=i,l=s?n:softmax({inputs:{logits:n},backend:r,attrs:{dim:n.shape.length-1}}),u=l.shape[0],c=l.shape[1],d=new MultinomialProgram(u,c,o),p=r.runWebGLProgram(d,[l],"int32",[[a]]);return s||r.disposeIntermediateTensorInfo(l),p}},rB=P.D1+`
  return -x;
`,rV=`
  vec4 result = -x;
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,rF={kernelName:a.kuV,backendName:"webgl",kernelFunc:function(e){let t;let{inputs:r,backend:i}=e,{x:n}=r;if(i.shouldExecuteOnCPU([n])){let e=i.texData.get(n.dataId),[t,r]=(0,T.Bo)(e.values,n.shape,n.dtype);return i.makeTensorInfo(r,n.dtype,t)}return t=(0,a.OBj)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new C.cc(n.shape,rV):new P.l(n.shape,rB),i.runWebGLProgram(t,[n],n.dtype)}},rj=a.GDt.GP,rH={kernelName:a.uv1,backendName:"webgl",kernelFunc:function(e){a.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:t,backend:r,attrs:i}=e,{boxes:n,scores:o}=t,{maxOutputSize:s,iouThreshold:l,scoreThreshold:u}=i,c=r.readSync(n.dataId),d=r.readSync(o.dataId),{selectedIndices:p}=rj(c,d,s,l,u);return r.makeTensorInfo([p.length],"int32",new Int32Array(p))}},rz=a.GDt.qP,rG={kernelName:a.cye,backendName:"webgl",kernelFunc:function(e){a.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:t,backend:r,attrs:i}=e,{boxes:n,scores:o}=t,{maxOutputSize:s,iouThreshold:l,scoreThreshold:u,padToMaxOutputSize:c}=i,d=r.readSync(n.dataId),p=r.readSync(o.dataId),{selectedIndices:h,validOutputs:f}=rz(d,p,s,l,u,c);return[r.makeTensorInfo([h.length],"int32",new Int32Array(h)),r.makeTensorInfo([],"int32",new Int32Array([f]))]}},rU=a.GDt.pA,rW={kernelName:a.W0H,backendName:"webgl",kernelFunc:function(e){a.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");let{inputs:t,backend:r,attrs:i}=e,{boxes:n,scores:o}=t,{maxOutputSize:s,iouThreshold:l,scoreThreshold:u,softNmsSigma:c}=i,d=r.readSync(n.dataId),p=r.readSync(o.dataId),{selectedIndices:h,selectedScores:f}=rU(d,p,s,l,u,c);return[r.makeTensorInfo([h.length],"int32",new Int32Array(h)),r.makeTensorInfo([f.length],"float32",new Float32Array(f))]}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let OneHotProgram=class OneHotProgram{constructor(e,t,r,i){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`
      void main() {
        ivec2 coords = getOutputCoords();
        int index = round(getIndices(coords.x));
        setOutput(mix(float(${i}), float(${r}),
                      float(index == coords.y)));
      }
    `}};let rX={kernelName:a.we_,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:r,attrs:i}=e,{indices:n}=t,{dtype:o,depth:s,onValue:l,offValue:u}=i,c=a.D5U.sizeFromShape(n.shape),d=new OneHotProgram(c,s,l,u),p=reshape({inputs:{x:n},backend:r,attrs:{shape:[c]}}),h=r.runWebGLProgram(d,[p],o);r.disposeIntermediateTensorInfo(p);let f=[...n.shape,s],y=reshape({inputs:{x:h},backend:r,attrs:{shape:f}});return r.disposeIntermediateTensorInfo(h),y}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zerosLike(e){let{inputs:t,backend:r}=e,{x:i}=t;if("complex64"!==i.dtype)return fill({attrs:{shape:i.shape,dtype:i.dtype,value:"string"===i.dtype?"":0},backend:r});{let e=real({inputs:{input:i},backend:r}),t=zerosLike({inputs:{x:e},backend:r}),n=imag({inputs:{input:i},backend:r}),o=zerosLike({inputs:{x:n},backend:r}),a=complex({inputs:{real:t,imag:o},backend:r});return r.disposeIntermediateTensorInfo(e),r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(o),a}}let rY={kernelName:a.RuY,backendName:"webgl",kernelFunc:zerosLike},r$={kernelName:a.qWM,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function onesLike(e){let{inputs:t,backend:r}=e,{x:i}=t;if("string"===i.dtype)throw Error("onesLike is not supported under string dtype");if("complex64"!==i.dtype)return fill({attrs:{shape:i.shape,dtype:i.dtype,value:1},backend:r});{let e=real({inputs:{input:i},backend:r}),t=onesLike({inputs:{x:e},backend:r}),n=imag({inputs:{input:i},backend:r}),o=zerosLike({inputs:{x:n},backend:r}),a=complex({inputs:{real:t,imag:o},backend:r});return r.disposeIntermediateTensorInfo(e),r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(o),a}}},rK={kernelName:a.QiL,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{axis:n}=i;if(1===t.length)return expandDims({inputs:{input:t[0]},backend:r,attrs:{dim:n}});let o=t[0].shape,s=t[0].dtype;t.forEach(e=>{a.D5U.assertShapesMatch(o,e.shape,"All tensors passed to stack must have matching shapes"),a.D5U.assert(s===e.dtype,()=>"All tensors passed to stack must have matching dtypes")});let l=[],u=t.map(e=>{let t=expandDims({inputs:{input:e},backend:r,attrs:{dim:n}});return l.push(t),t}),c=concat({inputs:u,backend:r,attrs:{axis:n}});return l.forEach(e=>r.disposeIntermediateTensorInfo(e)),c}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let PadProgram=class PadProgram{constructor(e,t,r){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((t,r)=>t[0]+e[r]+t[1]);let i=e.length,n=(0,d.kW)(i),o=t.map(e=>e[0]).join(","),a=t.map((t,r)=>t[0]+e[r]).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,i);if(1===i){this.userCode=`
        int start = ${o};
        int end = ${a};

        void main() {
          int outC = getOutputCoords();
          if (outC < start || outC >= end) {
            setOutput(value);
          } else {
            setOutput(getX(outC - start));
          }
        }
      `;return}this.userCode=`
      ${n} start = ${n}(${o});
      ${n} end = ${n}(${a});

      void main() {
        ${n} outC = getOutputCoords();
        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {
          setOutput(value);
        } else {
          ${n} coords = outC - start;
          setOutput(getX(${s}));
        }
      }
    `}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let PadPackedProgram=class PadPackedProgram{constructor(e,t,r){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map((t,r)=>t[0]+e[r]+t[1]);let i=e.length,n=(0,d.kW)(i),o=t.map(e=>e[0]).join(","),a=t.map((t,r)=>t[0]+e[r]).join(","),s=(0,c.Ky)("rc",i),l=(0,c.Ky)("source",i),u=`${s[i-1]} < ${this.outputShape[i-1]}`,p=1===i?"source":`vec2(${l.slice(-2).join()})`,h=[`${n} rc = outputLoc;`,`${s[i-1]} += 1;
       if(${u}) {
      `,1===i?"":`}
       rc = outputLoc;
       ${s[i-2]} += 1;
       if(${s[i-2]} < ${this.outputShape[i-2]}) {`,1===i?"":`  ${s[i-1]} += 1;
         if(${u}) {`],f=1===i?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",y="";for(let e=0,t=1===i?2:4;e<t;e++)y+=`
        ${h[e]}
        if (${f}) {
          result[${e}] = float(value);
        } else {
          ${n} source = rc - start;
          result[${e}] = getChannel(getX(${l.join()}), ${p});
        }
      `;y+=1===i?"} ":"}}",this.userCode=`
      const ${n} start = ${n}(${o});
      const ${n} end = ${n}(${a});

      void main() {
        ${n} outputLoc = getOutputCoords();
        vec4 result = vec4(0.);
        ${y}
        setOutput(result);
      }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let padV2=e=>{let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{paddings:o,constantValue:s}=i;if(0===a.D5U.sizeFromShape(n.shape)){let e=o.map((e,t)=>e[0]+n.shape[t]+e[1]);return fill({backend:r,attrs:{shape:e,value:s,dtype:n.dtype}})}let l=(0,a.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new PadPackedProgram(n.shape,o,s):new PadProgram(n.shape,o,s),u=[[s]];return r.runWebGLProgram(l,[n],n.dtype,u)},rq={kernelName:a.lyA,backendName:"webgl",kernelFunc:padV2},rZ=`
  if(a < 0.0 && floor(b) < b){
    return NAN;
  }
  if (b == 0.0) {
    return 1.0;
  }
  return (round(mod(b, 2.0)) != 1) ?
      pow(abs(a), b) : sign(a) * pow(abs(a), b);
`,rJ=`
  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.
  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));
  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);
  vec4 result = multiplier * pow(abs(a), b);

  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS
  bvec4 isExpZero = equal(b, vec4(0.0));
  result.r = isExpZero.r ? 1.0 : result.r;
  result.g = isExpZero.g ? 1.0 : result.g;
  result.b = isExpZero.b ? 1.0 : result.b;
  result.a = isExpZero.a ? 1.0 : result.a;

  bvec4 isNaN1 = lessThan(a, vec4(0.0));
  bvec4 isNaN2 = lessThan(floor(b), b);
  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);
  `+p+`
  return result;
`,rQ=binaryKernelFunc({opSnippet:rZ,packedOpSnippet:rJ}),r0={kernelName:a.pe_,backendName:"webgl",kernelFunc:rQ},r1={kernelName:a.DlI,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o}=r,{axis:s,keepDims:l}=n,u=o.shape.length,c=[],d=a.D5U.parseAxisParam(s,o.shape),p=d,h=a.backend_util.getAxesPermutation(p,u),f=o;if(null!=h&&(f=transpose({inputs:{x:o},backend:i,attrs:{perm:h}}),p=a.backend_util.getInnerMostAxes(p.length,u),c.push(f)),a.backend_util.assertAxesAreInnerMostDims("prod",p,u),i.shouldExecuteOnCPU([f])){let e=i.texData.get(f.dataId).values,{outVals:r,outShape:n,outDtype:o}=(0,T.Tg)(f.shape,f.dtype,e,p);t=i.makeTensorInfo(n,o,r)}else{let[e,r]=a.backend_util.computeOutAndReduceShapes(f.shape,p),n=a.D5U.sizeFromShape(r),s=reshape({inputs:{x:f},backend:i,attrs:{shape:[-1,n]}}),l=(0,a.z4k)(o.dtype),u=reduce(s,l,"prod",i);t=reshape({inputs:{x:u},backend:i,attrs:{shape:e}}),c.push(s),c.push(u)}if(l){c.push(t);let e=a.backend_util.expandShapeToKeepDim(t.shape,d);t=reshape({inputs:{x:t},backend:i,attrs:{shape:e}})}return c.forEach(e=>i.disposeIntermediateTensorInfo(e)),t}},r2={kernelName:a.dDz,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{paramsNestedSplits:n,paramsDenseValues:o,indices:a}=t,{outputRaggedRank:s}=i,l=n.map(e=>r.readSync(e.dataId)),u=n.map(e=>e.shape),c=r.readSync(o.dataId),d=r.readSync(a.dataId),[p,h,f]=(0,T.Qs)(l,u,c,o.shape,o.dtype,d,a.shape,s),y=p.map(e=>r.makeTensorInfo([e.length],"int32",e)),g=r.makeTensorInfo(f,o.dtype,h);return y.concat([g])}},r3={kernelName:a.CQl,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r}=e,{starts:i,limits:n,deltas:o}=t,a=r.readSync(i.dataId),s=r.readSync(n.dataId),l=r.readSync(o.dataId),[u,c]=(0,T.M8)(a,i.shape,i.dtype,s,n.shape,l,o.shape),d=r.makeTensorInfo([u.length],"int32",u),p=r.makeTensorInfo([c.length],i.dtype,c);return[d,p]}},r5={kernelName:a.BiW,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{shape:n,values:o,defaultValue:a,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=i,u=r.readSync(n.dataId),c=r.readSync(o.dataId),d=r.readSync(a.dataId),p=s.map(e=>r.readSync(e.dataId)),h=s.map(e=>e.shape),[f,y]=(0,T.fy)(u,n.shape,c,o.shape,o.dtype,d,a.shape,p,h,l);return r.makeTensorInfo(f,o.dtype,y)}},range=e=>{let{backend:t,attrs:r}=e,{start:i,stop:n,step:o,dtype:a}=r,s=(0,T.hO)(i,n,o,a);return t.makeTensorInfo([s.length],a,s)},r4={kernelName:a.e6w,backendName:"webgl",kernelFunc:range},r6=unaryKernelFunc({opSnippet:"return 1.0 / x;"}),r8={kernelName:a.$HU,backendName:"webgl",kernelFunc:r6},r7=P.D1+`
  return (x < 0.0) ? 0.0 : x;
`,r9=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,ie=unaryKernelFunc({opSnippet:r7,packedOpSnippet:r9}),it={kernelName:a.qkr,backendName:"webgl",kernelFunc:ie},ir=P.D1+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,ii=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,io=unaryKernelFunc({opSnippet:ir,packedOpSnippet:ii}),ia={kernelName:a.SbG,backendName:"webgl",kernelFunc:io};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ResizeBilinearProgram=class ResizeBilinearProgram{constructor(e,t,r,i,n){this.variableNames=["A"],this.outputShape=[];let[o,a,s,l]=e;this.outputShape=[o,t,r,l];let u=[i&&t>1?a-1:a,i&&r>1?s-1:s],c=[i&&t>1?t-1:t,i&&r>1?r-1:r];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/c[0]},
          ${u[1]/c[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${s}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${n?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC"};

        // Compute the four integer indices.
        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));
        ivec2 sourceCeilRC = ivec2(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);
        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);
        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);
        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);

        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);

        float top = topLeft + (topRight - topLeft) * fracRC.y;
        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;
        float newValue = top + (bottom - top) * fracRC.x;

        setOutput(newValue);
      }
    `}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ResizeBilinearPackedProgram=class ResizeBilinearPackedProgram{constructor(e,t,r,i,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];let[o,a,s,l]=e;this.outputShape=[o,t,r,l];let u=[i&&t>1?a-1:a,i&&r>1?s-1:s],c=[i&&t>1?t-1:t,i&&r>1?r-1:r];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/c[0]},
          ${u[1]/c[1]},
          ${u[1]/c[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${s}.0,
                                     ${s}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${n?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC"};

        // Compute the four integer indices.
        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));
        ivec3 sourceCeilRC = ivec3(
          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${l-1};
        bool hasNextRow = coords.z < ${r-1};

        // In parallel, construct four corners for all four components in
        // packed 2x2 cell.
        vec4 topLeft = vec4(
          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 bottomLeft = vec4(
          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);

        vec4 topRight = vec4(
          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec4 bottomRight = vec4(
          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),
          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);

        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);

        vec4 top = mix(topLeft, topRight, fracRC.yyzz);
        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);
        vec4 newValue = mix(top, bottom, fracRC.x);

        setOutput(newValue);
      }
    `}};let is={kernelName:a._Yw,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{images:n}=t,{alignCorners:o,halfPixelCenters:s,size:l}=i,[u,c]=l,d=(0,a.OBj)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ResizeBilinearPackedProgram(n.shape,u,c,o,s):new ResizeBilinearProgram(n.shape,u,c,o,s);return r.runWebGLProgram(d,[n],"float32")}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ResizeBilinearBackpropProgram=class ResizeBilinearBackpropProgram{constructor(e,t,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;let[,i,n]=t,[,o,a]=e,s=[r&&o>1?i-1:i,r&&a>1?n-1:n],l=[r&&o>1?o-1:o,r&&a>1?a-1:a],u=s[0]/l[0],c=s[1]/l[1],d=1/u,p=1/c,h=2*Math.ceil(d)+2,f=2*Math.ceil(p)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${c});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${p});

        const int winHeight = int(${h});
        const int winWidth = int(${f});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(startRLerp - float(winHeight / 2));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(startCLerp - float(winWidth / 2));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float dxR = float(dyR) * heightScale;
            int topDxRIndex = int(floor(dxR));
            int bottomDxRIndex = int(min(ceil(dxR), ${i-1}.0));
            float dxRLerp = dxR - float(topDxRIndex);
            float inverseDxRLerp = 1.0 - dxRLerp;

            float dxC = float(dyC) * widthScale;
            int leftDxCIndex = int(floor(dxC));
            int rightDxCIndex = int(min(ceil(dxC), ${n-1}.0));
            float dxCLerp = dxC - float(leftDxCIndex);
            float inverseDxCLerp = 1.0 - dxCLerp;

            if (r == topDxRIndex && c == leftDxCIndex) {
              // topLeft
              accumulator +=
                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;
            }

            if (r == topDxRIndex && c == rightDxCIndex) {
              // topRight
              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;
            }

            if (r == bottomDxRIndex && c == leftDxCIndex) {
              // bottomLeft
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;
            }

            if (r == bottomDxRIndex && c == rightDxCIndex) {
              // bottomRight
              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}};let il={kernelName:a.zbQ,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{images:n,dy:o}=t,{alignCorners:a}=i,s=new ResizeBilinearBackpropProgram(o.shape,n.shape,a);return r.runWebGLProgram(s,[o],o.dtype)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ResizeNearestNeighborProgram=class ResizeNearestNeighborProgram{constructor(e,t,r,i,n){this.variableNames=["A"],this.outputShape=[];let[o,a,s,l]=e;this.outputShape=[o,t,r,l];let u=[i&&t>1?a-1:a,i&&r>1?s-1:s],c=[i&&t>1?t-1:t,i&&r>1?r-1:r];this.userCode=`
      const vec2 effectiveInputOverOutputRatioRC = vec2(
          ${u[0]/c[0]},
          ${u[1]/c[1]});
      const vec2 inputShapeRC = vec2(${a}.0, ${s}.0);

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        ivec2 yRC = coords.yz;

        // Fractional source index.
        vec2 sourceFracIndexRC = ${n?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC"};

        // Compute the coordinators of nearest neighbor point.
        ivec2 sourceNearestRC = ivec2(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${i?"0.5":"0.0"})));
        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);

        setOutput(newValue);
      }
    `}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ResizeNearestNeighborPackedProgram=class ResizeNearestNeighborPackedProgram{constructor(e,t,r,i,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];let[o,a,s,l]=e;this.outputShape=[o,t,r,l];let u=[i&&t>1?a-1:a,i&&r>1?s-1:s],c=[i&&t>1?t-1:t,i&&r>1?r-1:r];this.userCode=`
      const vec3 effectiveInputOverOutputRatioRC = vec3(
          ${u[0]/c[0]},
          ${u[1]/c[1]},
          ${u[1]/c[1]});
      const vec3 inputShapeRC = vec3(${a}.0, ${s}.0,
                                     ${s}.0);

      float getAValue(int b, int r, int c, int d) {
        return getChannel(getA(b, r, c, d), vec2(c, d));
      }

      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        // Calculate values for next column in yRC.z.
        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);

        // Fractional source index.
        vec3 sourceFracIndexRC = ${n?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC"};

        // Compute the coordinators of nearest neighbor point.
        ivec3 sourceNearestRC = ivec3(
          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${i?"0.5":"0.0"})));

        // Should we calculate next column and row elements in 2x2 packed cell.
        bool hasNextCol = d < ${l-1};
        bool hasNextRow = coords.z < ${r-1};

        vec4 newValue = vec4(
          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),
          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)
                     : 0.0,
          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)
                     : 0.0,
          (hasNextRow && hasNextCol) ?
            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);

        setOutput(newValue);
      }
    `}};let iu={kernelName:a.dpD,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{images:n}=t,{alignCorners:o,halfPixelCenters:s,size:l}=i,[u,c]=l,d=(0,a.OBj)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ResizeNearestNeighborPackedProgram(n.shape,u,c,o,s):new ResizeNearestNeighborProgram(n.shape,u,c,o,s);return r.runWebGLProgram(d,[n],n.dtype)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ResizeNearestNeigborBackpropProgram=class ResizeNearestNeigborBackpropProgram{constructor(e,t,r){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;let[,i,n]=t,[,o,a]=e,s=[r&&o>1?i-1:i,r&&a>1?n-1:n],l=[r&&o>1?o-1:o,r&&a>1?a-1:a],u=s[0]/l[0],c=s[1]/l[1],d=1/u,p=1/c,h=2*Math.ceil(d)+2,f=2*Math.ceil(p)+2;this.userCode=`
      void main() {
        ivec4 coords = getOutputCoords();
        int b = coords[0];
        int d = coords[3];
        int r = coords[1];
        int c = coords[2];

        float accumulator = 0.0;

        const float heightScale = float(${u});
        const float widthScale = float(${c});

        const float invHeightScale = float(${d});
        const float invWidthScale = float(${p});

        const int winHeight = int(${h});
        const int winWidth = int(${f});

        // Compute bounds for where in dy we will look
        float startRLerp = floor(float(r) * invHeightScale);
        int startDyR = int(floor(startRLerp - float(winHeight / 2)));

        float startCLerp = floor(float(c) * invWidthScale);
        int startDyC = int(floor(startCLerp - float(winWidth / 2)));

        // Loop over dy
        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {
          int dyR = dyROffset + startDyR;

          // Guard against the window exceeding the bounds of dy
          if (dyR < 0 || dyR >= ${o}) {
            continue;
          }

          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {
            int dyC = dyCOffset + startDyC;

            // Guard against the window exceeding the bounds of dy
            if (dyC < 0 || dyC >= ${a}) {
              continue;
            }

            float sourceFracRow =
              float(${s[0]}) *
                (float(dyR) / float(${l[0]}));

            float sourceFracCol =
                float(${s[1]}) *
                  (float(dyC) / float(${l[1]}));

            int sourceNearestRow = int(min(
                float(int(${i}) - 1),
                ${r} ? float(round(sourceFracRow)) :
                                  float(floor(sourceFracRow))));

            int sourceNearestCol = int(min(
                float(int(${n}) - 1),
                ${r} ? float(round(sourceFracCol)) :
                                  float(floor(sourceFracCol))));

            if (r == sourceNearestRow && c == sourceNearestCol) {
              accumulator += getDy(b, dyR, dyC, d);
            }
          }
        }
        // End loop over dy

        setOutput(accumulator);
      }
    `}};let ic={kernelName:a.Hmb,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{images:n,dy:o}=t,{alignCorners:a}=i,s=new ResizeNearestNeigborBackpropProgram(o.shape,n.shape,a);return r.runWebGLProgram(s,[o],o.dtype)}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ReverseProgram=class ReverseProgram{constructor(e,t){this.variableNames=["x"];let r=e.length;if(r>4)throw Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=e,1===r){this.userCode=`
        void main() {
          int coord = getOutputCoords();
          setOutput(getX(${e[0]} - coord - 1));
        }
      `;return}let getInCoord=r=>-1!==t.indexOf(r)&&1!==e[r]?`${e[r]} - coords[${r}] - 1`:`coords[${r}]`,i=e.map((e,t)=>getInCoord(t)).join(","),n=(0,d.kW)(r);this.userCode=`
      void main() {
        ${n} coords = getOutputCoords();
        setOutput(getX(${i}));
      }
    `}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ReversePackedProgram=class ReversePackedProgram{constructor(e,t){var r,i,n;this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;let o=e.length;if(o>4)throw Error(`WebGL backend: Reverse of rank-${o} tensor is not yet supported`);this.outputShape=e;let a=(0,c.Ky)("rc",o),s=`${a[o-1]} + 1 < ${this.outputShape[o-1]}`,l=`${a[o-2]} + 1 < ${this.outputShape[o-2]}`,u=(0,d.kW)(o);function getChannel(r){let i=e.map((i,n)=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${r[n]} - 1`:`${r[n]}`),n=i.join(","),o=i.slice(-2).join(",");return`getChannel(getX(${n}), vec2(${o}))`}1===o?this.userCode=`
        void main(){
          int rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = getChannel(getX(${e[0]} - rc - 1),
            ${e[0]} - rc - 1);
          if(${s}){
              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),
                ${e[0]} - (rc  + 1) - 1);
          }
          setOutput(result);
        }
      `:this.userCode=`
        void main() {
          ${u} rc = getOutputCoords();
          vec4 result = vec4(0.);
          result.r = ${getChannel(a.slice())};
          if(${s}){
            result.g = ${(r=a.slice())[o-1]="("+r[o-1]+" + 1)",getChannel(r)};
          }
          if(${l}) {
            result.b = ${(i=a.slice())[o-2]="("+i[o-2]+" + 1)",getChannel(i)};
            if(${s}) {
              result.a = ${(n=a.slice())[o-1]="("+n[o-1]+" + 1)",n[o-2]="("+n[o-2]+" + 1)",getChannel(n)};
            }
          }
          setOutput(result);
        }
    `}};let id={kernelName:a.mKl,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{dims:o}=i,s=n.shape.length,l=a.D5U.parseAxisParam(o,n.shape);if(0===s)return identity({inputs:{x:n},backend:r});let u=(0,a.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ReversePackedProgram(n.shape,l):new ReverseProgram(n.shape,l);return r.runWebGLProgram(u,[n],n.dtype)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let RotateProgram=class RotateProgram{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];let r=e[1],i=e[2];this.outputShape=e;let n="";n="number"==typeof t?`float outputValue = ${t.toFixed(2)};`:`
        vec3 fill = vec3(${t.join(",")});
        float outputValue = fill[coords[3]];`,this.userCode=`
        void main() {
          ivec4 coords = getOutputCoords();
          int x = coords[2];
          int y = coords[1];
          float coordXFloat = (float(x) - params[0]) * params[3] -
            (float(y) - params[1]) * params[2];
          float coordYFloat = (float(x) - params[0]) * params[2] +
            (float(y) - params[1]) * params[3];
          int coordX = int(round(coordXFloat + params[0]));
          int coordY = int(round(coordYFloat + params[1]));
          ${n}
          if(coordX >= 0 && coordX < ${i} && coordY >= 0 && coordY < ${r}) {
            outputValue = getImage(coords[0], coordY, coordX, coords[3]);
          }
          setOutput(outputValue);
        }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ip={kernelName:a.b9H,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:r})=>{let{image:i}=e,{radians:n,fillValue:o,center:s}=t,l=new RotateProgram(i.shape,o),[u,c]=a.backend_util.getImageCenter(s,i.shape[1],i.shape[2]),d=[[u,c,Math.sin(n),Math.cos(n)]],p=r.runWebGLProgram(l,[i],i.dtype,d);return p}},ih=`
  // OpenGL ES does not support round function.
  // The algorithm is based on banker's rounding.
  float base = floor(x);
  if ((x - base) < 0.5) {
    return floor(x);
  } else if ((x - base) > 0.5) {
    return ceil(x);
  } else {
    if (mod(base, 2.0) == 0.0) {
      return base;
    } else {
      return base + 1.0;
    }
  }
`,iy=unaryKernelFunc({opSnippet:ih}),ig={kernelName:a.e07,backendName:"webgl",kernelFunc:iy},iv=unaryKernelFunc({opSnippet:"return inversesqrt(x);",cpuKernelImpl:T.St}),im={kernelName:a.bV0,backendName:"webgl",kernelFunc:iv};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ScatterProgram=class ScatterProgram{constructor(e,t,r,i,n,o,a=!0,s=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;let l=(0,d.kW)(n.length),u=(0,d.kW)(o.length),c="";1===r?c="i":2===r&&(c="i, j");let p=`getIndices(${c})`,h="";1===i?h="i":2===i&&(h="i, coords[1]");let f=`getUpdates(${h})`,y="";s&&(y="coords[0], coords[1]");let g=`getDefaultValue(${y})`;this.userCode=`
        ${l} strides = ${l}(${n});

        void main() {
          ${u} coords = getOutputCoords();
          float sum = 0.0;
          bool found = false;
          for (int i = 0; i < ${e}; i++) {
            int flattenedIndex = 0;
            for (int j = 0; j < ${t}; j++) {
              int index = round(${p});
              flattenedIndex += index * ${t>1?"strides[j]":"strides"};
            }
            if (flattenedIndex == coords[0]) {
              sum += ${f};
              found = true;
            }
          }
          setOutput(mix(${g}, sum, float(found)));
        }
      `}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ScatterPackedProgram=class ScatterPackedProgram{constructor(e,t,r,i,n,o,a=!0,s=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o;let l=(0,d.kW)(n.length),u=(0,d.kW)(o.length),c="";1===r?c="i":2===r&&(c="i, j");let p=`getIndices(${c})`,h="";1===i?h="i":2===i&&(h="i, coords[1]");let f=`getUpdates(${h})`,y="";s&&(y="coords[0], coords[1]");let g=`getDefaultValue(${y})`;this.userCode=`
        ${l} strides = ${l}(${n});

        void main() {
          ${u} coords = getOutputCoords();
          vec4 sum = vec4(0.);
          vec4 found = vec4(0.);
          for (int i = 0; i < ${e}; i+=2) {
            ivec2 flattenedIndex = ivec2(0);
            for (int j = 0; j < ${t}; j+=2) {
              ivec4 index = round(${p});
              flattenedIndex += index.xz * ${t>1?"strides[j]":"strides"};
              if (j + 1 < ${t}) {
                flattenedIndex += index.yw * ${t>1?"strides[j + 1]":"strides"};
              }
            }
            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||
                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {
              vec4 updVals = ${f};
              if (flattenedIndex[0] == coords[0]) {
                sum.xy += updVals.xy;
                found.xy = vec2(1.);
              } else if (flattenedIndex[0] == coords[0] + 1) {
                sum.zw += updVals.xy;
                found.zw = vec2(1.);
              }
              if (flattenedIndex[1] == coords[0]) {
                sum.xy += updVals.zw;
                found.xy = vec2(1.);
              } else if (flattenedIndex[1] == coords[0] + 1) {
                sum.zw += updVals.zw;
                found.zw = vec2(1.);
              }
            }
          }
          setOutput(mix(${g}, sum, found));
        }
      `}};let iS={kernelName:a.xQA,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:r,backend:i,attrs:n}=e,{indices:o,updates:s}=r,{shape:l}=n,{sliceRank:u,numUpdates:c,sliceSize:d,strides:p,outputSize:h}=a.backend_util.calculateShapes(s,o,l),f=[h/d,d];if(0===h)return i.makeTensorInfo(l,o.dtype);let y=reshape({inputs:{x:o},backend:i,attrs:{shape:[c,u]}}),g=reshape({inputs:{x:s},backend:i,attrs:{shape:[c,d]}}),v=i.makeTensorInfo([],"float32",new Float32Array([0]));t=(0,a.OBj)().getBool("WEBGL_PACK")?new ScatterPackedProgram(c,u,y.shape.length,g.shape.length,p,f):new ScatterProgram(c,u,y.shape.length,g.shape.length,p,f);let m=i.runWebGLProgram(t,[g,y,v],g.dtype),S=reshape({inputs:{x:m},backend:i,attrs:{shape:l}});return i.disposeIntermediateTensorInfo(y),i.disposeIntermediateTensorInfo(g),i.disposeIntermediateTensorInfo(m),i.disposeIntermediateTensorInfo(v),S}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let SearchSortedProgram=class SearchSortedProgram{constructor(e,t,r,i){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,r];let n=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,o=2===(0,a.OBj)().getNumber("WEBGL_VERSION")?"while (left < right) {":n;this.userCode=`
       int findBound(int batch, float value) {
         int left = 0;
         int right = numInputs;
         int mid;
         ${o}
           mid = (left + right) / 2;
           if (getSortedSequence(batch, mid) ${"left"===i?"<":"<="} value) {
             left = mid + 1;
           } else {
             right = mid;
           }
         }
         return right;
       }

       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int valueIndex = coords[1];

         float value = getValues(batch, valueIndex);

         setOutput(float(findBound(batch, value)));
       }
     `}};let ib={kernelName:a.nr8,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{sortedSequence:n,values:o}=t,{side:a}=i,s=new SearchSortedProgram(n.shape[0],n.shape[1],o.shape[1],a),l=[[n.shape[1]]];return r.runWebGLProgram(s,[n,o],"int32",l)}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let SelectProgram=class SelectProgram{constructor(e,t,r){let i,n;if(this.variableNames=["c","a","b"],this.outputShape=t,r>4)throw Error(`Where for rank ${r} is not yet supported`);if(1===r)n="resRC",i="resRC";else{let r=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],a=[];for(let i=0;i<t.length;i++)a.push(`${r[i]}`),i<e&&o.push(`${r[i]}`);i=o.join(),n=a.join()}let o=(0,d.kW)(r);this.userCode=`
      void main() {
        ${o} resRC = getOutputCoords();
        float cVal = getC(${i});
        if (cVal >= 1.0) {
          setOutput(getA(${n}));
        } else {
          setOutput(getB(${n}));
        }
      }
    `}};let iP={kernelName:a.PhF,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r}=e,{condition:i,t:n,e:o}=t,s=new SelectProgram(i.shape.length,n.shape,n.shape.length);return r.runWebGLProgram(s,[i,n,o],(0,a.x8V)(n.dtype,o.dtype))}},iC=`
  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.
  // see: https://arxiv.org/abs/1706.02515
  float scaleAlpha = ${a.backend_util.SELU_SCALEALPHA};
  float scale = ${a.backend_util.SELU_SCALE};
  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);
`,ix=unaryKernelFunc({opSnippet:iC}),iA={kernelName:a.oFR,backendName:"webgl",kernelFunc:ix},iT=x+`
  return 1.0 / (1.0 + exp(-1.0 * x));
`,i_=`
  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,iR=unaryKernelFunc({opSnippet:iT,packedOpSnippet:i_,cpuKernelImpl:T.UN}),iE={kernelName:a.a5O,backendName:"webgl",kernelFunc:iR},iw=`
  if (isnan(x)) { return 0.0; }
  return sign(x);
`,iD=unaryKernelFunc({opSnippet:iw}),iO={kernelName:a.i5y,backendName:"webgl",kernelFunc:iD},iI=x+`
  return sin(x);
`,iM=`
  vec4 result = sin(x);
  bvec4 isNaN = isnan(x);
  ${p}
  return result;
`,iL=unaryKernelFunc({opSnippet:iI,packedOpSnippet:iM}),ik={kernelName:a.RQH,backendName:"webgl",kernelFunc:iL},iN=`
  float e2x = exp(x);
  return (e2x - 1.0 / e2x) / 2.0;
`,iB=unaryKernelFunc({opSnippet:iN}),iV={kernelName:a.wYB,backendName:"webgl",kernelFunc:iB},iF=`
  float epsilon = 1.1920928955078125e-7;
  float threshold = log(epsilon) + 2.0;

  bool too_large = x > -threshold;
  bool too_small = x < threshold;

  float result;
  float exp_x = exp(x);

  if (too_large){
    result = x;
  }
  else if (too_small){
    result = exp_x;
  }
  else{
    result = log(exp_x + 1.0);
  }
  return result;
`,ij=unaryKernelFunc({opSnippet:iF}),iH={kernelName:a.MRv,backendName:"webgl",kernelFunc:ij},iz={kernelName:a.TQc,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{blockShape:o,paddings:s}=i;a.D5U.assert(n.shape.length<=4,()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet");let l=o.reduce((e,t)=>e*t),u=[[0,0]];u.push(...s);for(let e=1+o.length;e<n.shape.length;++e)u.push([0,0]);let c=[],d=padV2({inputs:{x:n},backend:r,attrs:{paddings:u,constantValue:0}}),p=a.backend_util.getReshaped(d.shape,o,l,!1),h=a.backend_util.getPermuted(p.length,o.length,!1),f=a.backend_util.getReshapedPermuted(d.shape,o,l,!1),y=reshape({inputs:{x:d},backend:r,attrs:{shape:p}}),g=transpose({inputs:{x:y},backend:r,attrs:{perm:h}}),v=reshape({inputs:{x:g},backend:r,attrs:{shape:f}});return c.push(d),c.push(y),c.push(g),c.forEach(e=>r.disposeIntermediateTensorInfo(e)),v}},iG={kernelName:a.O3z,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r}=e,{indices:i,values:n,denseShape:o,defaultValue:a}=t;if(1!==o.shape.length)throw Error(`Dense shape must be a vector, saw:
         ${o.shape}`);if(2!==i.shape.length)throw Error(`Indices must be a matrix, saw:
         ${i.shape}`);if(1!==n.shape.length)throw Error(`Values must be a vector, saw:
         ${n.shape}`);if(0!==a.shape.length)throw Error(`Default value must be a scalar, saw:
        ${a.shape}`);let s=r.readSync(i.dataId),l=r.readSync(n.dataId),u=r.readSync(o.dataId),c=r.readSync(a.dataId)[0],[d,p,h,f,y]=(0,T.X8)(s,i.shape,i.dtype,l,n.dtype,u,c);return[r.makeTensorInfo(p,i.dtype,d),r.makeTensorInfo([p[0]],n.dtype,h),r.makeTensorInfo([f.length],"bool",new Uint8Array(f.map(e=>Number(e)))),r.makeTensorInfo([y.length],i.dtype,new Int32Array(y))]}},iU={kernelName:a.nhH,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r}=e,{inputIndices:i,inputShape:n,newShape:o}=t;if(2!==i.shape.length)throw Error(`Input indices should be a matrix but received shape ${i.shape}`);if(1!==n.shape.length)throw Error(`Input shape should be a vector but received shape ${n.shape}`);if(1!==o.shape.length)throw Error(`Target shape should be a vector but received shape ${o.shape}`);let a=Array.from(r.readSync(n.dataId)),s=r.readSync(i.dataId),l=Array.from(r.readSync(o.dataId)),[u,c,d]=(0,T.LS)(s,i.shape,i.dtype,a,l);return[r.makeTensorInfo(c,i.dtype,u),r.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}},iW={kernelName:a.w3H,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r}=e,{data:i,indices:n,segmentIds:o}=t;if(i.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==n.shape.length)throw Error(`Indices should be a vector but received shape
              ${n.shape}`);if(1!==o.shape.length)throw Error(`Segment ids should be a vector but received shape
              ${o.shape}`);let a=r.readSync(i.dataId),s=r.readSync(n.dataId),l=r.readSync(o.dataId),[u,c]=(0,T.AR)(a,i.shape,i.dtype,s,l,!0);return r.makeTensorInfo(c,i.dtype,u)}},iX={kernelName:a.ZjV,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r}=e,{data:i,indices:n,segmentIds:o}=t;if(i.shape.length<1)throw Error("Data should be at least 1 dimensional but received scalar");if(1!==n.shape.length)throw Error(`Indices should be a vector but received shape
             ${n.shape}`);if(1!==o.shape.length)throw Error(`Segment ids should be a vector but received shape
             ${o.shape}`);let a=r.readSync(i.dataId),s=r.readSync(n.dataId),l=r.readSync(o.dataId),[u,c]=(0,T.AR)(a,i.shape,i.dtype,s,l);return r.makeTensorInfo(c,i.dtype,u)}},iY={kernelName:a.D2d,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{sparseIndices:n,sparseValues:o,defaultValue:s}=t,{outputShape:l}=i,{sliceRank:u,numUpdates:c,sliceSize:d,strides:p,outputSize:h}=a.backend_util.calculateShapes(o,n,l);if("string"===o.dtype){let e=r.bufferSync(n),t=r.bufferSync(o),i=a.D5U.decodeString(r.readSync(s.dataId)[0]),f=(0,T.Y1)(e,t,l,h,d,c,u,p,i,!1);return r.makeTensorInfo(l,f.dtype,f.values)}let f=new ScatterProgram(c,u,n.shape.length,o.shape.length,p,[h,1],!1),y=r.runWebGLProgram(f,[o,n,s],o.dtype),g=reshape({inputs:{x:y},backend:r,attrs:{shape:l}});return r.disposeIntermediateTensorInfo(y),g}},i$={kernelName:a.L8s,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{numOrSizeSplits:o,axis:s}=i,l=a.D5U.parseAxisParam(s,n.shape)[0],u=a.backend_util.prepareSplitSize(n,o,l),c=n.shape.length,d=Array(c).fill(0),p=n.shape.slice();return u.map(e=>{let t=[...p];t[l]=e;let i=slice({inputs:{x:n},backend:r,attrs:{begin:d,size:t}});return d[l]+=e,i})}},iK="return sqrt(x);",iq=unaryKernelFunc({opSnippet:iK,packedOpSnippet:iK,cpuKernelImpl:T.Bk}),iZ={kernelName:a.FKq,backendName:"webgl",kernelFunc:iq},iJ=unaryKernelFunc({opSnippet:"return x * x;"}),iQ={kernelName:a.bK0,backendName:"webgl",kernelFunc:iJ},i0="return (a - b) * (a - b);",i1=binaryKernelFunc({opSnippet:i0,packedOpSnippet:i0}),i2={kernelName:a._tC,backendName:"webgl",kernelFunc:i1},i3={kernelName:a.e0R,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t;if("string"!==n.dtype)throw Error("Input must be of datatype string");let o=r.readSync(n.dataId),s=a.backend_util.fromUint8ToStringArray(o),l=(0,T.F1)(s,"string",i);return r.makeTensorInfo(n.shape,"string",l)}},i5={kernelName:a.h8e,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function({inputs:e,attrs:t,backend:r}){let{x:i}=e,n=P.D1+`
    return x > 0.0 ? 1.0 : float(${t.alpha});
  `,o=new P.l(i.shape,n);return r.runWebGLProgram(o,[i],i.dtype)}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let StridedSliceProgram=class StridedSliceProgram{constructor(e,t,r){this.variableNames=["x"],this.outputShape=r;let i=r.length,n=(0,d.kW)(r.length),o=(0,d.kW)(r.length),a="";if(1===i)a="coords * strides + begin";else{let e=0;a=r.map((t,i)=>(e++,1===r.length?`coords * strides[${i}] + begin[${i}]`:`coords[${e-1}] * strides[${i}] + begin[${i}]`)).join(",")}this.userCode=`
      ${n} begin = ${n}(${e});
      ${n} strides = ${n}(${t});

      void main() {
        ${o} coords = getOutputCoords();
        setOutput(getX(${a}));
      }
    `}};let i4={kernelName:a.jQk,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t;let{inputs:r,backend:i,attrs:n}=e,{x:o}=r,{begin:s,end:l,strides:u,beginMask:c,endMask:d,ellipsisMask:p,newAxisMask:h,shrinkAxisMask:f}=n,{finalShapeSparse:y,finalShape:g,isIdentity:v,sliceDim0:m,isSimpleSlice:S,begin:b,end:P,strides:C}=a.kuN.sliceInfo(o.shape,s,l,u,c,d,p,h,f);if(v)t=reshape({inputs:{x:o},backend:i,attrs:{shape:g}});else if(m||S){a.D5U.assert(o.shape.length>=1,()=>`Input must have rank at least 1, got: ${o.shape.length}`);let e=a.kuN.computeOutShape(b,P,C),r=slice({inputs:{x:o},backend:i,attrs:{begin:b,size:e}});t=reshape({inputs:{x:r},backend:i,attrs:{shape:g}}),i.disposeIntermediateTensorInfo(r)}else{let e=i.shouldExecuteOnCPU([o]);if(e){let e=i.readSync(o.dataId),r=(0,a.f3b)(o.shape,o.dtype,e),n=(0,T.$u)(y,r,C,b);t=i.makeTensorInfo(g,o.dtype,n.values)}else{let e=new StridedSliceProgram(b,C,y);t=i.runWebGLProgram(e,[o],o.dtype)}}let x=reshape({inputs:{x:t},backend:i,attrs:{shape:g}});return i.disposeIntermediateTensorInfo(t),x}},i6={kernelName:a._JP,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{separator:n,nGramWidths:o,leftPad:a,rightPad:s,padWidth:l,preserveShortSequences:u}=i,{data:c,dataSplits:d}=t,p=r.readSync(c.dataId),h=r.readSync(d.dataId),[f,y]=(0,T.$j)(p,h,n,o,a,s,l,u);return[r.makeTensorInfo([f.length],"string",f),r.makeTensorInfo(d.shape,"int32",y)]}},i8={kernelName:a.s1s,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{skipEmpty:n}=i,{input:o,delimiter:a}=t;if("string"!==o.dtype)throw Error("Input must be of datatype string");if(1!==o.shape.length)throw Error(`Input must be a vector, got shape: ${o.shape}`);if(0!==a.shape.length)throw Error(`Delimiter must be a scalar, got shape: ${a.shape}`);let s=r.readSync(o.dataId),l=r.readSync(a.dataId)[0],[u,c,d]=(0,T.A0)(s,l,n),p=c.length;return[r.makeTensorInfo([p,2],"int32",u),r.makeTensorInfo([p],"string",c),r.makeTensorInfo([2],"int32",new Int32Array(d))]}},i7={kernelName:a.XkS,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{numBuckets:n}=i,{input:o}=t;if("string"!==o.dtype)throw Error("Input must be of datatype string");if(n<=0)throw Error("Number of buckets must be at least 1");let a=r.readSync(o.dataId),s=(0,T._9)(a,n);return r.makeTensorInfo(o.shape,"int32",s)}},i9=unaryKernelFunc({opSnippet:"return tan(x);"}),ne={kernelName:a.sEM,backendName:"webgl",kernelFunc:i9},nt=`
  float e2x = exp(-2.0 * abs(x));
  return sign(x) * (1.0 - e2x) / (1.0 + e2x);
`,nr=unaryKernelFunc({opSnippet:nt}),ni={kernelName:a.MIZ,backendName:"webgl",kernelFunc:nr},nn={kernelName:a.SIB,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{tensor:n,indices:o,updates:s}=t,{}=i,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=a.backend_util.calculateShapes(s,o,n.shape),h=[p/c,c];if(0===p)return r.makeTensorInfo(n.shape,o.dtype);let f=reshape({inputs:{x:o},backend:r,attrs:{shape:[u,l]}}),y=reshape({inputs:{x:s},backend:r,attrs:{shape:[u,c]}}),g=reshape({inputs:{x:n},backend:r,attrs:{shape:h}}),v=new ScatterProgram(u,l,f.shape.length,y.shape.length,d,h,!1,!0),m=r.runWebGLProgram(v,[y,f,g],g.dtype),S=reshape({inputs:{x:m},backend:r,attrs:{shape:n.shape}});return r.disposeIntermediateTensorInfo(f),r.disposeIntermediateTensorInfo(y),r.disposeIntermediateTensorInfo(g),r.disposeIntermediateTensorInfo(m),S}};/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let TileProgram=class TileProgram{constructor(e,t){this.variableNames=["A"];let r=Array(e.length);for(let i=0;i<r.length;i++)r[i]=e[i]*t[i];this.outputShape=r,this.rank=r.length;let i=(0,d.kW)(this.rank),n=function(e){let t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;let r=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],i=[];for(let t=0;t<e.length;t++)i.push(`imod(${r[t]}, ${e[t]})`);return i.join()}(e);this.userCode=`
      void main() {
        ${i} resRC = getOutputCoords();
        setOutput(getA(${n}));
      }
    `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tile(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{reps:o}=i;if("string"===n.dtype||n.shape.length>5){let e=r.readSync(n.dataId),t="string"===n.dtype?e.map(e=>a.D5U.decodeString(e)):e,i=(0,a.f3b)(n.shape,n.dtype,t),s=(0,T.KX)(i,o);return r.makeTensorInfo(s.shape,s.dtype,s.values)}let s=new TileProgram(n.shape,o),l=r.runWebGLProgram(s,[n],n.dtype);return l}let no={kernelName:a.n9L,backendName:"webgl",kernelFunc:tile};let SwapProgram=class SwapProgram{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode=`
       void main() {
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // We compare elements pair-wise within a group of size 2 * inc.
         // The comparing rule for each group alternates between ascending
         // and descending. Within each group, we compare each pair at
         // positions i and i+inc. To decide whether an element at position i
         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than
         // inc, it is in the first half of the group, we denote it as x0,
         // otherwise we denote it as x1.
         // For example, as shown in the Bitonic top K paper referenced above,
         // Figure5(a) shows that element[1] is in the
         // second half of the group when group size is 2, but it is in the
         // first half of the group when group size is 4.

         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;
         int i = isFirstInPair ? elemIdx : elemIdx - inc;

         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));
         float x0 = i0 < n ? getX(batch, i0) : negativeInf;
         float x1 = i1 < n ? getX(batch, i1) : negativeInf;

         // Denotes which direction indices are in (ascending or descending).
         bool reverse = imod(elemIdx, 2 * dir) >= dir;
         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);
         if (reverse == isGreater) { // Elements in opposite order of direction
           int iTemp = i0;
           i0 = i1;
           i1 = iTemp;
         }
         if (isFirstInPair) {
            setOutput(float(i0));
         } else {
            setOutput(float(i1));
         }
       }
     `}};let MergeProgram=class MergeProgram{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode=`
    void main() {
         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...
         ivec2 coords = getOutputCoords();
         int batch = coords[0];
         int elemIdx = coords[1];

         // The output size is half of the previous size.
         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),
         // we only need to output the indices at positions |, the indices at
         // positions _ can be thrown away, see Figure5(b) After Phase 2
         // (Merge phase) in the Bitonic Top K paper referenced above.
         // For example, the paper shows we only need to output the orange bars.
         // The output sequence should look like this | | | | | | | |.
         // Because the sequence is halved, to map the output index back
         // to the previous sequence to find the corresponding value,
         // we need to double the index. When we double the index,
         // we basically interpolate a position, so 2i looks like
         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position
         // of each 2k positions by - elemIdx % k. E.g. for output at
         // index 4,5,6,7, we want to get the corresponding element at
         // original index 8,9,10,11, for output at index 8,9,10,11,
         // we want to get the corresponding element at original index
         // 16,17,18,19, so on and so forth.

         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));
         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));
         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));

         float x0 = getX(batch, i0);
         float x1 = i1 < n ? getX(batch, i1) : x0;

         setOutput(x0 >= x1 ? float(i0) : float(i1));
       }
     `}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function disposeIntermediateTensorInfoOrNull(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function roundUpToPow2(e){let t=1;for(;t<e;)t*=2;return t}let na={kernelName:a.cWu,backendName:"webgl",kernelFunc:function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n}=t,{k:o,sorted:s}=i,l=(0,a.OBj)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),u=(0,a.OBj)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=n.shape,d=c[c.length-1];if(r.shouldExecuteOnCPU([n])||d<l||o>u){let e=r.readSync(n.dataId),[t,i]=(0,T.oC)(e,c,n.dtype,o,s);return[r.makeTensorInfo(t.shape,t.dtype,t.values),r.makeTensorInfo(i.shape,i.dtype,i.values)]}if(0===o)return c[c.length-1]=0,[r.makeTensorInfo(c,n.dtype,[]),r.makeTensorInfo(c,"int32",[])];if(1===d)return[n,fill({attrs:{shape:c,dtype:"int32",value:0},backend:r})];let p=r.texData.get(n.dataId),h=null!==p&&p.isPacked,f=h?r.unpackTensor(n):n,y=a.D5U.sizeFromShape(c),g=y/d,v=reshape({inputs:{x:f},attrs:{shape:[g,d]},backend:r});h&&disposeIntermediateTensorInfoOrNull(r,f);let m=roundUpToPow2(o),S=roundUpToPow2(d),b=null,getInputs=()=>null===b?[v,v]:[v,b],runSwap=(e,t,i)=>{let n=getInputs(),o=new SwapProgram(i),a=null===b?1:0,s=[[d],[a],[Number.NEGATIVE_INFINITY],[e],[t]],l=b;b=r.runWebGLProgram(o,n,"int32",s),disposeIntermediateTensorInfoOrNull(r,l)};for(let e=1;e<m;e*=2){let t=2*e;for(let r=e;r>=1;r/=2)runSwap(t,r,[g,S])}for(let e=S;e>m;e/=2){let t=getInputs(),i=new MergeProgram([g,e/2]),n=null===b?1:0,o=[[d],[n],[m]],a=b;b=r.runWebGLProgram(i,t,"int32",o),disposeIntermediateTensorInfoOrNull(r,a);let s=m/2,l=2*s;for(let e=s;e>=1;e/=2)runSwap(l,e,b.shape)}let P=b;b=slice({inputs:{x:b},backend:r,attrs:{begin:0,size:[g,o]}}),disposeIntermediateTensorInfoOrNull(r,P);let C=gatherV2({inputs:{x:v,indices:b},backend:r,attrs:{axis:1,batchDims:1}});disposeIntermediateTensorInfoOrNull(r,v);let x=c.slice(0,-1);x.push(o),P=b,b=reshape({inputs:{x:b},attrs:{shape:x},backend:r}),disposeIntermediateTensorInfoOrNull(r,P);let A=C;return C=reshape({inputs:{x:C},attrs:{shape:x},backend:r}),disposeIntermediateTensorInfoOrNull(r,A),[C,b]}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let TransformProgram=class TransformProgram{constructor(e,t,r,i,n,o){let a;switch(this.variableNames=["Image","Transforms"],this.outputShape=o,i){case"constant":default:a=1;break;case"reflect":a=2;break;case"wrap":a=3;break;case"nearest":a=4}this.userCode=`
            float mapCoord(float outCoord, float len) {
              float inCoord = outCoord;
              if(${a} == 2) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    if (inCoord < sz2) {
                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +
                      inCoord;
                    }
                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz2 = 2.0 * len;
                    inCoord -= sz2 * float(int(float(inCoord / sz2)));
                    if (inCoord >= len) {
                      inCoord = sz2 - inCoord - 1.0;
                    }
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${a} == 3) {
                if (inCoord < 0.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);
                  }
                } else if (inCoord > len - 1.0) {
                  if (len <= 1.0) {
                    inCoord = 0.0;
                  } else {
                    float sz = len - 1.0;
                    inCoord -= len * float(int(float(inCoord / sz)));
                  }
                }
                return clamp(inCoord, 0.0, len - 1.0);
              } else if (${a} == 4) {
                return clamp(outCoord, 0.0, len - 1.0);
              } else {
                return outCoord;
              }
            }

            float readWithFillValue(int batch, int coordY, int coordX,
              int channel) {
              float outputValue;
              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {
                  outputValue = getImage(batch, coordY, coordX, channel);
              } else {
                outputValue = float(${n});
              }
              return outputValue;
            }

            void main() {
              ivec4 coords = getOutputCoords();
              float outputValue;
              int batch = coords[0];
              int x = coords[2];
              int y = coords[1];
              int channel = coords[3];
              float xf = float(x);
              float yf = float(y);
              float a1 = getTransforms(batch, 0);
              float a2 = getTransforms(batch, 1);
              float a3 = getTransforms(batch, 2);
              float b1 = getTransforms(batch, 3);
              float b2 = getTransforms(batch, 4);
              float b3 = getTransforms(batch, 5);
              float c1 = getTransforms(batch, 6);
              float c2 = getTransforms(batch, 7);
              float projection = c1 * xf + c2 * yf + 1.0;
              if (projection == 0.0) {
                outputValue = float(${n});
              } else {
                float inX = (a1 * xf + a2 * yf + a3) / projection;
                float inY = (b1 * xf + b2 * yf + b3) / projection;
                float mapX = mapCoord(inX, float(${t}));
                float mapY = mapCoord(inY, float(${e}));

                if (${"nearest"===r?1:2} == 1) {
                  int coordY = int(round(mapY));
                  int coordX = int(round(mapX));
                  outputValue = readWithFillValue(batch, coordY, coordX,
                    channel);
                } else {
                  float yFloor = floor(mapY);
                  float xFloor = floor(mapX);
                  float yCeil = yFloor + 1.0;
                  float xCeil = xFloor + 1.0;
                  float valueYFloor = (xCeil - mapX) *
                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);
                  float valueYCeil = (xCeil - mapX) *
                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +
                  (mapX - xFloor) *
                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);
                  outputValue = (yCeil - mapY) * valueYFloor +
                  (mapY - yFloor) * valueYCeil;
                }
              }
              setOutput(outputValue);
            }
        `}};let ns={kernelName:a.wx7,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{image:n,transforms:o}=t,{interpolation:a,fillMode:s,fillValue:l,outputShape:u}=i,[c,d,p,h]=n.shape,[f,y]=null!=u?u:[d,p],g=new TransformProgram(d,p,a,s,l,[c,f,y,h]);return r.runWebGLProgram(g,[n,o],"float32")}},nl={kernelName:a.kpP,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,attrs:r,backend:i}=e,{axis:n}=r,{x:o}=t;(0,w.HS)(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");let a=i.readSync(o.dataId),{outputValues:s,outputShape:l,indices:u}=(0,T.CV)(a,n,o.shape,o.dtype);return[i.makeTensorInfo(l,o.dtype,s),i.makeTensorInfo([u.length],"int32",u)]}},nu={kernelName:a.ToN,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{value:n}=t,{axis:o}=i;o<0&&(o+=n.shape.length);let a=n.shape.length,s=n.shape[o],l=Array(a-1),u=0;for(let e=0;e<a;e++)e!==o&&(l[u++]=n.shape[e]);let c=[],d=Array(a).fill(0),p=n.shape.slice();p[o]=1;let h=Array(s);for(let e=0;e<h.length;e++){d[o]=e;let t=slice({inputs:{x:n},backend:r,attrs:{begin:d,size:p}}),i=reshape({inputs:{x:t},backend:r,attrs:{shape:l}});h[e]=i,c.push(t)}return c.forEach(e=>r.disposeIntermediateTensorInfo(e)),h}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let SegmentOpProgram=class SegmentOpProgram{constructor(e,t){this.variableNames=["x","segmentIds"];let r=e.windowSize,i=e.batchSize,n=e.inSize,o=e.numSegments,a=o*Math.ceil(n/r);this.outputShape=[i,a];let s=4*Math.floor(r/4),l=r%4,u=`
        sumValue += dot(values, segFilter);
    `,c="";n%r>0&&(c=`
        if (inIdx < 0 || inIdx >= ${n}) {
          return initializationValue;
        }
      `);let d="";n%r>0&&(d=`
        if (inIdx < 0 || inIdx >= ${n}) {
          return -1.0;
        }
      `),this.userCode=`
      const float initializationValue = 0.0;

      float getValue(int batch, int inIdx) {
        ${c}
        return getX(batch, inIdx);
      }

      float getSegmentIdAtIndex(int inIdx) {
        ${d}
        return getSegmentIds(inIdx);
      }

      void main() {
        ivec2 coords = getOutputCoords();
        int batch = coords[0];
        int outIdx = coords[1];
        int inOffset = int(floor(float(outIdx) / float(
          ${o})) * float(${r}));
        int currentSeg = int(mod(float(outIdx), float(${o})));

        float sumValue = 0.0;

        for (int i = 0; i < ${s}; i += 4) {
          int inIdx = inOffset + i;
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            getValue(batch, inIdx + 3)
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0
          );

          ${u}
        }

        int inIdx = inOffset + ${s};
        if (${1===l}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            initializationValue,
            initializationValue,
            initializationValue
          );

          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            0,
            0,
            0
          );

          ${u}
        } else if (${2===l}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            initializationValue,
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
              0,
              0
          );

          ${u}
        } else if (${3===l}) {
          vec4 values = vec4(
            getValue(batch, inIdx),
            getValue(batch, inIdx + 1),
            getValue(batch, inIdx + 2),
            initializationValue
          );

          vec4 segFilter = vec4(
            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,
            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,
            0
          );

          ${u}
        }
        setOutput(sumValue);
      }
    `}};let nc={kernelName:a.Qvg,backendName:"webgl",kernelFunc:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r,attrs:i}=e,{x:n,segmentIds:o}=t,{numSegments:s}=i,l=n.shape.length,u=[],c=0,d=a.backend_util.getAxesPermutation([c],l),p=n;null!=d&&(p=transpose({inputs:{x:n},backend:r,attrs:{perm:d}}),u.push(p),c=a.backend_util.getInnerMostAxes(1,l)[0]);let h=a.backend_util.segment_util.computeOutShape(p.shape,c,s),f=a.D5U.sizeFromShape([p.shape[c]]),y=reshape({inputs:{x:p},backend:r,attrs:{shape:[-1,f]}});u.push(y);let g=(0,a.z4k)(n.dtype),segOpCompute=(e,t,i,n,o)=>{let s=e.shape[0],l=e.shape[1],c=a.backend_util.segment_util.segOpComputeOptimalWindowSize(l,o),d=new SegmentOpProgram({windowSize:c,inSize:l,batchSize:s,numSegments:o},t),p=r.compileAndRun(d,[e,i],n);if(u.push(p),p.shape[1]===o)return p;let h=range({backend:r,attrs:{start:0,stop:o,step:1,dtype:"float32"}}),f=tile({inputs:{x:h},backend:r,attrs:{reps:[l/c]}});u.push(h),u.push(f);let y=segOpCompute(p,t,f,n,o);return y},v=segOpCompute(y,"unsortedSegmentSum",o,g,s),m=reshape({inputs:{x:v},backend:r,attrs:{shape:h}}),S=m;if(null!=d){u.push(m);let e=a.backend_util.getUndoAxesPermutation(d);S=transpose({inputs:{x:S},backend:r,attrs:{perm:e}})}return u.forEach(e=>r.disposeIntermediateTensorInfo(e)),S}};for(let e of[M,k,V,H,U,W,X,Y,$,K,J,et,en,el,ed,ep,eh,ef,ey,eg,ev,eb,eP,eA,eT,ew,eI,eM,f,eL,eN,eV,eF,ej,eH,ez,eG,eY,eq,eZ,eJ,eQ,e0,e1,e2,e3,e5,e4,e6,e8,te,tr,to,tl,tp,th,tg,tv,tm,tS,tC,t_,tE,tD,tO,tI,tM,tN,tF,h,tj,ek,tz,tU,tX,v,tK,tJ,tQ,t3,t6,t9,rt,rn,ro,ra,rs,rd,rp,rh,rf,ry,rg,rv,rm,rC,rx,rR,rN,R,rF,rH,rG,rW,eR,rX,r$,rK,rq,r0,b,r1,r2,r3,r5,r4,eE,rO,r8,it,ia,D,is,il,iu,ic,id,ip,ig,im,iS,ib,iP,iA,iE,iO,ik,iV,eS,rk,iH,iz,iG,iU,iW,iX,iY,i$,iZ,iQ,i2,i3,i5,i4,i6,i8,i7,rL,O,ne,ni,nn,no,na,ns,I,nl,nu,nc,rY])(0,a.wCN)(e);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */},72284:function(e,t,r){"use strict";r.d(t,{cK:function(){return D},qO:function(){return O},cx:function(){return I},XM:function(){return M},cm:function(){return L},pk:function(){return k},n7:function(){return N},gv:function(){return B},aX:function(){return V},tx:function(){return F},MZ:function(){return j},TD:function(){return H},m$:function(){return z},ji:function(){return U},B_:function(){return G},Rn:function(){return X},kY:function(){return W},PQ:function(){return Y},Sd:function(){return $},$O:function(){return K},nL:function(){return q},r:function(){return Z},Th:function(){return J},Bo:function(){return Q},cZ:function(){return ee},Tg:function(){return et},Qs:function(){return er},M8:function(){return ei},fy:function(){return en},hO:function(){return eo},St:function(){return ea},Y1:function(){return es},UN:function(){return el},CJ:function(){return eu},nT:function(){return ec},X8:function(){return ed},LS:function(){return ep},AR:function(){return eh},Bk:function(){return ef},F1:function(){return ey},$u:function(){return eg},$j:function(){return ev},A0:function(){return em},_9:function(){return eS},kI:function(){return eb},KX:function(){return eP},oC:function(){return eC},Fv:function(){return ex},CV:function(){return eA}});var i={};r.r(i),r.d(i,{addImpl:function(){return o},bincountImpl:function(){return bincountImpl},bincountReduceImpl:function(){return bincountReduceImpl},bitwiseAndImpl:function(){return s},castImpl:function(){return castImpl},ceilImpl:function(){return l},concatImpl:function(){return concatImpl},equalImpl:function(){return u},expImpl:function(){return c},expm1Impl:function(){return d},floorImpl:function(){return p},gatherNdImpl:function(){return gatherNdImpl},gatherV2Impl:function(){return gatherV2Impl},greaterEqualImpl:function(){return f},greaterImpl:function(){return h},lessEqualImpl:function(){return g},lessImpl:function(){return y},linSpaceImpl:function(){return linSpaceImpl},logImpl:function(){return v},maxImpl:function(){return maxImpl},maximumImpl:function(){return m},minimumImpl:function(){return S},multiplyImpl:function(){return b},negImpl:function(){return negImpl},notEqualImpl:function(){return C},prodImpl:function(){return prodImpl},raggedGatherImpl:function(){return raggedGatherImpl},raggedRangeImpl:function(){return raggedRangeImpl},raggedTensorToTensorImpl:function(){return raggedTensorToTensorImpl},rangeImpl:function(){return rangeImpl},rsqrtImpl:function(){return A},scatterImpl:function(){return scatterImpl},sigmoidImpl:function(){return T},simpleAbsImpl:function(){return simpleAbsImpl},sliceImpl:function(){return sliceImpl},sparseFillEmptyRowsImpl:function(){return sparseFillEmptyRowsImpl},sparseReshapeImpl:function(){return sparseReshapeImpl},sparseSegmentReductionImpl:function(){return sparseSegmentReductionImpl},sqrtImpl:function(){return _},staticRegexReplaceImpl:function(){return R},stridedSliceImpl:function(){return stridedSliceImpl},stringNGramsImpl:function(){return stringNGramsImpl},stringSplitImpl:function(){return stringSplitImpl},stringToHashBucketFastImpl:function(){return stringToHashBucketFastImpl},subImpl:function(){return E},tileImpl:function(){return tileImpl},topKImpl:function(){return topKImpl},transposeImpl:function(){return transposeImpl},uniqueImpl:function(){return uniqueImpl}});var n=r(92427);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function assertNotComplex(e,t){Array.isArray(e)||(e=[e]),e.forEach(e=>{null!=e&&n.D5U.assert("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function simpleAbsImpl(e){let t=new Float32Array(e.length);for(let r=0;r<e.length;++r)t[r]=Math.abs(e[r]);return t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function createSimpleBinaryKernelImpl(e){return(t,r,i,o,a)=>{let s=n.backend_util.assertAndGetBroadcastShape(t,r),l=s.length,u=n.D5U.computeStrides(s),c=n.D5U.sizeFromShape(s),d=n.D5U.getTypedArrayFromDType(a,c),p=t.length,h=r.length,f=n.D5U.computeStrides(t),y=n.D5U.computeStrides(r),g=n.backend_util.getBroadcastDims(t,s),v=n.backend_util.getBroadcastDims(r,s);if(g.length+v.length===0)for(let t=0;t<d.length;++t)d[t]=e(i[t%i.length],o[t%o.length]);else for(let t=0;t<d.length;++t){let r=n.D5U.indexToLoc(t,l,u),a=r.slice(-p);g.forEach(e=>a[e]=0);let s=n.D5U.locToIndex(a,p,f),c=r.slice(-h);v.forEach(e=>c[e]=0);let m=n.D5U.locToIndex(c,h,y);d[t]=e(i[s],o[m])}return[d,s]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function complex(e){let{inputs:t,backend:r}=e,{real:i,imag:n}=t,o=r.data.get(i.dataId).values,a=r.data.get(n.dataId).values,s=r.makeTensorInfo(i.shape,"complex64"),l=r.data.get(s.dataId);return l.complexTensorInfos={real:r.makeTensorInfo(i.shape,"float32",o),imag:r.makeTensorInfo(n.shape,"float32",a)},s}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function identity(e){let{inputs:t,backend:r}=e,{x:i}=t;return r.incRef(i.dataId),{dataId:i.dataId,shape:i.shape,dtype:i.dtype}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function castImpl(e,t,r,i){if("int32"===i){let r=Int32Array.from(e);return[t,"int32",r]}if("bool"===i){let i=n.D5U.toTypedArray([0],r),[o,a]=createSimpleBinaryKernelImpl((e,t)=>e!==t?1:0)(t,[],e,i,"bool");return[a,"bool",o]}throw Error(`Error in Cast: failed to cast ${r} to ${i}`)}function cast(e){let{inputs:t,backend:r,attrs:i}=e,{x:o}=t,{dtype:a}=i;if("complex64"===a){if("complex64"===o.dtype)return identity({inputs:{x:o},backend:r});let e=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zeros(e,t,r="float32"){if("complex64"===r){let r=zeros(e,t,"float32"),i=zeros(e,t,"float32");return complex({inputs:{real:r,imag:i},backend:e})}let i=n.D5U.makeZerosTypedArray(n.D5U.sizeFromShape(t),r);return e.makeTensorInfo(t,r,i)}(r,o.shape,o.dtype),t=cast({inputs:{x:o},backend:r,attrs:{dtype:"float32"}}),i=complex({inputs:{real:t,imag:e},backend:r});return r.disposeIntermediateTensorInfo(e),r.disposeIntermediateTensorInfo(t),i}if("complex64"===o.dtype){let e=/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let{inputs:t,backend:r}=e,{input:i}=t,n=r.data.get(i.dataId).complexTensorInfos.real,o=r.data.get(n.dataId).values;return r.makeTensorInfo(n.shape,n.dtype,o)}({inputs:{input:o},backend:r}),t=cast({inputs:{x:e},backend:r,attrs:{dtype:a}});return r.disposeIntermediateTensorInfo(e),t}if(!n.D5U.hasEncodingLoss(o.dtype,a)){let e=identity({inputs:{x:o},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:a}}let s=r.data.get(o.dataId).values,[l,u,c]=castImpl(s,o.shape,o.dtype,a);return r.makeTensorInfo(l,u,c)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function binaryKernelFunc(e,t,r,i){return null==r?({inputs:r,backend:o})=>{let{a,b:s}=r;assertNotComplex([a,s],e);let l=o.data.get(a.dataId).values,u=o.data.get(s.dataId).values,c="string"===a.dtype?n.backend_util.fromUint8ToStringArray(l):l,d="string"===a.dtype?n.backend_util.fromUint8ToStringArray(u):u,p=i||a.dtype,[h,f]=t(a.shape,s.shape,c,d,p);return o.makeTensorInfo(f,p,h)}:({inputs:e,backend:n})=>{let{a:o,b:a}=e;if("complex64"===o.dtype||"complex64"===a.dtype){let e=cast({inputs:{x:o},backend:n,attrs:{dtype:"complex64"}}),t=n.data.get(e.dataId),i=t.complexTensorInfos.real,s=t.complexTensorInfos.imag,l=n.data.get(i.dataId).values,u=n.data.get(s.dataId).values,c=cast({inputs:{x:a},backend:n,attrs:{dtype:"complex64"}}),d=n.data.get(c.dataId),p=d.complexTensorInfos.real,h=d.complexTensorInfos.imag,f=n.data.get(p.dataId).values,y=n.data.get(h.dataId).values,[g,v,m]=r(o.shape,a.shape,l,u,f,y),S=n.makeTensorInfo(m,"float32",g),b=n.makeTensorInfo(m,"float32",v),P=complex({inputs:{real:S,imag:b},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(S),n.disposeIntermediateTensorInfo(b),P}{let e=n.data.get(o.dataId).values,r=n.data.get(a.dataId).values,s=i||o.dtype,[l,u]=t(o.shape,a.shape,e,r,s);return n.makeTensorInfo(u,s,l)}}}function createComplexBinaryKernelImpl(e){return(t,r,i,o,a,s)=>{let l=n.backend_util.assertAndGetBroadcastShape(t,r),u=n.D5U.sizeFromShape(l),c=l.length,d=n.D5U.computeStrides(l),p=n.D5U.getTypedArrayFromDType("float32",u),h=n.D5U.getTypedArrayFromDType("float32",u),f=n.backend_util.getBroadcastDims(t,l),y=n.backend_util.getBroadcastDims(r,l),g=n.backend_util.mergeRealAndImagArrays(i,o),v=n.backend_util.mergeRealAndImagArrays(a,s),m=t.length,S=n.D5U.computeStrides(t),b=r.length,P=n.D5U.computeStrides(r);if(f.length+y.length===0)for(let t=0;t<p.length;t++){let r=t%g.length,i=t%v.length,n=e(g[2*r],g[2*r+1],v[2*i],v[2*i+1]);p[t]=n.real,h[t]=n.imag}else for(let t=0;t<p.length;t++){let r=n.D5U.indexToLoc(t,c,d),i=r.slice(-m);f.forEach(e=>i[e]=0);let o=n.D5U.locToIndex(i,m,S),a=r.slice(-b);y.forEach(e=>a[e]=0);let s=n.D5U.locToIndex(a,b,P),l=e(g[2*o],g[2*o+1],v[2*s],v[2*s+1]);p[t]=l.real,h[t]=l.imag}return[p,h,l]}}n.SYM,n.Zz9,n.iJz,n.xJR,n.RFZ;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let o=createSimpleBinaryKernelImpl((e,t)=>e+t),a=createComplexBinaryKernelImpl((e,t,r,i)=>({real:e+r,imag:t+i}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bincountImpl(e,t,r,i,o){let a=n.D5U.sizeFromShape(i),s=n.D5U.makeZerosTypedArray(o,r);for(let r=0;r<e.length;r++){let i=e[r];if(i<0)throw Error("Input x must be non-negative!");i>=o||(a>0?s[i]+=t[r]:s[i]+=1)}return s}function bincountReduceImpl(e,t,r,i=!1){let o=e.shape[0],a=e.shape[1],s=(0,n.f3b)([o,r],t.dtype);for(let n=0;n<o;n++)for(let o=0;o<a;o++){let a=e.get(n,o);if(a<0)throw Error("Input x must be non-negative!");a>=r||(i?s.set(1,n,a):t.size>0?s.set(s.get(n,a)+t.get(n,o),n,a):s.set(s.get(n,a)+1,n,a))}return s}binaryKernelFunc(n.mm_,o,a),n.mm_;/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let s=createSimpleBinaryKernelImpl((e,t)=>e&t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function createSimpleUnaryImpl(e){return(t,r,i)=>{let o=n.D5U.getArrayFromDType(r,t.length);for(let r=0;r<t.length;++r)o[r]=e(t[r],i);return o}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function unaryKernelFunc(e,t,r){let i=createSimpleUnaryImpl(t);return unaryKernelFuncFromImpl(e,i,r)}function unaryKernelFuncFromImpl(e,t,r){return({inputs:i,attrs:o,backend:a})=>{let s;let{x:l}=i;assertNotComplex(l,e);let u=a.data.get(l.dataId).values;if("string"===l.dtype){if(!Array.isArray(u))throw Error("String tensor's value was not an instance of Array");s=n.backend_util.fromUint8ToStringArray(u)}else s=u;let c=r||l.dtype,d=t(s,c,o);return a.makeTensorInfo(l.shape,c,d)}}binaryKernelFunc(n.hCO,s),n.hCO;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let l=createSimpleUnaryImpl(e=>Math.ceil(e));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function concatImpl(e,t,r,i){let o=n.D5U.getArrayFromDType(r,n.D5U.sizeFromShape(t));if(i&&"string"!==r){let t=0;e.forEach(e=>{let r=n.D5U.sizeFromShape(e.shape);o.set(e.vals,t),t+=r})}else{let i=0;e.forEach(e=>{let a="string"===r?n.backend_util.fromUint8ToStringArray(e.vals):e.vals,s=0;for(let r=0;r<e.shape[0];++r){let n=r*t[1]+i;for(let t=0;t<e.shape[1];++t)o[n+t]=a[s++]}i+=e.shape[1]})}return o}unaryKernelFuncFromImpl(n.gJX,l),n.gJX;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let u=createSimpleBinaryKernelImpl((e,t)=>e===t?1:0);binaryKernelFunc(n.hdR,u,null,"bool"),n.hdR;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let c=createSimpleUnaryImpl(e=>Math.exp(e));unaryKernelFuncFromImpl(n.NEP,c,"float32"),n.NEP;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let d=createSimpleUnaryImpl(e=>Math.expm1(e));unaryKernelFuncFromImpl(n.Y0y,d),n.Y0y;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let p=createSimpleUnaryImpl(e=>Math.floor(e));/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gatherNdImpl(e,t,r,i,o,a,s,l,u){let c=(0,n.f3b)([i,a],r);for(let r=0;r<i;r++){let i=[],n=0;for(let t=0;t<o;t++){let a=e[r*o+t];n+=a*s[t],i.push(a)}if(n<0||n>=u/a)throw Error(`Invalid indices: ${i} does not index into ${l}`);for(let e=0;e<a;e++)c.values[r*a+e]=t.get(...t.indexToLoc(n*a+e))}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gatherV2Impl(e,t,r){let i=(0,n.f3b)(r,e.dtype);for(let r=0;r<i.size;++r){let n=i.indexToLoc(r),o=n.slice(),a=o[0],s=o[2],l=t.locToIndex([a,s]);o[2]=t.values[l];let u=e.locToIndex(o);0<=u&&u<e.values.length&&(i.values[r]=e.values[u])}return i}unaryKernelFuncFromImpl(n.OR,p),n.OR;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let h=createSimpleBinaryKernelImpl((e,t)=>e>t?1:0);binaryKernelFunc(n.iZT,h,null,"bool"),n.iZT;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let f=createSimpleBinaryKernelImpl((e,t)=>e>=t?1:0);binaryKernelFunc(n.Acj,f,null,"bool"),n.Acj;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let y=createSimpleBinaryKernelImpl((e,t)=>e<t?1:0);binaryKernelFunc(n.vtC,y,null,"bool"),n.vtC;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let g=createSimpleBinaryKernelImpl((e,t)=>e<=t?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function linSpaceImpl(e,t,r){let i=(t-e)/(r-1),o=n.D5U.makeZerosTypedArray(r,"float32");o[0]=e;for(let e=1;e<o.length;e++)o[e]=o[e-1]+i;return o}binaryKernelFunc(n.CAk,g,null,"bool"),n.CAk;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let v=createSimpleUnaryImpl(e=>Math.log(e));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function maxImpl(e,t,r,i){let o=n.D5U.getTypedArrayFromDType(i,n.D5U.sizeFromShape(r));for(let r=0;r<o.length;++r){let i=r*t,n=e[i];for(let r=0;r<t;++r){let t=e[i+r];(Number.isNaN(t)||t>n)&&(n=t)}o[r]=n}return o}unaryKernelFuncFromImpl(n.ZbH,v),n.ZbH;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let m=createSimpleBinaryKernelImpl((e,t)=>Math.max(e,t));binaryKernelFunc(n.BMI,m),n.BMI;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let S=createSimpleBinaryKernelImpl((e,t)=>Math.min(e,t));binaryKernelFunc(n.q8u,S),n.q8u;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let b=createSimpleBinaryKernelImpl((e,t)=>e*t),P=createComplexBinaryKernelImpl((e,t,r,i)=>({real:e*r-t*i,imag:e*i+t*r}));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function negImpl(e,t,r){let i=n.D5U.createScalarValue(-1,r);return b([],t,i,e,r)}binaryKernelFunc(n.wYn,b,P),n.wYn,n.kuV;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let C=createSimpleBinaryKernelImpl((e,t)=>e!==t?1:0);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function transposeImpl(e,t,r,i,o){let a=t.length,s=n.D5U.sizeFromShape(t),l=n.D5U.computeStrides(t),u=n.D5U.computeStrides(o),c=n.D5U.getTypedArrayFromDType(r,n.D5U.sizeFromShape(o));for(let t=0;t<s;++t){let r=n.D5U.indexToLoc(t,a,l),o=Array(r.length);for(let e=0;e<o.length;e++)o[e]=r[i[e]];let s=n.D5U.locToIndex(o,a,u);c[s]=e[t]}return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function prodImpl(e,t,r,i){let[o,a]=n.backend_util.computeOutAndReduceShapes(e,i),s=(0,n.x8V)(t,"int32"),l=n.D5U.makeZerosTypedArray(n.D5U.sizeFromShape(o),s),u=n.D5U.sizeFromShape(a);for(let e=0;e<l.length;++e){let t=e*u,i=1;for(let e=0;e<u;++e)i*=r[t+e];l[e]=i}return{outVals:l,outShape:o,outDtype:s}}function computeFlatOuterDims(e,t){let r=e.slice(0,t);for(;r.length<t;)r.push(1);for(let i=t;i<e.length;i++)r[t-1]*=e[i];return r}function raggedGatherImpl(e,t,r,i,o,a,s,l){if(0===e.length)throw Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw Error("Split tensors must not be scalars");let u=t[0][0]-1;if(!/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r){e.forEach((e,i)=>{if(e<0||e>=r){let o=n.D5U.indexToLoc(i,t.length,n.D5U.computeStrides(t)).join(",");throw Error(`indices[${o}] = ${e} is not in [0, ${r})`)}})}(a,s,u),0===i.length)throw Error("params.rank must be nonzero");let c=i[0],{outSplits:d,valueSlices:p,numValues:h}=function(e,t,r,i){let n=[],o=0,a=t.length-1+r.length,s=Array(a).fill(null).map(()=>[0]);!function(e,t){for(let r=0;r<e.length;++r){let i=e[r],n=r===e.length-1?t:e[r+1].length;if(0===i.length)throw Error("Ragged splits may not be empty");if(i[0]<0)throw Error("Ragged splits must be non-negative");if(i[i.length-1]>n)throw Error("Ragged splits must not point past values");for(let e=1;e<i.length;++e)if(i[e-1]>i[e])throw Error("Ragged splits must be sorted in ascending order")}}(r,i);let l=1;for(let e=0;e<t.length-1;++e){l*=t[e];let r=t[e+1];for(let t=1;t<l+1;++t)s[e].push(t*r)}for(let i=0;i<e.length;++i){let a=e[i],l=e[i]+1;for(let e=0;e<r.length;++e){let i=r[e],n=e+t.length-1;if(n>=0){let e=s[n],t=e[e.length-1]-i[a];for(let e=a;e<l;++e)s[n].push(i[e+1]+t)}a=i[a],l=i[l]}l!==a&&(n.push([a,l]),o+=l-a)}return{outSplits:s,valueSlices:n,numValues:o}}(a,s,e,c),f=function(e){let t=[];for(let r=0;r<e.length;++r){let i=e[r].length,o=n.D5U.getArrayFromDType("int32",i);t.push(o),e[r].forEach((e,t)=>o[t]=e)}return t}(d),y=function(e,t,r,i,o){let a=t.slice();a[0]=o;let s=n.D5U.getArrayFromDType(r,n.D5U.sizeFromShape(a)),l=e.length,u=0===l?0:l/t[0];return!function(e,t,r,i,n,o){let a=computeFlatOuterDims(t,2)[1],s=computeFlatOuterDims(o,2)[1],l=0;for(let t of r)for(let r=t[0];r<t[1];++r){for(let t=0;t<i;++t)n[l*s+t]=e[r*a+t];++l}}(e,t,i,u,s,a),[s,a]}(r,i,o,p,h);return[f,y[0],y[1]]}function raggedRangeImpl(e,t,r,i,o,a,s){if(t.length>1)throw Error("starts must be a scalar or vector");if(o.length>1)throw Error("limits must be a scalar or vector");if(s.length>1)throw Error("deltas must be a scalar or vector");let l=0===t.length,u=0===o.length,c=0===s.length,d=[];l||d.push(t[0]),u||d.push(o[0]),c||d.push(s[0]);for(let e=1;e<d.length;++e)if(d[e]!==d[e-1])throw Error("starts, limits, and deltas must have the same shape");let p=0===d.length?1:d[0],h=n.D5U.getArrayFromDType("int32",p+1);h[0]=0;for(let t=0;t<p;++t){let r;let n=l?e[0]:e[t],o=u?i[0]:i[t],s=c?a[0]:a[t];if(0===s)throw Error("Requires delta != 0");if(s>0&&o<n||s<0&&o>n)r=0;else if((r=Math.ceil(Math.abs((o-n)/s)))>2147483647)throw Error("Requires ((limit - start) / delta) <= 2147483647");h[t+1]=h[t]+r}let f=h[p],y=n.D5U.getArrayFromDType(r,f),g=0;for(let t=0;t<p;++t){let r=h[t+1]-h[t],i=l?e[0]:e[t],n=c?a[0]:a[t];for(let e=0;e<r;++e)y[g++]=i,i+=n}return[h,y]}binaryKernelFunc(n.yQU,C,null,"bool"),n.yQU,n.G3Y,n.DlI;/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var x=n.backend_util.RowPartitionType;let RaggedTensorToTensorOp=class RaggedTensorToTensorOp{constructor(e,t,r,i,o,a,s,l,u,c){this.shape=e,this.shapeShape=t,this.values=r,this.valuesShape=i,this.valuesDType=o,this.defaultValue=a,this.defaultValueShape=s,this.rowPartitionValues=l,this.rowPartitionValuesShapes=u,this.rowPartitionTypes=n.backend_util.getRowPartitionTypesHelper(c),this.raggedRank=n.backend_util.getRaggedRank(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===x.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===x.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){let t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case x.VALUE_ROWIDS:return RaggedTensorToTensorOp.getMaxWidthValueRowID(t);case x.ROW_SPLITS:return RaggedTensorToTensorOp.getMaxWidthRowSplit(t);default:throw Error(`Cannot handle partition type ${x[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){let t=e.length;if(0===t||1===t)return 0;let r=0;for(let i=0;i<t-1;++i){let t=e[i+1]-e[i];t>r&&(r=t)}return r}static getMaxWidthValueRowID(e){let t=e.length;if(0===t)return 0;let r=0,i=e[0],n=0;for(let o=1;o<t;++o){let t=e[o];t!==i&&(i=t,n=Math.max(o-r,n),r=o)}return Math.max(t-r,n)}tensorShapeFromTensor(e,t,r=!0){if(0===t.length){if(-1===e[0])return[];throw Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return makeShape(e,r)}calculateOutputSize(e){let t=this.valuesShape,r=this.defaultValueShape;n.backend_util.validateDefaultValueShape(r,t);let i=this.tensorShapeFromTensor(this.shape,this.shapeShape),o=n.backend_util.combineRaggedTensorToTensorShapes(this.raggedRank,i,t);o[0]<0&&(o[0]=e);for(let e=1;e<=this.raggedRank;++e)o[e]<0&&(o[e]=this.getMaxWidth(e));return o}calculateFirstParentOutputIndex(e,t,r){let i=Math.min(e,r),o=[],a=0;for(let e=0;e<i;++e,a+=t)o.push(a);for(let t=i;t<e;++t)o.push(-1);return n.D5U.assert(o.length===e,()=>"Final length of result must be equal to firstDimension."),o}calculateOutputIndexRowSplit(e,t,r,i){let n=e.length,o=[];for(let a=0;a<n-1;++a){let n=e[a+1]-e[a],s=Math.min(i,n),l=t[a];-1===l&&(s=0);for(let e=0;e<s;++e)o.push(l),l+=r;for(let e=0;e<n-s;++e)o.push(-1)}if(n>0&&o.length!==e[n-1])throw Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(e,t,r,i){let n=e.length,o=[];if(0===n)return[];let a=0,s=e[0];if(s>=t.length)throw Error(`Got currentValueRowId=${s}, which is not less than ${t.length}`);let l=t[s];o.push(l);for(let u=1;u<n;++u){let n=e[u];if(n===s)l>=0&&(++a<i?l+=r:l=-1);else{if(a=0,s=n,n>=t.length)throw Error(`Got nextValueRowId=${n} which is not less than ${t.length}`);l=t[n]}o.push(l)}if(o.length!==e.length)throw Error("Invalid row ids.");return o}calculateOutputIndex(e,t,r,i){let n=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case x.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(n,t,r,i);case x.ROW_SPLITS:if(n.length-1>t.length)throw Error(`Row partition size is greater than output size: ${n.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(n,t,r,i);default:throw Error(`Unsupported partition type: ${x[o]}`)}}getFirstDimensionSize(){let e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw Error("No row_partition_types given.");let t=this.rowPartitionTypes[0];switch(t){case x.FIRST_DIM_SIZE:return e[0];case x.VALUE_ROWIDS:throw Error("Cannot handle VALUE_ROWIDS in first dimension.");case x.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw Error(`Cannot handle type ${x[t]}`)}}compute(){let e=this.rowPartitionValues[0];if(e.length<=0)throw Error("Invalid first partition input. Tensor requires at least one element.");let t=this.getFirstDimensionSize(),r=this.calculateOutputSize(t),i=Array(this.raggedRank+1);i[i.length-1]=1;for(let e=i.length-2;e>=0;--e)i[e]=i[e+1]*r[e+1];let o=makeShape(r,!1),a=n.D5U.getArrayFromDType(this.valuesDType,n.D5U.sizeFromShape(o)),s=i[0]*r[0];if(s>0){let e=this.calculateFirstParentOutputIndex(t,i[0],r[0]);for(let t=1;t<=this.raggedRank;++t){let n=this.calculateOutputIndex(t-1,e,i[t],r[t]);e=n}this.setOutput(this.raggedRank,e,a,o)}return[o,a]}setOutput(e,t,r,i){if(0===r.length)return;let o=this.values,a=i.slice();a=a.slice(e+1);let s=n.D5U.sizeFromShape(a),l=t.length,u=this.defaultValue;if(u.length!==s&&1!==u.length){let e=this.defaultValueShape;(0,n.lub)(()=>{let t=(0,n.XLQ)(u,e),r=(0,n.UFq)(t,a);u=r.dataSync()})}let c=0,d=0,p=0;for(let e=0;e<=l;++e){let i=e<l?t[e]:-1;if(i===p){++p;continue}if(d<p){let e=o.subarray(c*s),t=r.subarray(d*s),i=(p-d)*s;copyArray(t,e,i)}if(e>=l){let e=r.length;i=Math.floor(e/s)}if(i>p){if(1===this.defaultValue.length)r.subarray(p*s,i*s).fill(this.defaultValue[0]),p=i;else for(;i>p;){let e=r.slice(p*s);copyArray(e,u,s),++p}}i<0?(c=e+1,d=p):(c=e,p=(d=p)+1)}}};function copyArray(e,t,r){for(let i=0;i<r;i++)e[i]=t[i]}function makeShape(e,t){let r=[];for(let i of e){if(i<0){if(!t)throw Error(`Dimension ${i} must be >= 0`);if(i<-1)throw Error(`Dimension ${i} must be >= -1`);i=-1}r.push(i)}return r}function raggedTensorToTensorImpl(e,t,r,i,n,o,a,s,l,u){return new RaggedTensorToTensorOp(e,t,r,i,n,o,a,s,l,u).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rangeImpl(e,t,r,i){let o=e<t&&r<0,a=t<e&&r>1;if(e===t||o||a)return n.D5U.makeZerosTypedArray(0,i);let s=Math.abs(Math.ceil((t-e)/r)),l=n.D5U.makeZerosTypedArray(s,i);t<e&&1===r&&(r=-1),l[0]=e;for(let e=1;e<l.length;e++)l[e]=l[e-1]+r;return l}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let A=createSimpleUnaryImpl(e=>1/Math.sqrt(e));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function scatterImpl(e,t,r,i,o,a,s,l,u,c){let d=[i/o,o],p=e.values,h=t.values;if(0===i)return(0,n.f3b)(r,t.dtype);let f=u instanceof n.YDk?u:(0,n.f3b)(d,t.dtype);"string"==typeof u?f.values.fill(u):"number"==typeof u?f.values.fill(u):"boolean"==typeof u&&f.values.fill(+u);for(let e=0;e<a;e++){let n=[],a=0;for(let t=0;t<s;t++){let r=p[e*s+t];n.push(r),a+=r*l[t]}if(a<0||a>=i/o)throw Error(`Invalid indices: ${n} does not index into ${r}`);for(let r=0;r<o;r++)c?f.values[a*o+r]+=h[e*o+r]:f.values[a*o+r]=0===t.rank?h[0]:h[e*o+r]}return f}unaryKernelFuncFromImpl(n.bV0,A),n.bV0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let T=createSimpleUnaryImpl(e=>1/(1+Math.exp(-e)));/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sliceImpl(e,t,r,i,o){let a=n.kuN.isSliceContinous(i,t,r),s=n.D5U.sizeFromShape(r),l=n.D5U.computeStrides(i);if(a){let r=n.kuN.computeFlatOffset(t,l);return"string"===o?e.slice(r,r+s):e.subarray(r,r+s)}let u="string"===o?n.backend_util.fromUint8ToStringArray(e):e,c=(0,n.f3b)(i,o,u),d=(0,n.f3b)(r,o);for(let e=0;e<d.size;++e){let r=d.indexToLoc(e),i=r.map((e,r)=>e+t[r]);d.set(c.get(...i),...r)}return"string"===o?n.backend_util.fromStringArrayToUint8(d.values):d.values}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sparseFillEmptyRowsImpl(e,t,r,i,o,a,s){let l=t[0],u=a[0],c=Array(u),d=Array(l),p=t[1];if(0===u){if(0!==l)throw Error(n.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(l));let e=n.D5U.getArrayFromDType(r,0),t=n.D5U.getArrayFromDType(o,0);return[e,[0,p],t,c,d]}let h=!0,f=0,y=Array(u).fill(0);for(let t=0;t<l;++t){let r=e[t*p];if(r<0)throw Error(n.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(t,r));if(r>=u)throw Error(n.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(t,r,u));++y[r],h=h&&r>=f,f=r}let g=!0;for(let e=0;e<u;++e){let t=0===y[e];c[e]=t,g=g&&!t,y[e]=Math.max(y[e],1),e>0&&(y[e]+=y[e-1])}if(g&&h){for(let e=0;e<l;++e)d[e]=e;return[e,[l,p],i,c,d]}{let t=y[u-1],a=n.D5U.getArrayFromDType(r,t*p),h=n.D5U.getArrayFromDType(o,t),f=Array(u).fill(0);for(let t=0;t<l;++t){let r=e[t*p],n=f[r],o=(0===r?0:y[r-1])+n;f[r]++;for(let r=0;r<p;++r)a[o*p+r]=e[t*p+r];h[o]=i[t],d[t]=o}for(let e=0;e<u;++e){let t=f[e];if(0===t){let t=0===e?0:y[e-1];a[t*p+0]=e;for(let e=1;e<p;++e)a[t*p+e]=0;h[t]=s}}return[a,[t,p],h,c,d]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sparseReshapeImpl(e,t,r,i,o){let a=n.D5U.sizeFromShape(i),s=t[0],l=o.length,u=[],c=1,d=-1;for(let e=0;e<l;++e){let t=o[e];if(-1===t){if(-1!==d)throw Error(n.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(d,e));d=e,u.push(1)}else{if(t<0)throw Error(n.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(e,t));c*=t,u.push(t)}}if(-1!==d){if(c<=0)throw Error(n.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());let e=Math.trunc(a/c);if(c*e!==a)throw Error(n.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(i,u));u[d]=e}let p=n.D5U.sizeFromShape(u);if(p!==a)throw Error(n.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(i,u));let h=i.length,f=[];if(h>0){f[h-1]=1;for(let e=h-2;e>=0;--e)f[e]=f[e+1]*i[e+1]}let y=[];if(l>0){y[l-1]=1;for(let e=l-2;e>=0;--e)y[e]=y[e+1]*u[e+1]}let g=n.D5U.getArrayFromDType(r,s*l);for(let t=0;t<s;++t){let r=0;for(let i=0;i<h;++i)r+=e[t*h+i]*f[i];for(let e=0;e<l;++e)g[t*l+e]=Math.trunc(r/y[e]),r%=y[e]}return[g,[s,l],u]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sparseSegmentReductionImpl(e,t,r,i,o,a=!1,s=0){let l=i.length,u=[t[0],e.length/t[0]],c=u[1],d=l>0?o[l-1]+1:0;if(d<0)throw Error(n.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let p=t.slice();p[0]=d;let h=p.reduce((e,t)=>e*t,1),f=n.D5U.getArrayFromDType(r,h);if(0===l)return d>0&&f.fill(s),[f,p];if(d<=0)throw Error(n.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let y=0,g=1,v=0,m=o[0];for(;;){let t=0;if(g<l){if(m===(t=o[g])){++g;continue}if(m>=t)throw Error(n.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(m<0||m>=d)throw Error(n.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(m,d));m>v&&f.fill(s,v*c,m*c);for(let t=y;t<g;++t){let r=i[t];if(r<0||r>=u[0])throw Error(n.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(t,i[t],u[0]));for(let t=0;t<c;t++)f[m*c+t]+=e[r*c+t]}if(a)for(let e=0;e<c;e++)f[m*c+e]/=g-y;if(y=g,++g,v=m+1,m=t,g>l)break}return v<d&&f.fill(s,v*c,d*c),[f,p]}unaryKernelFunc(n.a5O,e=>1/(1+Math.exp(-e))),n.a5O,n.p2w;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let _=createSimpleUnaryImpl(e=>Math.sqrt(e));unaryKernelFunc(n.FKq,e=>Math.sqrt(e)),n.FKq;/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let R=createSimpleUnaryImpl((e,t)=>{let{pattern:r,replaceGlobal:i,rewrite:n}=t;return e.replace(new RegExp(r,i?"g":""),n)});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function stridedSliceImpl(e,t,r,i){let o=(0,n.f3b)(e,t.dtype);for(let e=0;e<o.size;e++){let n=o.indexToLoc(e),a=Array(n.length);for(let e=0;e<a.length;e++)a[e]=n[e]*r[e]+i[e];o.set(t.get(...a),...n)}return o}unaryKernelFuncFromImpl(n.e0R,R),n.e0R;/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let StringNGramsOp=class StringNGramsOp{constructor(e,t,r,i,o,a){this.separator=n.D5U.encodeString(e),this.nGramWidths=t,this.leftPad=n.D5U.encodeString(r),this.rightPad=n.D5U.encodeString(i),this.padWidth=o,this.preserveShort=a}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){let r=this.getPadWidth(t);return Math.max(0,e+2*r-t+1)}createNGrams(e,t,r,i,n,o){for(let a=0;a<n;++a){let s;let l=this.getPadWidth(o),u=Math.max(0,l-a),c=Math.max(0,l-(n-(a+1))),d=o-(u+c),p=t+(u>0?0:a-l);s=0+u*this.leftPad.length;for(let t=0;t<d;++t)s+=e[p+t].length;s+=c*this.rightPad.length;let h=u+c+d-1;s+=h*this.separator.length,r[i+a]=new Uint8Array(s);let f=r[i+a],y=0,appendToNGram=e=>e.forEach(e=>f[y++]=e);for(let e=0;e<u;++e)appendToNGram(this.leftPad),appendToNGram(this.separator);for(let t=0;t<d-1;++t)appendToNGram(e[p+t]),appendToNGram(this.separator);if(d>0){appendToNGram(e[p+d-1]);for(let e=0;e<c;++e)appendToNGram(this.separator),appendToNGram(this.rightPad)}else{for(let e=0;e<c-1;++e)appendToNGram(this.rightPad),appendToNGram(this.separator);appendToNGram(this.rightPad)}}}compute(e,t){let r=e.length,i=t.length;if(i>0){let e=t[0];if(0!==e)throw Error(`First split value must be 0, got ${e}`);for(let n=1;n<i;++n){let i=t[n]>=e;if(!(i=i&&t[n]<=r))throw Error(`Invalid split value ${t[n]}, must be in [${e}, ${r}]`);e=t[n]}if(e!==r)throw Error(`Last split value must be data size. Expected ${r}, got ${e}`)}let o=i-1,a=n.D5U.getArrayFromDType("int32",i);if(0===r||0===i){let e=Array(r);for(let e=0;e<=o;++e)a[e]=0;return[e,a]}a[0]=0;for(let e=1;e<=o;++e){let r=t[e]-t[e-1],i=0;this.nGramWidths.forEach(e=>{i+=this.getNumNGrams(r,e)}),this.preserveShort&&r>0&&0===i&&(i=1),a[e]=a[e-1]+i}let s=Array(a[o]);for(let r=0;r<o;++r){let i=t[r],n=a[r];if(this.nGramWidths.forEach(o=>{let a=t[r+1]-t[r],l=this.getNumNGrams(a,o);this.createNGrams(e,i,s,n,l,o),n+=l}),this.preserveShort&&n===a[r]){let o=t[r+1]-t[r];if(0===o)continue;let a=o+2*this.padWidth;this.createNGrams(e,i,s,n,1,a)}}return[s,a]}};function stringNGramsImpl(e,t,r,i,n,o,a,s){return new StringNGramsOp(r,i,n,o,a,s).compute(e,t)}function stringSplitImpl(e,t,r){let i=e.length,o=[],a=0,s=0,l=Array(i);for(let n=0;n<i;++n){let i=o.length;!/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r,i){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)i.push(e.subarray(t,t+1));return}if(1===t.length){let n=t[0],o=e.indexOf(n);for(;-1!==o;){let t=e.subarray(0,o);r&&0===t.length||i.push(t),o=(e=e.subarray(o+1)).indexOf(n)}r&&0===e.length||i.push(e);return}let n=0;for(let o=0;o<e.length+1;o++)if(o===e.length||-1!==t.indexOf(e[o])){let t=e.subarray(n,o);r&&0===t.length||i.push(t),n=o+1}}(e[n],t,r,o);let u=o.length-i;l[n]=u,a+=u,s=Math.max(s,u)}let u=n.D5U.getArrayFromDType("int32",2*a),c=Array(a),d=[i,s],p=0;for(let e=0;e<i;++e)for(let t=0;t<l[e];++t)u[2*p]=e,u[2*p+1]=t,c[p]=o[p],++p;return[u,c,d]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function stringToHashBucketFastImpl(e,t){let r=n.D5U.getArrayFromDType("int32",e.length);for(let i=0;i<e.length;++i)r[i]=n.D5U.fingerPrint64(e[i]).modulo(t).getLowBitsUnsigned();return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let E=createSimpleBinaryKernelImpl((e,t)=>e-t),w=createComplexBinaryKernelImpl((e,t,r,i)=>({real:e-r,imag:t-i}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tileImpl(e,t){let r=Array(e.rank);for(let i=0;i<r.length;i++)r[i]=e.shape[i]*t[i];let i=(0,n.f3b)(r,e.dtype);for(let t=0;t<i.values.length;++t){let r=i.indexToLoc(t),n=Array(e.rank);for(let t=0;t<n.length;t++)n[t]=r[t]%e.shape[t];let o=e.locToIndex(n);i.values[t]=e.values[o]}return i}binaryKernelFunc(n.Tr8,E,w),n.Tr8;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let comparePair=(e,t)=>{let r=t.value-e.value;return 0===r?e.index-t.index:r};function topKImpl(e,t,r,i,o){let a=t[t.length-1],[s,l]=[e.length/a,a],u=n.D5U.getTypedArrayFromDType(r,s*i),c=n.D5U.getTypedArrayFromDType("int32",s*i);for(let t=0;t<s;t++){let r=t*l,a=e.subarray(r,r+l),s=Array(a.length);a.forEach((e,t)=>s[t]={value:e,index:t}),i<s.length&&(function TopK_impl_select(e,t,r=0,i=e.length-1){for(;i>r;){if(i-r>600){let n=i-r+1,o=t-r+1,a=Math.log(n),s=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*s*(n-s)/n)*Math.sign(o-n/2),u=Math.max(r,Math.floor(t-o*s/n+l)),c=Math.min(i,Math.floor(t+(n-o)*s/n+l));TopK_impl_select(e,t,u,c)}let o=e[t],a=r,s=i;for(n.D5U.swap(e,r,t),comparePair(e[i],o)>0&&n.D5U.swap(e,r,i);a<s;){for(n.D5U.swap(e,a,s),a++,s--;0>comparePair(e[a],o);)a+=1;for(;comparePair(e[s],o)>0;)s-=1}0===comparePair(e[r],o)?n.D5U.swap(e,r,s):(s+=1,n.D5U.swap(e,s,i)),s<=t&&(r=s+1),t<=s&&(i=s-1)}}(s,i),s=s.slice(0,i)),o&&s.sort(comparePair);let d=t*i,p=u.subarray(d,d+i),h=c.subarray(d,d+i);for(let e=0;e<i;e++)p[e]=s[e].value,h[e]=s[e].index}let d=t.slice();return d[d.length-1]=i,[(0,n.f3b)(d,r,u),(0,n.f3b)(d,"int32",c)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uniqueImpl(e,t,r,i){let o=n.D5U.parseAxisParam(t,r)[0],a=[1,r[0],1];for(let e=0;e<o;e++)a[0]*=r[e];a[1]=r[o];for(let e=o+1;e<r.length;e++)a[2]*=r[e];let s=new Map,l=new Int32Array(r[o]),u=new n.YDk(a,i,e),c=[],d=1===a[0]&&1===a[2];for(let t=0;t<r[o];t++){let r;if(d)r=e[t].toString();else{let e=[];for(let r=0;r<a[0];r++)for(let i=0;i<a[2];i++)e.push(u.get(r,t,i));r=e.join(",")}let i=s.get(r);if(null!=i)l[t]=i;else{let e=s.size;s.set(r,e),l[t]=e,c.push(t)}}let p=a.slice();p[1]=s.size;let h=new n.YDk(p,i);c.forEach((e,t)=>{for(let r=0;r<a[0];r++)for(let i=0;i<a[2];i++)h.set(u.get(r,e,i),r,t,i)});let f=r.slice();return f[o]=p[1],{outputValues:h.values,outputShape:f,indices:l}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let{addImpl:D,bincountImpl:O,bincountReduceImpl:I,bitwiseAndImpl:M,castImpl:L,ceilImpl:k,concatImpl:N,equalImpl:B,expImpl:V,expm1Impl:F,floorImpl:j,gatherNdImpl:H,gatherV2Impl:z,greaterImpl:G,greaterEqualImpl:U,lessImpl:W,lessEqualImpl:X,linSpaceImpl:Y,logImpl:$,maxImpl:K,maximumImpl:q,minimumImpl:Z,multiplyImpl:J,negImpl:Q,notEqualImpl:ee,prodImpl:et,raggedGatherImpl:er,raggedRangeImpl:ei,raggedTensorToTensorImpl:en,rangeImpl:eo,rsqrtImpl:ea,scatterImpl:es,sigmoidImpl:el,simpleAbsImpl:eu,sliceImpl:ec,sparseFillEmptyRowsImpl:ed,sparseReshapeImpl:ep,sparseSegmentReductionImpl:eh,sqrtImpl:ef,staticRegexReplaceImpl:ey,stridedSliceImpl:eg,stringNGramsImpl:ev,stringSplitImpl:em,stringToHashBucketFastImpl:eS,subImpl:eb,tileImpl:eP,topKImpl:eC,transposeImpl:ex,uniqueImpl:eA}=i},72818:function(e,t,r){"use strict";r.d(t,{U:function(){return PackProgram}});var i=r(27004),n=r(1897),o=r(96767);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let PackProgram=class PackProgram{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=(0,i.C9)(this.outputShape.length),0===this.rank)this.userCode=`
        void main() {
          setOutput(vec4(getA(), 0., 0., 0.));
        }
      `;else{let e=(0,n.Ky)("rc",this.rank),t=(0,o.kW)(this.rank),r=this.getOutOfBoundsCondition(e),i=this.getSetup(e),a=this.getOutput(e);this.userCode=`
        void main() {
          ${t} rc = getOutputCoords();

          if(${r}) {
            setOutput(vec4(0));
          } else {
            ${i}

            setOutput(vec4(${a}));
          }
        }
      `}}getSourceCoordsArr(e){let t=[];for(let r=0;r<=1;r++)for(let i=0;i<=1;i++){let n=`${0===r?"r":"rp1"}, ${0===i?"c":"cp1"}`;for(let t=2;t<this.rank;t++)n=`${e[e.length-1-t]},`+n;t.push(n)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let r=this.rank-2;r<this.rank;r++)t+=`${e[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";let t=e.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],i=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`
      int r = ${t[0]};
      int c = ${t[1]};
      int rp1 = r + 1;
      int cp1 = c + 1;

      bool cEdge = cp1 >= ${r};
      bool rEdge = rp1 >= ${i};
    `}getOutput(e){let t=this.getSourceCoordsArr(e);if(1===this.rank){let e=this.enableShapeUniforms?"outShape":this.outputShape[0];return`getA(rc), (rc + 1 >= ${e} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),
            cEdge ? 0. : getA(${t[1]}),
            rEdge ? 0. : getA(${t[2]}),
            rEdge || cEdge ? 0. : getA(${t[3]})`}}},1897:function(e,t,r){"use strict";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function getVecChannels(e,t){return["x","y","z","w","u","v"].slice(0,t).map(t=>`${e}.${t}`)}function getChannels(e,t){return 1===t?[e]:getVecChannels(e,t)}function getSourceCoords(e,t){if(1===e)return"rc";let r="";for(let i=0;i<e;i++)r+=t[i],i<e-1&&(r+=",");return r}r.d(t,{Ky:function(){return getChannels},Qc:function(){return getSourceCoords},k6:function(){return getVecChannels}})},44894:function(e,t,r){"use strict";r.d(t,{v:function(){return ReshapePackedProgram}});var i=r(27004),n=r(85076);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let ReshapePackedProgram=class ReshapePackedProgram{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=(0,i.C9)(this.outputShape.length);let r="";for(let e=0;e<4;e++){let t="thisRC = rc;";e%2==1&&(t+="thisRC.z += 1;"),e>1&&(t+="thisRC.y += 1;"),r+=`
        ${t}
        ${e>0?"if(thisRC.y < rows && thisRC.z < cols){":""}
          int flatIndex = getFlatIndex(thisRC);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);
          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${e}] =
            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);
        ${e>0?"}":""}
      `}this.userCode=`
      ${function(e,t){let r=t?n.al(["r","c","d"],"inputShape"):n.RW(["r","c","d"],e);return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${r}
      return ivec3(r, c, d);
    }
  `}(t,this.enableShapeUniforms)}
      ${this.enableShapeUniforms?n.nc():n.ku(e)}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.);

        ivec3 thisRC;
        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};
        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};

        ${r}

        setOutput(result);
      }
    `}}},85076:function(e,t,r){"use strict";r.d(t,{Kn:function(){return getOutputLogicalCoordinatesFromFlatIndexByUniform},RW:function(){return getLogicalCoordinatesFromFlatIndex},al:function(){return getLogicalCoordinatesFromFlatIndexByUniform},ku:function(){return getFlatIndexFrom3D},nc:function(){return getFlatIndexFrom3DOutput},ye:function(){return n}});var i=r(92427);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function getLogicalCoordinatesFromFlatIndex(e,t,r="index"){let n=i.D5U.computeStrides(t);return n.map((t,i)=>{let o=`int ${e[i]} = ${r} / ${t}`,a=i===n.length-1?`int ${e[i+1]} = ${r} - ${e[i]} * ${t}`:`index -= ${e[i]} * ${t}`;return`${o}; ${a};`}).join("")}function getOutputLogicalCoordinatesFromFlatIndexByUniform(e,t,r="index"){let n=i.D5U.computeStrides(t);return n.map((t,i)=>{let o=`int ${e[i]} = ${r} / outShapeStrides[${i}]`,a=i===n.length-1?`int ${e[i+1]} = ${r} - ${e[i]} * outShapeStrides[${i}]`:`index -= ${e[i]} * outShapeStrides[${i}]`;return`${o}; ${a};`}).join("")}function getLogicalCoordinatesFromFlatIndexByUniform(e,t,r="index"){let i=e.map((e,t)=>t),n=function(e,t){let r=e.length,i=e.map(e=>`${t}[${e}]`),n=Array(r-1);n[r-2]=i[r-1];for(let e=r-3;e>=0;--e)n[e]=`(${n[e+1]} * ${i[e+1]})`;return n}(i,t);return n.map((t,i)=>{let o=`int ${e[i]} = ${r} / ${n[i]}`,a=i===n.length-1?`int ${e[i+1]} = ${r} - ${e[i]} * ${n[i]}`:`index -= ${e[i]} * ${n[i]}`;return`${o}; ${a};`}).join("")}function getFlatIndexFrom3D(e){let t=i.D5U.computeStrides(e).map(e=>e.toString());return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;
  }
`}function getFlatIndexFrom3DOutput(){return`
  int getFlatIndex(ivec3 coords) {
    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;
  }
`}let n=`
  const float FLOAT_MAX = 1.70141184e38;
  const float FLOAT_MIN = 1.17549435e-38;

  lowp vec4 encode_float(highp float v) {
    if (isnan(v)) {
      return vec4(255, 255, 255, 255);
    }

    highp float av = abs(v);

    if(av < FLOAT_MIN) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    } else if(v > FLOAT_MAX) {
      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
    } else if(v < -FLOAT_MAX) {
      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
    }

    highp vec4 c = vec4(0,0,0,0);

    highp float e = floor(log2(av));
    highp float m = exp2(fract(log2(av))) - 1.0;

    c[2] = floor(128.0 * m);
    m -= c[2] / 128.0;
    c[1] = floor(32768.0 * m);
    m -= c[1] / 32768.0;
    c[0] = floor(8388608.0 * m);

    highp float ebias = e + 127.0;
    c[3] = floor(ebias / 2.0);
    ebias -= c[3] * 2.0;
    c[2] += floor(ebias) * 128.0;

    c[3] += 128.0 * step(0.0, -v);

    return c / 255.0;
  }
`},87067:function(e,t,r){"use strict";r.d(t,{Se:function(){return getPackedRGBAArraySizeFromMatrixShape},Sq:function(){return getTextureConfig},V9:function(){return l},Yz:function(){return getDenseTexShape},kk:function(){return getUnpackedMatrixTextureShapeWidthHeight},m1:function(){return a},qe:function(){return getPackedMatrixTextureShapeWidthHeight},v2:function(){return s},yb:function(){return getUnpackedArraySizeFromMatrixSize}});var i,n,o,a,s,l,u=r(92427);function getUnpackedMatrixTextureShapeWidthHeight(e,t){return[t,e]}function getUnpackedArraySizeFromMatrixSize(e,t){return e*t}function getDenseTexShape(e){let t=u.D5U.sizeFromShape(e),r=Math.ceil(t/4);return u.D5U.sizeToSquarishShape(r)}function getPackedMatrixTextureShapeWidthHeight(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function getPackedRGBAArraySizeFromMatrixShape(e,t){let[r,i]=getPackedMatrixTextureShapeWidthHeight(e,t);return r*i*4}function getTextureConfig(e,t){let r,i,n,o,a,s,l,c,d,p;return 2===(0,u.OBj)().getNumber("WEBGL_VERSION")?(r=e.R32F,i=e.R16F,n=e.RGBA16F,o=e.RGBA32F,a=e.RED,l=4,c=1,d=e.HALF_FLOAT,p=e.FLOAT,s=e.RGBA8):(r=e.RGBA,i=e.RGBA,n=e.RGBA,o=e.RGBA,a=e.RGBA,l=4,c=4,d=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,s=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:i,internalFormatPackedHalfFloat:n,internalFormatPackedFloat:o,textureFormatFloat:a,downloadTextureFormat:s,downloadUnpackNumChannels:l,defaultNumChannels:c,textureTypeHalfFloat:d,textureTypeFloat:p}}(i=a||(a={}))[i.DENSE=0]="DENSE",i[i.SHARED_BATCH=1]="SHARED_BATCH",(n=s||(s={}))[n.RENDER=0]="RENDER",n[n.UPLOAD=1]="UPLOAD",n[n.PIXELS=2]="PIXELS",n[n.DOWNLOAD=3]="DOWNLOAD",(o=l||(l={}))[o.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",o[o.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",o[o.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",o[o.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",o[o.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"},19860:function(e,t,r){"use strict";r.d(t,{I:function(){return TextureManager}});var i=r(92427),n=r(14055),o=r(87067);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let TextureManager=class TextureManager{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,r){let i;let n=getPhysicalFromLogicalTextureType(t,r),a=getKeyFromTextureShape(e,n,r);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);let s=computeBytes(e,n,this.gpgpu.gl,this.gpgpu.textureConfig,r);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=s,this.log();let e=this.freeTextures[a].pop();return this.usedTextures[a].push(e),e}return n===o.V9.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):n===o.V9.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):n===o.V9.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):n===o.V9.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):n===o.V9.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(i),this.numUsedTextures++,this._numBytesAllocated+=s,this.log(),i}releaseTexture(e,t,r,n){if(null==this.freeTextures)return;let o=getPhysicalFromLogicalTextureType(r,n),a=getKeyFromTextureShape(t,o,n);a in this.freeTextures||(this.freeTextures[a]=[]);let s=computeBytes(t,o,this.gpgpu.gl,this.gpgpu.textureConfig,n),l=(0,i.OBj)().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==l&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;let u=this.usedTextures[a],c=u&&u.indexOf(e);if(null==c||c<0)throw Error("Cannot release a texture that was never provided by this texture manager");u[c]=u[u.length-1],u.pop(),this.log()}log(){if(!this.logEnabled)return;let e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);let t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(let e in this.freeTextures)this.freeTextures[e].forEach(e=>{this.gpgpu.deleteMatrixTexture(e.texture)});for(let e in this.usedTextures)this.usedTextures[e].forEach(e=>{this.gpgpu.deleteMatrixTexture(e.texture)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}};function computeBytes(e,t,r,i,a){let s;let l=function(e,t){switch(e){case o.V9.PACKED_2X2_FLOAT32:return(0,n.gl)(t);case o.V9.PACKED_2X2_FLOAT16:return(0,n.hf)(t);case o.V9.UNPACKED_FLOAT32:return(0,n.q3)(t);case o.V9.UNPACKED_FLOAT16:return(0,n.m8)(t);case o.V9.PACKED_4X1_UNSIGNED_BYTE:return(0,n.NQ)(t);default:throw Error(`Unknown physical texture type ${e}`)}}(t,i);if(a){let[t,r]=(0,o.qe)(e[0],e[1]);s=t*r}else{let[t,r]=(0,o.kk)(e[0],e[1]);s=t*r}let u=function(e,t){if(t===e.R32F)return 4;if(t===e.R16F)return 2;if(t===e.RGBA32F||t===e.RGBA)return 16;if(t===e.RGBA16F)return 8;if(t===e.RGBA8)return 4;throw Error(`Unknown internal format ${t}`)}(r,l);return s*u}function getPhysicalFromLogicalTextureType(e,t){if(e===o.v2.UPLOAD)return o.V9.PACKED_2X2_FLOAT32;if(e===o.v2.RENDER||null==e)return(0,i.OBj)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?t?o.V9.PACKED_2X2_FLOAT32:o.V9.UNPACKED_FLOAT32:t?o.V9.PACKED_2X2_FLOAT16:o.V9.UNPACKED_FLOAT16;if(e===o.v2.DOWNLOAD||e===o.v2.PIXELS)return o.V9.PACKED_4X1_UNSIGNED_BYTE;throw Error(`Unknown logical texture type ${e}`)}function getKeyFromTextureShape(e,t,r){return`${e[0]}_${e[1]}_${t}_${r}`}},43110:function(e,t,r){"use strict";r.d(t,{Cv:function(){return s},D1:function(){return n},Et:function(){return a},RX:function(){return l},Tq:function(){return d},bl:function(){return c},eW:function(){return u},l:function(){return UnaryOpProgram},t$:function(){return o}});var i=r(27004);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let UnaryOpProgram=class UnaryOpProgram{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=(0,i.C9)(this.outputShape.length),this.userCode=`
      float unaryOperation(float x) {
        ${t}
      }

      void main() {
        float x = getAAtOutCoords();
        float y = unaryOperation(x);

        setOutput(y);
      }
    `}};let n="if (isnan(x)) return x;",o="return x;",a="return abs(x);",s="return (x >= 0.0) ? x : (exp(x) - 1.0);",l=n+`
  return (x < 0.0) ? 0.0 : x;
`,u=n+`
  return (x < 0.0) ? 0.0 : min(6.0, x);
`,c="return x;",d="return 1.0 / (1.0 + exp(-1.0 * x));"},83541:function(e,t,r){"use strict";r.d(t,{Cv:function(){return o},RX:function(){return a},Tq:function(){return l},cc:function(){return UnaryOpPackedProgram},eW:function(){return s},t$:function(){return n}});var i=r(27004);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let n="return x;",o=`
  vec4 result;

  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);
  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);
  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);
  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);

  return result;
`,a=`
  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,s=`
  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));
  bvec4 isNaN = isnan(x);

  result.r = isNaN.r ? x.r : result.r;
  result.g = isNaN.g ? x.g : result.g;
  result.b = isNaN.b ? x.b : result.b;
  result.a = isNaN.a ? x.a : result.a;

  return result;
`,l="return 1.0 / (1.0 + exp(-1.0 * x));";let UnaryOpPackedProgram=class UnaryOpPackedProgram{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=(0,i.C9)(this.outputShape.length),this.userCode=`
      vec4 unaryOperation(vec4 x) {
        ${t}
      }

      void main() {
        vec4 x = getAAtOutCoords();
        vec4 y = unaryOperation(x);

        setOutput(y);
      }
    `}}},77084:function(e,t,r){"use strict";r.d(t,{W:function(){return UnpackProgram}});var i=r(27004),n=r(1897),o=r(96767);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let UnpackProgram=class UnpackProgram{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=(0,i.C9)(this.outputShape.length);let t=e.length,r=(0,n.Ky)("rc",t),a=(0,o.kW)(t),s=(0,n.Qc)(t,r),l=r.slice(-2),u=t<=1?"rc":`vec2(${l.join(",")})`;this.userCode=`
      void main() {
        ${a} rc = getOutputCoords();
        vec4 packedInput = getA(${s});

        setOutput(getChannel(packedInput, ${u}));
      }
    `}}},47311:function(e,t,r){"use strict";let i,n;r.d(t,{B:function(){return bindTextureToProgramUniformSampler},BH:function(){return isDownloadFloatTextureEnabled},Cp:function(){return getBatchDim},ED:function(){return createStaticVertexBuffer},HH:function(){return getExtensionOrThrow},HO:function(){return createProgram},HS:function(){return assertNotComplex},Hg:function(){return getProgramUniformLocation},JG:function(){return bindColorTextureToFramebuffer},Jj:function(){return createVertexShader},KP:function(){return getMaxTexturesInShader},O7:function(){return callAndCheck},Qd:function(){return isWebGLFenceEnabled},W8:function(){return getRowsCols},XE:function(){return getProgramUniformLocationOrThrow},Yf:function(){return getTextureShapeFromLogicalShape},aj:function(){return linkProgram},ax:function(){return unbindColorTextureFromFramebuffer},b6:function(){return validateTextureSize},cU:function(){return createTexture},cu:function(){return validateFramebuffer},d8:function(){return createFramebuffer},ih:function(){return getShapeAs3D},lo:function(){return getWebGLMaxTextureSize},mZ:function(){return createStaticIndexBuffer},nr:function(){return getWebGLDisjointQueryTimerVersion},oT:function(){return isReshapeFree},qF:function(){return canBeRepresented},sb:function(){return bindVertexBufferToProgramAttribute},uH:function(){return isWebGLVersionEnabled},vu:function(){return validateProgram},w4:function(){return logShaderSourceAndInfoLog},wb:function(){return isCapableOfRenderingToFloatTexture},xc:function(){return createFragmentShader},y_:function(){return hasExtension}});var o=r(92427),a=r(94517),s=r(87067);/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function callAndCheck(e,t){let r=t();return(0,o.OBj)().getBool("DEBUG")&&function(e){let t=e.getError();if(t!==e.NO_ERROR)throw Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),r}function canBeRepresented(e){return!!((0,o.OBj)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||596e-10<Math.abs(e)&&65504>Math.abs(e))}function getExtensionOrThrow(e,t){return throwIfNull(e,()=>e.getExtension(t),'Extension "'+t+'" not supported on this browser.')}function createVertexShader(e,t){let r=throwIfNull(e,()=>e.createShader(e.VERTEX_SHADER),"Unable to create vertex WebGLShader.");if(callAndCheck(e,()=>e.shaderSource(r,t)),callAndCheck(e,()=>e.compileShader(r)),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),Error("Failed to compile vertex shader.");return r}function createFragmentShader(e,t){let r=throwIfNull(e,()=>e.createShader(e.FRAGMENT_SHADER),"Unable to create fragment WebGLShader.");if(callAndCheck(e,()=>e.shaderSource(r,t)),callAndCheck(e,()=>e.compileShader(r)),(0,o.OBj)().get("ENGINE_COMPILE_ONLY"))return r;if(!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw logShaderSourceAndInfoLog(t,e.getShaderInfoLog(r)),Error("Failed to compile fragment shader.");return r}let l=/ERROR: [0-9]+:([0-9]+):/g;function logShaderSourceAndInfoLog(e,t){let r=l.exec(t);if(null==r){console.log(`Couldn't parse line number in error: ${t}`),console.log(e);return}let i=+r[1],n=e.split("\n"),a=n.length.toString().length+2,s=n.map((e,t)=>o.D5U.rightPad((t+1).toString(),a)+e),u=0;for(let e=0;e<s.length;e++)u=Math.max(s[e].length,u);let c=s.slice(0,i-1),d=s.slice(i-1,i),p=s.slice(i);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${o.D5U.rightPad(d[0],u)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join("\n"))}function createProgram(e){return throwIfNull(e,()=>e.createProgram(),"Unable to create WebGLProgram.")}function linkProgram(e,t){if(callAndCheck(e,()=>e.linkProgram(t)),!(0,o.OBj)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),Error("Failed to link vertex and fragment shaders.")}function validateProgram(e,t){if(callAndCheck(e,()=>e.validateProgram(t)),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),Error("Shader program validation failed.")}function createStaticVertexBuffer(e,t){let r=throwIfNull(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return callAndCheck(e,()=>e.bindBuffer(e.ARRAY_BUFFER,r)),callAndCheck(e,()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)),r}function createStaticIndexBuffer(e,t){let r=throwIfNull(e,()=>e.createBuffer(),"Unable to create WebGLBuffer");return callAndCheck(e,()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)),callAndCheck(e,()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)),r}function createTexture(e){return throwIfNull(e,()=>e.createTexture(),"Unable to create WebGLTexture.")}function validateTextureSize(e,t){let r=(0,o.OBj)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){let r=`[${e}x${t}]`;throw Error("Requested texture size "+r+" is invalid.")}if(e>r||t>r){let i=`[${e}x${t}]`,n=`[${r}x${r}]`;throw Error("Requested texture size "+i+" greater than WebGL maximum on this browser / GPU "+n+".")}}function createFramebuffer(e){return throwIfNull(e,()=>e.createFramebuffer(),"Unable to create WebGLFramebuffer.")}function bindVertexBufferToProgramAttribute(e,t,r,i,n,o,a){let s=e.getAttribLocation(t,r);return -1!==s&&(callAndCheck(e,()=>e.bindBuffer(e.ARRAY_BUFFER,i)),callAndCheck(e,()=>e.vertexAttribPointer(s,n,e.FLOAT,!1,o,a)),callAndCheck(e,()=>e.enableVertexAttribArray(s)),!0)}function getProgramUniformLocationOrThrow(e,t,r){return throwIfNull(e,()=>e.getUniformLocation(t,r),'uniform "'+r+'" not present in program.')}function getProgramUniformLocation(e,t,r){return e.getUniformLocation(t,r)}function bindTextureToProgramUniformSampler(e,t,r,i){callAndCheck(e,()=>{(function(e,t){let r=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,i=t+e.TEXTURE0;if(i<e.TEXTURE0||i>r){let e=`[gl.TEXTURE0, gl.TEXTURE${r}]`;throw Error(`textureUnit must be in ${e}.`)}})(e,i),callAndCheck(e,()=>e.activeTexture(e.TEXTURE0+i)),callAndCheck(e,()=>e.bindTexture(e.TEXTURE_2D,t))}),callAndCheck(e,()=>e.uniform1i(r,i))}function bindColorTextureToFramebuffer(e,t,r){callAndCheck(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,r)),callAndCheck(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0))}function unbindColorTextureFromFramebuffer(e,t){callAndCheck(e,()=>e.bindFramebuffer(e.FRAMEBUFFER,t)),callAndCheck(e,()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0))}function validateFramebuffer(e){let t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function throwIfNull(e,t,r){let i=callAndCheck(e,()=>t());if(null==i)throw Error(r);return i}function getBatchDim(e,t=2){return o.D5U.sizeFromShape(e.slice(0,e.length-t))}function getRowsCols(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function getShapeAs3D(e){let t=[1,1,1],r=0===e.length||1===e.length&&1===e[0];return r||(t=[getBatchDim(e),...getRowsCols(e)]),t}function getTextureShapeFromLogicalShape(e,t=!1){let r=(0,o.OBj)().getNumber("WEBGL_MAX_TEXTURE_SIZE"),i=(0,o.OBj)().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(i===1/0&&(0,o.OBj)().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(i=r/2),t&&(r*=2,i*=2,1===(e=e.map((t,r)=>r>=e.length-2?o.D5U.nearestLargerEven(e[r]):e[r])).length&&(e=[2,e[0]])),2!==e.length){let t=o.D5U.squeezeShape(e);e=t.newShape}let n=o.D5U.sizeFromShape(e),a=null;e.length<=1&&n<=r?a=[1,n]:2===e.length&&e[0]<=r&&e[1]<=r?a=e:3===e.length&&e[0]*e[1]<=r&&e[2]<=r?a=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=r&&e[1]*e[2]<=r?a=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r?a=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r&&(a=[e[0],e[1]*e[2]*e[3]]);let s=null!=a&&Math.max(...a)>i&&Math.min(...a)<=(t?2:1)&&Math.min(...a)>0;if(null==a||s){if(t){let t=getBatchDim(e),r=2,i=2;e.length&&([r,i]=getRowsCols(e)),n=t*(r/2)*(i/2),a=o.D5U.sizeToSquarishShape(n).map(e=>2*e)}else a=o.D5U.sizeToSquarishShape(n)}return a}function isReshapeFree(e,t){if(e=e.slice(-2),t=t.slice(-2),o.D5U.arraysEqual(e,t)||!e.length||!t.length||0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){let r=e[e.length-1],i=t[t.length-1];if(r===i||r%2==0&&i%2==0&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&e[0]%2==0&&t[0]%2==0}function getWebGLMaxTextureSize(e){if(null==i){let t=(0,a.jl)(e);i=t.getParameter(t.MAX_TEXTURE_SIZE)}return i}function getMaxTexturesInShader(e){if(null==n){let t=(0,a.jl)(e);n=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,n)}function getWebGLDisjointQueryTimerVersion(e){if(0===e)return 0;let t=(0,a.jl)(e);return hasExtension(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:hasExtension(t,"EXT_disjoint_timer_query")?1:0}function hasExtension(e,t){let r=e.getExtension(t);return null!=r}function isWebGLVersionEnabled(e){try{let t=(0,a.jl)(e);if(null!=t)return!0}catch(e){console.log("Error when getting WebGL context: ",e)}return!1}function isCapableOfRenderingToFloatTexture(e){if(0===e)return!1;let t=(0,a.jl)(e);if(1===e){if(!hasExtension(t,"OES_texture_float"))return!1}else if(!hasExtension(t,"EXT_color_buffer_float"))return!1;let r=createFloatTextureAndBindToFramebuffer(t);return r}function isDownloadFloatTextureEnabled(e){if(0===e)return!1;let t=(0,a.jl)(e);if(1===e){if(!hasExtension(t,"OES_texture_float")||!hasExtension(t,"WEBGL_color_buffer_float"))return!1}else{if(hasExtension(t,"EXT_color_buffer_float"))return createFloatTextureAndBindToFramebuffer(t);let e="EXT_color_buffer_half_float";if(hasExtension(t,e)){let r=t.getExtension(e);return function(e,t){let r=(0,s.Sq)(e,t),i=e.createTexture();e.bindTexture(e.TEXTURE_2D,i),e.texImage2D(e.TEXTURE_2D,0,r.internalFormatHalfFloat,1,1,0,r.textureFormatFloat,r.textureTypeHalfFloat,null);let n=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,n),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,i,0);let o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(i),e.deleteFramebuffer(n),o}(t,r)}return!1}let r=createFloatTextureAndBindToFramebuffer(t);return r}function createFloatTextureAndBindToFramebuffer(e){let t=(0,s.Sq)(e),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);let i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);let n=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),n}function isWebGLFenceEnabled(e){if(2!==e)return!1;let t=(0,a.jl)(e),r=null!=t.fenceSync;return r}function assertNotComplex(e,t){Array.isArray(e)||(e=[e]),e.forEach(e=>{null!=e&&o.D5U.assert("complex64"!==e.dtype,()=>`${t} does not support complex64 tensors in the WebGL backend.`)})}},92427:function(e,t,r){"use strict";let i,n,o;r.d(t,{SYM:function(){return D},VGw:function(){return O},SpW:function(){return I},mm_:function(){return M},Xze:function(){return L},oT6:function(){return k},IKK:function(){return N},sJF:function(){return B},aJk:function(){return V},M2y:function(){return F},qw7:function(){return j},jMg:function(){return H},QCc:function(){return G},Oyi:function(){return z},JhU:function(){return U},_k9:function(){return X},IMb:function(){return Y},ROF:function(){return W},XLW:function(){return $},zws:function(){return K},zvY:function(){return q},hCO:function(){return Z},eEB:function(){return J},RFZ:function(){return Q},gJX:function(){return ee},xnO:function(){return et},Zz9:function(){return er},yj2:function(){return ei},Eh3:function(){return en},mhS:function(){return eo},wUP:function(){return ea},wm:function(){return es},x12:function(){return el},o2y:function(){return eu},ik2:function(){return ec},mc4:function(){return ed},TR1:function(){return ep},VcC:function(){return ey},Byc:function(){return eh},iHb:function(){return ef},JLz:function(){return DataStorage},QRR:function(){return eg},T0n:function(){return ev},cie:function(){return em},sL$:function(){return eS},y7R:function(){return eb},$w:function(){return eP},p4S:function(){return eC},$g6:function(){return eA},SX0:function(){return eT},HEU:function(){return e_},hdR:function(){return eE},Omj:function(){return eR},NEP:function(){return ew},YFo:function(){return eD},Y0y:function(){return eO},vwp:function(){return eI},deh:function(){return eM},Uyb:function(){return eL},OR:function(){return ek},jeX:function(){return eN},eBW:function(){return rh},sHE:function(){return eB},_V0:function(){return rg},luS:function(){return rv},q1x:function(){return eF},qi_:function(){return eV},iZT:function(){return ej},Acj:function(){return eH},Qg5:function(){return eG},iJz:function(){return ez},J_u:function(){return eU},avt:function(){return eW},iWB:function(){return eX},r7n:function(){return eY},Zuw:function(){return KernelBackend},eZ0:function(){return e3},Hhh:function(){return e5},J$2:function(){return e$},vtC:function(){return eK},CAk:function(){return eq},e7N:function(){return eZ},ZbH:function(){return eJ},kU:function(){return eQ},PYm:function(){return e0},VfG:function(){return e1},MZg:function(){return e2},YoZ:function(){return e4},mTV:function(){return e8},OAf:function(){return e9},OU7:function(){return te},OV7:function(){return e7},vFR:function(){return tt},BMI:function(){return e6},q2K:function(){return tr},c17:function(){return ti},q8u:function(){return tn},jQs:function(){return to},Vbg:function(){return ta},NZg:function(){return ts},wYn:function(){return tl},kuV:function(){return tu},uv1:function(){return td},cye:function(){return tp},W0H:function(){return th},yQU:function(){return tc},we_:function(){return ty},qWM:function(){return tf},QiL:function(){return tg},lyA:function(){return tv},pe_:function(){return tm},o0g:function(){return tS},DlI:function(){return tb},dDz:function(){return tP},CQl:function(){return tC},BiW:function(){return tx},e6w:function(){return tA},xJR:function(){return tT},oHH:function(){return ex},$HU:function(){return t_},qkr:function(){return tR},SbG:function(){return tM},HZH:function(){return tE},_Yw:function(){return tO},zbQ:function(){return tI},dpD:function(){return tw},Hmb:function(){return tD},mKl:function(){return tL},b9H:function(){return rf},e07:function(){return tk},bV0:function(){return tN},xQA:function(){return tB},nr8:function(){return tF},PhF:function(){return tj},oFR:function(){return tH},a5O:function(){return tX},i5y:function(){return tW},RQH:function(){return tG},wYB:function(){return tU},p2w:function(){return tz},Gcp:function(){return tJ},MRv:function(){return tY},TQc:function(){return tq},O3z:function(){return tQ},nhH:function(){return t0},w3H:function(){return t1},ZjV:function(){return t2},D2d:function(){return t3},L8s:function(){return tZ},FKq:function(){return t$},bK0:function(){return t4},_tC:function(){return t5},e0R:function(){return t6},h8e:function(){return rp},jQk:function(){return t8},_JP:function(){return t7},s1s:function(){return t9},XkS:function(){return re},Tr8:function(){return rt},GBy:function(){return tK},sEM:function(){return rr},MIZ:function(){return ri},YDk:function(){return TensorBuffer},SIB:function(){return tV},n9L:function(){return rn},cWu:function(){return ro},wx7:function(){return ra},G3Y:function(){return rs},kpP:function(){return rl},ToN:function(){return ru},Qvg:function(){return rc},RuY:function(){return rd},usg:function(){return ry},QBD:function(){return r3},backend_util:function(){return T},UFq:function(){return r4},Jyw:function(){return C},f3b:function(){return buffer},zoF:function(){return r6},Izb:function(){return r8},C2$:function(){return P},hiC:function(){return rW},SRH:function(){return engine},OBj:function(){return environment_env},Iqj:function(){return r7},GDt:function(){return _},J69:function(){return r9},glt:function(){return nextFrame},sQ3:function(){return rJ},jqO:function(){return registerBackend},wCN:function(){return registerKernel},XLQ:function(){return r5},iD$:function(){return scalar},tdS:function(){return ib},kuN:function(){return x},Vl2:function(){return ie},luU:function(){return rQ},Smz:function(){return it},z4k:function(){return sumOutType},RRF:function(){return tensor1d},lub:function(){return tidy},x8V:function(){return upcastType},D5U:function(){return b},lls:function(){return zeros}});var a,s,l,u,c,d,p,h,f,y,g,v,m,S,b={};r.r(b),r.d(b,{arraysEqual:function(){return arraysEqual},arraysEqualWithNull:function(){return arraysEqualWithNull},assert:function(){return util_base_assert},assertNonNegativeIntegerDimensions:function(){return assertNonNegativeIntegerDimensions},assertNonNull:function(){return assertNonNull},assertShapesMatch:function(){return assertShapesMatch},bytesFromStringArray:function(){return bytesFromStringArray},bytesPerElement:function(){return bytesPerElement},checkConversionForErrors:function(){return checkConversionForErrors},clamp:function(){return clamp},computeStrides:function(){return computeStrides},convertBackendValuesAndArrayBuffer:function(){return convertBackendValuesAndArrayBuffer},createScalarValue:function(){return createScalarValue},createShuffledIndices:function(){return createShuffledIndices},decodeString:function(){return decodeString},distSquared:function(){return distSquared},encodeString:function(){return encodeString},fetch:function(){return util_fetch},fingerPrint64:function(){return fingerPrint64},flatten:function(){return flatten},getArrayFromDType:function(){return getArrayFromDType},getTypedArrayFromDType:function(){return getTypedArrayFromDType},hasEncodingLoss:function(){return hasEncodingLoss},hexToLong:function(){return hexToLong},indexToLoc:function(){return indexToLoc},inferDtype:function(){return inferDtype},inferFromImplicitShape:function(){return inferFromImplicitShape},isBoolean:function(){return isBoolean},isFunction:function(){return isFunction},isInt:function(){return isInt},isNumber:function(){return isNumber},isPromise:function(){return isPromise},isScalarShape:function(){return isScalarShape},isString:function(){return isString},isTypedArray:function(){return isTypedArray},isValidDtype:function(){return isValidDtype},locToIndex:function(){return locToIndex},makeOnesTypedArray:function(){return makeOnesTypedArray},makeZerosNestedTypedArray:function(){return makeZerosNestedTypedArray},makeZerosTypedArray:function(){return makeZerosTypedArray},nearestDivisor:function(){return nearestDivisor},nearestLargerEven:function(){return nearestLargerEven},now:function(){return now},parseAxisParam:function(){return parseAxisParam},randUniform:function(){return randUniform},repeatedTry:function(){return repeatedTry},rightPad:function(){return rightPad},shuffle:function(){return shuffle},shuffleCombo:function(){return shuffleCombo},sizeFromShape:function(){return util_base_sizeFromShape},sizeToSquarishShape:function(){return sizeToSquarishShape},squeezeShape:function(){return squeezeShape},sum:function(){return sum},swap:function(){return swap},tanh:function(){return tanh},toNestedArray:function(){return toNestedArray},toTypedArray:function(){return toTypedArray}});var P={};r.r(P),r.d(P,{isBrowser:function(){return isBrowser},isMobile:function(){return isMobile},mockIsMobile:function(){return mockIsMobile}});var C={};r.r(C),r.d(C,{assertAndGetBroadcastShape:function(){return assertAndGetBroadcastShape},getBroadcastDims:function(){return getBroadcastDims},getReductionAxes:function(){return getReductionAxes}});var x={};r.r(x),r.d(x,{assertParamsValid:function(){return assertParamsValid},computeFlatOffset:function(){return computeFlatOffset},computeOutShape:function(){return computeOutShape},getNormalizedAxes:function(){return getNormalizedAxes},isSliceContinous:function(){return isSliceContinous},maskToAxes:function(){return maskToAxes},parseSliceParams:function(){return parseSliceParams},sliceInfo:function(){return sliceInfo},startForAxis:function(){return startForAxis},startIndicesWithElidedDims:function(){return startIndicesWithElidedDims},stopForAxis:function(){return stopForAxis},stopIndicesWithElidedDims:function(){return stopIndicesWithElidedDims},stridesForAxis:function(){return stridesForAxis},stridesWithElidedDims:function(){return stridesWithElidedDims}});var A={};r.r(A),r.d(A,{collectGatherOpShapeInfo:function(){return collectGatherOpShapeInfo},computeOutShape:function(){return segment_util_computeOutShape},segOpComputeOptimalWindowSize:function(){return segOpComputeOptimalWindowSize}});var T={};r.r(T),r.d(T,{ERF_A1:function(){return iI},ERF_A2:function(){return iM},ERF_A3:function(){return iL},ERF_A4:function(){return ik},ERF_A5:function(){return iN},ERF_P:function(){return iO},PARALLELIZE_THRESHOLD:function(){return iE},RowPartitionType:function(){return S},SELU_SCALE:function(){return iD},SELU_SCALEALPHA:function(){return iw},applyActivation:function(){return applyActivation},assertAndGetBroadcastShape:function(){return assertAndGetBroadcastShape},assertAxesAreInnerMostDims:function(){return assertAxesAreInnerMostDims},assertParamsConsistent:function(){return assertParamsConsistent},assignToTypedArray:function(){return assignToTypedArray},axesAreInnerMostDims:function(){return axesAreInnerMostDims},calculateShapes:function(){return calculateShapes},checkEinsumDimSizes:function(){return checkEinsumDimSizes},checkPadOnDimRoundingMode:function(){return checkPadOnDimRoundingMode},combineLocations:function(){return combineLocations},combineRaggedTensorToTensorShapes:function(){return combineRaggedTensorToTensorShapes},complexWithEvenIndex:function(){return complexWithEvenIndex},complexWithOddIndex:function(){return complexWithOddIndex},computeConv2DInfo:function(){return computeConv2DInfo},computeConv3DInfo:function(){return computeConv3DInfo},computeDefaultPad:function(){return computeDefaultPad},computeDilation2DInfo:function(){return computeDilation2DInfo},computeOptimalWindowSize:function(){return computeOptimalWindowSize},computeOutAndReduceShapes:function(){return computeOutAndReduceShapes},computeOutShape:function(){return concat_util_computeOutShape},computePool2DInfo:function(){return computePool2DInfo},computePool3DInfo:function(){return computePool3DInfo},convertConv2DDataFormat:function(){return convertConv2DDataFormat},decodeEinsumEquation:function(){return decodeEinsumEquation},eitherStridesOrDilationsAreOne:function(){return eitherStridesOrDilationsAreOne},expandShapeToKeepDim:function(){return expandShapeToKeepDim},exponent:function(){return exponent},exponents:function(){return exponents},fromStringArrayToUint8:function(){return fromStringArrayToUint8},fromUint8ToStringArray:function(){return fromUint8ToStringArray},getAxesPermutation:function(){return getAxesPermutation},getBroadcastDims:function(){return getBroadcastDims},getComplexWithIndex:function(){return getComplexWithIndex},getEinsumComputePath:function(){return getEinsumComputePath},getEinsumPermutation:function(){return getEinsumPermutation},getFusedBiasGradient:function(){return getFusedBiasGradient},getFusedDyActivation:function(){return getFusedDyActivation},getImageCenter:function(){return getImageCenter},getInnerMostAxes:function(){return getInnerMostAxes},getPermuted:function(){return getPermuted},getRaggedRank:function(){return getRaggedRank},getReductionAxes:function(){return getReductionAxes},getReshaped:function(){return getReshaped},getReshapedPermuted:function(){return getReshapedPermuted},getRowPartitionTypesHelper:function(){return getRowPartitionTypesHelper},getSliceBeginCoords:function(){return getSliceBeginCoords},getSliceSize:function(){return getSliceSize},getSparseFillEmptyRowsIndicesDenseShapeMismatch:function(){return getSparseFillEmptyRowsIndicesDenseShapeMismatch},getSparseFillEmptyRowsNegativeIndexErrorMessage:function(){return getSparseFillEmptyRowsNegativeIndexErrorMessage},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:function(){return getSparseFillEmptyRowsOutOfRangeIndexErrorMessage},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:function(){return getSparseReshapeEmptyTensorZeroOutputDimErrorMessage},getSparseReshapeInputOutputMismatchErrorMessage:function(){return getSparseReshapeInputOutputMismatchErrorMessage},getSparseReshapeInputOutputMultipleErrorMessage:function(){return getSparseReshapeInputOutputMultipleErrorMessage},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:function(){return getSparseReshapeMultipleNegativeOneOutputDimErrorMessage},getSparseReshapeNegativeOutputDimErrorMessage:function(){return getSparseReshapeNegativeOutputDimErrorMessage},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:function(){return getSparseSegmentReductionIndicesOutOfRangeErrorMessage},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:function(){return getSparseSegmentReductionNegativeSegmentIdsErrorMessage},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:function(){return getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:function(){return getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage},getUndoAxesPermutation:function(){return getUndoAxesPermutation},isIdentityPermutation:function(){return isIdentityPermutation},log:function(){return log_log},mergeRealAndImagArrays:function(){return mergeRealAndImagArrays},prepareAndValidate:function(){return prepareAndValidate},prepareSplitSize:function(){return prepareSplitSize},segment_util:function(){return A},shouldFuse:function(){return shouldFuse},slice_util:function(){return x},splitRealAndImagArrays:function(){return splitRealAndImagArrays},stridesOrDilationsArePositive:function(){return stridesOrDilationsArePositive},tupleValuesAreOne:function(){return tupleValuesAreOne},upcastType:function(){return upcastType},validateDefaultValueShape:function(){return validateDefaultValueShape},validateInput:function(){return validateInput},validateUpdateShape:function(){return validateUpdateShape},warn:function(){return warn}});var _={};r.r(_),r.d(_,{GP:function(){return nonMaxSuppressionV3Impl},qP:function(){return nonMaxSuppressionV4Impl},pA:function(){return nonMaxSuppressionV5Impl},ZA:function(){return whereImpl}});let DataStorage=class DataStorage{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}};let KernelBackend=class KernelBackend{refCount(e){return notYetImplemented("refCount")}incRef(e){return notYetImplemented("incRef")}timerAvailable(){return!0}time(e){return notYetImplemented("time")}read(e){return notYetImplemented("read")}readSync(e){return notYetImplemented("readSync")}readToGPU(e,t){return notYetImplemented("readToGPU")}numDataIds(){return notYetImplemented("numDataIds")}disposeData(e,t){return notYetImplemented("disposeData")}write(e,t,r){return notYetImplemented("write")}move(e,t,r,i,n){return notYetImplemented("move")}createTensorFromGPUData(e,t,r){return notYetImplemented("createTensorFromGPUData")}memory(){return notYetImplemented("memory")}floatPrecision(){return notYetImplemented("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return notYetImplemented("dispose")}};function notYetImplemented(e){throw Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function shuffle(e){let t=e.length,r=0;for(;t>0;)r=Math.random()*t|0,swap(e,--t,r)}function shuffleCombo(e,t){if(e.length!==t.length)throw Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${t.length}`);let r=e.length,i=0;for(;r>0;)i=Math.random()*r|0,swap(e,--r,i),swap(t,r,i)}function clamp(e,t,r){return Math.max(e,Math.min(t,r))}function nearestLargerEven(e){return e%2==0?e:e+1}function swap(e,t,r){let i=e[t];e[t]=e[r],e[r]=i}function sum(e){let t=0;for(let r=0;r<e.length;r++)t+=e[r];return t}function randUniform(e,t){let r=Math.random();return t*r+(1-r)*e}function distSquared(e,t){let r=0;for(let i=0;i<e.length;i++){let n=Number(e[i])-Number(t[i]);r+=n*n}return r}function util_base_assert(e,t){if(!e)throw Error("string"==typeof t?t:t())}function assertShapesMatch(e,t,r=""){util_base_assert(arraysEqual(e,t),()=>r+` Shapes ${e} and ${t} must match`)}function assertNonNull(e){util_base_assert(null!=e,()=>"The input to the tensor constructor must be a non-null value.")}function util_base_sizeFromShape(e){if(0===e.length)return 1;let t=e[0];for(let r=1;r<e.length;r++)t*=e[r];return t}function isScalarShape(e){return 0===e.length}function arraysEqualWithNull(e,t){if(e===t)return!0;if(null==e||null==t||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(null!==e[r]&&null!==t[r]&&e[r]!==t[r])return!1;return!0}function arraysEqual(e,t){if(e===t)return!0;if(null==e||null==t||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function isInt(e){return e%1==0}function tanh(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return -1;{let t=Math.exp(2*e);return(t-1)/(t+1)}}function sizeToSquarishShape(e){let t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function createShuffledIndices(e){let t=new Uint32Array(e);for(let r=0;r<e;++r)t[r]=r;return shuffle(t),t}function rightPad(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function repeatedTry(e,t=e=>0,r,i){return new Promise((n,o)=>{let a=0,tryFn=()=>{if(e()){n();return}a++;let s=t(a);if(null!=r&&a>=r){o();return}null!=i?i(tryFn,s):setTimeout(tryFn,s)};tryFn()})}function inferFromImplicitShape(e,t){let r=1,i=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)r*=e[t];else if(-1===e[t]){if(-1!==i)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${i} and dim ${t}`);i=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===i){if(t>0&&t!==r)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===r)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%r!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${r}`);let n=e.slice();return n[i]=t/r,n}function parseAxisParam(e,t){let r=t.length;return util_base_assert((e=null==e?t.map((e,t)=>t):[].concat(e)).every(e=>e>=-r&&e<r),()=>`All values in axis param must be in range [-${r}, ${r}) but got axis ${e}`),util_base_assert(e.every(e=>isInt(e)),()=>`All values in axis param must be integers but got axis ${e}`),e.map(e=>e<0?r+e:e)}function squeezeShape(e,t){let r=[],i=[],n=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||n?null:parseAxisParam(t,e).sort(),a=0;for(let t=0;t<e.length;++t){if(null!=o){if(o[a]===t&&1!==e[t])throw Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==o[a]||o[a]>t)&&1===e[t]&&(r.push(e[t]),i.push(t)),o[a]<=t&&a++}1!==e[t]&&(r.push(e[t]),i.push(t))}return{newShape:r,keptDims:i}}function getTypedArrayFromDType(e,t){return getArrayFromDType(e,t)}function getArrayFromDType(e,t){let r=null;if(null==e||"float32"===e)r=new Float32Array(t);else if("int32"===e)r=new Int32Array(t);else if("bool"===e)r=new Uint8Array(t);else if("string"===e)r=Array(t);else throw Error(`Unknown data type ${e}`);return r}function checkConversionForErrors(e,t){for(let r=0;r<e.length;r++){let i=e[r];if(isNaN(i)||!isFinite(i))throw Error(`A tensor of type ${t} being uploaded contains ${i}.`)}}function isValidDtype(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function hasEncodingLoss(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function bytesPerElement(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw Error(`Unknown dtype ${e}`)}function bytesFromStringArray(e){if(null==e)return 0;let t=0;return e.forEach(e=>t+=e.length),t}function isString(e){return"string"==typeof e||e instanceof String}function isBoolean(e){return"boolean"==typeof e}function isNumber(e){return"number"==typeof e}function inferDtype(e){if(Array.isArray(e))return inferDtype(e[0]);if(e instanceof Float32Array);else if(e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray)return"int32";else if(isNumber(e));else if(isString(e))return"string";else if(isBoolean(e))return"bool";return"float32"}function isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}function nearestDivisor(e,t){for(let r=t;r<e;++r)if(e%r==0)return r;return e}function computeStrides(e){let t=e.length;if(t<2)return[];let r=Array(t-1);r[t-2]=e[t-1];for(let i=t-3;i>=0;--i)r[i]=r[i+1]*e[i+1];return r}function toNestedArray(e,t,r=!1){if(0===e.length)return t[0];let i=e.reduce((e,t)=>e*t)*(r?2:1);if(0===i)return[];if(i!==t.length)throw Error(`[${e}] does not match the input size ${t.length}${r?" for a complex tensor":""}.`);return function createNestedArray(e,t,r,i=!1){let n=[];if(1===t.length){let o=t[0]*(i?2:1);for(let t=0;t<o;t++)n[t]=r[e+t]}else{let o=t[0],a=t.slice(1),s=a.reduce((e,t)=>e*t)*(i?2:1);for(let t=0;t<o;t++)n[t]=createNestedArray(e+t*s,a,r,i)}return n}(0,e,t,r)}function convertBackendValuesAndArrayBuffer(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw Error(`Unknown dtype ${t}`)}function makeOnesTypedArray(e,t){let r=makeZerosTypedArray(e,t);for(let e=0;e<r.length;e++)r[e]=1;return r}function makeZerosTypedArray(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw Error(`Unknown data type ${t}`)}function makeZerosNestedTypedArray(e,t){let r=e.reduce((e,t)=>e*t,1);if(null==t||"float32"===t)return toNestedArray(e,new Float32Array(r));if("int32"===t)return toNestedArray(e,new Int32Array(r));if("bool"===t)return toNestedArray(e,new Uint8Array(r));throw Error(`Unknown data type ${t}`)}function assertNonNegativeIntegerDimensions(e){e.forEach(t=>{util_base_assert(Number.isInteger(t)&&t>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`)})}function locToIndex(e,t,r){if(0===t)return 0;if(1===t)return e[0];let i=e[e.length-1];for(let t=0;t<e.length-1;++t)i+=r[t]*e[t];return i}function indexToLoc(e,t,r){if(0===t)return[];if(1===t)return[e];let i=Array(t);for(let t=0;t<i.length-1;++t)i[t]=Math.floor(e/r[t]),e-=i[t]*r[t];return i[i.length-1]=e,i}function isPromise(e){return e&&e.then&&"function"==typeof e.then}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let R="tfjsflags";let Environment=class Environment{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=getQueryParams,this.populateURLFlags()}setPlatform(e,t){null==this.platform||E.getBool("IS_TEST")||E.getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`),this.platformName=e,this.platform=t}registerFlag(e,t,r){if(this.flagRegistry[e]={evaluationFn:t,setHook:r},null!=this.urlFlags[e]){let t=this.urlFlags[e];E.getBool("IS_TEST")||E.getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];let t=this.evaluateFlag(e);if(isPromise(t))throw Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;let e=this.getQueryParams(this.global.location.search);if(R in e){let t=e[R].split(",");t.forEach(e=>{let[t,r]=e.split(":");this.urlFlags[t]=function(e,t){let r=t.toLowerCase();return"true"===r||"false"===r?"true"===r:`${+r}`===r?+r:t}(0,r)})}}};function getQueryParams(e){let t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(e,...r)=>{var i,n;return i=r[0],n=r[1],t[decodeURIComponent(i)]=decodeURIComponent(n||""),r.join("=")}),t}function environment_env(){return E}let E=null;var w=r(28070);function getGlobalNamespace(){if(null==i){let e;if("undefined"!=typeof window)e=window;else if(void 0!==r.g)e=r.g;else if(void 0!==w)e=w;else if("undefined"!=typeof self)e=self;else throw Error("Could not find a global object");i=e}return i}function getGlobal(e,t){let r=function(){let e=getGlobalNamespace();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(r.has(e))return r.get(e);{let i=t();return r.set(e,i),r.get(e)}}let D="Abs",O="Acos",I="Acosh",M="Add",L="AddN",k="All",N="Any",B="ArgMax",V="ArgMin",F="Asin",j="Asinh",H="Atan",z="Atanh",G="Atan2",U="AvgPool",W="AvgPoolGrad",X="AvgPool3D",Y="AvgPool3DGrad",$="BatchMatMul",K="BatchToSpaceND",q="Bincount",Z="BitwiseAnd",J="BroadcastArgs",Q="Cast",ee="Ceil",et="ClipByValue",er="Complex",ei="ComplexAbs",en="Concat",eo="Conv2D",ea="Conv2DBackpropFilter",es="Conv2DBackpropInput",el="Conv3D",eu="Conv3DBackpropFilterV2",ec="Conv3DBackpropInputV2",ed="Cos",ep="Cosh",eh="Cumprod",ef="Cumsum",ey="CropAndResize",eg="DenseBincount",ev="DepthToSpace",em="DepthwiseConv2dNative",eS="DepthwiseConv2dNativeBackpropFilter",eb="DepthwiseConv2dNativeBackpropInput",eP="Diag",eC="Dilation2D",ex="RealDiv",eA="Einsum",eT="Elu",e_="EluGrad",eR="Erf",eE="Equal",ew="Exp",eD="ExpandDims",eO="Expm1",eI="FFT",eM="Fill",eL="FlipLeftRight",ek="Floor",eN="FloorDiv",eB="FusedBatchNorm",eV="GatherV2",eF="GatherNd",ej="Greater",eH="GreaterEqual",ez="Identity",eG="IFFT",eU="Imag",eW="IsFinite",eX="IsInf",eY="IsNan",e$="LeakyRelu",eK="Less",eq="LessEqual",eZ="LinSpace",eJ="Log",eQ="Log1p",e0="LogicalAnd",e1="LogicalNot",e2="LogicalOr",e3="LRN",e5="LRNGrad",e4="Max",e6="Maximum",e8="MaxPool",e7="MaxPoolGrad",e9="MaxPool3D",te="MaxPool3DGrad",tt="MaxPoolWithArgmax",tr="Mean",ti="Min",tn="Minimum",to="MirrorPad",ta="Mod",ts="Multinomial",tl="Multiply",tu="Neg",tc="NotEqual",td="NonMaxSuppressionV3",tp="NonMaxSuppressionV4",th="NonMaxSuppressionV5",tf="OnesLike",ty="OneHot",tg="Pack",tv="PadV2",tm="Pow",tS="Prelu",tb="Prod",tP="RaggedGather",tC="RaggedRange",tx="RaggedTensorToTensor",tA="Range",tT="Real",t_="Reciprocal",tR="Relu",tE="Reshape",tw="ResizeNearestNeighbor",tD="ResizeNearestNeighborGrad",tO="ResizeBilinear",tI="ResizeBilinearGrad",tM="Relu6",tL="Reverse",tk="Round",tN="Rsqrt",tB="ScatterNd",tV="TensorScatterUpdate",tF="SearchSorted",tj="Select",tH="Selu",tz="Slice",tG="Sin",tU="Sinh",tW="Sign",tX="Sigmoid",tY="Softplus",t$="Sqrt",tK="Sum",tq="SpaceToBatchND",tZ="SplitV",tJ="Softmax",tQ="SparseFillEmptyRows",t0="SparseReshape",t1="SparseSegmentMean",t2="SparseSegmentSum",t3="SparseToDense",t5="SquaredDifference",t4="Square",t6="StaticRegexReplace",t8="StridedSlice",t7="StringNGrams",t9="StringSplit",re="StringToHashBucketFast",rt="Sub",rr="Tan",ri="Tanh",rn="Tile",ro="TopK",ra="Transform",rs="Transpose",rl="Unique",ru="Unpack",rc="UnsortedSegmentSum",rd="ZerosLike",rp="Step",rh="FromPixels",rf="RotateWithOffset",ry="_FusedMatMul",rg="FusedConv2D",rv="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function warn(...e){E.getBool("IS_TEST")||E.getBool("PROD")||console.warn(...e)}function log_log(...e){E.getBool("IS_TEST")||E.getBool("PROD")||console.log(...e)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let rm=getGlobal("kernelRegistry",()=>new Map),rS=getGlobal("gradRegistry",()=>new Map);function getKernel(e,t){let r=`${t}_${e}`;return rm.get(r)}function getKernelsForBackend(e){let t=rm.entries(),r=[];for(;;){let{done:i,value:n}=t.next();if(i)break;let[o,a]=n,[s]=o.split("_");s===e&&r.push(a)}return r}function registerKernel(e){let{kernelName:t,backendName:r}=e,i=`${r}_${t}`;rm.has(i)&&warn(`The kernel '${t}' for backend '${r}' is already registered`),rm.set(i,e)}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function isTypedArrayBrowser(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var rb=r(6017),rP=r.n(rb);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let rC=rP()||rb;function hexToLong(e){return rC.fromString(e,!0,16)}let rx=hexToLong("c3a5c85c97cb3127"),rA=hexToLong("b492b66fbe98f273"),rT=hexToLong("9ae16a3b2f90404f");function shiftMix(e){return e.xor(e.shru(47))}function hash_util_fetch(e,t,r){let i=e.slice(t,t+r);return rC.fromBytes(Array.from(i),!0,!0)}function fetch64(e,t){return hash_util_fetch(e,t,8)}function rotate64(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function hashLen16(e,t,r=hexToLong("9ddfea08eb382d69")){let i=e.xor(t).mul(r);i=i.xor(i.shru(47));let n=t.xor(i).mul(r);return(n=n.xor(n.shru(47))).mul(r)}function weakHashLen32WithSeedsStr(e,t,r,i){return function(e,t,r,i,n,o){n=n.add(e),o=rotate64(o.add(n).add(i),21);let a=n;return n=(n=n.add(t)).add(r),o=o.add(rotate64(n,44)),[n.add(i),o.add(a)]}(fetch64(e,t),fetch64(e,t+8),fetch64(e,t+16),fetch64(e,t+24),r,i)}function fingerPrint64(e,t=e.length){let r=rC.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){let r=rT.add(2*t),i=fetch64(e,0).add(rT),n=fetch64(e,t-8),o=rotate64(n,37).mul(r).add(i),a=rotate64(i,25).add(n).mul(r);return hashLen16(o,a,r)}if(t>=4){let r=rT.add(2*t),i=hash_util_fetch(e,0,4);return hashLen16(i.shl(3).add(t),hash_util_fetch(e,t-4,4),r)}if(t>0){let r=e[0],i=e[t>>1],n=e[t-1],o=t+(n<<2);return shiftMix(rT.mul(r+(i<<8)).xor(rx.mul(o))).mul(rT)}return rT}(e,t):function(e,t=e.length){let r=rT.add(2*t),i=fetch64(e,0).mul(rA),n=fetch64(e,8),o=fetch64(e,t-8).mul(r),a=fetch64(e,t-16).mul(rT);return hashLen16(rotate64(i.add(n),43).add(rotate64(o,30)).add(a),i.add(rotate64(n.add(rT),18)).add(o),r)}(e,t);if(t<=64)return function(e,t=e.length){let r=rT.add(2*t),i=fetch64(e,0).mul(rT),n=fetch64(e,8),o=fetch64(e,t-8).mul(r),a=fetch64(e,t-16).mul(rT),s=rotate64(i.add(n),43).add(rotate64(o,30)).add(a),l=hashLen16(s,i.add(rotate64(n.add(rT),18)).add(o),r),u=fetch64(e,16).mul(r),c=fetch64(e,24),d=s.add(fetch64(e,t-32)).mul(r),p=l.add(fetch64(e,t-24)).mul(r);return hashLen16(rotate64(u.add(c),43).add(rotate64(d,30)).add(p),u.add(rotate64(c.add(i),18)).add(d),r)}(e,t);let i=r,n=r.mul(rA).add(113),o=shiftMix(n.mul(rT).add(113)).mul(rT),a=[rC.UZERO,rC.UZERO],s=[rC.UZERO,rC.UZERO];i=i.mul(rT).add(fetch64(e,0));let l=0,u=(t-1>>6)*64,c=u+(t-1&63)-63;do i=rotate64(i.add(n).add(a[0]).add(fetch64(e,l+8)),37).mul(rA),n=rotate64(n.add(a[1]).add(fetch64(e,l+48)),42).mul(rA),i=i.xor(s[1]),n=n.add(a[0]).add(fetch64(e,l+40)),o=rotate64(o.add(s[0]),33).mul(rA),a=weakHashLen32WithSeedsStr(e,l,a[1].mul(rA),i.add(s[0])),s=weakHashLen32WithSeedsStr(e,l+32,o.add(s[1]),n.add(fetch64(e,l+16))),[o,i]=[i,o],l+=64;while(l!==u);let d=rA.add(o.and(255).shl(1));return l=c,s[0]=s[0].add(t-1&63),a[0]=a[0].add(s[0]),s[0]=s[0].add(a[0]),i=rotate64(i.add(n).add(a[0]).add(fetch64(e,l+8)),37).mul(d),n=rotate64(n.add(a[1]).add(fetch64(e,l+48)),42).mul(d),i=i.xor(s[1].mul(9)),n=n.add(a[0].mul(9).add(fetch64(e,l+40))),o=rotate64(o.add(s[0]),33).mul(d),a=weakHashLen32WithSeedsStr(e,l,a[1].mul(d),i.add(s[0])),s=weakHashLen32WithSeedsStr(e,l+32,o.add(s[1]),n.add(fetch64(e,l+16))),[o,i]=[i,o],hashLen16(hashLen16(a[0],s[0],d).add(shiftMix(n).mul(rx)).add(o),hashLen16(a[1],s[1],d).add(i),d)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function createScalarValue(e,t){return"string"===t?encodeString(e):toTypedArray([e],t)}function toTypedArray(e,t){var r;if("string"===t)throw Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=flatten(e)),E.getBool("DEBUG")&&checkConversionForErrors(e,t),(r=e)instanceof Float32Array&&"float32"===t||r instanceof Int32Array&&"int32"===t||r instanceof Uint8Array&&"bool"===t)return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){let t=new Uint8Array(e.length);for(let r=0;r<t.length;++r)0!==Math.round(e[r])&&(t[r]=1);return t}throw Error(`Unknown data type ${t}`)}function now(){return E.platform.now()}function util_fetch(e,t){return E.platform.fetch(e,t)}function encodeString(e,t="utf-8"){return t=t||"utf-8",E.platform.encode(e,t)}function decodeString(e,t="utf-8"){return t=t||"utf-8",E.platform.decode(e,t)}function isTypedArray(e){return null!=E.platform.isTypedArray?E.platform.isTypedArray(e):isTypedArrayBrowser(e)}function flatten(e,t=[],r=!1){if(null==t&&(t=[]),"boolean"==typeof e||"number"==typeof e||"string"==typeof e||isPromise(e)||null==e||isTypedArray(e)&&r)t.push(e);else if(Array.isArray(e)||isTypedArray(e))for(let i=0;i<e.length;++i)flatten(e[i],t,r);else{let i=-1;for(let t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(i=Math.max(i,Number(t)));for(let n=0;n<=i;n++)flatten(e[n],t,r)}return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Profiler=class Profiler{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new Logger)}profileKernel(e,t,r){let i,n;let holdResultWrapperFn=()=>{i=r()},o=now();if(this.backendTimer.timerAvailable())n=this.backendTimer.time(holdResultWrapperFn);else{for(let e of(holdResultWrapperFn(),i))e.dataSync();n=Promise.resolve({kernelMs:now()-o})}if(E.getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let t=0;t<i.length;t++){let r=i[t];r.data().then(t=>{!function(e,t,r){if("float32"===t)for(let t=0;t<e.length;t++){let i=e[t];if(isNaN(i)||!isFinite(i))return console.warn(`Found ${i} in the result of '${r}'`),!0}}(t,r.dtype,e)})}let a={kernelName:e,outputs:i,inputs:t,timeMs:n.then(e=>e.kernelMs),extraInfo:n.then(e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():"")};return a}logKernelProfile(e){let{kernelName:t,outputs:r,timeMs:i,inputs:n,extraInfo:o}=e;r.forEach(e=>{Promise.all([e.data(),i,o]).then(r=>{this.logger.logKernelProfile(t,e,r[0],r[1],n,r[2])})})}};let Logger=class Logger{logKernelProfile(e,t,r,i,n,o){let a="number"==typeof i?rightPad(`${i}ms`,9):i.error,s=rightPad(e,25),l=t.rank,u=t.size,c=rightPad(t.shape.toString(),14),d="";for(let e in n){let r=n[e];if(null!=r){let i=r.shape||t.shape,n=i.length;d+=`${e}: ${n}D ${n>0?i:""} `}}console.log(`%c${s}	%c${a}	%c${l}D ${c}	%c${u}	%c${d}	%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}};function valToString(e,t,r){return rightPad(Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:isString(e)?`'${e}'`:"bool"===r?boolNumToString(e):parseFloat(e.toFixed(7)).toString(),t)}function boolNumToString(e){return 0===e?"false":"true"}function createComplexTuples(e){let t=[];for(let r=0;r<e.length;r+=2)t.push([e[r],e[r+1]]);return t}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let TensorBuffer=class TensorBuffer{constructor(e,t,r){if(this.dtype=t,this.shape=e.slice(),this.size=util_base_sizeFromShape(e),null!=r){let e=r.length;util_base_assert(e===this.size,()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`)}if("complex64"===t)throw Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||getArrayFromDType(t,this.size),this.strides=computeStrides(e)}set(e,...t){0===t.length&&(t=[0]),util_base_assert(t.length===this.rank,()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`);let r=this.locToIndex(t);this.values[r]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(let r of e){if(r<0||r>=this.shape[t]){let t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw Error(t)}t++}let r=e[e.length-1];for(let t=0;t<e.length-1;++t)r+=this.strides[t]*e[t];return this.values[r]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let r=0;r<e.length-1;++r)t+=this.strides[r]*e[r];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];let t=Array(this.shape.length);for(let r=0;r<t.length-1;++r)t[r]=Math.floor(e/this.strides[r]),e-=t[r]*this.strides[r];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return r_().makeTensor(this.values,this.shape,this.dtype)}};let r_=null,rR=null;let tensor_Tensor=class tensor_Tensor{constructor(e,t,r,i){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=util_base_sizeFromShape(e),this.strides=computeStrides(e),this.dataId=r,this.id=i,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){let e=await this.data();return rR.buffer(this.shape,this.dtype,e)}bufferSync(){return rR.buffer(this.shape,this.dtype,this.dataSync())}async array(){let e=await this.data();return toNestedArray(this.shape,e,"complex64"===this.dtype)}arraySync(){return toNestedArray(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();let e=r_().read(this.dataId);if("string"===this.dtype){let t=await e;try{return t.map(e=>decodeString(e))}catch(e){throw Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),r_().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();let e=r_().readSync(this.dataId);if("string"===this.dtype)try{return e.map(e=>decodeString(e))}catch(e){throw Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();let e=await r_().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),r_().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw Error("Tensor is disposed.")}print(e=!1){return rR.print(this,e)}clone(){return this.throwIfDisposed(),rR.clone(this)}toString(e=!1){let t=this.dataSync();return function(e,t,r,i){let n=computeStrides(t),o=function(e,t,r,i){let n=util_base_sizeFromShape(t),o=i[i.length-1],a=Array(o).fill(0),s=t.length,l="complex64"===r?createComplexTuples(e):e;if(s>1)for(let e=0;e<n/o;e++){let t=e*o;for(let e=0;e<o;e++)a[e]=Math.max(a[e],valToString(l[t+e],0,r).length)}return a}(e,t,r,n),a=t.length,s=function subTensorToString(e,t,r,i,n,o=!0){let a="complex64"===r?2:1,s=t[0],l=t.length;if(0===l){if("complex64"===r){let t=createComplexTuples(e);return[valToString(t[0],0,r)]}return"bool"===r?[boolNumToString(e[0])]:[e[0].toString()]}if(1===l){if(s>20){let t=3*a,i=Array.from(e.slice(0,t)),o=Array.from(e.slice((s-3)*a,s*a));return"complex64"===r&&(i=createComplexTuples(i),o=createComplexTuples(o)),["["+i.map((e,t)=>valToString(e,n[t],r)).join(", ")+", ..., "+o.map((e,t)=>valToString(e,n[s-3+t],r)).join(", ")+"]"]}let t="complex64"===r?createComplexTuples(e):Array.from(e);return["["+t.map((e,t)=>valToString(e,n[t],r)).join(", ")+"]"]}let u=t.slice(1),c=i.slice(1),d=i[0]*a,p=[];if(s>20){for(let t=0;t<3;t++){let i=t*d,o=i+d;p.push(...subTensorToString(e.slice(i,o),u,r,c,n,!1))}p.push("...");for(let t=s-3;t<s;t++){let i=t*d,o=i+d;p.push(...subTensorToString(e.slice(i,o),u,r,c,n,t===s-1))}}else for(let t=0;t<s;t++){let i=t*d,o=i+d;p.push(...subTensorToString(e.slice(i,o),u,r,c,n,t===s-1))}let h=2===l?",":"";p[0]="["+(s>0?p[0]+h:"");for(let e=1;e<p.length-1;e++)p[e]=" "+p[e]+h;let f=",\n";for(let e=2;e<l;e++)f+="\n";return p[p.length-1]=" "+p[p.length-1]+"]"+(o?"":f),p}(e,t,r,n,o),l=["Tensor"];return i&&(l.push(`  dtype: ${r}`),l.push(`  rank: ${a}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(s.map(e=>"    "+e).join("\n")),l.join("\n")}(t,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),rR.cast(this,e)}variable(e=!0,t,r){return this.throwIfDisposed(),r_().makeVariable(this,e,t,r)}};function getGlobalTensorClass(){return getGlobal("Tensor",()=>tensor_Tensor)}Object.defineProperty(tensor_Tensor,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),getGlobalTensorClass();let Variable=class Variable extends tensor_Tensor{constructor(e,t,r,i){super(e.shape,e.dtype,e.dataId,i),this.trainable=t,this.name=r}assign(e){if(e.dtype!==this.dtype)throw Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!arraysEqual(e.shape,this.shape))throw Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);r_().disposeTensor(this),this.dataId=e.dataId,r_().incRef(this,null)}dispose(){r_().disposeVariable(this),this.isDisposedInternal=!0}};Object.defineProperty(Variable,Symbol.hasInstance,{value:e=>e instanceof tensor_Tensor&&null!=e.assign&&e.assign instanceof Function}),(a=h||(h={})).R0="R0",a.R1="R1",a.R2="R2",a.R3="R3",a.R4="R4",a.R5="R5",a.R6="R6",(s=f||(f={})).float32="float32",s.int32="int32",s.bool="int32",s.complex64="complex64",(l=y||(y={})).float32="float32",l.int32="int32",l.bool="bool",l.complex64="complex64",(u=g||(g={})).float32="float32",u.int32="float32",u.bool="float32",u.complex64="complex64",(c=v||(v={})).float32="complex64",c.int32="complex64",c.bool="complex64",c.complex64="complex64";let rE={float32:g,int32:f,bool:y,complex64:v};function upcastType(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw Error(`Can not upcast ${e} with ${t}`)}return rE[e][t]}function sumOutType(e){return upcastType(e,"int32")}function isWebGLData(e){return null!=e&&"object"==typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function isWebGPUData(e){return"undefined"!=typeof GPUBuffer&&null!=e&&"object"==typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function makeTypesMatch(e,t){if(e.dtype===t.dtype)return[e,t];let r=upcastType(e.dtype,t.dtype);return[e.cast(r),t.cast(r)]}function getTensorsInContainer(e){let t=[],r=new Set;return function walkTensorContainer(e,t,r){if(null!=e){if(e instanceof tensor_Tensor){t.push(e);return}if(Array.isArray(e)||"object"==typeof e)for(let i in e){let n=e[i];r.has(n)||(r.add(n),walkTensorContainer(n,t,r))}}}(e,t,r),t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function isRegisteredKernelInvocation(e){return null!=e.kernelName}let EngineState=class EngineState{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(let e in this.registeredVariables)this.registeredVariables[e].dispose()}};let Engine=class Engine{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new EngineState}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then(()=>{});if(null!=this.backendInstance)return;let e=this.getSortedBackends();for(let t=0;t<e.length;t++){let r=e[t],i=await this.initializeBackend(r).success;if(i){await this.setBackend(r);return}}throw Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){let{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{let{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,r=1){return e in this.registryFactory?(warn(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:r},!0)}async setBackend(e){if(null==this.registryFactory[e])throw Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;let{success:t,asyncInit:r}=this.initializeBackend(e),i=r?await t:t;if(!i)return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new Profiler(this.backendInstance),!0}setupRegisteredKernels(){let e=getKernelsForBackend(this.backendName);e.forEach(e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){let t=getKernelsForBackend(e);t.forEach(t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])})}initializeBackend(e){let t=this.registryFactory[e];if(null==t)throw Error(`Cannot initialize backend ${e}, no registration found.`);try{let r=t.factory();if(!r||r instanceof KernelBackend||"function"!=typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};{let t=++this.pendingBackendInitId,i=r.then(r=>!(t<this.pendingBackendInitId)&&(this.registry[e]=r,this.pendingBackendInit=null,!0)).catch(r=>!(t<this.pendingBackendInitId)&&(this.pendingBackendInit=null,warn(`Initialization of backend ${e} failed`),warn(r.stack||r.message),!1));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}}catch(t){return warn(`Initialization of backend ${e} failed`),warn(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){let e=this.getSortedBackends();for(let t=0;t<e.length;t++){let r=e[t],{success:i,asyncInit:n}=this.initializeBackend(r);if(n||i)return{name:r,asyncInit:n}}throw Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){let r=this.state.tensorInfo.get(t),i=r.backend,n=this.readSync(t),o=i.refCount(t);i.disposeData(t,!0),r.backend=e,e.move(t,n,r.shape,r.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let r,i=null;if(null==t){if("function"!=typeof e)throw Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw Error("When calling with two arguments, the 2nd argument to tidy() must be a function");i=e}return this.scopedRun(()=>this.startScope(i),()=>this.endScope(r),()=>((r=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),r))}scopedRun(e,t,r){e();try{let e=r();return t(),e}catch(e){throw t(),e}}nextTensorId(){return Engine.nextTensorId++}nextVariableId(){return Engine.nextVariableId++}clone(e){let t=rw.runKernel(ez,{x:e});return this.addTapeNode(this.state.activeScope.name,{x:e},[t],e=>({x:()=>rw.runKernel(Q,{x:e},{dtype:"float32"})}),[],{}),t}runKernel(e,t,r){null==this.backendName&&this.backend;let i=null!=getKernel(e,this.backendName);if(!i)throw Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,r){let i=this.backend.numDataIds(),n=0;r.forEach(e=>{n+="complex64"===e.dtype?3:1});let o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=i-t-n-o;if(a>0)throw Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${e}'`)}runKernelFunc(e){let t,r,i,n;let o=[],a=this.isTapeOn(),s=this.state.numBytes,l=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;let u=isRegisteredKernelInvocation(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(isRegisteredKernelInvocation(e)){let{kernelName:t,inputs:n,attrs:s}=e;null==this.backendName&&this.backend;let l=getKernel(t,this.backendName);util_base_assert(null!=l,()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`),r=()=>{let e=this.backend.numDataIds();i=l.kernelFunc({inputs:n,attrs:s,backend:this.backend});let r=Array.isArray(i)?i:[i];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,r);let u=r.map(e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e));if(a){let e=this.getTensorsForGradient(t,n,u);o=this.saveTensorsForBackwardMode(e)}return u}}else{let{forwardFunc:t}=e,saveFunc=e=>{a&&(o=e.map(e=>this.keep(this.clone(e))))};r=()=>{let e=this.backend.numDataIds();i=this.tidy(()=>t(this.backend,saveFunc));let r=Array.isArray(i)?i:[i];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(u,e,r),r}}let{inputs:c,attrs:d}=e,p=isRegisteredKernelInvocation(e)?null:e.backwardsFunc;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(n=this.profiler.profileKernel(u,c,()=>r()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(n),t=n.outputs):t=r()}),a&&this.addTapeNode(u,c,t,p,o,d),this.state.profiling&&this.state.activeProfile.kernels.push({name:u,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-l,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map(e=>null!=c[e]?c[e].shape:null),outputShapes:t.map(e=>e.shape),kernelTimeMs:n.timeMs,extraInfo:n.extraInfo}),Array.isArray(i)?t:t[0]}saveTensorsForBackwardMode(e){let t=e.map(e=>this.keep(this.clone(e)));return t}getTensorsForGradient(e,t,r){let i=rS.get(e);if(null!=i){let e;let n=i.inputsToSave||[],o=i.outputsToSave||[];i.saveAllInputs?(util_base_assert(Array.isArray(t),()=>"saveAllInputs is true, expected inputs to be an array."),e=Object.keys(t).map(e=>t[e])):e=n.map(e=>t[e]);let a=r.filter((e,t)=>o[t]);return e.concat(a)}return[]}makeTensor(e,t,r,i){if(null==e)throw Error("Values passed to engine.makeTensor() are null");r=r||"float32",i=i||this.backend;let n=e;"string"===r&&isString(e[0])&&(n=e.map(e=>encodeString(e)));let o=i.write(n,t,r),a=new tensor_Tensor(t,r,o,this.nextTensorId());if(this.trackTensor(a,i),"string"===r){let e=this.state.tensorInfo.get(o),t=bytesFromStringArray(n);this.state.numBytes+=t-e.bytes,e.bytes=t}return a}makeTensorFromDataId(e,t,r,i){r=r||"float32";let n={dataId:e,shape:t,dtype:r};return this.makeTensorFromTensorInfo(n,i)}makeTensorFromTensorInfo(e,t){let{dataId:r,shape:i,dtype:n}=e,o=new tensor_Tensor(i,n,r,this.nextTensorId());return this.trackTensor(o,t),o}makeVariable(e,t=!0,r,i){r=r||this.nextVariableId().toString(),null!=i&&i!==e.dtype&&(e=e.cast(i));let n=new Variable(e,t,r,this.nextTensorId());if(null!=this.state.registeredVariables[n.name])throw Error(`Variable with name ${n.name} was already registered`);return this.state.registeredVariables[n.name]=n,this.incRef(n,this.backend),n}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*bytesPerElement(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof Variable||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;let t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){let t=e.size*bytesPerElement(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(let e in this.state.registeredVariables){let t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){let e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;let t=this.state.numBytes,r=this.state.numTensors;for(let i of(this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(e=>e.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-r,this.state.activeProfile.kernels))i.kernelTimeMs=await i.kernelTimeMs,i.extraInfo=await i.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,r,i,n,o){let a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:r,saved:n},s=rS.get(e);null!=s&&(i=s.gradFunc),null!=i&&(a.gradient=e=>i((e=e.map((e,t)=>{if(null==e){let e=r[t],i=makeZerosTypedArray(e.size,e.dtype);return this.makeTensor(i,e.shape,e.dtype)}return e})).length>1?e:e[0],n,o)),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){let t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){let t=getTensorsInContainer(e),r=new Set(t.map(e=>e.id));for(let e=0;e<this.state.activeScope.track.length;e++){let t=this.state.activeScope.track[e];t.kept||r.has(t.id)||t.dispose()}let i=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach(e=>{e.kept||e.scopeId!==i.id||this.track(e)})}gradients(e,t,r,i=!1){if(util_base_assert(t.length>0,()=>"gradients() received an empty list of xs."),null!=r&&"float32"!==r.dtype)throw Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);let n=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));util_base_assert(n instanceof tensor_Tensor,()=>"The result y returned by f() must be a tensor.");let o=/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r){let i={},n={};for(let e=0;e<t.length;e++)i[t[e].id]=!0;for(let r=0;r<e.length;r++){let o=e[r],a=o.inputs;for(let e in a){let r=a[e],s=!1;for(let e=0;e<t.length;e++)if(i[r.id]){o.outputs.forEach(e=>i[e.id]=!0),s=!0,n[o.id]=!0;break}if(s)break}}let o={};o[r.id]=!0;let a={};for(let t=e.length-1;t>=0;t--){let r=e[t],i=r.inputs;for(let e=0;e<r.outputs.length;e++)if(o[r.outputs[e].id]){for(let e in i)o[i[e].id]=!0,a[r.id]=!0;break}}let s=[];for(let t=0;t<e.length;t++){let r=e[t];if(n[r.id]&&a[r.id]){let e={};for(let t in r.inputs){let n=r.inputs[t];i[n.id]&&(e[t]=n)}let t=Object.assign({},r);t.inputs=e,t.outputs=r.outputs,s.push(t)}}return s}(this.state.activeTape,t,n);if(!i&&0===o.length&&t.length>0)throw Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{let e={};e[n.id]=null==r?function(e){let t=makeOnesTypedArray(util_base_sizeFromShape(e),"float32");return rw.makeTensor(t,e,"float32")}(n.shape):r,function(e,t,r,i){for(let n=t.length-1;n>=0;n--){let o=t[n],a=[];if(o.outputs.forEach(t=>{let r=e[t.id];null!=r?a.push(r):a.push(null)}),null==o.gradient)throw Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);let s=o.gradient(a);for(let t in o.inputs){if(!(t in s))throw Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(s)}.`);let n=r(()=>s[t]());if("float32"!==n.dtype)throw Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${n.dtype}'`);let a=o.inputs[t];if(!arraysEqual(n.shape,a.shape))throw Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${t}' has shape '${n.shape}', which does not match the shape of the input '${a.shape}'`);if(null==e[a.id])e[a.id]=n;else{let t=e[a.id];e[a.id]=i(t,n),t.dispose()}}}}(e,o,e=>this.tidy(e),add);let i=t.map(t=>e[t.id]);return 0===this.state.gradientDepth&&(this.state.activeTape.forEach(e=>{for(let t of e.saved)t.dispose()}),this.state.activeTape=null),{value:n,grads:i}})}customGrad(e){return util_base_assert(isFunction(e),()=>"The f passed in customGrad(f) must be a function."),(...t)=>{let r;util_base_assert(t.every(e=>e instanceof tensor_Tensor),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let i={};return t.forEach((e,t)=>{i[t]=e}),this.runKernelFunc({forwardFunc:(i,n)=>(util_base_assert((r=e(...[...t,n])).value instanceof tensor_Tensor,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),util_base_assert(isFunction(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),backwardsFunc:(e,i)=>{let n=r.gradFunc(e,i),o=Array.isArray(n)?n:[n];util_base_assert(o.length===t.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),util_base_assert(o.every(e=>e instanceof tensor_Tensor),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");let a={};return o.forEach((e,t)=>{a[t]=()=>e}),a},inputs:i})}}readSync(e){let t=this.state.tensorInfo.get(e);return t.backend.readSync(e)}read(e){let t=this.state.tensorInfo.get(e);return t.backend.read(e)}readToGPU(e,t){let r=this.state.tensorInfo.get(e);return r.backend.readToGPU(e,t)}async time(e){let t=now(),r=await this.backend.time(e);return r.wallMs=now()-t,r}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){for(let e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new EngineState,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}};function getOrMakeEngine(){let e=getGlobalNamespace();if(null==e._tfengine){let t=new Environment(e);e._tfengine=new Engine(t)}return E=e._tfengine.ENV,r_=()=>e._tfengine,e._tfengine}Engine.nextTensorId=0,Engine.nextVariableId=0;let rw=getOrMakeEngine();function add(e,t){return rw.runKernel(M,{a:e,b:t})}function mockIsMobile(e){n=e}function isMobile(e){if(void 0!==n)return n;if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;let t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){let t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function isBrowser(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var rD=r(28070);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let rO=E;rO.registerFlag("DEBUG",()=>!1,e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),rO.registerFlag("IS_BROWSER",()=>isBrowser()),rO.registerFlag("IS_NODE",()=>void 0!==rD&&void 0!==rD.versions&&void 0!==rD.versions.node),rO.registerFlag("IS_CHROME",()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)),rO.registerFlag("IS_SAFARI",()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor)),rO.registerFlag("PROD",()=>!1),rO.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>rO.getBool("DEBUG")),rO.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0),rO.registerFlag("IS_TEST",()=>!1),rO.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>rO.getBool("DEBUG")),rO.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1),rO.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1),rO.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);let composite_array_buffer_CompositeArrayBuffer=class composite_array_buffer_CompositeArrayBuffer{static join(e){return new composite_array_buffer_CompositeArrayBuffer(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e||(e instanceof Array||(e=[e]),0===(e=e.map(e=>isTypedArray(e)?e.buffer:e)).length))return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let r=0;r<e.length;r++){let i=e[r];r!==e.length-1&&i.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);let n=t+i.byteLength;this.shards.push({buffer:i,start:t,end:n}),t=n}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,t=this.byteLength){if(0===this.shards.length||(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),(t=Math.min(this.byteLength,t))<=e))return new ArrayBuffer(0);let r=this.findShardForByte(e);if(-1===r)throw Error(`Could not find start shard for byte ${e}`);let i=t-e,n=new ArrayBuffer(i),o=new Uint8Array(n),a=0;for(let i=r;i<this.shards.length;i++){let r=this.shards[i],n=e+a,s=n-r.start,l=a,u=Math.min(t,r.end),c=u-r.start,d=new Uint8Array(r.buffer,s,c-s);if(o.set(d,l),a+=d.length,t<r.end)break}return n}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return -1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function check(t){return e<t.start?-1:e>=t.end?1:0}if(0===check(this.shards[this.previousShardIndex]))return this.previousShardIndex;let t=function(e,t){let r=0,i=e.length;for(;r<=i;){let n=Math.floor((i-r)/2)+r,o=t(e[n]);if(0===o)return n;o<0?i=n:r=n+1}return -1}(this.shards,check);return -1===t?-1:(this.previousShardIndex=t,this.previousShardIndex)}};var rI=r(61900).Buffer;let rM=void 0!==rI&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function stringByteLength(e){return rM?rI.byteLength(e,"utf8"):new Blob([e]).size}function getModelJSONForModelArtifacts(e,t){let r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),r}async function io_utils_getModelArtifactsForJSON(e,t){let r,i;return null!=e.weightsManifest&&([r,i]=await t(e.weightsManifest)),function(e,t,r){let i={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(i.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw Error("modelJSON has weightsManifest but weightSpecs is null");if(!r)throw Error("modelJSON has weightsManifest but weightData is null");i.weightSpecs=t,i.weightData=r}return null!=e.signature&&(i.signature=e.signature),null!=e.userDefinedMetadata&&(i.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(i.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(i.initializerSignature=e.initializerSignature),i}(e,r,i)}function getModelArtifactsInfoForJSON(e){if(e.modelTopology instanceof ArrayBuffer)throw Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:stringByteLength(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:stringByteLength(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new composite_array_buffer_CompositeArrayBuffer(e.weightData).byteLength}}function getWeightSpecs(e){let t=[];for(let r of e)t.push(...r.weights);return t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let router_registry_IORouterRegistry=class router_registry_IORouterRegistry{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==router_registry_IORouterRegistry.instance&&(router_registry_IORouterRegistry.instance=new router_registry_IORouterRegistry),router_registry_IORouterRegistry.instance}static registerSaveRouter(e){router_registry_IORouterRegistry.getInstance().saveRouters.push(e)}static registerLoadRouter(e){router_registry_IORouterRegistry.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return router_registry_IORouterRegistry.getHandlers(e,"save")}static getLoadHandlers(e,t){return router_registry_IORouterRegistry.getHandlers(e,"load",t)}static getHandlers(e,t,r){let i=[],n="load"===t?router_registry_IORouterRegistry.getInstance().loadRouters:router_registry_IORouterRegistry.getInstance().saveRouters;return n.forEach(t=>{let n=t(e,r);null!==n&&i.push(n)}),i}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let rL="tensorflowjs",rk="models_store",rN="model_info_store";function getIndexedDBFactory(){if(!E.getBool("IS_BROWSER"))throw Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");let e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw Error("The current browser does not appear to support IndexedDB.");return t}function setUpDatabase(e){let t=e.result;t.createObjectStore(rk,{keyPath:"modelPath"}),t.createObjectStore(rN,{keyPath:"modelPath"})}let BrowserIndexedDB=class BrowserIndexedDB{constructor(e){if(this.indexedDB=getIndexedDBFactory(),null==e||!e)throw Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise((e,r)=>{let i=this.indexedDB.open(rL,1);i.onupgradeneeded=()=>setUpDatabase(i),i.onsuccess=()=>{let n=i.result;if(null==t){let t=n.transaction(rk,"readonly"),i=t.objectStore(rk),o=i.get(this.modelPath);o.onsuccess=()=>{if(null==o.result)return n.close(),r(Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(o.result.modelArtifacts)},o.onerror=e=>(n.close(),r(o.error)),t.oncomplete=()=>n.close()}else{let i,o;t.weightData=composite_array_buffer_CompositeArrayBuffer.join(t.weightData);let a=getModelArtifactsInfoForJSON(t),s=n.transaction(rN,"readwrite"),l=s.objectStore(rN);try{i=l.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(e){return r(e)}i.onsuccess=()=>{let i;o=n.transaction(rk,"readwrite");let u=o.objectStore(rk);try{i=u.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:a})}catch(e){return r(e)}i.onsuccess=()=>e({modelArtifactsInfo:a}),i.onerror=e=>{l=s.objectStore(rN);let t=l.delete(this.modelPath);t.onsuccess=()=>(n.close(),r(i.error)),t.onerror=e=>(n.close(),r(i.error))}},i.onerror=e=>(n.close(),r(i.error)),s.oncomplete=()=>{null==o?n.close():o.oncomplete=()=>n.close()}}},i.onerror=e=>r(i.error)})}};BrowserIndexedDB.URL_SCHEME="indexeddb://";let indexedDBRouter=e=>{var t;return E.getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(BrowserIndexedDB.URL_SCHEME)?(t=e.slice(BrowserIndexedDB.URL_SCHEME.length),new BrowserIndexedDB(t)):null};router_registry_IORouterRegistry.registerSaveRouter(indexedDBRouter),router_registry_IORouterRegistry.registerLoadRouter(indexedDBRouter);let rB="tensorflowjs_models",rV="info";function getModelKeys(e){return{info:[rB,e,rV].join("/"),topology:[rB,e,"model_topology"].join("/"),weightSpecs:[rB,e,"weight_specs"].join("/"),weightData:[rB,e,"weight_data"].join("/"),modelMetadata:[rB,e,"model_metadata"].join("/")}}function removeItems(e){for(let t of Object.values(e))window.localStorage.removeItem(t)}let BrowserLocalStorage=class BrowserLocalStorage{constructor(e){if(!E.getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=getModelKeys(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{let t=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),i=getModelArtifactsInfoForJSON(e),n=composite_array_buffer_CompositeArrayBuffer.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,function(e){if(rM)return rI.from(e).toString("base64");let t=new Uint8Array(e),r="";for(let e=0,i=t.length;e<i;e++)r+=String.fromCharCode(t[e]);return btoa(r)}(n));let o={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),{modelArtifactsInfo:i}}catch(e){throw removeItems(this.keys),Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${i.modelTopologyBytes}, weightSpecsBytes=${i.weightSpecsBytes}, weightDataBytes=${i.weightDataBytes}.`)}}}async load(){let e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");let t={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(null==r)throw Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=r;let i=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==i)throw Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=i;let n=this.LS.getItem(this.keys.modelMetadata);if(null!=n){let e=JSON.parse(n);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}let o=this.LS.getItem(this.keys.weightData);if(null==o)throw Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(rM){let t=rI.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}let t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;++e)r.set([t.charCodeAt(e)],e);return r.buffer}(o),t}};BrowserLocalStorage.URL_SCHEME="localstorage://";let localStorageRouter=e=>{var t;return E.getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(BrowserLocalStorage.URL_SCHEME)?(t=e.slice(BrowserLocalStorage.URL_SCHEME.length),new BrowserLocalStorage(t)):null};router_registry_IORouterRegistry.registerSaveRouter(localStorageRouter),router_registry_IORouterRegistry.registerLoadRouter(localStorageRouter);let ModelStoreManagerRegistry=class ModelStoreManagerRegistry{constructor(){this.managers={}}static getInstance(){return null==ModelStoreManagerRegistry.instance&&(ModelStoreManagerRegistry.instance=new ModelStoreManagerRegistry),ModelStoreManagerRegistry.instance}static registerManager(e,t){util_base_assert(null!=e,()=>"scheme must not be undefined or null."),e.endsWith("://")&&(e=e.slice(0,e.indexOf("://"))),util_base_assert(e.length>0,()=>"scheme must not be an empty string.");let r=ModelStoreManagerRegistry.getInstance();util_base_assert(null==r.managers[e],()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=t}static getManager(e){let t=ModelStoreManagerRegistry.getInstance().managers[e];if(null==t)throw Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(ModelStoreManagerRegistry.getInstance().managers)}};if(E.get("IS_BROWSER")){E.setPlatform("browser",new /**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){if("undefined"==typeof window||!E.getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,t);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();let t=this.functionRefs[e.data.index];t(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return isTypedArrayBrowser(e)}});try{ModelStoreManagerRegistry.registerManager(BrowserLocalStorage.URL_SCHEME,new class{constructor(){util_base_assert(E.getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),util_base_assert("undefined"==typeof window||void 0!==window.localStorage,()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){let e={},t=rB+"/",r="/"+rV;for(let i=0;i<this.LS.length;++i){let n=this.LS.key(i);if(n.startsWith(t)&&n.endsWith(r)){let t=function(e){let t=e.split("/");if(t.length<3)throw Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join("/")}(n);e[t]=JSON.parse(this.LS.getItem(n))}}return e}async removeModel(e){var t;e=(t=e).startsWith(BrowserLocalStorage.URL_SCHEME)?t.slice(BrowserLocalStorage.URL_SCHEME.length):t;let r=getModelKeys(e);if(null==this.LS.getItem(r.info))throw Error(`Cannot find model at path '${e}'`);let i=JSON.parse(this.LS.getItem(r.info));return removeItems(r),i}})}catch(e){}try{ModelStoreManagerRegistry.registerManager(BrowserIndexedDB.URL_SCHEME,new class{constructor(){this.indexedDB=getIndexedDBFactory()}async listModels(){return new Promise((e,t)=>{let r=this.indexedDB.open(rL,1);r.onupgradeneeded=()=>setUpDatabase(r),r.onsuccess=()=>{let i=r.result,n=i.transaction(rN,"readonly"),o=n.objectStore(rN),a=o.getAll();a.onsuccess=()=>{let t={};for(let e of a.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},a.onerror=e=>(i.close(),t(a.error)),n.oncomplete=()=>i.close()},r.onerror=e=>t(r.error)})}async removeModel(e){var t;return e=(t=e).startsWith(BrowserIndexedDB.URL_SCHEME)?t.slice(BrowserIndexedDB.URL_SCHEME.length):t,new Promise((t,r)=>{let i=this.indexedDB.open(rL,1);i.onupgradeneeded=()=>setUpDatabase(i),i.onsuccess=()=>{let n;let o=i.result,a=o.transaction(rN,"readwrite"),s=a.objectStore(rN),l=s.get(e);l.onsuccess=()=>{if(null==l.result)return o.close(),r(Error(`Cannot find model with path '${e}' in IndexedDB.`));{let i=s.delete(e),deleteModelData=()=>{n=o.transaction(rk,"readwrite");let i=n.objectStore(rk),a=i.delete(e);a.onsuccess=()=>t(l.result.modelArtifactsInfo),a.onerror=e=>r(l.error)};i.onsuccess=deleteModelData,i.onerror=e=>(deleteModelData(),o.close(),r(l.error))}},l.onerror=e=>(o.close(),r(l.error)),a.oncomplete=()=>{null==n?o.close():n.oncomplete=()=>o.close()}},i.onerror=e=>r(i.error)})}})}catch(e){}}var rF=r(28070);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let rj={importFetch:()=>r(17799)};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function buffer(e,t="float32",r){return t=t||"float32",assertNonNegativeIntegerDimensions(e),new TensorBuffer(e,t,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function inferShape(e,t){let r=e;if(isTypedArray(e))return"string"===t?[]:[e.length];if(isWebGLData(e)){let t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(isWebGPUData(e))return[e.buffer.size/(null==t?4:bytesPerElement(t))];if(!Array.isArray(e))return[];let i=[];for(;Array.isArray(r)||isTypedArray(r)&&"string"!==t;)i.push(r.length),r=r[0];return Array.isArray(e)&&E.getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function deepAssertShapeConsistency(e,t,r){if(r=r||[],!Array.isArray(e)&&!isTypedArray(e)){util_base_assert(0===t.length,()=>`Element arr[${r.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`);return}util_base_assert(t.length>0,()=>`Element arr[${r.join("][")}] should be a primitive, but is an array of ${e.length} elements`),util_base_assert(e.length===t[0],()=>`Element arr[${r.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`);let i=t.slice(1);for(let t=0;t<e.length;++t)deepAssertShapeConsistency(e[t],i,r.concat(t))}(e,i,[]),i}function assertDtype(e,t,r,i){if("string_or_numeric"!==e){if(null==e)throw Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw Error(`Argument '${r}' passed to '${i}' must be ${e} tensor, but got ${t} tensor`)}}function tensor_util_env_convertToTensor(e,t,r,i="numeric"){if(e instanceof getGlobalTensorClass())return assertDtype(i,e.dtype,t,r),e;let n=inferDtype(e);if("string"!==n&&["bool","int32","float32"].indexOf(i)>=0&&(n=i),assertDtype(i,n,t,r),null==e||!isTypedArray(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){let i=null==e?"null":e.constructor.name;throw Error(`Argument '${t}' passed to '${r}' must be a Tensor or TensorLike, but got '${i}'`)}let o=inferShape(e,n);isTypedArray(e)||Array.isArray(e)||(e=[e]);let a="string"!==n?toTypedArray(e,n):flatten(e,[],!0);return rw.makeTensor(a,o,n)}function op(e){let t=Object.keys(e);if(1!==t.length)throw Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let r=t[0],i=e[r];r.endsWith("_")&&(r=r.substring(0,r.length-1)),r+="__op";let f2=(...e)=>{rw.startScope(r);try{let t=i(...e);return isPromise(t)&&console.error("Cannot return a Promise inside of tidy."),rw.endScope(t),t}catch(e){throw rw.endScope(null),e}};return Object.defineProperty(f2,"name",{value:r,configurable:!0}),f2}E.get("IS_NODE")&&!E.get("IS_BROWSER")&&E.setPlatform("node",new class{constructor(){this.util=r(57582),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=E.global.fetch?E.global.fetch(e,t):(null==o&&(o=rj.importFetch()),o(e,t))}now(){let e=rF.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}});let rH=op({cast_:/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"x","cast");if(!isValidDtype(t))throw Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==r.dtype||"string"!==t&&"string"===r.dtype)throw Error("Only strings can be casted to strings");return rw.runKernel(Q,{x:r},{dtype:t})}}),rz=op({clone_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=tensor_util_env_convertToTensor(e,"x","clone","string_or_numeric");return rw.runKernel(ez,{x:t})}});function engine(){return rw}function tidy(e,t){return rw.tidy(e,t)}function dispose(e){let t=getTensorsInContainer(e);t.forEach(e=>e.dispose())}function registerBackend(e,t,r=1){return rw.registerBackend(e,t,r)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */getOrMakeEngine(),rR={buffer:buffer,cast:rH,clone:rz,print:/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=!1){console.log(e.toString(t))}};let rG=op({add_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"a","add"),i=tensor_util_env_convertToTensor(t,"b","add");[r,i]=makeTypesMatch(r,i);let n={a:r,b:i};return rw.runKernel(M,n)}}),rU=op({floorDiv_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"a","floorDiv"),i=tensor_util_env_convertToTensor(t,"b","floorDiv");[r,i]=makeTypesMatch(r,i);let n={a:r,b:i};return rw.runKernel(eN,n)}}),rW=op({div_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"a","div"),i=tensor_util_env_convertToTensor(t,"b","div");if([r,i]=makeTypesMatch(r,i),"int32"===r.dtype&&"int32"===i.dtype)return rU(r,i);let n={a:r,b:i};return rw.runKernel(ex,n,{})}}),rX=op({mul_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"a","mul"),i=tensor_util_env_convertToTensor(t,"b","mul");[r,i]=makeTypesMatch(r,i);let n={a:r,b:i};return rw.runKernel(tl,n)}}),rY=op({sqrt_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=tensor_util_env_convertToTensor(e,"x","sqrt","float32");return rw.runKernel(t$,{x:t})}}),r$=op({square_:/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=tensor_util_env_convertToTensor(e,"x","square");return rw.runKernel("Square",{x:t},{})}}),rK=op({zerosLike_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=tensor_util_env_convertToTensor(e,"x","zerosLike");return rw.runKernel(rd,{x:t})}});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function makeTensor(e,t,r,i){if(null==i)i=inferDtype(e);else if("complex64"===i)throw Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(isWebGPUData(e)||isWebGLData(e)){if("float32"!==i&&"int32"!==i)throw Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${i}.`);return rw.backend.createTensorFromGPUData(e,t||r,i)}if(!isTypedArray(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){assertNonNegativeIntegerDimensions(t);let e=util_base_sizeFromShape(t),i=util_base_sizeFromShape(r);util_base_assert(e===i,()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${i}`);for(let e=0;e<r.length;++e){let i=r[e],n=e!==r.length-1||i!==util_base_sizeFromShape(t.slice(e));util_base_assert(r[e]===t[e]||!n,()=>`Error creating a new Tensor. Inferred shape (${r}) does not match the provided shape (${t}). `)}}return isTypedArray(e)||Array.isArray(e)||(e=[e]),t=t||r,e="string"!==i?toTypedArray(e,i):flatten(e,[],!0),rw.makeTensor(e,t,i)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function scalar(e,t){if((isTypedArray(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&isTypedArray(e)&&!(e instanceof Uint8Array))throw Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return makeTensor(e,[],[],t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let rq=new Map,rZ=new Map;let Serializable=class Serializable{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}};let SerializationMap=class SerializationMap{constructor(){this.classNameMap={}}static getMap(){return null==SerializationMap.instance&&(SerializationMap.instance=new SerializationMap),SerializationMap.instance}static register(e){SerializationMap.getMap().classNameMap[e.className]=[e,e.fromConfig]}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Optimizer=class Optimizer extends Serializable{minimize(e,t=!1,r){let{value:i,grads:n}=this.computeGradients(e,r);if(null!=r){let e=r.map(e=>({name:e.name,tensor:n[e.name]}));this.applyGradients(e)}else this.applyGradients(n);return(dispose(n),t)?i:(i.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){util_base_assert(isFunction(e),()=>"The f passed in variableGrads(f) must be a function"),util_base_assert(null==t||Array.isArray(t)&&t.every(e=>e instanceof Variable),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");let r=null!=t;if(!r)for(let e in t=[],rw.registeredVariables)t.push(rw.registeredVariables[e]);let i=r?t.filter(e=>!e.trainable):null,n=t.length;util_base_assert((t=t.filter(e=>e.trainable)).length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${n} variables is trainable.`);let{value:o,grads:a}=rw.gradients(e,t,null,!0);util_base_assert(a.some(e=>null!=e),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),util_base_assert(0===o.rank,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${o.rank} tensor`);let s={};return t.forEach((e,t)=>{null!=a[t]&&(s[e.name]=a[t])}),null!=i&&i.forEach(e=>s[e.name]=null),{value:o,grads:s}}(e,t)}dispose(){null!=this.iterations_&&dispose(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:scalar(this.iterations_,"int32")}}async getWeights(){throw Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fill(e,t,r){assertNonNegativeIntegerDimensions(e),r=r||inferDtype(t);let i={shape:e,value:t,dtype:r};return rw.runKernel(eM,{},i)}Object.defineProperty(Optimizer,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});let rJ=op({pow_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"base","pow"),i=tensor_util_env_convertToTensor(t,"exp","pow");[r,i]=makeTypesMatch(r,i);let n={a:r,b:i};return rw.runKernel(tm,n)}}),rQ=op({sub_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"a","sub"),i=tensor_util_env_convertToTensor(t,"b","sub");[r,i]=makeTypesMatch(r,i);let n={a:r,b:i};return rw.runKernel(rt,n)}}),r0=op({abs_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=tensor_util_env_convertToTensor(e,"x","abs");return"complex64"===t.dtype?rw.runKernel(ei,{x:t}):rw.runKernel(D,{x:t})}});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function getBroadcastDims(e,t){let r=e.length,i=[];for(let n=0;n<r;n++){let o=r-1-n,a=e[o]||1,s=t[t.length-1-n]||1;s>1&&1===a&&i.unshift(o)}return i}function getReductionAxes(e,t){let r=[];for(let i=0;i<t.length;i++){let n=e[e.length-i-1],o=t.length-i-1,a=t[o];(null==n||1===n&&a>1)&&r.unshift(o)}return r}function assertAndGetBroadcastShape(e,t){let r=Math.max(e.length,t.length),i=Array(r);for(let n=0;n<r;n++){let o=e[e.length-n-1];null==o&&(o=1);let a=t[t.length-n-1];if(null==a&&(a=1),1===o)i[r-n-1]=a;else if(1===a)i[r-n-1]=o;else if(o!==a){let r=`Operands could not be broadcast together with shapes ${e} and ${t}.`;throw Error(r)}else i[r-n-1]=o}return i}let r1=op({maximum_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"a","maximum"),i=tensor_util_env_convertToTensor(t,"b","maximum");[r,i]=makeTypesMatch(r,i),"bool"===r.dtype&&(r=rH(r,"int32"),i=rH(i,"int32")),assertAndGetBroadcastShape(r.shape,i.shape);let n={a:r,b:i};return rw.runKernel(e6,n)}});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let SGDOptimizer=class SGDOptimizer extends Optimizer{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){let t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);t.forEach((t,r)=>{let i=Array.isArray(e)?e[r].tensor:e[t];if(null==i)return;let n=rw.registeredVariables[t];tidy(()=>{let e=rG(rX(this.c,i),n);n.assign(e)})}),this.incrementIterations()}setLearningRate(e){var t;this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(t=scalar(-e),rw.keep(t))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let r2=[/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class extends Optimizer{static get className(){return"Adadelta"}constructor(e,t,r=null){super(),this.learningRate=e,this.rho=t,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==r&&(this.epsilon=rw.backend.epsilon())}applyGradients(e){let t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);t.forEach((t,r)=>{let i=rw.registeredVariables[t];null==this.accumulatedGrads[r]&&(this.accumulatedGrads[r]={originalName:`${t}/accum_grad`,variable:tidy(()=>rK(i).variable(!1))}),null==this.accumulatedUpdates[r]&&(this.accumulatedUpdates[r]={originalName:`${t}/accum_var`,variable:tidy(()=>rK(i).variable(!1))});let n=Array.isArray(e)?e[r].tensor:e[t];if(null==n)return;let o=this.accumulatedGrads[r].variable,a=this.accumulatedUpdates[r].variable;tidy(()=>{let e=rG(rX(o,this.rho),rX(r$(n),1-this.rho)),t=rX(rW(rY(rG(a,this.epsilon)),rY(rG(o,this.epsilon))),n),r=rG(rX(a,this.rho),rX(r$(t),1-this.rho));o.assign(e),a.assign(r);let s=rG(rX(t,-this.learningRate),i);i.assign(s)})}),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(dispose(this.accumulatedGrads.map(e=>e.variable)),dispose(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){let e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);let t=e.length/2;this.accumulatedGrads=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})),this.accumulatedUpdates=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}},/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class extends Optimizer{static get className(){return"Adagrad"}constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){let t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);t.forEach((t,r)=>{let i=rw.registeredVariables[t];null==this.accumulatedGrads[r]&&(this.accumulatedGrads[r]={originalName:`${t}/accumulator`,variable:tidy(()=>fill(i.shape,this.initialAccumulatorValue).variable(!1))});let n=Array.isArray(e)?e[r].tensor:e[t];if(null==n)return;let o=this.accumulatedGrads[r].variable;tidy(()=>{let e=rG(o,r$(n));o.assign(e);let t=rG(rX(rW(n,rY(rG(e,rw.backend.epsilon()))),-this.learningRate),i);i.assign(t)})}),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&dispose(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e),this.accumulatedGrads=e.map(e=>({originalName:e.name,variable:e.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}},/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class extends Optimizer{static get className(){return"Adam"}constructor(e,t,r,i=null){super(),this.learningRate=e,this.beta1=t,this.beta2=r,this.epsilon=i,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],tidy(()=>{this.accBeta1=scalar(t).variable(),this.accBeta2=scalar(r).variable()}),null==i&&(this.epsilon=rw.backend.epsilon())}applyGradients(e){let t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);tidy(()=>{let r=rQ(1,this.accBeta1),i=rQ(1,this.accBeta2);t.forEach((t,n)=>{let o=rw.registeredVariables[t];null==this.accumulatedFirstMoment[n]&&(this.accumulatedFirstMoment[n]={originalName:`${t}/m`,variable:tidy(()=>rK(o).variable(!1))}),null==this.accumulatedSecondMoment[n]&&(this.accumulatedSecondMoment[n]={originalName:`${t}/v`,variable:tidy(()=>rK(o).variable(!1))});let a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;let s=this.accumulatedFirstMoment[n].variable,l=this.accumulatedSecondMoment[n].variable,u=rG(rX(s,this.beta1),rX(a,1-this.beta1)),c=rG(rX(l,this.beta2),rX(r$(a),1-this.beta2)),d=rW(u,r),p=rW(c,i);s.assign(u),l.assign(c);let h=rG(rX(rW(d,rG(rY(p),this.epsilon)),-this.learningRate),o);o.assign(h)}),this.accBeta1.assign(rX(this.accBeta1,this.beta1)),this.accBeta2.assign(rX(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&dispose(this.accumulatedFirstMoment.map(e=>e.variable)),null!=this.accumulatedSecondMoment&&dispose(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){let e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e),tidy(()=>{this.accBeta1.assign(rJ(this.beta1,this.iterations_+1)),this.accBeta2.assign(rJ(this.beta2,this.iterations_+1))});let t=e.length/2;this.accumulatedFirstMoment=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})),this.accumulatedSecondMoment=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}},/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class extends Optimizer{static get className(){return"Adamax"}constructor(e,t,r,i=null,n=0){super(),this.learningRate=e,this.beta1=t,this.beta2=r,this.epsilon=i,this.decay=n,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],tidy(()=>{this.iteration=scalar(0).variable(),this.accBeta1=scalar(t).variable()}),null==i&&(this.epsilon=rw.backend.epsilon())}applyGradients(e){let t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);tidy(()=>{let r=rQ(1,this.accBeta1),i=rW(-this.learningRate,rG(rX(this.iteration,this.decay),1));t.forEach((t,n)=>{let o=rw.registeredVariables[t];null==this.accumulatedFirstMoment[n]&&(this.accumulatedFirstMoment[n]={originalName:`${t}/m`,variable:rK(o).variable(!1)}),null==this.accumulatedWeightedInfNorm[n]&&(this.accumulatedWeightedInfNorm[n]={originalName:`${t}/v`,variable:rK(o).variable(!1)});let a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;let s=this.accumulatedFirstMoment[n].variable,l=this.accumulatedWeightedInfNorm[n].variable,u=rG(rX(s,this.beta1),rX(a,1-this.beta1)),c=rX(l,this.beta2),d=r0(a),p=r1(c,d);s.assign(u),l.assign(p);let h=rG(rX(rW(i,r),rW(u,rG(p,this.epsilon))),o);o.assign(h)}),this.iteration.assign(rG(this.iteration,1)),this.accBeta1.assign(rX(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&dispose(this.accumulatedFirstMoment.map(e=>e.variable)),null!=this.accumulatedWeightedInfNorm&&dispose(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}},/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class extends SGDOptimizer{static get className(){return"Momentum"}constructor(e,t,r=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=r,this.accumulations=[],this.m=scalar(this.momentum)}applyGradients(e){let t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);t.forEach((t,r)=>{let i=rw.registeredVariables[t];null==this.accumulations[r]&&(this.accumulations[r]={originalName:`${t}/momentum`,variable:tidy(()=>rK(i).variable(!1))});let n=this.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[t];null!=o&&tidy(()=>{let e;let t=rG(rX(this.m,n),o);e=this.useNesterov?rG(rX(this.c,rG(o,rX(t,this.m))),i):rG(rX(this.c,t),i),n.assign(t),i.assign(e)})}),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&dispose(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e),this.accumulations=e.map(e=>({originalName:e.name,variable:e.tensor.variable(!1)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}},/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class extends Optimizer{static get className(){return"RMSProp"}constructor(e,t=.9,r=0,i=null,n=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=r,this.epsilon=i,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=n,null==i&&(this.epsilon=rw.backend.epsilon()),null==e)throw Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){let t=Array.isArray(e)?e.map(e=>e.name):Object.keys(e);t.forEach((t,r)=>{let i=rw.registeredVariables[t];null==this.accumulatedMeanSquares[r]&&(this.accumulatedMeanSquares[r]={originalName:`${t}/rms`,variable:tidy(()=>rK(i).variable(!1))}),null==this.accumulatedMoments[r]&&(this.accumulatedMoments[r]={originalName:`${t}/momentum`,variable:tidy(()=>rK(i).variable(!1))}),null==this.accumulatedMeanGrads[r]&&this.centered&&(this.accumulatedMeanGrads[r]={originalName:`${t}/mg`,variable:tidy(()=>rK(i).variable(!1))});let n=Array.isArray(e)?e[r].tensor:e[t];if(null==n)return;let o=this.accumulatedMeanSquares[r].variable,a=this.accumulatedMoments[r].variable;tidy(()=>{let e=rG(rX(o,this.decay),rX(r$(n),1-this.decay));if(this.centered){let t=this.accumulatedMeanGrads[r].variable,s=rG(rX(t,this.decay),rX(n,1-this.decay)),l=rW(rX(n,this.learningRate),rY(rQ(e,rG(r$(s),this.epsilon)))),u=rG(rX(a,this.momentum),l);o.assign(e),t.assign(s),a.assign(u);let c=rQ(i,u);i.assign(c)}else{let e=rG(rX(o,this.decay),rX(r$(n),1-this.decay)),t=rG(rX(a,this.momentum),rW(rX(n,this.learningRate),rY(rG(e,this.epsilon))));o.assign(e),a.assign(t);let r=rQ(i,t);i.assign(r)}})}),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&dispose(this.accumulatedMeanSquares.map(e=>e.variable)),null!=this.accumulatedMeanGrads&&this.centered&&dispose(this.accumulatedMeanGrads.map(e=>e.variable)),null!=this.accumulatedMoments&&dispose(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){let e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);let t=this.centered?e.length/3:e.length/2;this.accumulatedMeanSquares=e.slice(0,t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})),this.accumulatedMoments=e.slice(t,2*t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map(e=>({originalName:e.name,variable:e.tensor.variable(!1)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}},SGDOptimizer];function defer(e){return new Promise(e=>setTimeout(e)).then(e)}let BrowserDownloads=class BrowserDownloads{constructor(e){if(!E.getBool("IS_BROWSER"))throw Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(BrowserDownloads.URL_SCHEME)&&(e=e.slice(BrowserDownloads.URL_SCHEME.length)),(null==e||0===e.length)&&(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw Error("Browser downloads are not supported in this environment since `document` is not present");let t=composite_array_buffer_CompositeArrayBuffer.join(e.weightData),r=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{let t=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],i=getModelJSONForModelArtifacts(e,t),n=window.URL.createObjectURL(new Blob([JSON.stringify(i)],{type:"application/json"})),o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=n,await defer(()=>o.dispatchEvent(new MouseEvent("click"))),null!=e.weightData){let e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=r,await defer(()=>e.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:getModelArtifactsInfoForJSON(e)}}}};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function monitorPromisesProgress(e,t,r,i){var n,o;util_base_assert(null!=e&&Array.isArray(e)&&e.length>0,()=>"promises must be a none empty array"),n=r=null==r?0:r,o=i=null==i?1:i,util_base_assert(n>=0&&n<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${n}`),util_base_assert(o>=0&&o<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${o}`),util_base_assert(o>=n,()=>`startFraction must be no more than endFraction, but got startFraction ${n} and endFraction ${o}`);let a=0;return Promise.all(e.map(n=>(n.then(n=>{let o=r+ ++a/e.length*(i-r);return t(o),n}),n)))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function loadWeightsAsArrayBuffer(e,t){null==t&&(t={});let r=null==t.fetchFunc?E.platform.fetch:t.fetchFunc,i=e.map(e=>r(e,t.requestInit,{isBinary:!0})),n=null==t.onProgress?await Promise.all(i):await monitorPromisesProgress(i,t.onProgress,0,.5),o=n.map(e=>e.arrayBuffer()),a=null==t.onProgress?await Promise.all(o):await monitorPromisesProgress(o,t.onProgress,.5,1);return a}BrowserDownloads.URL_SCHEME="downloads://",router_registry_IORouterRegistry.registerSaveRouter(e=>E.getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(BrowserDownloads.URL_SCHEME)?function(e="model"){return new BrowserDownloads(e)}(e.slice(BrowserDownloads.URL_SCHEME.length)):null);let HTTPRequest=class HTTPRequest{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(util_base_assert("function"==typeof t.fetchFunc,()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=t.fetchFunc):this.fetch=E.platform.fetch,util_base_assert(null!=e&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&util_base_assert(2===e.length,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");let t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;let r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],i=getModelJSONForModelArtifacts(e,r);if(t.body.append("model.json",new Blob([JSON.stringify(i)],{type:"application/json"}),"model.json"),null!=e.weightData){let r=composite_array_buffer_CompositeArrayBuffer.join(e.weightData);t.body.append("model.weights.bin",new Blob([r],{type:"application/octet-stream"}),"model.weights.bin")}let n=await this.fetch(this.path,t);if(n.ok)return{modelArtifactsInfo:getModelArtifactsInfoForJSON(e),responses:[n]};throw Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${n.status}.`)}async loadModelJSON(){let e;let t=await this.fetch(this.path,this.requestInit);if(!t.ok)throw Error(`Request to ${this.path} failed with status code ${t.status}. Please verify this URL points to the model JSON of the model to load.`);try{e=await t.json()}catch(t){let e=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?e+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":e+=" Please make sure the server is serving valid JSON for this request.",Error(e)}let r=e.modelTopology,i=e.weightsManifest;if(null==r&&null==i)throw Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return e}async load(){if(this.loadOptions.streamWeights)return this.loadStream();let e=await this.loadModelJSON();return io_utils_getModelArtifactsForJSON(e,e=>this.loadWeights(e))}async loadStream(){let e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),r=getWeightSpecs(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:r,getWeightStream:()=>(function(e,t){var r;let i;let n=null==t.fetchFunc?E.platform.fetch:t.fetchFunc,o=0;return null===(r=t.onProgress)||void 0===r||r.call(t,0),new ReadableStream({pull:async r=>{for(var a;o<e.length;){if(!i){let r=(await n(e[o],t.requestInit,{isBinary:!0})).body;i=r.getReader()}let{done:s,value:l}=await i.read();if(s){o++,i=void 0,null===(a=t.onProgress)||void 0===a||a.call(t,o/e.length);continue}r.enqueue(l);return}r.close()}})})(t,this.loadOptions)})}async getWeightUrls(e){let t=Array.isArray(this.path)?this.path[1]:this.path,[r,i]=function(e){let t=e.lastIndexOf("/"),r=e.lastIndexOf("?"),i=e.substring(0,t),n=r>t?e.substring(r):"";return[i+"/",n]}(t),n=this.weightPathPrefix||r,o=[],a=[];for(let t of e)for(let e of t.paths)null!=this.weightUrlConverter?a.push(this.weightUrlConverter(e)):o.push(n+e+i);return this.weightUrlConverter&&o.push(...await Promise.all(a)),o}async loadWeights(e){let t=await this.getWeightUrls(e),r=getWeightSpecs(e),i=await loadWeightsAsArrayBuffer(t,this.loadOptions);return[r,i]}};function isHTTPScheme(e){return null!=e.match(HTTPRequest.URL_SCHEME_REGEX)}HTTPRequest.URL_SCHEME_REGEX=/^https?:\/\//;let httpRouter=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc));else if(Array.isArray(e)?e.every(e=>isHTTPScheme(e)):isHTTPScheme(e))return new HTTPRequest(e,t);return null};function assertParamsValid(e,t,r){let i=e.shape.length;util_base_assert(i===t.length,()=>`Error in slice${i}D: Length of begin ${t} must match the rank of the array (${i}).`),util_base_assert(i===r.length,()=>`Error in slice${i}D: Length of size ${r} must match the rank of the array (${i}).`);for(let n=0;n<i;++n)util_base_assert(t[n]+r[n]<=e.shape[n],()=>`Error in slice${i}D: begin[${n}] + size[${n}] (${t[n]+r[n]}) would overflow input.shape[${n}] (${e.shape[n]})`)}function maskToAxes(e){let t=[],r=0;for(;e>0;)1&e&&t.push(r),e/=2,r++;return t}function computeOutShape(e,t,r){let i=[];for(let n=0;n<e.length;n++)i[n]=Math.ceil((t[n]-e[n])/r[n]);return i}function stridesWithElidedDims(e,t,r,i){let n=[...e];for(let e=n.length;e<i.length;e++)n.push(1);for(let e=0;e<r;e++)0===e?n[t]=1:(n.splice(t,0,1),n.pop());return n}function getElidedAxes(e,t){let r=[];for(let i=0;i<e;i++)r.push(t+i);return r}function getNormalizedAxes(e,t,r,i,n,o,a,s,l){let u=e.length,c=Array(u),d=Array(u),p=Array(u);if(t.length&&r>0){let l=t[0],u=r+1;c=startIndicesWithElidedDims(a,l,u,i,e),d=stopIndicesWithElidedDims(s,l,u,n,e),p=stridesWithElidedDims(o,l,u,e)}else for(let t=0;t<u;t++)c[t]=startForAxis(a,i,o,e,t,l),d[t]=stopForAxis(s,n,o,e,t,l),p[t]=stridesForAxis(o,t,l);return{begin:c,end:d,strides:p}}function startIndicesWithElidedDims(e,t,r,i,n){let o=[...n],a=getElidedAxes(r,t);for(let n=0;n<o.length;n++)if(a.indexOf(n)>-1)o[n]=0;else{var s;let a=(s=n)<=t?s:s-(r-1),l=i[a];e&1<<a&&(l=0),o[n]=l}return o}function stopIndicesWithElidedDims(e,t,r,i,n){let o=[...n],a=getElidedAxes(r,t);for(let n=0;n<o.length;n++)if(a.indexOf(n)>-1)o[n]=Number.MAX_SAFE_INTEGER;else{var s;let a=(s=n)<=t?s:s-(r-1),l=i[a];e&1<<a&&(l=Number.MAX_SAFE_INTEGER),o[n]=l}for(let e=0;e<o.length;e++){let t=n[e];o[e]<0&&(o[e]+=t),o[e]=clamp(0,o[e],n[e])}return o}function stridesForAxis(e,t,r){let i=e[t];return(r&1<<t||null==i)&&(i=1),i}function startForAxis(e,t,r,i,n,o){let a=t[n],s=r[n]||1;(e&1<<n||o&1<<n||null==a)&&(a=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);let l=i[n];return a<0&&(a+=l),a=clamp(0,a,l-1)}function stopForAxis(e,t,r,i,n,o){let a=t[n],s=r[n]||1;(e&1<<n||o&1<<n||null==a)&&(a=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);let l=i[n];return a<0&&(a+=l),a=s>0?clamp(0,a,l):clamp(-1,a,l-1)}function isSliceContinous(e,t,r){let i=r.length;for(let e=0;e<r.length;e++)if(r[e]>1){i=e;break}for(let n=i+1;n<r.length;n++)if(t[n]>0||r[n]!==e[n])return!1;return!0}function computeFlatOffset(e,t){let r=e.length>0?e[e.length-1]:1;for(let i=0;i<e.length-1;i++)r+=e[i]*t[i];return r}function parseSliceParams(e,t,r){let i,n;let o=e.shape.length;return(i="number"==typeof t?[t,...Array(o-1).fill(0)]:t.length<o?t.concat(Array(o-t.length).fill(0)):t.slice()).forEach(e=>{util_base_assert(-1!==e,()=>"slice() does not support negative begin indexing.")}),n=(n=null==r?Array(o).fill(-1):"number"==typeof r?[r,...Array(o-1).fill(-1)]:r.length<o?r.concat(Array(o-r.length).fill(-1)):r).map((t,r)=>t>=0?t:(util_base_assert(-1===t,()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${r}.`),e.shape[r]-i[r])),[i,n]}function sliceInfo(e,t,r,i,n,o,a,s,l){let u;if(null==i?(u=Array(t.length)).fill(1):u=i,null!=a&&(a&a-1)!=0)throw Error("Multiple ellipses in slice is not allowed.");let c=!1,d={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:r.slice(),strides:u.slice(),beginMask:n,endMask:o,ellipsisMask:a,newAxisMask:s,shrinkAxisMask:l};for(let e=0;e<d.dims;e++)c&&(1<<e&s)!=0&&d.numAddAxisAfterEllipsis++,1<<e&a&&(c=!0);!c&&(d.ellipsisMask|=1<<d.dims,d.dims++);let p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let r=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=Array(t.dims),t.end=Array(t.dims),t.strides=Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=Array(t.dims);for(let i=0;i<e.dims;i++)if(1<<i&e.ellipsisMask){let n=Math.min(t.dims-(e.dims-i)+1+e.numAddAxisAfterEllipsis,t.dims);for(;r<n;r++)t.begin[r]=0,t.end[r]=0,t.strides[r]=1,t.beginMask|=1<<r,t.endMask|=1<<r,t.finalShapeGatherIndices.push(r),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[r]=i}else if(1<<i&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(r===t.begin.length)throw Error(`Index out of range using input dim ${r}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[r]=e.begin[i]),null!=e.end&&(t.end[r]=e.end[i]),t.strides[r]=e.strides[i],e.beginMask&1<<i&&(t.beginMask|=1<<r),e.endMask&1<<i&&(t.endMask|=1<<r),e.shrinkAxisMask&1<<i?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<r):(t.finalShapeGatherIndices.push(r),t.finalShapeGatherIndicesSparse.push(i)),t.inputShapeGatherIndicesSparse[r]=i,r++}}(d,p);let h=!0,f=!0,y=!0,g=[],v=[];for(let t=0;t<e.length;++t){let r;if(0===p.strides[t])throw Error(`strides[${t}] must be non-zero`);let i=!!(p.shrinkAxisMask&1<<t),n=e[t];if(-1===n){g.push(i?1:-1);continue}let o=[p.beginMask&1<<t,p.endMask&1<<t],a=[p.strides[t]>0?0:-1,p.strides[t]>0?n:n-1];if(i&&p.strides[t]<=0)throw Error("only stride 1 allowed on non-range indexing.");y=y&&1===p.strides[t];let s=!!(p.beginMask&1<<t&&p.endMask&1<<t);if(p.beginValid&&p.endValid){if(i){let e=p.begin[t]<0?n+p.begin[t]:p.begin[t];if(p.begin[t]=e,p.end[t]=p.begin[t]+1,e<0||e>=n)throw Error(`slice index ${p.begin[t]} of dimension ${t} out of bounds.`)}else p.begin[t]=canonical(p.begin[t],0,p.strides[t],n,o,a),p.end[t]=canonical(p.end[t],1,p.strides[t],n,o,a);let e=1===p.strides[t]&&0===p.begin[t]&&p.end[t]===n;h=h&&e,f=f&&(0===t&&1===p.strides[t]||e)}else h=h&&1===p.strides[t]&&s,f=f&&(0===t&&1===p.strides[t]||s);let l=!1;if(p.beginValid&&p.endValid?(r=p.end[t]-p.begin[t],l=!0):i?(r=1,l=!0):s&&n>=0&&(r=p.strides[t]<0?-n:n,l=!0),l){let e;e=0===r||r<0!=p.strides[t]<0?0:Math.trunc(r/p.strides[t])+(r%p.strides[t]!=0?1:0),g.push(e)}else g.push(-1)}for(let e=0;e<p.finalShapeGatherIndices.length;++e){let t=p.finalShapeGatherIndices[e];t>=0?v.push(g[t]):-2===t&&v.push(1)}let m=v.filter((e,t)=>-2!==p.finalShapeGatherIndices[t]);return{finalShapeSparse:m,finalShape:v,isIdentity:h,sliceDim0:f,isSimpleSlice:y,begin:p.begin,end:p.end,strides:p.strides}}function canonical(e,t,r,i,n,o){if(n[t])return r>0?o[t]:o[t+1&1];{let t=e<0?i+e:e;return t<o[0]?o[0]:t>o[1]?o[1]:t}}router_registry_IORouterRegistry.registerSaveRouter(httpRouter),router_registry_IORouterRegistry.registerLoadRouter(httpRouter);let r3=op({addN_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){util_base_assert(Array.isArray(e),()=>"The argument passed to tf.addN() must be a list of tensors"),util_base_assert(e.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`);let t=e.map((e,t)=>tensor_util_env_convertToTensor(e,`tensors${t}`,"addN")),r=t[0];return t.forEach(e=>{if(e.dtype!==r.dtype)throw Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(e=>{if(!arraysEqual(e.shape,r.shape))throw Error("All tensors passed to tf.addN() must have the same shape")}),rw.runKernel(L,t)}}),r5=op({reshape_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"x","reshape","string_or_numeric");return rw.runKernel(tE,{x:r},{shape:t})}}),r4=op({broadcastTo_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"broadcastTo","x"),i=r.shape;if(assertNonNegativeIntegerDimensions(t),t.length<r.rank)throw Error(`broadcastTo(): shape.length=${t.length} < input.rank=${r.rank}.`);if(t.length>r.rank){let e=r.shape.slice();for(;e.length<t.length;)e.unshift(1);r=r5(r,e)}let n=r.shape,o=Array.from(t);for(let e=t.length-1;e>=0;e--)if(n[e]===t[e])o[e]=1;else if(1!==r.shape[e])throw Error(`broadcastTo(): [${i}] cannot be broadcast to [${t}].`);let a=o.map((e,t)=>e>1?t:-1).filter(e=>e>=0);if(0===a.length)return rz(r);let s={x:r};return rw.runKernel(rn,s,{reps:o})}}),r6=op({concat_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0){util_base_assert(e.length>=1,()=>"Pass at least one tensor to concat");let r=function(e,t,r,i="numeric"){if(!Array.isArray(e))throw Error(`Argument ${t} passed to ${r} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map((e,n)=>tensor_util_env_convertToTensor(e,`${t}[${n}]`,r,i))}(e,"tensors","concat","string_or_numeric");return("complex64"===r[0].dtype&&r.forEach(e=>{if("complex64"!==e.dtype)throw Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${e.dtype}. `)}),1===r.length)?rz(r[0]):rw.runKernel(en,r,{axis:t})}}),r8=op({concat2d_:function(e,t){return r6(e,t)}}),r7=op({gather_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r=0,i=0){let n=tensor_util_env_convertToTensor(e,"x","gather"),o=tensor_util_env_convertToTensor(t,"indices","gather","int32");return rw.runKernel(eV,{x:n,indices:o},{axis:r,batchDims:i})}}),r9=op({mean_:/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,r=!1){let i=tensor_util_env_convertToTensor(e,"x","mean");return rw.runKernel(tr,{x:i},{axis:t,keepDims:r})}}),ie=op({split_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r=0){let i=tensor_util_env_convertToTensor(e,"x","split");return rw.runKernel(tZ,{x:i},{numOrSizeSplits:t,axis:r})}}),it=op({sum_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,r=!1){let i=tensor_util_env_convertToTensor(e,"x","sum");"bool"===i.dtype&&(i=rH(i,"int32"));let n={x:i};return rw.runKernel(tK,n,{axis:t,keepDims:r})}});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tensor1d(e,t){assertNonNull(e);let r=inferShape(e,t);if(1!==r.length)throw Error("tensor1d() requires values to be a flat/TypedArray");return makeTensor(e,null,r,t)}let ir=op({complex_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"real","complex"),i=tensor_util_env_convertToTensor(t,"imag","complex");return assertShapesMatch(r.shape,i.shape,`real and imag shapes, ${r.shape} and ${i.shape}, must match in call to tf.complex().`),rw.runKernel(er,{real:r,imag:i})}});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zeros(e,t="float32"){if(assertNonNegativeIntegerDimensions(e),"complex64"===t){let t=zeros(e,"float32"),r=zeros(e,"float32");return ir(t,r)}let r=makeZerosTypedArray(util_base_sizeFromShape(e),t);return rw.makeTensor(r,e,t)}let ii=op({imag_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=tensor_util_env_convertToTensor(e,"input","imag");return rw.runKernel(eU,{input:t})}}),io=op({real_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=tensor_util_env_convertToTensor(e,"input","real");return rw.runKernel(tT,{input:t})}}),ia=op({slice_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r){let i=tensor_util_env_convertToTensor(e,"x","slice","string_or_numeric");if(0===i.rank)throw Error("Slicing scalar is not possible");return rw.runKernel(tz,{x:i},{begin:t,size:r})}}),is=op({fft_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){return util_base_assert("complex64"===e.dtype,()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`),rw.runKernel(eI,{input:e})}}),il=op({rfft_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r;util_base_assert("float32"===e.dtype,()=>`The dtype for rfft() must be real value but got ${e.dtype}`);let i=e.shape[e.shape.length-1],n=e.size/i;if(null!=t&&t<i){let n=e.shape.map(e=>0),o=e.shape.map(e=>e);o[e.shape.length-1]=t,r=ia(e,n,o),i=t}else if(null!=t&&t>i){let n=e.shape.map(e=>e);n[e.shape.length-1]=t-i,r=r6([e,zeros(n)],e.shape.length-1),i=t}else r=e;let o=rK(r),a=r5(ir(r,o),[n,i]),s=is(a),l=Math.floor(i/2)+1,u=io(s),c=ii(s),d=ie(u,[l,i-l],u.shape.length-1),p=ie(c,[l,i-l],c.shape.length-1),h=r.shape.slice();return h[r.shape.length-1]=l,r5(ir(d[0],p[0]),h)}});function cosineWindow(e,t,r){let i=1-e%2,n=new Float32Array(e);for(let o=0;o<e;++o){let a=2*Math.PI*o/(e+i-1);n[o]=t-r*Math.cos(a)}return tensor1d(n,"float32")}let iu=op({hammingWindow_:/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){return cosineWindow(e,.54,.46)}}),ic=op({hannWindow_:/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){return cosineWindow(e,.5,.5)}}),id=op({frame_:/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r,i=!1,n=0){let o=0,a=[];for(;o+t<=e.size;)a.push(ia(e,o,t)),o+=r;if(i)for(;o<e.size;){let i=o+t-e.size,s=r6([ia(e,o,t-i),fill([i],n)]);a.push(s),o+=r}return 0===a.length?/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r){if(assertNonNull(e),null!=t&&2!==t.length)throw Error("tensor2d() requires shape to have two numbers");let i=inferShape(e,r);if(2!==i.length&&1!==i.length)throw Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===i.length&&null==t)throw Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return makeTensor(e,t,i,r)}([],[0,t]):r5(r6(a),[a.length,t])}}),ip=op({stft_:/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r,i,n=ic){null==i&&(i=Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2)))));let o=id(e,t,r),a=rX(o,n(t));return il(a,i)}}),ih=op({tile_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"x","tile","string_or_numeric");return util_base_assert(r.rank===t.length,()=>`Error in transpose: rank of input ${r.rank} must match length of reps ${t}.`),rw.runKernel(rn,{x:r},{reps:t})}}),iy=op({expandDims_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0){let r=tensor_util_env_convertToTensor(e,"x","expandDims","string_or_numeric");return util_base_assert(t<=r.rank,()=>"Axis must be <= rank of the tensor"),rw.runKernel(eD,{input:r},{dim:t})}});function defaultComparator(e,t){return e>t?1:e<t?-1:0}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nonMaxSuppressionV3Impl(e,t,r,i,n){return nonMaxSuppressionImpl_(e,t,r,i,n,0)}function nonMaxSuppressionV4Impl(e,t,r,i,n,o){return nonMaxSuppressionImpl_(e,t,r,i,n,0,!1,o,!0)}function nonMaxSuppressionV5Impl(e,t,r,i,n,o){return nonMaxSuppressionImpl_(e,t,r,i,n,o,!0)}function nonMaxSuppressionImpl_(e,t,r,i,n,o,a=!1,s=!1,l=!1){let u=[];for(let e=0;e<t.length;e++)t[e]>n&&u.push({score:t[e],boxIndex:e,suppressBeginIndex:0});u.sort(ascendingComparator);let c=o>0?-.5/o:0,d=[],p=[];for(;d.length<r&&u.length>0;){let t=u.pop(),{score:r,boxIndex:o,suppressBeginIndex:a}=t;if(r<n)break;let s=!1;for(let r=d.length-1;r>=a;--r){let a=function(e,t,r){let i=e.subarray(4*t,4*t+4),n=e.subarray(4*r,4*r+4),o=Math.min(i[0],i[2]),a=Math.min(i[1],i[3]),s=Math.max(i[0],i[2]),l=Math.max(i[1],i[3]),u=Math.min(n[0],n[2]),c=Math.min(n[1],n[3]),d=Math.max(n[0],n[2]),p=Math.max(n[1],n[3]),h=(s-o)*(l-a),f=(d-u)*(p-c);if(h<=0||f<=0)return 0;let y=Math.max(o,u),g=Math.max(a,c),v=Math.min(s,d),m=Math.min(l,p),S=Math.max(v-y,0)*Math.max(m-g,0);return S/(h+f-S)}(e,o,d[r]);if(a>=i){s=!0;break}if(t.score=t.score*function(e,t,r){let i=Math.exp(t*r*r);return r<=e?i:0}(i,c,a),t.score<=n)break}t.suppressBeginIndex=d.length,!s&&(t.score===r?(d.push(o),p.push(t.score)):t.score>n&&/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t,r){let i=function(e,t,r){let i=0,n=e.length,o=0,a=!1;for(;i<n;){o=i+(n-i>>>1);let s=r(t,e[o]);s>0?i=o+1:(n=o,a=!s)}return a?i:-i-1}(e,t,r||defaultComparator),n=i<0?-(i+1):i;e.splice(n,0,t)}(u,t,ascendingComparator))}let h=d.length,f=r-h;s&&f>0&&(d.push(...Array(f).fill(0)),p.push(...Array(f).fill(0)));let y={selectedIndices:d};return a&&(y.selectedScores=p),l&&(y.validOutputs=h),y}function ascendingComparator(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}let ig=op({neg_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=tensor_util_env_convertToTensor(e,"x","neg");return rw.runKernel(tu,{x:t})}});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function axesAreInnerMostDims(e,t){for(let r=0;r<e.length;++r)if(e[e.length-r-1]!==t-1-r)return!1;return!0}function combineLocations(e,t,r){let i=e.length+t.length,n=[],o=0,a=0;for(let s=0;s<i;s++)-1===r.indexOf(s)?n.push(e[o++]):n.push(t[a++]);return n}function computeOutAndReduceShapes(e,t){let r=[],i=e.length;for(let n=0;n<i;n++)-1===t.indexOf(n)&&r.push(e[n]);let n=t.map(t=>e[t]);return[r,n]}function expandShapeToKeepDim(e,t){let r=t.map(e=>1);return combineLocations(e,r,t)}function assertAxesAreInnerMostDims(e,t,r){util_base_assert(axesAreInnerMostDims(t,r),()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${r} input.`)}function getAxesPermutation(e,t){if(axesAreInnerMostDims(e,t))return null;let r=[];for(let i=0;i<t;++i)-1===e.indexOf(i)&&r.push(i);return e.forEach(e=>r.push(e)),r}function getUndoAxesPermutation(e){return e.map((e,t)=>[t,e]).sort((e,t)=>e[1]-t[1]).map(e=>e[0])}function getInnerMostAxes(e,t){let r=[];for(let i=t-e;i<t;++i)r.push(i);return r}let iv=op({max_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,r=!1){let i=tensor_util_env_convertToTensor(e,"x","max");return rw.runKernel(e4,{x:i},{reductionIndices:t,keepDims:r})}}),im=op({min_:/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=null,r=!1){let i=tensor_util_env_convertToTensor(e,"x","min");return rw.runKernel(ti,{x:i},{axis:t,keepDims:r})}});(d=m||(m={}))[d.NONE=0]="NONE",d[d.MEAN=1]="MEAN",d[d.SUM=2]="SUM",d[d.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS";let iS=op({relu_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=tensor_util_env_convertToTensor(e,"x","relu");return rw.runKernel(tR,{x:t})}}),ib={hammingWindow:iu,hannWindow:ic,frame:id,stft:ip},iP="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function nextFrame(){return new Promise(e=>iP(()=>e()))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function assertParamsConsistent(e,t){let r=e[0].length;e.forEach((e,t)=>{util_base_assert(e.length===r,()=>`Error in concat${r}D: rank of tensors[${t}] must be the same as the rank of the rest (${r})`)}),util_base_assert(t>=0&&t<r,()=>`Error in concat${r}D: axis must be between 0 and ${r-1}.`);let i=e[0];e.forEach((e,n)=>{for(let o=0;o<r;o++)util_base_assert(o===t||e[o]===i[o],()=>`Error in concat${r}D: Shape of tensors[${n}] (${e}) does not match the shape of the rest (${i}) along the non-concatenated axis ${n}.`)})}function concat_util_computeOutShape(e,t){let r=e[0].slice();for(let i=1;i<e.length;i++)r[t]+=e[i][t];return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function computeDilation2DInfo(e,t,r,i,n="NHWC",o){let a=e[3],s=[...t,a],l=convertConv2DDataFormat(n);return computeConv2DInfo(e,s,r,o,i,null,null,l)}function computePool2DInfo(e,t,r,i,n,o,a="channelsLast"){let s;let[l,u]=parseTupleParam(t);if("channelsLast"===a)s=[l,u,e[3],e[3]];else if("channelsFirst"===a)s=[l,u,e[1],e[1]];else throw Error(`Unknown dataFormat ${a}`);return computeConv2DInfo(e,s,r,i,n,o,!1,a)}function computePool3DInfo(e,t,r,i,n,o,a="NDHWC"){let s,l;let[u,c,d]=parse3TupleParam(t);if("NDHWC"===a)l="channelsLast",s=[u,c,d,e[4],e[4]];else if("NCDHW"===a)l="channelsFirst",s=[u,c,d,e[1],e[1]];else throw Error(`Unknown dataFormat ${a}`);return computeConv3DInfo(e,s,r,i,n,!1,l,o)}function computeConv2DInfo(e,t,r,i,n,o,a=!1,s="channelsLast"){let l,[u,c,d,p]=[-1,-1,-1,-1];if("channelsLast"===s)[u,c,d,p]=e;else if("channelsFirst"===s)[u,p,c,d]=e;else throw Error(`Unknown dataFormat ${s}`);let[h,f,,y]=t,[g,v]=parseTupleParam(r),[m,S]=parseTupleParam(i),b=getEffectiveFilterSize(h,m),P=getEffectiveFilterSize(f,S),{padInfo:C,outHeight:x,outWidth:A}=function(e,t,r,i,n,o,a,s,l){let u,c,d;if("number"==typeof e){let n=0===e?"VALID":"NUMBER";u={top:e,bottom:e,left:e,right:e,type:n};let a=function(e,t,r,i,n){null==i&&(i=computeDefaultPad(e,t,r));let o=e[0],a=e[1],s=conv_util_round((o-t+2*i)/r+1,n),l=conv_util_round((a-t+2*i)/r+1,n);return[s,l]}([t,r],o,i,e,s);c=a[0],d=a[1]}else if("same"===e){c=Math.ceil(t/i),d=Math.ceil(r/n);let e=Math.max(0,(c-1)*i+o-t),s=Math.max(0,(d-1)*n+a-r),l=Math.floor(e/2),p=Math.floor(s/2);u={top:l,bottom:e-l,left:p,right:s-p,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-o+1)/i),d=Math.ceil((r-a+1)/n);else if("object"==typeof e){let p="channelsLast"===l?e[1][0]:e[2][0],h="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],y="channelsLast"===l?e[2][1]:e[3][1],g=0===p&&0===h&&0===f&&0===y?"VALID":"EXPLICIT";u={top:p,bottom:h,left:f,right:y,type:g},c=conv_util_round((t-o+p+h)/i+1,s),d=conv_util_round((r-a+f+y)/n+1,s)}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:u,outHeight:c,outWidth:d}}(n,c,d,g,v,b,P,o,s),T=a?y*p:y;return"channelsFirst"===s?l=[u,T,x,A]:"channelsLast"===s&&(l=[u,x,A,T]),{batchSize:u,dataFormat:s,inHeight:c,inWidth:d,inChannels:p,outHeight:x,outWidth:A,outChannels:T,padInfo:C,strideHeight:g,strideWidth:v,filterHeight:h,filterWidth:f,effectiveFilterHeight:b,effectiveFilterWidth:P,dilationHeight:m,dilationWidth:S,inShape:e,outShape:l,filterShape:t}}function computeConv3DInfo(e,t,r,i,n,o=!1,a="channelsLast",s){let l,[u,c,d,p,h]=[-1,-1,-1,-1,-1];if("channelsLast"===a)[u,c,d,p,h]=e;else if("channelsFirst"===a)[u,h,c,d,p]=e;else throw Error(`Unknown dataFormat ${a}`);let[f,y,g,,v]=t,[m,S,b]=parse3TupleParam(r),[P,C,x]=parse3TupleParam(i),A=getEffectiveFilterSize(f,P),T=getEffectiveFilterSize(y,C),_=getEffectiveFilterSize(g,x),{padInfo:R,outDepth:E,outHeight:w,outWidth:D}=function(e,t,r,i,n,o,a,s,l,u,c){let d,p,h,f;if("valid"===e&&(e=0),"number"==typeof e){let y=0===e?"VALID":"NUMBER";d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:y};let g=function(e,t,r,i,n,o){null==n&&(n=computeDefaultPad(e,t[0],i[0]));let a=[0,0,0,1];for(let r=0;r<3;r++)e[r]+2*n>=t[r]&&(a[r]=conv_util_round((e[r]-t[r]+2*n)/i[r]+1,o));return a}([t,r,i,1],[s,l,u],0,[n,o,a],e,c);p=g[0],h=g[1],f=g[2]}else if("same"===e){p=Math.ceil(t/n),h=Math.ceil(r/o),f=Math.ceil(i/a);let e=(p-1)*n+s-t,c=(h-1)*o+l-r,y=(f-1)*a+u-i,g=Math.floor(e/2),v=Math.floor(c/2),m=Math.floor(y/2);d={top:v,bottom:c-v,left:m,right:y-m,front:g,back:e-g,type:"SAME"}}else throw Error(`Unknown padding parameter: ${e}`);return{padInfo:d,outDepth:p,outHeight:h,outWidth:f}}(n,c,d,p,m,S,b,A,T,_,s),O=o?v*h:v;return"channelsFirst"===a?l=[u,O,E,w,D]:"channelsLast"===a&&(l=[u,E,w,D,O]),{batchSize:u,dataFormat:a,inDepth:c,inHeight:d,inWidth:p,inChannels:h,outDepth:E,outHeight:w,outWidth:D,outChannels:O,padInfo:R,strideDepth:m,strideHeight:S,strideWidth:b,filterDepth:f,filterHeight:y,filterWidth:g,effectiveFilterDepth:A,effectiveFilterHeight:T,effectiveFilterWidth:_,dilationDepth:P,dilationHeight:C,dilationWidth:x,inShape:e,outShape:l,filterShape:t}}function computeDefaultPad(e,t,r,i=1){let n=getEffectiveFilterSize(t,i);return Math.floor((e[0]*(r-1)-r+n)/2)}function parseTupleParam(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function parse3TupleParam(e){return"number"==typeof e?[e,e,e]:e}function getEffectiveFilterSize(e,t){return t<=1?e:e+(e-1)*(t-1)}function conv_util_round(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw Error(`Unknown roundingMode ${t}`)}}function tupleValuesAreOne(e){let[t,r,i]=parseTupleParam(e);return 1===t&&1===r&&1===i}function eitherStridesOrDilationsAreOne(e,t){return tupleValuesAreOne(e)||tupleValuesAreOne(t)}function stridesOrDilationsArePositive(e){return parseTupleParam(e).every(e=>e>0)}function convertConv2DDataFormat(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw Error(`Unknown dataFormat ${e}`)}function checkPadOnDimRoundingMode(e,t,r){if(null!=r){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${r} but got pad ${t}.`);if("number"==typeof t)util_base_assert(isInt(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${r} but got pad ${t}.`);else if("object"==typeof t)t.forEach(t=>{t.forEach(t=>{util_base_assert(isInt(t),()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${r} but got pad ${t}.`)})});else throw Error(`Error in ${e}: Unknown padding parameter: ${t}`)}}let iC=op({elu_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=tensor_util_env_convertToTensor(e,"x","elu","float32");return rw.runKernel(eT,{x:t})}}),ix=op({leakyRelu_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=.2){let r=tensor_util_env_convertToTensor(e,"x","leakyRelu");return rw.runKernel(e$,{x:r},{alpha:t})}}),iA=op({prelu_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t){let r=tensor_util_env_convertToTensor(e,"x","prelu"),i=tensor_util_env_convertToTensor(t,"alpha","prelu");return rw.runKernel(tS,{x:r,alpha:i})}}),iT=op({relu6_:/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=tensor_util_env_convertToTensor(e,"x","relu6");return rw.runKernel(tM,{x:t})}}),i_=op({sigmoid_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e){let t=tensor_util_env_convertToTensor(e,"x","sigmoid","float32");return rw.runKernel(tX,{x:t})}}),iR=op({step_:/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(e,t=0){let r=tensor_util_env_convertToTensor(e,"x","step");return rw.runKernel(rp,{x:r},{alpha:t})}});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function getFusedDyActivation(e,t,r){if(null==r||"linear"===r)return e;if("relu"===r)return rX(e,iR(t));throw Error(`Cannot compute gradient for fused activation ${r}.`)}function getFusedBiasGradient(e,t){let r=t,i=getReductionAxes(e.shape,t.shape);return i.length>0&&(r=it(r,i)),r5(r,e.shape)}function applyActivation(e,t,r,i){if("linear"===t)return e;if("relu"===t)return iS(e);if("elu"===t)return iC(e);if("relu6"===t)return iT(e);if("prelu"===t)return iA(e,r);if("leakyrelu"===t)return ix(e,i);if("sigmoid"===t)return i_(e);throw Error(`Unknown fused activation ${t}.`)}let shouldFuse=(e,t)=>!(e>0)||"linear"===t;function combineRaggedTensorToTensorShapes(e,t,r){let i=[];if(null==r&&null==t)return i;if(null==t)for(;i.length<e+r.length;)i.push(-1);else i=t.slice();if(null==r)return i;if(e+r.length!==i.length)throw Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+r.length}, but shape.rank = ${i.length}`);for(let n=1;n<r.length;++n){let o=r[n],a=i[i.length-r.length+n],s=i[a];if(o>=0){if(s>=0){if(s!==o)throw Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${n+e}] = ${o} but shape[${n+e}] = ${s}`)}else i[a]=o}}return i}function getRowPartitionTypesHelper(e){let t={FIRST_DIM_SIZE:S.FIRST_DIM_SIZE,VALUE_ROWIDS:S.VALUE_ROWIDS,ROW_LENGTHS:S.ROW_LENGTHS,ROW_SPLITS:S.ROW_SPLITS,ROW_LIMITS:S.ROW_LIMITS,ROW_STARTS:S.ROW_STARTS},r=[];for(let i of e)if(i in t)r.push(t[i]);else break;return r}function getRaggedRank(e){return 0===e.length?0:e[0]===S.FIRST_DIM_SIZE?e.length-1:e.length}function validateDefaultValueShape(e,t){if(null==e||null==t)return;let r=e.length,i=t.length;if(r>=i)throw Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${r} must be less than ragged tensor input flatValues.rank = ${i})`);for(let n=0;n<Math.min(r,i-1);++n){let r=e[n],i=t[n+1];if(r>=0&&i>=0&&1!==r&&r!==i)throw Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${n-e.length}] = ${r} but ragged tensor input.flatValues.shape[${n-e.length}] = ${i}`)}}(p=S||(S={}))[p.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",p[p.VALUE_ROWIDS=1]="VALUE_ROWIDS",p[p.ROW_LENGTHS=2]="ROW_LENGTHS",p[p.ROW_SPLITS=3]="ROW_SPLITS",p[p.ROW_LIMITS=4]="ROW_LIMITS",p[p.ROW_STARTS=5]="ROW_STARTS";/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let iE=30;function computeOptimalWindowSize(e){return e<=iE?e:nearestDivisor(e,Math.floor(Math.sqrt(e)))}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function getImageCenter(e,t,r){let i=r*("number"==typeof e?e:e[0]),n=t*("number"==typeof e?e:e[1]);return[i,n]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function getReshaped(e,t,r,i=!0){let n=[];if(i)(n=n.concat(t.slice(0))).push(e[0]/r),n=n.concat(e.slice(1));else{n=n.concat(e[0]);let r=t.length;for(let i=0;i<r;++i)n=n.concat([e[i+1]/t[i],t[i]]);n=n.concat(e.slice(r+1))}return n}function getPermuted(e,t,r=!0){let i=[];if(r){i.push(t);for(let r=t+1;r<e;++r)r<=2*t?(i.push(r),i.push(r-(t+1))):i.push(r)}else{let r=[],n=[];for(let i=1;i<e;++i)i>=2*t+1||i%2==1?n.push(i):r.push(i);i.push(...r),i.push(0),i.push(...n)}return i}function getReshapedPermuted(e,t,r,i=!0){let n=[];i?n.push(e[0]/r):n.push(e[0]*r);for(let r=1;r<e.length;++r)r<=t.length?i?n.push(t[r-1]*e[r]):n.push(e[r]/t[r-1]):n.push(e[r]);return n}function getSliceBeginCoords(e,t){let r=[0];for(let i=0;i<t;++i)r.push(e[i][0]);return r}function getSliceSize(e,t,r){let i=e.slice(0,1);for(let n=0;n<r;++n)i.push(e[n+1]-t[n][0]-t[n][1]);return i}function prepareAndValidate(e,t){let r=e.shape.length,i=t.shape.length;if(r<1)throw Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${r}.`);if(i<1)throw Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${i}.`);if("int32"!==t.dtype)throw Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[i-1]>r)throw Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[i-1]} vs. ${r}`);if(0===util_base_sizeFromShape(e.shape))throw Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);let n=t.shape,o=n[n.length-1],a=1;for(let e=0;e<n.length-1;++e)a*=n[e];let s=e.shape,l=n.slice();l.pop();let u=1;for(let e=o;e<r;++e)u*=s[e],l.push(s[e]);let c=[...computeStrides(e.shape).map(e=>e/u),1].slice(0,o);return[l,a,u,c]}function validateUpdateShape(e,t,r){let i=t.rank>1?t.shape[t.rank-1]:1,n=t.rank>1?t.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${r.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${i}, and batchDim: ${n}.`;if(r.rank<n)throw Error(o+` update.rank < ${n}. `);if(e.length<i+(r.rank-n))throw Error(o+` Output shape length < ${i+(r.rank-n)}`);if(r.rank!==n+e.length-i)throw Error(o+` update.rank != ${n+e.length-i}`);for(let e=0;e<n;++e)if(r.shape[e]!==t.shape[e])throw Error(o+` updates.shape[${e}] (${r.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<r.rank-n;++t)if(r.shape[t+n]!==e[t+i])throw Error(o+` updates.shape[${t+n}] (${r.shape[t+n]}) != shape[${t+n}] (${e[t+n]})`)}function validateInput(e,t,r){if(t.rank<1)throw Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(r.length<1)throw Error(`Output rank must be greater or equal to 1, but got shape: ${r}`);if(0===r.length){if(0===t.size)throw Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw Error(`Updates specified for empty output. updates shape: ${e.shape}`)}validateUpdateShape(r,t,e)}function calculateShapes(e,t,r){let i=t.shape.length,n=i>1?t.shape[i-1]:1,o=r.length,a=1;for(let e=n;e<o;++e)a*=r[e];let s=n<1?1:n,l=util_base_sizeFromShape(t.shape)/s,u=[...computeStrides(r.slice(0,n)),1],c=util_base_sizeFromShape(r);return{sliceRank:n,numUpdates:l,sliceSize:a,strides:u,outputSize:c}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let iw=1.7580993408473768,iD=1.0507009873554805,iO=.3275911,iI=.254829592,iM=-.284496736,iL=1.421413741,ik=-1.453152027,iN=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mergeRealAndImagArrays(e,t){if(e.length!==t.length)throw Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);let r=new Float32Array(2*e.length);for(let i=0;i<r.length;i+=2)r[i]=e[i/2],r[i+1]=t[i/2];return r}function splitRealAndImagArrays(e){let t=new Float32Array(e.length/2),r=new Float32Array(e.length/2);for(let i=0;i<e.length;i+=2)t[i/2]=e[i],r[i/2]=e[i+1];return{real:t,imag:r}}function complexWithEvenIndex(e){let t=Math.ceil(e.length/4),r=new Float32Array(t),i=new Float32Array(t);for(let t=0;t<e.length;t+=4)r[Math.floor(t/4)]=e[t],i[Math.floor(t/4)]=e[t+1];return{real:r,imag:i}}function complexWithOddIndex(e){let t=Math.floor(e.length/4),r=new Float32Array(t),i=new Float32Array(t);for(let t=2;t<e.length;t+=4)r[Math.floor(t/4)]=e[t],i[Math.floor(t/4)]=e[t+1];return{real:r,imag:i}}function getComplexWithIndex(e,t){let r=e[2*t],i=e[2*t+1];return{real:r,imag:i}}function assignToTypedArray(e,t,r,i){e[2*i]=t,e[2*i+1]=r}function exponents(e,t){let r=new Float32Array(e/2),i=new Float32Array(e/2);for(let n=0;n<Math.ceil(e/2);n++){let o=(t?2:-2)*Math.PI*(n/e);r[n]=Math.cos(o),i[n]=Math.sin(o)}return{real:r,imag:i}}function exponent(e,t,r){let i=(r?2:-2)*Math.PI*(e/t),n=Math.cos(i),o=Math.sin(i);return{real:n,imag:o}}let iB=/->/g;function decodeEinsumEquation(e,t){e=e.replace(/\s/g,"");let r=(e.length-e.replace(iB,"").length)/2;if(r<1)throw Error("Equations without an arrow are not supported.");if(r>1)throw Error('Equation must contain exactly one arrow ("->").');let[i,n]=e.split("->");util_base_assert(-1===i.indexOf("..."),()=>'The ellipsis notation ("...") is not supported yet.');let o=i.split(","),a=o.length;if(t!==a)throw Error(`Expected ${a} input tensors, received ${t}`);if(a>2)throw Error("Support for more than 2 input tensors is not implemented yet.");let s=[];for(let e=0;e<n.length;++e){let t=n[e];if(!o.some(e=>-1!==e.indexOf(t)))throw Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===s.indexOf(t)&&s.push(t)}for(let e=0;e<i.length;++e){let t=i[e];-1===s.indexOf(t)&&","!==t&&s.push(t)}let l=Array(o.length);for(let e=0;e<a;++e){if(new Set(o[e].split("")).size!==o[e].length)throw Error(`Found duplicate axes in input component ${o[e]}. Support for duplicate axes in input is not implemented yet.`);l[e]=[];for(let t=0;t<o[e].length;++t)l[e].push(s.indexOf(o[e][t]))}let u=s.length,c=n.length,d=[];for(let e=c;e<u;++e)d.push(e);return{allDims:s,summedDims:d,idDims:l}}function getEinsumPermutation(e,t){let r=Array(e);r.fill(-1);for(let e=0;e<t.length;++e)r[t[e]]=e;let i=[];for(let t=0;t<e;++t)-1===r[t]&&i.push(t);return{permutationIndices:r=r.filter(e=>-1!==e),expandDims:i}}function checkEinsumDimSizes(e,t,r){let i=Array(e);for(let e=0;e<r.length;++e){let n=r[e].shape;for(let r=0;r<t[e].length;++r)void 0===i[t[e][r]]?i[t[e][r]]=n[r]:util_base_assert(i[t[e][r]]===n[r],()=>`Expected dimension ${i[t[e][r]]} at axis ${r} of input shaped ${JSON.stringify(n)}, but got dimension ${n[r]}`)}}function getEinsumComputePath(e,t){let r=[],i=0;0===e.length&&e.push(-1),i=e.length+1;for(let e=0;e<i;++e)r.push([]);let n=[];for(let i=0;i<e.length;++i){let o=e[i],a=function(e,t){let r=[];for(let i=0;i<e.length;++i)(0===e[i].length||-1!==e[i].indexOf(t)||-1===t)&&r.push(i);return r}(t,o);for(let e of a)-1===n.indexOf(e)&&(r[i].push(e),n.push(e))}return{path:e,steps:r}}function isIdentityPermutation(e){return e.every((e,t)=>e===t)}function prepareSplitSize(e,t,r=0){let i=[];if("number"==typeof t)util_base_assert(e.shape[r]%t==0,()=>"Number of splits must evenly divide the axis."),i=Array(t).fill(e.shape[r]/t);else{let n=t.reduce((e,t)=>(-1===t&&(e+=1),e),0);util_base_assert(n<=1,()=>"There should be only one negative value in split array.");let o=t.indexOf(-1);if(-1!==o){let i=t.reduce((e,t)=>t>0?e+t:e);t[o]=e.shape[r]-i}util_base_assert(e.shape[r]===t.reduce((e,t)=>e+t),()=>"The sum of sizes must match the size of the axis dimension."),i=t}return i}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function getSparseFillEmptyRowsIndicesDenseShapeMismatch(e){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${e}`}function getSparseFillEmptyRowsNegativeIndexErrorMessage(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(e,t,r){return`indices(${e}, 0) is invalid: ${t} >= ${r}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function getSparseReshapeNegativeOutputDimErrorMessage(e,t){return`size ${e} must be non-negative, not ${t}`}function getSparseReshapeEmptyTensorZeroOutputDimErrorMessage(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function getSparseReshapeInputOutputMultipleErrorMessage(e,t){let r=util_base_sizeFromShape(e),i=util_base_sizeFromShape(t);return`Input to reshape is a SparseTensor with ${r}
  dense values, but the requested shape requires a multiple of ${i}. inputShape=${e} outputShape= ${t}`}function getSparseReshapeInputOutputMismatchErrorMessage(e,t){let r=util_base_sizeFromShape(e),i=util_base_sizeFromShape(t);return`Input to reshape is a tensor with ${r} dense values, but the requested shape has ${i}. inputShape=${e} outputShape=${t}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function getSparseSegmentReductionNegativeSegmentIdsErrorMessage(){return"segment ids must be >= 0"}function getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage(){return"segment ids are not increasing"}function getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function getSparseSegmentReductionIndicesOutOfRangeErrorMessage(e,t,r){return`Bad: indices[${e}] == ${t} out of range [0, ${r})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function segOpComputeOptimalWindowSize(e,t){let r,i=!1;for(e<=iE?(r=e,i=!0):r=nearestDivisor(e,Math.floor(Math.sqrt(e)));!i;)r>t||r===e?i=!0:r=nearestDivisor(e,r+1);return r}function segment_util_computeOutShape(e,t,r){let i=[],n=e.length;for(let o=0;o<n;o++)o!==t?i.push(e[o]):i.push(r);return i}function collectGatherOpShapeInfo(e,t,r,i){let n=t.shape.length,o=e.shape.length;if(0!==i&&(i<-n||i>n))throw Error(`Expect batchDims in the range of [-${n}, ${n}], but got ${i}`);if(i<0&&(i+=n),i>o)throw Error(`batchDims (${i}) must be less than rank(x) (
    ${o}).`);if(r<i)throw Error(`batchDims (${i}) must be less than or equal to axis (${r}).`);for(let r=0;r<i;++r)if(e.shape[r]!==t.shape[r])throw Error(`x.shape[${r}]: ${e.shape[r]} should be equal to indices.shape[${r}]: ${t.shape[r]}.`);let a=e.shape[r],s=[],l=1,u=1,c=1;for(let t=0;t<i;++t)s.push(e.shape[t]),l*=e.shape[t];for(let t=i;t<r;t++)s.push(e.shape[t]),u*=e.shape[t];for(let e=i;e<n;e++)s.push(t.shape[e]);for(let t=r+1;t<o;t++)s.push(e.shape[t]),c*=e.shape[t];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:a,outputShape:s}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fromUint8ToStringArray(e){try{return e.map(e=>decodeString(e))}catch(e){throw Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function fromStringArrayToUint8(e){return e.map(e=>encodeString(e))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function whereImpl(e,t){let r=[];for(let e=0;e<t.length;e++)t[e]&&r.push(e);let i=buffer(e,"int32"),n=buffer([r.length,e.length],"int32");for(let t=0;t<r.length;t++){let o=i.indexToLoc(r[t]),a=t*e.length;n.values.set(o,a)}return n.toTensor()}!/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function(){for(let e of r2)!function(e,t,r){util_base_assert(null!=e.className,()=>"Class being registered does not have the static className property defined."),util_base_assert("string"==typeof e.className,()=>"className is required to be a string, but got type "+typeof e.className),util_base_assert(e.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),void 0===t&&(t="Custom"),void 0===r&&(r=e.className);let i=r,n=t+">"+i;SerializationMap.register(e),rq.set(n,e),rZ.set(e,n)}(e)}()},11019:function(e,t,r){let i=r(66369),n={};for(let e of Object.keys(i))n[i[e]]=e;let o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(let t of(e.exports=o,Object.keys(o))){if(!("channels"in o[t]))throw Error("missing channels property: "+t);if(!("labels"in o[t]))throw Error("missing channel labels property: "+t);if(o[t].labels.length!==o[t].channels)throw Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=o[t];delete o[t].channels,delete o[t].labels,Object.defineProperty(o[t],"channels",{value:e}),Object.defineProperty(o[t],"labels",{value:r})}o.rgb.hsl=function(e){let t;let r=e[0]/255,i=e[1]/255,n=e[2]/255,o=Math.min(r,i,n),a=Math.max(r,i,n),s=a-o;a===o?t=0:r===a?t=(i-n)/s:i===a?t=2+(n-r)/s:n===a&&(t=4+(r-i)/s),(t=Math.min(60*t,360))<0&&(t+=360);let l=(o+a)/2;return[t,100*(a===o?0:l<=.5?s/(a+o):s/(2-a-o)),100*l]},o.rgb.hsv=function(e){let t,r,i,n,o;let a=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(a,s,l),c=u-Math.min(a,s,l),diffc=function(e){return(u-e)/6/c+.5};return 0===c?(n=0,o=0):(o=c/u,t=diffc(a),r=diffc(s),i=diffc(l),a===u?n=i-r:s===u?n=1/3+t-i:l===u&&(n=2/3+r-t),n<0?n+=1:n>1&&(n-=1)),[360*n,100*o,100*u]},o.rgb.hwb=function(e){let t=e[0],r=e[1],i=e[2],n=o.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(r,i));return[n,100*a,100*(i=1-1/255*Math.max(t,Math.max(r,i)))]},o.rgb.cmyk=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255,n=Math.min(1-t,1-r,1-i);return[100*((1-t-n)/(1-n)||0),100*((1-r-n)/(1-n)||0),100*((1-i-n)/(1-n)||0),100*n]},o.rgb.keyword=function(e){let t;let r=n[e];if(r)return r;let o=1/0;for(let r of Object.keys(i)){let n=i[r],a=(e[0]-n[0])**2+(e[1]-n[1])**2+(e[2]-n[2])**2;a<o&&(o=a,t=r)}return t},o.keyword.rgb=function(e){return i[e]},o.rgb.xyz=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;let n=.4124*t+.3576*r+.1805*i,o=.2126*t+.7152*r+.0722*i,a=.0193*t+.1192*r+.9505*i;return[100*n,100*o,100*a]},o.rgb.lab=function(e){let t=o.rgb.xyz(e),r=t[0],i=t[1],n=t[2];r/=95.047,i/=100,n/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let a=116*i-16,s=500*(r-i),l=200*(i-n);return[a,s,l]},o.hsl.rgb=function(e){let t,r,i;let n=e[0]/360,o=e[1]/100,a=e[2]/100;if(0===o)return[i=255*a,i,i];t=a<.5?a*(1+o):a+o-a*o;let s=2*a-t,l=[0,0,0];for(let e=0;e<3;e++)(r=n+-(1/3*(e-1)))<0&&r++,r>1&&r--,i=6*r<1?s+(t-s)*6*r:2*r<1?t:3*r<2?s+(t-s)*(2/3-r)*6:s,l[e]=255*i;return l},o.hsl.hsv=function(e){let t=e[0],r=e[1]/100,i=e[2]/100,n=r,o=Math.max(i,.01);i*=2,r*=i<=1?i:2-i,n*=o<=1?o:2-o;let a=(i+r)/2,s=0===i?2*n/(o+n):2*r/(i+r);return[t,100*s,100*a]},o.hsv.rgb=function(e){let t=e[0]/60,r=e[1]/100,i=e[2]/100,n=Math.floor(t)%6,o=t-Math.floor(t),a=255*i*(1-r),s=255*i*(1-r*o),l=255*i*(1-r*(1-o));switch(i*=255,n){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}},o.hsv.hsl=function(e){let t,r;let i=e[0],n=e[1]/100,o=e[2]/100,a=Math.max(o,.01);r=(2-n)*o;let s=(2-n)*a;return[i,100*(n*a/(s<=1?s:2-s)||0),100*(r/=2)]},o.hwb.rgb=function(e){let t,r,i,n;let o=e[0]/360,a=e[1]/100,s=e[2]/100,l=a+s;l>1&&(a/=l,s/=l);let u=Math.floor(6*o),c=1-s;t=6*o-u,(1&u)!=0&&(t=1-t);let d=a+t*(c-a);switch(u){default:case 6:case 0:r=c,i=d,n=a;break;case 1:r=d,i=c,n=a;break;case 2:r=a,i=c,n=d;break;case 3:r=a,i=d,n=c;break;case 4:r=d,i=a,n=c;break;case 5:r=c,i=a,n=d}return[255*r,255*i,255*n]},o.cmyk.rgb=function(e){let t=e[0]/100,r=e[1]/100,i=e[2]/100,n=e[3]/100,o=1-Math.min(1,t*(1-n)+n),a=1-Math.min(1,r*(1-n)+n),s=1-Math.min(1,i*(1-n)+n);return[255*o,255*a,255*s]},o.xyz.rgb=function(e){let t,r,i;let n=e[0]/100,o=e[1]/100,a=e[2]/100;return t=(t=3.2406*n+-1.5372*o+-.4986*a)>.0031308?1.055*t**(1/2.4)-.055:12.92*t,r=(r=-.9689*n+1.8758*o+.0415*a)>.0031308?1.055*r**(1/2.4)-.055:12.92*r,i=(i=.0557*n+-.204*o+1.057*a)>.0031308?1.055*i**(1/2.4)-.055:12.92*i,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(i=Math.min(Math.max(0,i),1))]},o.xyz.lab=function(e){let t=e[0],r=e[1],i=e[2];t/=95.047,r/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let n=116*r-16,o=500*(t-r),a=200*(r-i);return[n,o,a]},o.lab.xyz=function(e){let t,r,i;let n=e[0],o=e[1],a=e[2];t=o/500+(r=(n+16)/116),i=r-a/200;let s=r**3,l=t**3,u=i**3;return r=(s>.008856?s:(r-16/116)/7.787)*100,[t=(l>.008856?l:(t-16/116)/7.787)*95.047,r,i=(u>.008856?u:(i-16/116)/7.787)*108.883]},o.lab.lch=function(e){let t;let r=e[0],i=e[1],n=e[2],o=Math.atan2(n,i);(t=360*o/2/Math.PI)<0&&(t+=360);let a=Math.sqrt(i*i+n*n);return[r,a,t]},o.lch.lab=function(e){let t=e[0],r=e[1],i=e[2],n=i/360*2*Math.PI,o=r*Math.cos(n),a=r*Math.sin(n);return[t,o,a]},o.rgb.ansi16=function(e,t=null){let[r,i,n]=e,a=null===t?o.rgb.hsv(e)[2]:t;if(0===(a=Math.round(a/50)))return 30;let s=30+(Math.round(n/255)<<2|Math.round(i/255)<<1|Math.round(r/255));return 2===a&&(s+=60),s},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){let t=e[0],r=e[1],i=e[2];if(t===r&&r===i)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;let n=16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(i/255*5);return n},o.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];let r=(~~(e>50)+1)*.5,i=(1&t)*r*255,n=(t>>1&1)*r*255,o=(t>>2&1)*r*255;return[i,n,o]},o.ansi256.rgb=function(e){let t;if(e>=232){let t=(e-232)*10+8;return[t,t,t]}e-=16;let r=Math.floor(e/36)/5*255,i=Math.floor((t=e%36)/6)/5*255;return[r,i,t%6/5*255]},o.rgb.hex=function(e){let t=((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2])),r=t.toString(16).toUpperCase();return"000000".substring(r.length)+r},o.hex.rgb=function(e){let t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let r=t[0];3===t[0].length&&(r=r.split("").map(e=>e+e).join(""));let i=parseInt(r,16);return[i>>16&255,i>>8&255,255&i]},o.rgb.hcg=function(e){let t=e[0]/255,r=e[1]/255,i=e[2]/255,n=Math.max(Math.max(t,r),i),o=Math.min(Math.min(t,r),i),a=n-o;return[360*((a<=0?0:n===t?(r-i)/a%6:n===r?2+(i-t)/a:4+(t-r)/a)/6%1),100*a,100*(a<1?o/(1-a):0)]},o.hsl.hcg=function(e){let t=e[1]/100,r=e[2]/100,i=r<.5?2*t*r:2*t*(1-r),n=0;return i<1&&(n=(r-.5*i)/(1-i)),[e[0],100*i,100*n]},o.hsv.hcg=function(e){let t=e[1]/100,r=e[2]/100,i=t*r,n=0;return i<1&&(n=(r-i)/(1-i)),[e[0],100*i,100*n]},o.hcg.rgb=function(e){let t=e[0]/360,r=e[1]/100,i=e[2]/100;if(0===r)return[255*i,255*i,255*i];let n=[0,0,0],o=t%1*6,a=o%1,s=1-a,l=0;switch(Math.floor(o)){case 0:n[0]=1,n[1]=a,n[2]=0;break;case 1:n[0]=s,n[1]=1,n[2]=0;break;case 2:n[0]=0,n[1]=1,n[2]=a;break;case 3:n[0]=0,n[1]=s,n[2]=1;break;case 4:n[0]=a,n[1]=0,n[2]=1;break;default:n[0]=1,n[1]=0,n[2]=s}return l=(1-r)*i,[(r*n[0]+l)*255,(r*n[1]+l)*255,(r*n[2]+l)*255]},o.hcg.hsv=function(e){let t=e[1]/100,r=e[2]/100,i=t+r*(1-t),n=0;return i>0&&(n=t/i),[e[0],100*n,100*i]},o.hcg.hsl=function(e){let t=e[1]/100,r=e[2]/100,i=r*(1-t)+.5*t,n=0;return i>0&&i<.5?n=t/(2*i):i>=.5&&i<1&&(n=t/(2*(1-i))),[e[0],100*n,100*i]},o.hcg.hwb=function(e){let t=e[1]/100,r=e[2]/100,i=t+r*(1-t);return[e[0],(i-t)*100,(1-i)*100]},o.hwb.hcg=function(e){let t=e[1]/100,r=e[2]/100,i=1-r,n=i-t,o=0;return n<1&&(o=(i-n)/(1-n)),[e[0],100*n,100*o]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=function(e){return[0,0,e[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){let t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},o.rgb.gray=function(e){let t=(e[0]+e[1]+e[2])/3;return[t/255*100]}},85982:function(e,t,r){let i=r(11019),n=r(10962),o={},a=Object.keys(i);a.forEach(e=>{o[e]={},Object.defineProperty(o[e],"channels",{value:i[e].channels}),Object.defineProperty(o[e],"labels",{value:i[e].labels});let t=n(e),r=Object.keys(t);r.forEach(r=>{let i=t[r];o[e][r]=function(e){let wrappedFn=function(...t){let r=t[0];if(null==r)return r;r.length>1&&(t=r);let i=e(t);if("object"==typeof i)for(let e=i.length,t=0;t<e;t++)i[t]=Math.round(i[t]);return i};return"conversion"in e&&(wrappedFn.conversion=e.conversion),wrappedFn}(i),o[e][r].raw=function(e){let wrappedFn=function(...t){let r=t[0];return null==r?r:(r.length>1&&(t=r),e(t))};return"conversion"in e&&(wrappedFn.conversion=e.conversion),wrappedFn}(i)})}),e.exports=o},10962:function(e,t,r){let i=r(11019);e.exports=function(e){let t=function(e){let t=function(){let e={},t=Object.keys(i);for(let r=t.length,i=0;i<r;i++)e[t[i]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;){let e=r.pop(),n=Object.keys(i[e]);for(let i=n.length,o=0;o<i;o++){let i=n[o],a=t[i];-1===a.distance&&(a.distance=t[e].distance+1,a.parent=e,r.unshift(i))}}return t}(e),r={},n=Object.keys(t);for(let e=n.length,o=0;o<e;o++){let e=n[o],a=t[e];null!==a.parent&&(r[e]=function(e,t){let r=[t[e].parent,e],n=i[t[e].parent][e],o=t[e].parent;for(;t[o].parent;)r.unshift(t[o].parent),n=function(e,t){return function(r){return t(e(r))}}(i[t[o].parent][o],n),o=t[o].parent;return n.conversion=r,n}(e,t))}return r}},66369:function(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},6017:function(e){e.exports=Long;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function Long(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function isLong(e){return!0===(e&&e.__isLong__)}Long.prototype.__isLong__,Object.defineProperty(Long.prototype,"__isLong__",{value:!0}),Long.isLong=isLong;var r={},i={};function fromInt(e,t){var n,o,a;return t?(e>>>=0,(a=0<=e&&e<256)&&(o=i[e]))?o:(n=fromBits(e,(0|e)<0?-1:0,!0),a&&(i[e]=n),n):(e|=0,(a=-128<=e&&e<128)&&(o=r[e]))?o:(n=fromBits(e,e<0?-1:0,!1),a&&(r[e]=n),n)}function fromNumber(e,t){if(isNaN(e))return t?c:u;if(t){if(e<0)return c;if(e>=a)return y}else{if(e<=-s)return g;if(e+1>=s)return f}return e<0?fromNumber(-e,t).neg():fromBits(e%o|0,e/o|0,t)}function fromBits(e,t,r){return new Long(e,t,r)}Long.fromInt=fromInt,Long.fromNumber=fromNumber,Long.fromBits=fromBits;var n=Math.pow;function fromString(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return u;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");if((i=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===i)return fromString(e.substring(1),t,r).neg();for(var i,o=fromNumber(n(r,8)),a=u,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+l),r);if(l<8){var d=fromNumber(n(r,l));a=a.mul(d).add(fromNumber(c))}else a=(a=a.mul(o)).add(fromNumber(c))}return a.unsigned=t,a}function fromValue(e,t){return"number"==typeof e?fromNumber(e,t):"string"==typeof e?fromString(e,t):fromBits(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}Long.fromString=fromString,Long.fromValue=fromValue;var o=4294967296,a=18446744073709552e3,s=0x7fffffffffffffff,l=fromInt(16777216),u=fromInt(0);Long.ZERO=u;var c=fromInt(0,!0);Long.UZERO=c;var d=fromInt(1);Long.ONE=d;var p=fromInt(1,!0);Long.UONE=p;var h=fromInt(-1);Long.NEG_ONE=h;var f=fromBits(-1,2147483647,!1);Long.MAX_VALUE=f;var y=fromBits(-1,-1,!0);Long.MAX_UNSIGNED_VALUE=y;var g=fromBits(0,-2147483648,!1);Long.MIN_VALUE=g;var v=Long.prototype;v.toInt=function(){return this.unsigned?this.low>>>0:this.low},v.toNumber=function(){return this.unsigned?(this.high>>>0)*o+(this.low>>>0):this.high*o+(this.low>>>0)},v.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(!this.eq(g))return"-"+this.neg().toString(e);var t=fromNumber(e),r=this.div(t),i=r.mul(t).sub(this);return r.toString(e)+i.toInt().toString(e)}for(var o=fromNumber(n(e,6),this.unsigned),a=this,s="";;){var l=a.div(o),u=(a.sub(l.mul(o)).toInt()>>>0).toString(e);if((a=l).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},v.getHighBits=function(){return this.high},v.getHighBitsUnsigned=function(){return this.high>>>0},v.getLowBits=function(){return this.low},v.getLowBitsUnsigned=function(){return this.low>>>0},v.getNumBitsAbs=function(){if(this.isNegative())return this.eq(g)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&(e&1<<t)==0;t--);return 0!=this.high?t+33:t+1},v.isZero=function(){return 0===this.high&&0===this.low},v.eqz=v.isZero,v.isNegative=function(){return!this.unsigned&&this.high<0},v.isPositive=function(){return this.unsigned||this.high>=0},v.isOdd=function(){return(1&this.low)==1},v.isEven=function(){return(1&this.low)==0},v.equals=function(e){return isLong(e)||(e=fromValue(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},v.eq=v.equals,v.notEquals=function(e){return!this.eq(e)},v.neq=v.notEquals,v.ne=v.notEquals,v.lessThan=function(e){return 0>this.comp(e)},v.lt=v.lessThan,v.lessThanOrEqual=function(e){return 0>=this.comp(e)},v.lte=v.lessThanOrEqual,v.le=v.lessThanOrEqual,v.greaterThan=function(e){return this.comp(e)>0},v.gt=v.greaterThan,v.greaterThanOrEqual=function(e){return this.comp(e)>=0},v.gte=v.greaterThanOrEqual,v.ge=v.greaterThanOrEqual,v.compare=function(e){if(isLong(e)||(e=fromValue(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},v.comp=v.compare,v.negate=function(){return!this.unsigned&&this.eq(g)?g:this.not().add(d)},v.neg=v.negate,v.add=function(e){isLong(e)||(e=fromValue(e));var t,r,i=this.high>>>16,n=65535&this.high,o=this.low>>>16,a=65535&this.low,s=e.high>>>16,l=65535&e.high,u=e.low>>>16,c=65535&e.low,d=0,p=0;return t=0+((r=0+(a+c))>>>16),r&=65535,t+=o+u,p+=t>>>16,t&=65535,p+=n+l,d+=p>>>16,p&=65535,d+=i+s,fromBits(t<<16|r,(d&=65535)<<16|p,this.unsigned)},v.subtract=function(e){return isLong(e)||(e=fromValue(e)),this.add(e.neg())},v.sub=v.subtract,v.multiply=function(e){if(this.isZero())return u;if(isLong(e)||(e=fromValue(e)),t)return fromBits(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return u;if(this.eq(g))return e.isOdd()?g:u;if(e.eq(g))return this.isOdd()?g:u;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(l)&&e.lt(l))return fromNumber(this.toNumber()*e.toNumber(),this.unsigned);var r,i,n=this.high>>>16,o=65535&this.high,a=this.low>>>16,s=65535&this.low,c=e.high>>>16,d=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,y=0;return r=0+((i=0+s*h)>>>16),i&=65535,r+=a*h,y+=r>>>16,r&=65535,r+=s*p,y+=r>>>16,r&=65535,y+=o*h,f+=y>>>16,y&=65535,y+=a*p,f+=y>>>16,y&=65535,y+=s*d,f+=y>>>16,y&=65535,f+=n*h+o*p+a*d+s*c,fromBits(r<<16|i,(f&=65535)<<16|y,this.unsigned)},v.mul=v.multiply,v.divide=function(e){if(isLong(e)||(e=fromValue(e)),e.isZero())throw Error("division by zero");if(t){var r,i,o;return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?fromBits((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this}if(this.isZero())return this.unsigned?c:u;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return c;if(e.gt(this.shru(1)))return p;o=c}else{if(this.eq(g))return e.eq(d)||e.eq(h)?g:e.eq(g)?d:(r=this.shr(1).div(e).shl(1)).eq(u)?e.isNegative()?d:h:(i=this.sub(e.mul(r)),o=r.add(i.div(e)));if(e.eq(g))return this.unsigned?c:u;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=u}for(i=this;i.gte(e);){for(var a=Math.ceil(Math.log(r=Math.max(1,Math.floor(i.toNumber()/e.toNumber())))/Math.LN2),s=a<=48?1:n(2,a-48),l=fromNumber(r),f=l.mul(e);f.isNegative()||f.gt(i);)r-=s,f=(l=fromNumber(r,this.unsigned)).mul(e);l.isZero()&&(l=d),o=o.add(l),i=i.sub(f)}return o},v.div=v.divide,v.modulo=function(e){return(isLong(e)||(e=fromValue(e)),t)?fromBits((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},v.mod=v.modulo,v.rem=v.modulo,v.not=function(){return fromBits(~this.low,~this.high,this.unsigned)},v.and=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low&e.low,this.high&e.high,this.unsigned)},v.or=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low|e.low,this.high|e.high,this.unsigned)},v.xor=function(e){return isLong(e)||(e=fromValue(e)),fromBits(this.low^e.low,this.high^e.high,this.unsigned)},v.shiftLeft=function(e){return(isLong(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?fromBits(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):fromBits(0,this.low<<e-32,this.unsigned)},v.shl=v.shiftLeft,v.shiftRight=function(e){return(isLong(e)&&(e=e.toInt()),0==(e&=63))?this:e<32?fromBits(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):fromBits(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},v.shr=v.shiftRight,v.shiftRightUnsigned=function(e){if(isLong(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?fromBits(this.low>>>e|t<<32-e,t>>>e,this.unsigned):32===e?fromBits(t,0,this.unsigned):fromBits(t>>>e-32,0,this.unsigned)},v.shru=v.shiftRightUnsigned,v.shr_u=v.shiftRightUnsigned,v.toSigned=function(){return this.unsigned?fromBits(this.low,this.high,!1):this},v.toUnsigned=function(){return this.unsigned?this:fromBits(this.low,this.high,!0)},v.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},v.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},v.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},Long.fromBytes=function(e,t,r){return r?Long.fromBytesLE(e,t):Long.fromBytesBE(e,t)},Long.fromBytesLE=function(e,t){return new Long(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},Long.fromBytesBE=function(e,t){return new Long(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},33619:function(e,t,r){var i=r(68320);function specialHexEncode(e){switch(e){case"%20":return" ";case"%3D":return"=";case"%3A":return":";case"%2F":return"/";default:return e.toLowerCase()}}function svgToTinyDataUri(e){var t;if("string"!=typeof e)throw TypeError("Expected a string, but received "+typeof e);return 65279===e.charCodeAt(0)&&(e=e.slice(1)),"data:image/svg+xml,"+encodeURIComponent((t=e.trim().replace(/\s+/g," "),Object.keys(i).forEach(function(e){i[e].test(t)&&(t=t.replace(i[e],e))}),t).replace(/"/g,"'")).replace(/%[\dA-F]{2}/g,specialHexEncode)}svgToTinyDataUri.toSrcset=function(e){return svgToTinyDataUri(e).replace(/ /g,"%20")},e.exports=svgToTinyDataUri},68320:function(e){e.exports={aqua:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,azure:/#f0ffff(ff)?(?!\w)/gi,beige:/#f5f5dc(ff)?(?!\w)/gi,bisque:/#ffe4c4(ff)?(?!\w)/gi,black:/#000000(ff)?(?!\w)|#000(f)?(?!\w)/gi,blue:/#0000ff(ff)?(?!\w)|#00f(f)?(?!\w)/gi,brown:/#a52a2a(ff)?(?!\w)/gi,coral:/#ff7f50(ff)?(?!\w)/gi,cornsilk:/#fff8dc(ff)?(?!\w)/gi,crimson:/#dc143c(ff)?(?!\w)/gi,cyan:/#00ffff(ff)?(?!\w)|#0ff(f)?(?!\w)/gi,darkblue:/#00008b(ff)?(?!\w)/gi,darkcyan:/#008b8b(ff)?(?!\w)/gi,darkgrey:/#a9a9a9(ff)?(?!\w)/gi,darkred:/#8b0000(ff)?(?!\w)/gi,deeppink:/#ff1493(ff)?(?!\w)/gi,dimgrey:/#696969(ff)?(?!\w)/gi,gold:/#ffd700(ff)?(?!\w)/gi,green:/#008000(ff)?(?!\w)/gi,grey:/#808080(ff)?(?!\w)/gi,honeydew:/#f0fff0(ff)?(?!\w)/gi,hotpink:/#ff69b4(ff)?(?!\w)/gi,indigo:/#4b0082(ff)?(?!\w)/gi,ivory:/#fffff0(ff)?(?!\w)/gi,khaki:/#f0e68c(ff)?(?!\w)/gi,lavender:/#e6e6fa(ff)?(?!\w)/gi,lime:/#00ff00(ff)?(?!\w)|#0f0(f)?(?!\w)/gi,linen:/#faf0e6(ff)?(?!\w)/gi,maroon:/#800000(ff)?(?!\w)/gi,moccasin:/#ffe4b5(ff)?(?!\w)/gi,navy:/#000080(ff)?(?!\w)/gi,oldlace:/#fdf5e6(ff)?(?!\w)/gi,olive:/#808000(ff)?(?!\w)/gi,orange:/#ffa500(ff)?(?!\w)/gi,orchid:/#da70d6(ff)?(?!\w)/gi,peru:/#cd853f(ff)?(?!\w)/gi,pink:/#ffc0cb(ff)?(?!\w)/gi,plum:/#dda0dd(ff)?(?!\w)/gi,purple:/#800080(ff)?(?!\w)/gi,red:/#ff0000(ff)?(?!\w)|#f00(f)?(?!\w)/gi,salmon:/#fa8072(ff)?(?!\w)/gi,seagreen:/#2e8b57(ff)?(?!\w)/gi,seashell:/#fff5ee(ff)?(?!\w)/gi,sienna:/#a0522d(ff)?(?!\w)/gi,silver:/#c0c0c0(ff)?(?!\w)/gi,skyblue:/#87ceeb(ff)?(?!\w)/gi,snow:/#fffafa(ff)?(?!\w)/gi,tan:/#d2b48c(ff)?(?!\w)/gi,teal:/#008080(ff)?(?!\w)/gi,thistle:/#d8bfd8(ff)?(?!\w)/gi,tomato:/#ff6347(ff)?(?!\w)/gi,violet:/#ee82ee(ff)?(?!\w)/gi,wheat:/#f5deb3(ff)?(?!\w)/gi,white:/#ffffff(ff)?(?!\w)|#fff(f)?(?!\w)/gi}},73047:function(e){e.exports={style:{fontFamily:"'__Inter_0d99fb', '__Inter_Fallback_0d99fb'",fontStyle:"normal"},className:"__className_0d99fb",variable:"__variable_0d99fb"}},3969:function(e){var t=String,create=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t}};e.exports=create(),e.exports.createColors=create},3422:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultFallback=void 0;let i=r(26248),n=r(49738),o=r(97134);t.DefaultFallback=()=>{let e=(0,n.useRef)(null);return(0,n.useEffect)(()=>{let t=new o.DefaultSciChartLoader,r=t.addChartLoader(e.current,o.SciChartSurfaceBase.DEFAULT_THEME);return()=>{e.current&&t.removeChartLoader(e.current,r)}},[]),(0,i.jsx)("div",{ref:e,style:{position:"absolute",height:"100%",width:"100%",top:0,left:0,textAlign:"center",background:o.SciChartSurfaceBase.DEFAULT_THEME.sciChartBackground}})}},69395:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},n=this&&this.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartReact=void 0;let o=r(26248),a=r(49738),s=r(97134),l=r(80255),u=r(56610),c=r(80867),d=r(3422),p=r(11371);s.SciChartSurface.configure({wasmUrl:"/scichart2d.wasm",dataUrl:"/scichart2d.data"}),s.SciChart3DSurface.configure({wasmUrl:"/scichart3d.wasm",dataUrl:"/scichart3d.data"}),t.SciChartReact=function(e){let{initChart:t,config:r,fallback:h,onInit:f,onDelete:y,innerContainerProps:g}=e,v=n(e,["initChart","config","fallback","onInit","onDelete","innerContainerProps"]);if(!t&&!r||t&&r)throw Error(p.conflictingConfigsMessage);let[m]=(0,a.useState)(v.id),S=(0,u.useIsMountedRef)(),b=(0,a.useRef)(null),P=(0,a.useRef)(),C=(0,a.useRef)(null),[x,A]=(0,a.useState)(!1),[T]=(0,a.useState)(u.createChartRoot);(0,a.useEffect)(()=>{let e=(0,s.generateGuid)();null==_||_.addChartToGroup(e,!1,null);let n=b.current;n.appendChild(T);let o=t||(0,u.createChartFromConfig)(r),a=!1,runInit=()=>i(this,void 0,void 0,function*(){return new Promise((t,r)=>{o(T).then(r=>{if(!r.sciChartSurface)throw Error(p.wrongInitResultMessage);S.current&&T?(C.current=r,null==_||_.addChartToGroup(e,!0,r),A(!0),f&&f(r)):a=!0,t(r)}).catch(r)})}),l=P.current?P.current.then(runInit):runInit();P.current=l;let performCleanup=t=>{!a&&y&&y(t),null==_||_.removeChartFromGroup(e),t.sciChartSurface.delete()};return()=>{l.then(performCleanup)}},[]);let _=(0,a.useContext)(c.SciChartGroupContext),R=Object.assign(Object.assign({},g),{style:Object.assign({height:"100%",width:"100%"},null==g?void 0:g.style)});return(0,o.jsx)(l.SciChartSurfaceContext.Provider,{value:C.current,children:(0,o.jsxs)("div",Object.assign({},v,{style:Object.assign({position:"relative"},v.style),children:[(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",Object.assign({},R,{ref:b,id:m})),x?e.children:null]}),x?null:h?(0,o.jsx)("div",{style:{position:"absolute",height:"100%",width:"100%",top:0,left:0,zIndex:12},children:h}):(0,o.jsx)(d.DefaultFallback,{})]}))})}},41856:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartGroup=void 0;let i=r(26248),n=r(49738),o=r(80867);t.SciChartGroup=e=>{let{onInit:t,onDelete:r}=e,[a,s]=(0,n.useState)({groupInitialized:!1,charts:new Map}),l=Object.assign(Object.assign({},a),{addChartToGroup:(e,t,r)=>{a.charts.set(e,{isInitialized:t,initResult:r});let i=a.charts.size>0&&Array.from(a.charts.values()).every(({isInitialized:e})=>e);s({groupInitialized:i,charts:a.charts})},removeChartFromGroup:e=>{a.charts.delete(e);let t=a.charts.size>0&&Array.from(a.charts.values()).every(({isInitialized:e})=>e);s({groupInitialized:t,charts:a.charts})}});return(0,n.useEffect)(()=>{if(t&&a.groupInitialized){let e=Array.from(a.charts.values()).map(({initResult:e})=>e);t(e)}},[a.groupInitialized]),(0,n.useEffect)(()=>{if(r&&a.groupInitialized){let e=Array.from(a.charts.values()).map(({initResult:e})=>e);return()=>{r(e)}}},[a.groupInitialized]),(0,i.jsx)(o.SciChartGroupContext.Provider,{value:l,children:e.children})}},80867:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartGroupContext=void 0;let i=r(49738);t.SciChartGroupContext=(0,i.createContext)(void 0)},36938:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartMemoryDebugWrapper=void 0;let i=r(26248),n=r(49738),o=r(97134);t.SciChartMemoryDebugWrapper=function(e){o.SciChartSurface.autoDisposeWasmContext=!0,o.SciChartSurface.wasmContextDisposeTimeout=0,o.MemoryUsageHelper.isMemoryUsageDebugEnabled=!0;let[t,r]=(0,n.useState)(!1);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{style:{position:"fixed",top:0,left:0},children:[(0,i.jsx)("input",{type:"checkbox",checked:t,onChange:e=>{r(e.target.checked)}})," Render Child Components Tree",(0,i.jsx)("br",{}),(0,i.jsx)("input",{type:"button",onClick:()=>{window.gc&&window.gc();let e=o.MemoryUsageHelper.objectRegistry.getState();console.log("state",e)},value:"Log Object Registry State"}),(0,i.jsx)("br",{}),t?e.children:null]})})}},64688:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},n=this&&this.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartNestedOverview=void 0;let o=r(26248),a=r(49738),s=r(97134),l=r(80255),u=r(69395);t.SciChartNestedOverview=e=>{let{options:t}=e,r=n(e,["options"]),c=(0,a.useContext)(l.SciChartSurfaceContext),d=null==c?void 0:c.sciChartSurface,p=(0,a.useRef)(null),h=(0,a.useRef)(null);return d?(0,o.jsx)(u.SciChartReact,Object.assign({},r,{initChart:e=>i(void 0,void 0,void 0,function*(){h.current=s.SciChartOverview.create(d,e,t);let r=yield h.current;return p.current=r,{sciChartSurface:r.overviewSciChartSurface}}),onDelete:()=>{p.current.delete()}})):null}},80255:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartSurfaceContext=void 0;let i=r(49738);t.SciChartSurfaceContext=(0,i.createContext)(null)},11371:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.conflictingConfigsMessage=t.wrongInitResultMessage=void 0,t.wrongInitResultMessage='"initChart" function should resolve to an object with "sciChartSurface" property ({ sciChartSurface })',t.conflictingConfigsMessage='Only one of "initChart" or "config" props is required!'},69590:function(e,t,r){"use strict";t.iB=void 0,r(3422);var i=r(69395);Object.defineProperty(t,"iB",{enumerable:!0,get:function(){return i.SciChartReact}}),r(41856),r(80867),r(36938),r(64688),r(80255)},56610:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.createChartFromConfig=t.createChartRoot=t.useIsMountedRef=void 0;let n=r(49738),o=r(97134);t.useIsMountedRef=()=>{let e=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e},t.createChartRoot=()=>{if("undefined"==typeof window)return null;let e=document.createElement("div");return e.id=`chart-root-${(0,o.generateGuid)()}`,e.style.width="100%",e.style.height="100%",e},t.createChartFromConfig=function(e){return t=>i(this,void 0,void 0,function*(){let r=yield o.chartBuilder.buildChart(t,e);return"sciChartSurface"in r?{sciChartSurface:r.sciChartSurface}:"sciChart3DSurface"in r?{sciChartSurface:r.sciChart3DSurface}:{sciChartSurface:r}})}},42557:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildAnnotations=void 0;var i=r(5613),n=r(56806),o=r(7267),a=r(99802),s=r(52354),l=r(67356),u=r(84867),c=r(68784),d=r(58623),p=r(51894),h=r(64304),f=r(53247);(0,f.registerType)(p.EBaseType.Annotation,s.EAnnotationType.RenderContextAxisMarkerAnnotation,function(e){return new i.AxisMarkerAnnotation(e)},!0),(0,f.registerType)(p.EBaseType.Annotation,s.EAnnotationType.RenderContextBoxAnnotation,function(e){return new n.BoxAnnotation(e)},!0),(0,f.registerType)(p.EBaseType.Annotation,s.EAnnotationType.RenderContextHorizontalLineAnnotation,function(e){return new a.HorizontalLineAnnotation(e)},!0),(0,f.registerType)(p.EBaseType.Annotation,s.EAnnotationType.RenderContextLineAnnotation,function(e){return new l.LineAnnotation(e)},!0),(0,f.registerType)(p.EBaseType.Annotation,s.EAnnotationType.RenderContextVerticalLineAnnotation,function(e){return new d.VerticalLineAnnotation(e)},!0),(0,f.registerType)(p.EBaseType.Annotation,s.EAnnotationType.SVGTextAnnotation,function(e){return new c.TextAnnotation(e)},!0),(0,f.registerType)(p.EBaseType.Annotation,s.EAnnotationType.SVGCustomAnnotation,function(e){return new o.CustomAnnotation(e)},!0),(0,f.registerType)(p.EBaseType.Annotation,s.EAnnotationType.RenderContextNativeTextAnnotation,function(e){return new u.NativeTextAnnotation(e)},!0),t.buildAnnotations=function(e){"string"==typeof e&&(e=JSON.parse(e,h.chartReviver));var t=[];if(Array.isArray(e))for(var r=0,i=e;r<i.length;r++){var n=i[r];t.push((0,f.createType)(p.EBaseType.Annotation,n.type,null,n.options))}else t.push((0,f.createType)(p.EBaseType.Annotation,e.type,null,e.options));return t}},56896:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildAxes=void 0;var i=r(36943),n=r(19599),o=r(77405),a=r(65202),s=r(3274),l=r(12344),u=r(52812),c=r(72896),d=r(28670),p=r(48307),h=r(18157),f=r(51894),y=r(73326),g=r(64304),v=r(53247);(0,v.registerType)(f.EBaseType.LabelProvider,y.ELabelProviderType.Numeric,function(e){return new s.NumericLabelProvider(e)},!0),(0,v.registerType)(f.EBaseType.LabelProvider,y.ELabelProviderType.Date,function(e){return new o.DateLabelProvider(e)},!0),(0,v.registerType)(f.EBaseType.LabelProvider,y.ELabelProviderType.Logarithmic,function(e){return new a.LogarithmicLabelProvider(e)},!0),(0,v.registerType)(f.EBaseType.LabelProvider,y.ELabelProviderType.SmartDate,function(e){return new u.SmartDateLabelProvider},!0),(0,v.registerType)(f.EBaseType.LabelProvider,y.ELabelProviderType.Text,function(e){return new c.TextLabelProvider(e)},!0),(0,v.registerType)(f.EBaseType.LabelProvider,y.ELabelProviderType.Pie,function(e){return new l.PieLabelProvider(e)},!0),t.buildAxes=function(e,t){"string"==typeof t&&(t=JSON.parse(t,g.chartReviver));var r=[];if(Array.isArray(t))for(var i=0,n=t;i<n.length;i++){var o=n[i];r.push(buildAxis(e,o))}else r.push(buildAxis(e,t));return r};var buildAxis=function(e,t){var r;switch(t.type){case h.EAxisType.CategoryAxis:r=new i.CategoryAxis(e,t.options);break;case h.EAxisType.NumericAxis:r=new p.NumericAxis(e,t.options);break;case h.EAxisType.LogarithmicAxis:r=new d.LogarithmicAxis(e,t.options);break;case h.EAxisType.DateTimeNumericAxis:r=new n.DateTimeNumericAxis(e,t.options);break;default:r=new p.NumericAxis(e,{})}return r}},50159:function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.buildDataSeries=void 0;var n=r(90824),o=r(34040),a=r(42527),s=r(52756),l=r(88494),u=r(97482),c=r(85384),d=r(1586),p=r(9314),h=r(3351),f=r(52924),y=r(72418),g=r(98174),v=r(53956),m=r(1604),S=r(57994),b=r(90229),P=r(34422),C=r(64304);t.buildDataSeries=function(e,t,r,i){if(t){if("string"==typeof t&&(t=JSON.parse(t,C.chartReviver)),"string"==typeof r&&(r=JSON.parse(r,C.chartReviver)),n=createDataSeries(e,t,r),o&&t.type!==h.EDataSeriesType.HeatmapUniform&&t.type!==h.EDataSeriesType.HeatmapNonUniform&&n){var n,o,a=buildFilter(null!=i?i:n,o);a&&(n=a)}return n}};var buildFilter=function(e,t){if(t.type===P.EDataFilterType.HlcScaleOffset)return new n.HlcScaleOffsetFilter(e,t.options);if(t.type===P.EDataFilterType.OhlcScaleOffset)return new o.OhlcScaleOffsetFilter(e,t.options);if(t.type===P.EDataFilterType.XyLinearTrend)return new a.XyLinearTrendFilter(e,t.options);if(t.type===P.EDataFilterType.XyMovingAverage)return new s.XyMovingAverageFilter(e,t.options);if(t.type===P.EDataFilterType.XyRatio){var r=t.options;if(Array.isArray(r.divisorSeries)){var i=Array(e.count()).fill(0);t.options.divisorSeries=new v.XyDataSeries(e.webAssemblyContext,{xValues:i,yValues:r.divisorSeries})}return new l.XyRatioFilter(e,t.options)}if(t.type===P.EDataFilterType.XyScaleOffset)return new u.XyScaleOffsetFilter(e,t.options);if(t.type===P.EDataFilterType.XyyScaleOffset)return new c.XyyScaleOffsetFilter(e,t.options);else if(t.type===P.EDataFilterType.XyzScaleOffset)return new d.XyzScaleOffsetFilter(e,t.options);else return},createDataSeries=function(e,t,r){var n=i({},t.options);switch(t.type){case h.EDataSeriesType.Xy:var o=n;return r&&o.xDataId&&(o.xValues=r[o.xDataId],o.yValues=r[o.yDataId]),new v.XyDataSeries(e,o);case h.EDataSeriesType.Xyy:var o=n;return r&&o.xDataId&&(o.xValues=r[o.xDataId],o.yValues=r[o.yDataId],o.y1Values=r[o.y1DataId]),new S.XyyDataSeries(e,o);case h.EDataSeriesType.Xyz:var o=n;return r&&o.xDataId&&(o.xValues=r[o.xDataId],o.yValues=r[o.yDataId],o.zValues=r[o.zDataId]),new b.XyzDataSeries(e,o);case h.EDataSeriesType.XyText:var o=n;return r&&o.xDataId&&(o.xValues=r[o.xDataId],o.yValues=r[o.yDataId]),new m.XyTextDataSeries(e,o);case h.EDataSeriesType.Hlc:var o=n;return r&&o.xDataId&&(o.xValues=r[o.xDataId],o.highValues=r[o.highDataId],o.lowValues=r[o.lowDataId],o.yValues=r[o.closeDataId]),new p.HlcDataSeries(e,o);case h.EDataSeriesType.Ohlc:var o=n;return r&&o.xDataId&&(o.xValues=r[o.xDataId],o.openValues=r[o.openDataId],o.highValues=r[o.highDataId],o.lowValues=r[o.lowDataId],o.closeValues=r[o.closeDataId]),new y.OhlcDataSeries(e,o);case h.EDataSeriesType.HeatmapUniform:var o=n;return new g.UniformHeatmapDataSeries(e,o);case h.EDataSeriesType.HeatmapNonUniform:var o=n;return new f.NonUniformHeatmapDataSeries(e,o);default:return function(e){throw Error('Invalid Data Series Type value: "'.concat(e,'"!'))}(t.type)}}},68097:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildModifiers=void 0;var i=r(25),n=r(52521),o=r(22720),a=r(68430),s=r(80467),l=r(49193),u=r(20810),c=r(55305),d=r(36071),p=r(42757),h=r(87128),f=r(46566),y=r(95412),g=r(33883),v=r(51894),m=r(81751),S=r(64304),b=r(53247);(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.Cursor,function(e){return new i.CursorModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.DataPointSelection,function(e){return new n.DataPointSelectionModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.MouseWheelZoom,function(e){return new a.MouseWheelZoomModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.PinchZoom,function(e){return new l.PinchZoomModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.Rollover,function(e){return new u.RolloverModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.VerticalSlice,function(e){return new c.VerticalSliceModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.RubberBandXYZoom,function(e){return new d.RubberBandXyZoomModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.SeriesSelection,function(e){return new p.SeriesSelectionModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.XAxisDrag,function(e){return new h.XAxisDragModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.YAxisDrag,function(e){return new f.YAxisDragModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.ZoomExtents,function(e){return new y.ZoomExtentsModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.ZoomPan,function(e){return new g.ZoomPanModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.OverviewRangeSelection,function(e){return new s.OverviewRangeSelectionModifier(e)},!0),(0,b.registerType)(v.EBaseType.Chart2DModifier,m.EChart2DModifierType.Legend,function(e){return new o.LegendModifier(e)},!0),t.buildModifiers=function(e){"string"==typeof e&&(e=JSON.parse(e,S.chartReviver));var t=[];if(Array.isArray(e))for(var r=0,i=e;r<i.length;r++){var n=i[r];t.push(buildModifier(n))}else t.push(buildModifier(e));return t};var buildModifier=function(e){return e.type===m.EChart2DModifierType.Custom?(0,b.createType)(v.EBaseType.Chart2DModifier,e.customType,null,e.options):(0,b.createType)(v.EBaseType.Chart2DModifier,e.type,null,e.options)}},80820:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildSeries=void 0;var i=r(39772),n=r(3351),o=r(85230),a=r(26341),s=r(66906),l=r(42761),u=r(56923),c=r(39431),d=r(58263),p=r(83871),h=r(35037),f=r(77344),y=r(17964),g=r(57387),v=r(3613),m=r(88395),S=r(8635),b=r(36149),P=r(99026),C=r(38549),x=r(87632),A=r(9311),T=r(45989),_=r(19954),R=r(38760),E=r(99986),w=r(20717),D=r(86454),O=r(17806),I=r(33602),M=r(95840),L=r(45397),k=r(37848),N=r(85969),B=r(60533),V=r(180),F=r(85497),j=r(49826),H=r(52234),z=r(50376),G=r(30637),U=r(97561),W=r(50487),X=r(27130),Y=r(50758),$=r(17349),K=r(10239),q=r(51894),Z=r(15140),J=r(86538),Q=r(67423),ee=r(55687),et=r(5399),er=r(50159),ei=r(64304),en=r(53247);function hasOwnProperty(e,t){return e.hasOwnProperty(t)}(0,en.registerWasmType)(q.EBaseType.PointMarker,Q.EPointMarkerType.Cross,function(e,t){return new s.CrossPointMarker(e,t)},!0),(0,en.registerWasmType)(q.EBaseType.PointMarker,Q.EPointMarkerType.Ellipse,function(e,t){return new l.EllipsePointMarker(e,t)},!0),(0,en.registerWasmType)(q.EBaseType.PointMarker,Q.EPointMarkerType.Sprite,function(e,t){return new u.SpritePointMarker(e,t)},!0),(0,en.registerWasmType)(q.EBaseType.PointMarker,Q.EPointMarkerType.Square,function(e,t){return new c.SquarePointMarker(e,t)},!0),(0,en.registerWasmType)(q.EBaseType.PointMarker,Q.EPointMarkerType.Triangle,function(e,t){return new d.TrianglePointMarker(e,t)},!0),(0,en.registerWasmType)(q.EBaseType.PointMarker,Q.EPointMarkerType.X,function(e,t){return new p.XPointMarker(e,t)},!0),(0,en.registerWasmType)(q.EBaseType.ShaderEffect,et.EShaderEffectType.Glow,function(e,t){return new N.GlowEffect(e,t)},!0),(0,en.registerWasmType)(q.EBaseType.ShaderEffect,et.EShaderEffectType.Shadow,function(e,t){return new V.ShadowEffect(e,t)},!0),(0,en.registerType)(q.EBaseType.Animation,K.EAnimationType.Fade,function(e){return new h.FadeAnimation(e)},!0),(0,en.registerType)(q.EBaseType.Animation,K.EAnimationType.Scale,function(e){return new f.ScaleAnimation(e)},!0),(0,en.registerType)(q.EBaseType.Animation,K.EAnimationType.Sweep,function(e){return new y.SweepAnimation(e)},!0),(0,en.registerType)(q.EBaseType.Animation,K.EAnimationType.Wave,function(e){return new g.WaveAnimation(e)},!0),(0,en.registerType)(q.EBaseType.DataLabelProvider,Z.EDataLabelProviderType.Default,function(e){return new P.DataLabelProvider(e)},!0),(0,en.registerType)(q.EBaseType.DataLabelProvider,Z.EDataLabelProviderType.Line,function(e){return new x.LineSeriesDataLabelProvider(e)},!0),(0,en.registerType)(q.EBaseType.DataLabelProvider,Z.EDataLabelProviderType.Column,function(e){return new S.ColumnSeriesDataLabelProvider(e)},!0),(0,en.registerType)(q.EBaseType.DataLabelProvider,Z.EDataLabelProviderType.Text,function(e){return new T.TextDataLabelProvider(e)},!0),(0,en.registerType)(q.EBaseType.DataLabelProvider,Z.EDataLabelProviderType.Heatmap,function(e){return new C.HeatMapDataLabelProvider(e)},!0),(0,en.registerType)(q.EBaseType.DataLabelProvider,Z.EDataLabelProviderType.NonUniformHeatmap,function(e){return new A.NonUniformHeatMapDataLabelProvider(e)},!0),(0,en.registerType)(q.EBaseType.DataLabelProvider,Z.EDataLabelProviderType.Bubble,function(e){return new m.BubbleSeriesDataLabelProvider(e)},!0),(0,en.registerType)(q.EBaseType.DataLabelProvider,Z.EDataLabelProviderType.Band,function(e){return new v.BandSeriesDataLabelProvider(e)},!0),(0,en.registerType)(q.EBaseType.DataLabelProvider,Z.EDataLabelProviderType.Contours,function(e){return new b.ContoursDataLabelProvider(e)},!0),(0,en.registerType)(q.EBaseType.MetadataGenerator,"Template",function(e){return new o.TemplateMetadataGenerator(e)},!0),(0,en.registerWasmType)(q.EBaseType.PaletteProvider,J.EPaletteProviderType.Gradient,function(e,t){return a.PaletteFactory.createGradient(e,t)},!0),(0,en.registerType)(q.EBaseType.PaletteProvider,J.EPaletteProviderType.DataPointSelection,function(e){return new i.DataPointSelectionPaletteProvider(e)},!0);var getDataSeriesDefinition=function(e){if(hasOwnProperty(e,"xyData"))return{type:n.EDataSeriesType.Xy,options:e.xyData};if(hasOwnProperty(e,"xyyData"))return{type:n.EDataSeriesType.Xyy,options:e.xyyData};if(hasOwnProperty(e,"xyzData"))return{type:n.EDataSeriesType.Xyz,options:e.xyzData};if(hasOwnProperty(e,"xyTextData"))return{type:n.EDataSeriesType.XyText,options:e.xyTextData};if(hasOwnProperty(e,"hlcData"))return{type:n.EDataSeriesType.Hlc,options:e.hlcData};if(hasOwnProperty(e,"ohlcData"))return{type:n.EDataSeriesType.Ohlc,options:e.ohlcData};if(hasOwnProperty(e,"heatmapData")&&(e.type===ee.ESeriesType.UniformHeatmapSeries||e.type===ee.ESeriesType.UniformContoursSeries))return{type:n.EDataSeriesType.HeatmapUniform,options:e.heatmapData};else if(hasOwnProperty(e,"heatmapData")&&e.type===ee.ESeriesType.NonUniformHeatmapSeries)return{type:n.EDataSeriesType.HeatmapNonUniform,options:e.heatmapData};else return};t.buildSeries=function(e,r,i){"string"==typeof r&&(r=JSON.parse(r,ei.chartReviver)),"string"==typeof i&&(i=JSON.parse(i,ei.chartReviver));var n=[];Array.isArray(r)||(r=[r]);for(var o=0,a=r;o<a.length;o++){var s=a[o],l=void 0;if(s.type===ee.ESeriesType.BandSeries)l=new _.FastBandRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.BubbleSeries)l=new R.FastBubbleRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.CandlestickSeries)l=new E.FastCandlestickRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.ColumnSeries)l=new w.FastColumnRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.ImpulseSeries)l=new O.FastImpulseRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.LineSeries)l=new I.FastLineRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.MountainSeries)l=new M.FastMountainRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.ErrorBarsSeries)l=new D.FastErrorBarsRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.OhlcSeries)l=new L.FastOhlcRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.ScatterSeries)l=new $.XyScatterRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.SplineBandSeries)l=new F.SplineBandRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.SplineLineSeries)l=new j.SplineLineRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.SplineMountainSeries)l=new H.SplineMountainRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.UniformHeatmapSeries)l=new Y.UniformHeatmapRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.NonUniformHeatmapSeries)l=new B.NonUniformHeatmapRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.UniformContoursSeries)l=new X.UniformContoursRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.TextSeries)l=new k.FastTextRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.StackedColumnSeries)l=new G.StackedColumnRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.StackedMountainSeries)l=new W.StackedMountainRenderableSeries(e,s.options);else if(s.type===ee.ESeriesType.StackedColumnCollection){var u=new z.StackedColumnCollection(e,s.options);u.add.apply(u,(0,t.buildSeries)(e,s.series,i)),l=u}else if(s.type===ee.ESeriesType.StackedMountainCollection){var u=new U.StackedMountainCollection(e,s.options);u.add.apply(u,(0,t.buildSeries)(e,s.series,i)),l=u}if(l){var c=getDataSeriesFromRenderableSeriesDefinition(e,s,i);c&&(l.dataSeries=c)}l&&n.push(l)}return n};var getDataSeriesFromRenderableSeriesDefinition=function(e,t,r){var i=getDataSeriesDefinition(t);return i?t.options&&"dataSeries"in t.options&&t.options.dataSeries&&i.options&&"filter"in i.options&&i.options.filter?(0,er.buildDataSeries)(e,i,r,t.options.dataSeries):(0,er.buildDataSeries)(e,i,r):void 0}},39627:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.configure2DSurface=t.buildPieChart=t.build2DChart=void 0;var o=r(49065),a=r(47770),s=r(3528),l=r(36174),u=r(54259),c=r(3337),d=r(17456),p=r(47003),h=r(78292),f=r(70048),y=r(19358),g=r(34852),v=r(44813),m=r(37352),S=r(12682),b=r(34297),P=r(64838),C=r(81539),x=r(48307),A=r(78237),T=r(24934),_=r(18397),R=r(34282),E=r(51894),w=r(18638),D=r(8558),O=r(42557),I=r(56896),M=r(68097),L=r(80820),k=r(64304),N=r(53247),B=r(64913),V=r(22099);function configure2DSurface(e,t,r){var i,n,o,a,s;if(e.xAxes&&(i=t.xAxes).add.apply(i,(0,I.buildAxes)(r,e.xAxes)),0!==t.xAxes.size()||e.subCharts||t.xAxes.add(new x.NumericAxis(r)),e.yAxes&&(n=t.yAxes).add.apply(n,(0,I.buildAxes)(r,e.yAxes)),0!==t.yAxes.size()||e.subCharts||t.yAxes.add(new x.NumericAxis(r)),e.series&&(o=t.renderableSeries).add.apply(o,(0,L.buildSeries)(r,e.series,e.sharedData)),e.modifiers&&(a=t.chartModifiers).add.apply(a,(0,M.buildModifiers)(e.modifiers)),e.annotations&&(s=t.annotations).add.apply(s,(0,O.buildAnnotations)(e.annotations)),e.subCharts&&!t.isSubSurface)for(var l=0,u=e.subCharts;l<u.length;l++){var c=u[l],d=t.addSubChart(c.surface);configure2DSurface(c,d,r)}}(0,N.registerType)(E.EBaseType.ThemeProvider,B.EThemeProviderType.Light,function(){return new C.SciChartJSLightTheme},!0),(0,N.registerType)(E.EBaseType.ThemeProvider,B.EThemeProviderType.DarkV2,function(){return new P.SciChartJSDarkv2Theme},!0),(0,N.registerType)(E.EBaseType.ThemeProvider,B.EThemeProviderType.Dark,function(){return new b.SciChartJSDarkTheme},!0),(0,N.registerType)(E.EBaseType.ThemeProvider,B.EThemeProviderType.Navy,function(){return new S.SciChartJsNavyTheme},!0),(0,N.registerType)(E.EBaseType.LayoutManager,w.ELayoutManagerType.Default,function(e){return new u.LayoutManager(e)},!0),(0,N.registerType)(E.EBaseType.LayoutManager,w.ELayoutManagerType.CentralAxes,function(e){return new l.CentralAxesLayoutManager(e)},!0),(0,N.registerType)(E.EBaseType.LayoutStrategy,D.ELayoutStrategyType.BottomInner,function(e){return new o.BottomAlignedInnerAxisLayoutStrategy(e)},!0),(0,N.registerType)(E.EBaseType.LayoutStrategy,D.ELayoutStrategyType.BottomOuter,function(e){return new a.BottomAlignedOuterAxisLayoutStrategy},!0),(0,N.registerType)(E.EBaseType.LayoutStrategy,D.ELayoutStrategyType.BottomStacked,function(e){return new s.BottomAlignedOuterHorizontallyStackedAxisLayoutStrategy},!0),(0,N.registerType)(E.EBaseType.LayoutStrategy,D.ELayoutStrategyType.LeftInner,function(e){return new c.LeftAlignedInnerAxisLayoutStrategy(e)},!0),(0,N.registerType)(E.EBaseType.LayoutStrategy,D.ELayoutStrategyType.LeftOuter,function(e){return new d.LeftAlignedOuterAxisLayoutStrategy},!0),(0,N.registerType)(E.EBaseType.LayoutStrategy,D.ELayoutStrategyType.LeftStacked,function(e){return new p.LeftAlignedOuterVerticallyStackedAxisLayoutStrategy},!0),(0,N.registerType)(E.EBaseType.LayoutStrategy,D.ELayoutStrategyType.RightInner,function(e){return new h.RightAlignedInnerAxisLayoutStrategy(e)},!0),(0,N.registerType)(E.EBaseType.LayoutStrategy,D.ELayoutStrategyType.RightOuter,function(e){return new f.RightAlignedOuterAxisLayoutStrategy},!0),(0,N.registerType)(E.EBaseType.LayoutStrategy,D.ELayoutStrategyType.RightStacked,function(e){return new y.RightAlignedOuterVerticallyStackedAxisLayoutStrategy},!0),(0,N.registerType)(E.EBaseType.LayoutStrategy,D.ELayoutStrategyType.TopInner,function(e){return new g.TopAlignedInnerAxisLayoutStrategy(e)},!0),(0,N.registerType)(E.EBaseType.LayoutStrategy,D.ELayoutStrategyType.TopOuter,function(e){return new v.TopAlignedOuterAxisLayoutStrategy},!0),(0,N.registerType)(E.EBaseType.LayoutStrategy,D.ELayoutStrategyType.TopStacked,function(e){return new m.TopAlignedOuterHorizontallyStackedAxisLayoutStrategy},!0),(0,N.registerType)(E.EBaseType.Loader,"Default",function(){return new A.DefaultSciChartLoader},!0),t.build2DChart=function(e,t){return i(void 0,void 0,void 0,function(){var r,i,o,a,s;return n(this,function(n){switch(n.label){case 0:if("string"==typeof t&&(t=JSON.parse(t,k.chartReviver)),!(null==t?void 0:t.createSingle))return[3,2];return[4,R.SciChartSurface.createSingle(e,null==t?void 0:t.surface)];case 1:return r=n.sent(),[3,4];case 2:return[4,R.SciChartSurface.create(e,null==t?void 0:t.surface)];case 3:r=n.sent(),n.label=4;case 4:if(i=r.wasmContext,o=r.sciChartSurface,a=V.PerformanceDebugHelper.mark(V.EPerformanceMarkType.SetupStart,{contextId:o.id}),configure2DSurface(t,o,i),!t.onCreated)return[3,6];return"string"==typeof t.onCreated&&(o.onCreatedName=t.onCreated,t.onCreated=(0,N.getFunction)(E.EBaseType.OnCreateFunction,t.onCreated)),[4,t.onCreated(o)];case 5:n.sent(),n.label=6;case 6:return V.PerformanceDebugHelper.mark(V.EPerformanceMarkType.SetupEnd,{contextId:o.id,relatedId:null===(s=null==a?void 0:a.detail)||void 0===s?void 0:s.relatedId}),[2,{wasmContext:i,sciChartSurface:o}]}})})},t.buildPieChart=function(e,t){return i(void 0,void 0,void 0,function(){var r,i,o,a,s;return n(this,function(n){switch(n.label){case 0:return"string"==typeof t&&(t=JSON.parse(t,k.chartReviver)),[4,_.SciChartPieSurface.create(e,null==t?void 0:t.surface)];case 1:if(r=n.sent(),null==t?void 0:t.segments)for(i=0,o=null==t?void 0:t.segments;i<o.length;i++)a=o[i],s=new T.PieSegment(a),r.pieSegments.add(s);return t.onCreated&&("string"==typeof t.onCreated&&(r.onCreatedName=t.onCreated,t.onCreated=(0,N.getFunction)(E.EBaseType.OnCreateFunction,t.onCreated)),t.onCreated(r)),[2,r]}})})},t.configure2DSurface=configure2DSurface},64304:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},n=this&&this.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.chartBuilder=t.ensureRegistrations=t.configureChart=t.buildChart=t.chartReviver=void 0;var o=r(51134),a=r(36313),s=r(82042),l=r(42557),u=r(56896),c=r(50159),d=r(68097),p=r(80820),h=r(39627),f=r(53247);function chartReviver(e,t){switch(e){case"visibleRange":case"visibleRangeLimit":case"growBy":return new o.NumberRange(t.min,t.max);case"padding":return new a.Thickness(t.top,t.right,t.bottom,t.left);default:return null===t?NaN:t}}t.chartReviver=chartReviver,t.buildChart=function(e,t){return i(void 0,void 0,void 0,function(){return n(this,function(r){switch(r.label){case 0:if("string"==typeof t&&(t=JSON.parse(t,chartReviver)),t||(t={}),!("type"in t))return[3,6];if(t.type!==s.ESciChartSurfaceType.Default2D)return[3,2];return[4,(0,h.build2DChart)(e,t.options)];case 1:case 3:case 7:return[2,r.sent()];case 2:if(t.type!==s.ESciChartSurfaceType.Pie2D)return[3,4];return[4,(0,h.buildPieChart)(e,t.options)];case 4:throw Error("Surface type: ".concat(t.type," is not yet supported by the builder api"));case 5:return[3,8];case 6:return[4,(0,h.build2DChart)(e,t)];case 8:return[2]}})})},t.configureChart=function(e,t,r){if("string"==typeof r&&(r=JSON.parse(r,chartReviver)),r||(r={}),"type"in r){if(r.type===s.ESciChartSurfaceType.Default2D)(0,h.configure2DSurface)(r.options,e,t);else if(r.type===s.ESciChartSurfaceType.Pie2D);else throw Error("Surface type: ".concat(r.type," is not yet supported by the builder api"))}else(0,h.configure2DSurface)(r,e,t)},t.ensureRegistrations=function(){},t.chartBuilder={buildChart:t.buildChart,chartReviver:chartReviver,build2DChart:h.build2DChart,buildPieChart:h.buildPieChart,configureChart:t.configureChart,buildSeries:p.buildSeries,buildDataSeries:c.buildDataSeries,buildModifiers:d.buildModifiers,buildAxes:u.buildAxes,buildAnnotations:l.buildAnnotations,registerType:f.registerType,registerWasmType:f.registerWasmType,registerFunction:f.registerFunction}},53247:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubTypes=t.createType=t.getFunction=t.registerFunction=t.registerWasmType=t.registerType=void 0;var r=new Map;t.registerType=function(e,t,i,n){void 0===n&&(n=!1);var o=e+":"+t;if(r.has(o)&&!n)throw Error("Type "+o+" is already registered.  Call with overWrite: true if you intended to replace it.");r.set(o,{func:i})},t.registerWasmType=function(e,t,i,n){void 0===n&&(n=!1);var o=e+":"+t;if(r.has(o)&&!n)throw Error("Type "+o+" is already registered.  Call with overWrite: true if you intended to replace it.");r.set(o,{wasm:!0,func:i})},t.registerFunction=function(e,t,i,n){void 0===n&&(n=!1);var o=e+":"+t;if(r.has(o)&&!n)throw Error("Function "+o+" is already registered.  Call with overWrite: true if you intended to replace it.");r.set(o,{func:i})},t.getFunction=function(e,t){var i=e+":"+t,n=r.get(i);if(n)return n.func;throw Error("Nothing registered for "+i)},t.createType=function(e,t,i,n){var o=e+":"+t,a=r.get(o);if(a){var s=a.wasm,l=a.func;return s?l(i,n):l(n)}throw Error("Nothing registered for "+o)},t.getSubTypes=function(e){return Array.from(r.keys()).map(function(e){return e.split(":")}).filter(function(t){return t[0]===e}).map(function(e){return e[1]})}},28957:function(e,t,r){"use strict";var i,n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ChartModifierBase=t.EModifierType=void 0;var s=r(15492),l=r(6954),u=r(92200),c=r(61239),d=r(55356);(i=o=t.EModifierType||(t.EModifierType={})).Chart2DModifier="2D Chart Modifier",i.Chart3DModifier="3D Chart Modifier",i.MultiChart2DModifier="Multiple 2D Chart Modifier";var p=function(e){function ChartModifierBase(t){var r,i,n=this;return(n=e.call(this)||this).isEnabledProperty=!0,n.executeOnProperty=l.EExecuteOn.MouseLeftButton,n.activePointerEvents=new Map,n.id=null!==(r=null==t?void 0:t.id)&&void 0!==r?r:(0,u.generateGuid)(),n.executeOnProperty=null!==(i=null==t?void 0:t.executeOn)&&void 0!==i?i:n.executeOn,n}return a(ChartModifierBase,e),ChartModifierBase.prototype.applyTheme=function(e){},Object.defineProperty(ChartModifierBase.prototype,"parentSurface",{get:function(){return this.parentSurfaceProperty},enumerable:!1,configurable:!0}),Object.defineProperty(ChartModifierBase.prototype,"isEnabled",{get:function(){return this.isEnabledProperty},set:function(e){this.isEnabledProperty=e,this.notifyPropertyChanged(d.PROPERTY.IS_ENABLED)},enumerable:!1,configurable:!0}),Object.defineProperty(ChartModifierBase.prototype,"isAttached",{get:function(){return this.isAttachedProperty},enumerable:!1,configurable:!0}),Object.defineProperty(ChartModifierBase.prototype,"receiveHandledEvents",{get:function(){return this.receiveHandledEventsProperty},set:function(e){this.receiveHandledEventsProperty=e,this.notifyPropertyChanged(d.PROPERTY.RECEIVE_HANDLED_EVENTS)},enumerable:!1,configurable:!0}),Object.defineProperty(ChartModifierBase.prototype,"executeOn",{get:function(){return this.executeOnProperty},set:function(e){this.executeOnProperty=e,this.notifyPropertyChanged(d.PROPERTY.EXECUTE_ON)},enumerable:!1,configurable:!0}),Object.defineProperty(ChartModifierBase.prototype,"canReceiveMouseEvents",{get:function(){return this.isEnabled&&this.isAttached&&void 0!==this.parentSurfaceProperty},enumerable:!1,configurable:!0}),ChartModifierBase.prototype.onAttach=function(){},ChartModifierBase.prototype.onDetach=function(){},ChartModifierBase.prototype.onAttachSeries=function(e){},ChartModifierBase.prototype.onDetachSeries=function(e){},ChartModifierBase.prototype.onAttachSubSurface=function(e){},ChartModifierBase.prototype.onDetachSubSurface=function(e){},ChartModifierBase.prototype.onParentSurfaceRendered=function(){},ChartModifierBase.prototype.modifierMouseDown=function(e){this.executeOn===l.EExecuteOn.MouseMiddleButton&&e.nativeEvent.preventDefault(),("touch"===e.pointerType||"pen"===e.pointerType)&&this.activePointerEvents.set(e.pointerId,e)},ChartModifierBase.prototype.modifierMouseMove=function(e){this.updatePointerInfo(e)},ChartModifierBase.prototype.modifierMouseUp=function(e){("touch"===e.pointerType||"pen"===e.pointerType)&&this.activePointerEvents.delete(e.pointerId)},ChartModifierBase.prototype.modifierMouseWheel=function(e){},ChartModifierBase.prototype.modifierDoubleClick=function(e){},ChartModifierBase.prototype.modifierMouseEnter=function(e){},ChartModifierBase.prototype.modifierMouseLeave=function(e){this.activePointerEvents.delete(e.pointerId)},ChartModifierBase.prototype.modifierDrop=function(e){},ChartModifierBase.prototype.modifierPointerCancel=function(e){this.activePointerEvents.delete(e.pointerId)},ChartModifierBase.prototype.setParentSurface=function(e){if(e){if(e.surfaceType===c.ESurfaceType.SciChartSurfaceType&&this.modifierType===o.Chart3DModifier)throw Error("A 3D Chart Modifier cannot be added to a 2D SciChartSurface. Please check surfaceType and ModifierType properties for modifierType");if(e.surfaceType===c.ESurfaceType.SciChart3DSurfaceType&&this.modifierType===o.Chart2DModifier)throw Error("A 2D Chart Modifier cannot be added to a 3D SciChartSurface. Please check surfaceType and ModifierType properties for modifierType");this.parentSurfaceProperty=e}else this.parentSurfaceProperty=void 0;this.isAttachedProperty=void 0!==this.parentSurfaceProperty,this.notifyPropertyChanged(d.PROPERTY.PARENT_SURFACE)},ChartModifierBase.prototype.delete=function(){},ChartModifierBase.prototype.notifyPropertyChanged=function(e){this.invalidateParentCallback&&this.invalidateParentCallback()},ChartModifierBase.prototype.updatePointerInfo=function(e){var t;(0===this.activePointerEvents.size||this.activePointerEvents.keys().next().value===e.pointerId)&&(this.mousePoint=e.mousePoint),this.previousPoint=null===(t=this.activePointerEvents.get(e.pointerId))||void 0===t?void 0:t.mousePoint,this.activePointerEvents.has(e.pointerId)&&this.activePointerEvents.set(e.pointerId,e)},ChartModifierBase.prototype.getIsActionAllowed=function(e){return!0},ChartModifierBase}(s.DeletableEntity);t.ChartModifierBase=p},93551:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.scaleAxes=t.getActiveAxes=t.testIsOverAxes=t.ChartModifierBase2D=void 0;var o=r(24510),a=r(93343),s=r(87994),l=r(28957),u=r(55356),c=function(e){function ChartModifierBase2D(t){var r,i,n,a,l=this;return(l=e.call(this,t)||this).xyDirection=o.EXyDirection.XyDirection,l.changedPropertiesList=[],l.xAxisIdProperty=s.AxisCore.DEFAULT_AXIS_ID,l.yAxisIdProperty=s.AxisCore.DEFAULT_AXIS_ID,l.typeMap=new Map,l.xyDirection=null!==(r=null==t?void 0:t.xyDirection)&&void 0!==r?r:l.xyDirection,l.modifierGroup=null!==(i=null==t?void 0:t.modifierGroup)&&void 0!==i?i:l.modifierGroup,l.xAxisIdProperty=null!==(n=null==t?void 0:t.xAxisId)&&void 0!==n?n:l.xAxisIdProperty,l.yAxisIdProperty=null!==(a=null==t?void 0:t.yAxisId)&&void 0!==a?a:l.yAxisIdProperty,l}return n(ChartModifierBase2D,e),Object.defineProperty(ChartModifierBase2D.prototype,"modifierType",{get:function(){return l.EModifierType.Chart2DModifier},enumerable:!1,configurable:!0}),Object.defineProperty(ChartModifierBase2D.prototype,"xAxisId",{get:function(){return this.xAxisIdProperty},set:function(e){this.xAxisIdProperty=e,this.notifyPropertyChanged(u.PROPERTY.X_AXIS_ID)},enumerable:!1,configurable:!0}),Object.defineProperty(ChartModifierBase2D.prototype,"yAxisId",{get:function(){return this.yAxisIdProperty},set:function(e){this.yAxisIdProperty=e,this.notifyPropertyChanged(u.PROPERTY.Y_AXIS_ID)},enumerable:!1,configurable:!0}),ChartModifierBase2D.prototype.getAllSeries=function(){return this.parentSurface.renderableSeries.asArray()},ChartModifierBase2D.prototype.toJSON=function(){var e={id:this.id,modifierGroup:this.modifierGroup,executeOn:this.executeOn,xyDirection:this.xyDirection,xAxisId:this.xAxisId,yAxisId:this.yAxisId};return{type:this.type,options:e}},ChartModifierBase2D.prototype.testPropertyChanged=function(e){return this.changedPropertiesList.includes(e)},ChartModifierBase2D.prototype.notifyPropertyChanged=function(t){this.changedPropertiesList.includes(t)||this.changedPropertiesList.push(t),e.prototype.notifyPropertyChanged.call(this,t)},ChartModifierBase2D.prototype.growBy=function(e,t,r){var i=t.isHorizontalAxis,n=t.isAxisFlipped,o=t.viewRect,a=t.flippedCoordinates,s=this.parentSurface.seriesViewRect,l=i?o.width:o.height;t.isStackedAxis&&this.parentSurface&&(l=i?s.width:s.height);var u=i?e.x:e.y,c=u/l*r,d=(1-u/l)*r;n&&!a||!n&&a?t.zoomBy(d,c):t.zoomBy(c,d)},ChartModifierBase2D}(l.ChartModifierBase);t.ChartModifierBase2D=c,t.testIsOverAxes=function(e,t){var r=!1;return e.forEach(function(e){if(e.viewRect){var i=e.viewRect,n=i.left,o=i.right,s=i.top,l=i.bottom;(0,a.testIsInBounds)(t.x,t.y,n,l,o,s)&&(r=!0)}}),r},t.getActiveAxes=function(e,t){var r=[];return e.forEach(function(e){if(e.viewRect){var i=e.viewRect,n=i.left,o=i.right,s=i.top,l=i.bottom;(0,a.testIsInBounds)(t.x,t.y,n,l,o,s)&&r.push(e)}}),r},t.scaleAxes=function(e,t,r,i){e.forEach(function(e,n){var o=t[n];e.scale(o,r,i)})}},25:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.adjustTooltipPosition=t.calcTooltipSize=t.CursorModifier=void 0;var o=r(53247),a=r(94694),s=r(51894),l=r(81751),u=r(55617),c=r(48053),d=r(79361),p=r(3351),h=r(22148),f=r(60894),y=r(67356),g=r(61239),v=r(93551),m=r(55356),S=function(e){function CursorModifier(t){var r,i,n,a,c,d,p,h,f,y,v,m,S,b,P,C,x,A,T,_,R,E,w,D=this;return(D=e.call(this,t)||this).type=l.EChart2DModifierType.Cursor,D.tooltipSvgTemplate=defaultTooltipTemplate,D.crosshairStrokeThickness=2,D.crosshairStrokeDashArray=[],D.tooltipContainerBackground="#228B22",D.tooltipTextStroke="#fff",D.showTooltip=!1,D.axisLabelStroke="#fff",D.axisLabelFill="#228B22",D.xAxisLabelStroke=void 0,D.xAxisLabelFill=void 0,D.yAxisLabelStroke=void 0,D.yAxisLabelFill=void 0,D.tooltipLegendOffsetX=0,D.tooltipLegendOffsetY=0,D.hitTestRadius=0,D.mousePosition=u.EMousePosition.OutOfCanvas,D.crosshairStrokeProperty=g.SciChartSurfaceBase.DEFAULT_THEME.cursorLineBrush,D.tooltipShadowProperty=g.SciChartSurfaceBase.DEFAULT_THEME.shadowEffectColor,D.includedSeriesMap=new Map,D.showXLineProperty=!0,D.showYLineProperty=!0,D.showAxisLabelsProperty=!0,(null==t?void 0:t.tooltipSvgTemplate)&&"string"==typeof t.tooltipSvgTemplate&&(D.typeMap.set("tooltipSvgTemplate",t.tooltipSvgTemplate),t.tooltipSvgTemplate=(0,o.getFunction)(s.EBaseType.OptionFunction,t.tooltipSvgTemplate)),D.tooltipSvgTemplate=null!==(r=null==t?void 0:t.tooltipSvgTemplate)&&void 0!==r?r:D.tooltipSvgTemplate,D.crosshairStrokeThickness=null!==(i=null==t?void 0:t.crosshairStrokeThickness)&&void 0!==i?i:D.crosshairStrokeThickness,D.crosshairStrokeDashArray=null!==(n=null==t?void 0:t.crosshairStrokeDashArray)&&void 0!==n?n:D.crosshairStrokeDashArray,D.crosshairStroke=null!==(a=null==t?void 0:t.crosshairStroke)&&void 0!==a?a:D.crosshairStroke,D.tooltipContainerBackground=null!==(c=null==t?void 0:t.tooltipContainerBackground)&&void 0!==c?c:D.tooltipContainerBackground,D.tooltipTextStroke=null!==(d=null==t?void 0:t.tooltipTextStroke)&&void 0!==d?d:D.tooltipTextStroke,D.tooltipShadow=null!==(p=null==t?void 0:t.tooltipShadow)&&void 0!==p?p:D.tooltipShadowProperty,D.showTooltip=null!==(h=null==t?void 0:t.showTooltip)&&void 0!==h?h:D.showTooltip,D.showAxisLabels=null!==(f=null==t?void 0:t.showAxisLabels)&&void 0!==f?f:D.showAxisLabels,D.axisLabelFill=null!==(y=null==t?void 0:t.axisLabelFill)&&void 0!==y?y:D.axisLabelFill,D.axisLabelStroke=null!==(v=null==t?void 0:t.axisLabelStroke)&&void 0!==v?v:D.axisLabelStroke,D.xAxisLabelStroke=null!==(m=null==t?void 0:t.xAxisLabelStroke)&&void 0!==m?m:D.xAxisLabelStroke,D.xAxisLabelFill=null!==(S=null==t?void 0:t.xAxisLabelFill)&&void 0!==S?S:D.xAxisLabelFill,D.yAxisLabelStroke=null!==(b=null==t?void 0:t.yAxisLabelStroke)&&void 0!==b?b:D.yAxisLabelStroke,D.yAxisLabelFill=null!==(P=null==t?void 0:t.yAxisLabelFill)&&void 0!==P?P:D.yAxisLabelFill,D.placementDivIdProperty=null!==(C=null==t?void 0:t.placementDivId)&&void 0!==C?C:D.placementDivIdProperty,(null==t?void 0:t.tooltipLegendTemplate)&&"string"==typeof t.tooltipLegendTemplate&&(D.typeMap.set("tooltipLegendTemplate",t.tooltipLegendTemplate),t.tooltipLegendTemplate=(0,o.getFunction)(s.EBaseType.OptionFunction,t.tooltipLegendTemplate)),D.tooltipLegendTemplate=null!==(x=null==t?void 0:t.tooltipLegendTemplate)&&void 0!==x?x:D.tooltipLegendTemplate,D.tooltipLegendOffsetX=null!==(A=null==t?void 0:t.tooltipLegendOffsetX)&&void 0!==A?A:D.tooltipLegendOffsetX,D.tooltipLegendOffsetY=null!==(T=null==t?void 0:t.tooltipLegendOffsetY)&&void 0!==T?T:D.tooltipLegendOffsetY,(null==t?void 0:t.tooltipDataTemplate)&&"string"==typeof t.tooltipDataTemplate&&(D.typeMap.set("tooltipDataTemplate",t.tooltipDataTemplate),t.tooltipDataTemplate=(0,o.getFunction)(s.EBaseType.OptionFunction,t.tooltipDataTemplate)),D.tooltipDataTemplateProperty=null!==(_=null==t?void 0:t.tooltipDataTemplate)&&void 0!==_?_:D.tooltipDataTemplateProperty,D.showXLine=null!==(R=null==t?void 0:t.showXLine)&&void 0!==R?R:D.showXLine,D.showYLine=null!==(E=null==t?void 0:t.showYLine)&&void 0!==E?E:D.showYLine,D.hitTestRadius=null!==(w=null==t?void 0:t.hitTestRadius)&&void 0!==w?w:D.hitTestRadius,D}return n(CursorModifier,e),CursorModifier.prototype.applyTheme=function(e){this.testPropertyChanged(m.PROPERTY.CROSSHAIR_STROKE)||(this.crosshairStroke=e.cursorLineBrush),this.testPropertyChanged(m.PROPERTY.TOOLTIP_SHADOW)||(this.tooltipShadow=e.shadowEffectColor)},CursorModifier.prototype.onAttach=function(){e.prototype.onAttach.call(this);var t,r=this.xAxisLabelFill?this.xAxisLabelFill:this.axisLabelFill,i=this.yAxisLabelFill?this.yAxisLabelFill:this.axisLabelFill,n=this.xAxisLabelStroke?this.xAxisLabelStroke:this.axisLabelStroke,o=this.yAxisLabelStroke?this.yAxisLabelStroke:this.axisLabelStroke;this.showXLine&&(this.xLineAnnotation=this.newLineAnnotation(r,n),this.parentSurface.modifierAnnotations.add(this.xLineAnnotation)),this.showYLine&&(this.yLineAnnotation=this.newLineAnnotation(i,o),this.parentSurface.modifierAnnotations.add(this.yLineAnnotation)),this.tooltipAnnotation=new f.CursorTooltipSvgAnnotation({cursorModifier:this,xCoordinateMode:h.ECoordinateMode.Pixel,yCoordinateMode:h.ECoordinateMode.Pixel,tooltipSvgTemplate:null!==(t=this.tooltipSvgTemplate)&&void 0!==t?t:defaultTooltipTemplate,containerBackground:this.tooltipContainerBackground,textStroke:this.tooltipTextStroke,tooltipLegendTemplate:this.tooltipLegendTemplate,tooltipLegendOffsetX:this.tooltipLegendOffsetX,tooltipLegendOffsetY:this.tooltipLegendOffsetY,xAxisId:this.xAxisId,yAxisId:this.yAxisId,placementDivId:this.placementDivId}),this.parentSurface.modifierAnnotations.add(this.tooltipAnnotation)},CursorModifier.prototype.onDetach=function(){e.prototype.onDetach.call(this),this.xLineAnnotation&&this.parentSurface.modifierAnnotations.remove(this.xLineAnnotation,!0),this.yLineAnnotation&&this.parentSurface.modifierAnnotations.remove(this.yLineAnnotation,!0),this.parentSurface.modifierAnnotations.remove(this.tooltipAnnotation,!0)},CursorModifier.prototype.onAttachSeries=function(e){this.tooltipAnnotation.seriesInfos=this.getSeriesInfos()},CursorModifier.prototype.onDetachSeries=function(e){this.tooltipAnnotation.seriesInfos=this.getSeriesInfos()},CursorModifier.prototype.modifierMouseMove=function(t){(!this.parentSurface.isSubSurface||t.isActiveSubChartEvent)&&(this.activePointerEvents.set(t.pointerId,t),e.prototype.modifierMouseMove.call(this,t),this.mousePoint?(0,d.translateFromCanvasToSeriesViewRect)(this.mousePoint,this.parentSurface.seriesViewRect)?this.mousePosition=u.EMousePosition.SeriesArea:this.mousePosition=u.EMousePosition.AxisArea:this.mousePosition=u.EMousePosition.OutOfCanvas,this.getIsActionAllowed(t)&&this.update())},CursorModifier.prototype.modifierMouseLeave=function(t){e.prototype.modifierMouseLeave.call(this,t),this.mousePosition=u.EMousePosition.OutOfCanvas,this.update()},CursorModifier.prototype.onParentSurfaceRendered=function(){this.update()},Object.defineProperty(CursorModifier.prototype,"crosshairStroke",{get:function(){return this.crosshairStrokeProperty},set:function(e){this.crosshairStrokeProperty!==e&&(this.crosshairStrokeProperty=e,this.notifyPropertyChanged(m.PROPERTY.CROSSHAIR_STROKE))},enumerable:!1,configurable:!0}),Object.defineProperty(CursorModifier.prototype,"tooltipShadow",{get:function(){return this.tooltipShadowProperty},set:function(e){this.tooltipShadowProperty!==e&&(this.tooltipShadowProperty=e,this.notifyPropertyChanged(m.PROPERTY.TOOLTIP_SHADOW))},enumerable:!1,configurable:!0}),Object.defineProperty(CursorModifier.prototype,"showXLine",{get:function(){return this.showXLineProperty},set:function(e){if(this.showXLineProperty!==e){if(this.showXLineProperty=e,this.showXLineProperty&&!this.xLineAnnotation){var t=this.xAxisLabelFill?this.xAxisLabelFill:this.axisLabelFill,r=this.xAxisLabelStroke?this.xAxisLabelStroke:this.axisLabelStroke;this.xLineAnnotation=this.newLineAnnotation(t,r),this.parentSurface.modifierAnnotations.add(this.xLineAnnotation)}else!this.showXLineProperty&&this.xLineAnnotation&&(this.parentSurface.modifierAnnotations.remove(this.xLineAnnotation),this.xLineAnnotation=(0,a.deleteSafe)(this.xLineAnnotation));this.notifyPropertyChanged(m.PROPERTY.X_LINE)}},enumerable:!1,configurable:!0}),Object.defineProperty(CursorModifier.prototype,"showYLine",{get:function(){return this.showYLineProperty},set:function(e){if(this.showYLineProperty!==e){if(this.showYLineProperty=e,this.showYLineProperty&&!this.yLineAnnotation){var t=this.yAxisLabelFill?this.yAxisLabelFill:this.axisLabelFill,r=this.yAxisLabelStroke?this.yAxisLabelStroke:this.axisLabelStroke;this.yLineAnnotation=this.newLineAnnotation(t,r),this.parentSurface.modifierAnnotations.add(this.yLineAnnotation)}else!this.showYLineProperty&&this.yLineAnnotation&&(this.parentSurface.modifierAnnotations.remove(this.yLineAnnotation),this.yLineAnnotation=(0,a.deleteSafe)(this.yLineAnnotation));this.notifyPropertyChanged(m.PROPERTY.Y_LINE)}},enumerable:!1,configurable:!0}),Object.defineProperty(CursorModifier.prototype,"showAxisLabels",{get:function(){return this.showAxisLabelsProperty},set:function(e){this.showAxisLabelsProperty!==e&&(this.showAxisLabelsProperty=e,this.xLineAnnotation&&(this.xLineAnnotation.showLabel=this.showAxisLabelsProperty),this.yLineAnnotation&&(this.yLineAnnotation.showLabel=this.showAxisLabelsProperty),this.notifyPropertyChanged(m.PROPERTY.AXIS_LABELS))},enumerable:!1,configurable:!0}),Object.defineProperty(CursorModifier.prototype,"placementDivId",{get:function(){return this.placementDivIdProperty},set:function(e){this.placementDivIdProperty!==e&&(this.placementDivIdProperty=e,this.notifyPropertyChanged(m.PROPERTY.PLACEMENT_DIV_ID))},enumerable:!1,configurable:!0}),CursorModifier.prototype.includeSeries=function(e,t){this.includedSeriesMap.set(e,t),this.tooltipAnnotation.seriesInfos=this.getSeriesInfos()},CursorModifier.prototype.getIncludedRenderableSeries=function(){var e=this,t=this.parentSurface.renderableSeries.asArray().filter(function(t){return!t.isStacked&&t.isVisible&&e.testIsIncludedSeries(t)});return this.parentSurface.renderableSeries.asArray().filter(function(e){return e.isStacked}).forEach(function(r){r.getVisibleSeries().forEach(function(r){e.testIsIncludedSeries(r)&&t.push(r)})}),t},Object.defineProperty(CursorModifier.prototype,"tooltipDataTemplate",{get:function(){return this.tooltipDataTemplateProperty},set:function(e){this.tooltipDataTemplateProperty=e,this.notifyPropertyChanged(m.PROPERTY.TOOLTIP_DATA_TEMPLATE)},enumerable:!1,configurable:!0}),CursorModifier.prototype.hitTestRenderableSeries=function(e,t){return t?this.hitTestRadius<=0?e.hitTestProvider.hitTestXSlice(t.x,t.y):e.hitTestProvider.hitTestDataPoint(t.x,t.y,this.hitTestRadius):void 0},CursorModifier.prototype.getMousePosition=function(){return this.mousePosition},CursorModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={axisLabelFill:this.axisLabelFill,axisLabelStroke:this.axisLabelStroke,xAxisLabelFill:this.xAxisLabelFill,xAxisLabelStroke:this.xAxisLabelStroke,yAxisLabelFill:this.yAxisLabelFill,yAxisLabelStroke:this.yAxisLabelStroke,crosshairStroke:this.crosshairStroke,crosshairStrokeDashArray:this.crosshairStrokeDashArray,crosshairStrokeThickness:this.crosshairStrokeThickness,hitTestRadius:this.hitTestRadius,placementDivId:this.placementDivId,showAxisLabels:this.showAxisLabels,showTooltip:this.showTooltip,showXLine:this.showXLine,showYLine:this.showYLine,tooltipContainerBackground:this.tooltipContainerBackground,tooltipDataTemplate:this.typeMap.get("tooltipDataTemplate"),tooltipLegendOffsetX:this.tooltipLegendOffsetX,tooltipLegendOffsetY:this.tooltipLegendOffsetY,tooltipLegendTemplate:this.typeMap.get("tooltipLegendTemplate"),tooltipSvgTemplate:this.typeMap.get("tooltipSvgTemplate"),tooltipTextStroke:this.tooltipTextStroke,tooltipShadow:this.tooltipShadow};return Object.assign(t.options,r),t},CursorModifier.prototype.notifyPropertyChanged=function(t){e.prototype.notifyPropertyChanged.call(this,t),t===m.PROPERTY.X_AXIS_ID&&(this.tooltipAnnotation.xAxisId=this.xAxisId,this.xLineAnnotation&&(this.xLineAnnotation.xAxisId=this.xAxisId),this.yLineAnnotation&&(this.yLineAnnotation.xAxisId=this.xAxisId)),t===m.PROPERTY.Y_AXIS_ID&&(this.tooltipAnnotation.yAxisId=this.yAxisId,this.xLineAnnotation&&(this.xLineAnnotation.yAxisId=this.yAxisId),this.yLineAnnotation&&(this.yLineAnnotation.yAxisId=this.yAxisId))},CursorModifier.prototype.getSeriesInfos=function(){var e=this;return this.getIncludedRenderableSeries().map(function(t){var r=e.hitTestRenderableSeries(t,e.mousePoint);if(r)return t.getSeriesInfo(r)}).filter(function(e){return void 0!==e})},CursorModifier.prototype.update=function(){if(this.mousePosition!==u.EMousePosition.SeriesArea){this.xLineAnnotation&&(this.xLineAnnotation.isHidden=!0),this.yLineAnnotation&&(this.yLineAnnotation.isHidden=!0),this.tooltipAnnotation.isHidden=!0,this.tooltipAnnotation.seriesInfos=[],this.placementDivId&&this.tooltipAnnotation.delete();return}var e=(0,d.translateFromCanvasToSeriesViewRect)(this.mousePoint,this.parentSurface.seriesViewRect);if(this.xLineAnnotation&&(this.xLineAnnotation.isHidden=!1),this.yLineAnnotation&&(this.yLineAnnotation.isHidden=!1),this.showTooltip&&(this.tooltipAnnotation.isHidden=!1),e){var t=(0,d.translateToNotScaled)(e.x),r=(0,d.translateToNotScaled)(e.y);this.xLineAnnotation&&(this.xLineAnnotation.y1=0),this.yLineAnnotation&&(this.yLineAnnotation.x1=0),this.isVerticalChart()?(this.xLineAnnotation&&(this.xLineAnnotation.y2=(0,d.translateToNotScaled)(this.parentSurface.seriesViewRect.right),this.xLineAnnotation.x1=r,this.xLineAnnotation.x2=r),this.yLineAnnotation&&(this.yLineAnnotation.x2=(0,d.translateToNotScaled)(this.parentSurface.seriesViewRect.bottom),this.yLineAnnotation.y1=t,this.yLineAnnotation.y2=t)):(this.xLineAnnotation&&(this.xLineAnnotation.y2=(0,d.translateToNotScaled)(this.parentSurface.seriesViewRect.bottom),this.xLineAnnotation.x1=t,this.xLineAnnotation.x2=t),this.yLineAnnotation&&(this.yLineAnnotation.x2=(0,d.translateToNotScaled)(this.parentSurface.seriesViewRect.right),this.yLineAnnotation.y1=r,this.yLineAnnotation.y2=r)),this.showTooltip&&(this.tooltipAnnotation.x1=t,this.tooltipAnnotation.y1=r),(this.showTooltip||this.tooltipLegendTemplate)&&(this.tooltipAnnotation.seriesInfos=this.getSeriesInfos())}},CursorModifier.prototype.newLineAnnotation=function(e,t){return new y.LineAnnotation({xCoordinateMode:h.ECoordinateMode.Pixel,yCoordinateMode:h.ECoordinateMode.Pixel,strokeThickness:this.crosshairStrokeThickness,strokeDashArray:this.crosshairStrokeDashArray,stroke:this.crosshairStroke,isHidden:!0,showLabel:this.showAxisLabels,axisLabelFill:e,axisLabelStroke:t,xAxisId:this.xAxisId,yAxisId:this.yAxisId})},CursorModifier.prototype.testIsIncludedSeries=function(e){return!1!==this.includedSeriesMap.get(e)},CursorModifier.prototype.isVerticalChart=function(){var e,t,r=(null===(e=this.parentSurface)||void 0===e?void 0:e.getXAxisById(this.xAxisId))||(null===(t=this.parentSurface)||void 0===t?void 0:t.xAxes.get(0));return!!r&&r.isVerticalChart},CursorModifier}(v.ChartModifierBase2D);t.CursorModifier=S;var defaultTooltipDataTemplate=function(e,t){var r=[];return t&&r.push(t),e.forEach(function(t,i){t.isHit&&(t.seriesName?r.push(t.seriesName):e.length>1&&r.push("Series #".concat(i+1)),t.dataSeriesType===p.EDataSeriesType.Ohlc?(r.push("X: ".concat(t.formattedXValue)),r.push("Open: ".concat(t.formattedOpenValue)),r.push("Highest: ".concat(t.formattedHighValue)),r.push("Lowest: ".concat(t.formattedLowValue)),r.push("Close: ".concat(t.formattedCloseValue))):t.dataSeriesType===p.EDataSeriesType.Xyy?(r.push("X: ".concat(t.formattedXValue)),r.push("Y: ".concat(t.formattedYValue)),r.push("Y1: ".concat(t.formattedY1Value))):t.dataSeriesType===p.EDataSeriesType.Xyz?(r.push("X: ".concat(t.formattedXValue)),r.push("Y: ".concat(t.formattedYValue)),r.push("Z: ".concat(t.formattedZValue))):t.dataSeriesType===p.EDataSeriesType.HeatmapUniform?(r.push("X: ".concat(t.formattedXValue)),r.push("Y: ".concat(t.formattedYValue)),null!==t.zValue&&void 0!==t.zValue&&r.push("Z: ".concat(t.formattedZValue))):r.push("X: ".concat(t.formattedXValue," Y: ").concat(t.formattedYValue)))}),r},defaultTooltipTemplate=function(e,r){var i,n="id_".concat(Date.now()),o=(null!==(i=r.cursorModifier.tooltipDataTemplate)&&void 0!==i?i:defaultTooltipDataTemplate)(e,r.title);if(0===o.length)return"<svg></svg>";var a=(0,t.calcTooltipSize)(o,13),s=a.width,l=a.height;(0,t.adjustTooltipPosition)(s,l,r);var u="";o.forEach(function(e,t){u+='<tspan x="8" dy="1.2em">'.concat(e,"</tspan>")});var p="95%";r.yCoordShift<0&&l>(0,d.translateToNotScaled)(r.parentSurface.seriesViewRect.height)-r.y1&&(p=(l-5).toFixed(0));var h=r.containerBackground,f=r.textStroke,y=r.cursorModifier.tooltipShadow,g='<feGaussianBlur result="blurOut" in="offOut" stdDeviation="3" />';if(void 0!==y){var v=(0,c.parseColorToTArgb)(y);g='<feColorMatrix result="matrixOut" in="offOut" type="matrix"\n        values="0 0 0 0 '.concat(v.red/255,"\n                0 0 0 0 ").concat(v.green/255,"\n                0 0 0 0 ").concat(v.blue/255,"\n                0 0 0 ").concat(v.opacity/255,' 0" />\n        <feGaussianBlur result="blurOut" in="matrixOut" stdDeviation="3" />')}return'<svg class="scichart__cursor-tooltip" width="'.concat(s,'" height="').concat(l,'">\n        <defs>\n            <filter id="').concat(n,'" x="0" y="0" width="200%" height="200%">\n                <feOffset result="offOut" in="SourceAlpha" dx="3" dy="3" />\n                ').concat(g,'\n                <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />\n            </filter>\n        </defs>\n        <rect rx="4" ry="4" width="95%" height="').concat(p,'" fill="').concat(h,'" filter="url(#').concat(n,')" />\n        <svg width="100%">\n            <text x="8" y="3" font-size="13" font-family="Verdana" dy="0" fill="').concat(f,'">').concat(u,"</text>\n        </svg>\n    </svg>")};t.calcTooltipSize=function(e,t){return void 0===t&&(t=13),{width:8*e.reduce(function(e,t){return t.length>e?t.length:e},0)+20,height:1.2*t*e.length+16}},t.adjustTooltipPosition=function(e,t,r){var i=r.parentSurface.seriesViewRect,n=r.x1,o=r.y1,a=(0,d.translateToNotScaled)(i.width)-n<e?-e:5,s=(0,d.translateToNotScaled)(i.height)-o<t?-t:5;r.xCoordShift=a,r.yCoordShift=s}},85951:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CustomChartModifier2D=void 0;var o=r(81751),a=function(e){function CustomChartModifier2D(t){var r=e.call(this,t)||this;return r.type=o.EChart2DModifierType.Custom,r}return n(CustomChartModifier2D,e),CustomChartModifier2D}(r(93551).ChartModifierBase2D);t.CustomChartModifier2D=a},45567:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataPointInfo=void 0;var r=function(){function DataPointInfo(e,t,r){this.renderableSeriesProperty=e,this.indexProperty=r,this.metadataProperty=t}return Object.defineProperty(DataPointInfo.prototype,"metadata",{get:function(){return this.metadataProperty},set:function(e){this.metadataProperty=e},enumerable:!1,configurable:!0}),Object.defineProperty(DataPointInfo.prototype,"index",{get:function(){return this.indexProperty},enumerable:!1,configurable:!0}),Object.defineProperty(DataPointInfo.prototype,"xValue",{get:function(){return this.dataSeries.getNativeXValues().get(this.index)},enumerable:!1,configurable:!0}),Object.defineProperty(DataPointInfo.prototype,"yValue",{get:function(){return this.dataSeries.getNativeYValues().get(this.index)},enumerable:!1,configurable:!0}),Object.defineProperty(DataPointInfo.prototype,"renderableSeries",{get:function(){return this.renderableSeriesProperty},enumerable:!1,configurable:!0}),Object.defineProperty(DataPointInfo.prototype,"dataSeries",{get:function(){return this.renderableSeries.dataSeries},enumerable:!1,configurable:!0}),Object.defineProperty(DataPointInfo.prototype,"seriesName",{get:function(){return this.dataSeries.dataSeriesName},enumerable:!1,configurable:!0}),DataPointInfo}();t.DataPointInfo=r},76448:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataPointSelectionChangedArgs=void 0,t.DataPointSelectionChangedArgs=function(e,t){this.source=e,this.selectedDataPoints=t}},52521:function(e,t,r){"use strict";var i,n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.DataPointSelectionModifier=t.ESelectionMode=void 0;var s=r(53247),l=r(94694),u=r(35855),c=r(47494),d=r(51894),p=r(81751),h=r(93343),f=r(79361),y=r(3351),g=r(85230),v=r(23089),m=r(1590),S=r(93551),b=r(55356),P=r(45567),C=r(76448),x=r(36071);(i=o=t.ESelectionMode||(t.ESelectionMode={})).Union="Union",i.Inverse="Inverse",i.Replace="Replace";var A=function(e){function DataPointSelectionModifier(t){var r,i,n,o=this;return(o=e.call(this,t)||this).type=p.EChart2DModifierType.DataPointSelection,o.selectionChanged=new u.EventHandler,o.includedSeriesMap=new Map,o.selectedDataPointsMap=new Map,o.selectionHasChanged=!1,o.allowClickSelect=null===(r=null==t?void 0:t.allowClickSelect)||void 0===r||r,o.allowDragSelect=null===(i=null==t?void 0:t.allowDragSelect)||void 0===i||i,(null==t?void 0:t.selectionStroke)&&(o.selectionStroke=t.selectionStroke),(null==t?void 0:t.selectionFill)&&(o.selectionFill=null==t?void 0:t.selectionFill),o.selectionStrokeThicknessProperty=null!==(n=null==t?void 0:t.selectionStrokeThickness)&&void 0!==n?n:1,(null==t?void 0:t.onSelectionChanged)&&("string"==typeof t.onSelectionChanged?(o.typeMap.set("onSelectionChanged",t.onSelectionChanged),o.selectionChanged.subscribe((0,s.getFunction)(d.EBaseType.OptionFunction,t.onSelectionChanged))):o.selectionChanged.subscribe(t.onSelectionChanged)),(null==t?void 0:t.getSelectionMode)&&("string"==typeof t.getSelectionMode?(o.typeMap.set("getSelectionMode",t.getSelectionMode),o.getSelectionMode=(0,s.getFunction)(d.EBaseType.OptionFunction,t.getSelectionMode)):o.getSelectionMode=t.getSelectionMode),o}return a(DataPointSelectionModifier,e),DataPointSelectionModifier.prototype.applyTheme=function(e){this.testPropertyChanged(b.PROPERTY.SELECTION_FILL)||(this.selectionFill=e.rubberBandFillBrush),this.testPropertyChanged(b.PROPERTY.SELECTION_STROKE)||(this.selectionStroke=e.rubberBandStrokeBrush)},DataPointSelectionModifier.prototype.onAttach=function(){var t,r,i=this;e.prototype.onAttach.call(this),this.selectionRect=new m.RubberBandSvgRect(null===(t=this.parentSurface)||void 0===t?void 0:t.domSvgContainer,this.selectionFill,this.selectionStroke,this.selectionStrokeThickness),this.clearSelectedDataPoints(),null===(r=this.getAllSeries())||void 0===r||r.forEach(function(e){return i.onAttachSeries(e)})},DataPointSelectionModifier.prototype.onDetach=function(){var t,r=this;e.prototype.onDetach.call(this),this.selectionRect=(0,l.deleteSafe)(this.selectionRect),this.clearSelectedDataPoints(),null===(t=this.getAllSeries())||void 0===t||t.forEach(function(e){return r.onDetachSeries(e)})},Object.defineProperty(DataPointSelectionModifier.prototype,"selectedDataPoints",{get:function(){return Array.from(this.selectedDataPointsMap.values())},enumerable:!1,configurable:!0}),DataPointSelectionModifier.prototype.onAttachSeries=function(t){if(e.prototype.onAttachSeries.call(this,t),t.dataSeries&&t.dataSeries.type!==y.EDataSeriesType.HeatmapUniform){var r=t.dataSeries;r.hasMetadataGenerator()||r.setMetadataGenerator(new g.TemplateMetadataGenerator({isSelected:!1}));for(var i=0;i<r.getMetadataLength();i++){var n=r.getMetadataAt(i);if(null==n?void 0:n.isSelected){var o=new P.DataPointInfo(t,n,i);this.addSelectedDataPoint(t,i,o)}}this.raiseSelectionChanged(!1)}},DataPointSelectionModifier.prototype.onDetachSeries=function(t){e.prototype.onDetachSeries.call(this,t),t.dataSeries&&(this.removeSelectedDataPointsForSeries(t),this.raiseSelectionChanged(!1))},DataPointSelectionModifier.prototype.modifierMouseDown=function(t){if(e.prototype.modifierMouseDown.call(this,t),this.executeOn===t.button){if(!this.isAttached)throw Error("Should not call DataPointSelectionModifier.modifierMouseDown if not attached");var r=(0,f.translateFromCanvasToSeriesViewRect)(t.mousePoint,this.parentSurface.seriesViewRect);r&&(this.startPoint=r,this.isClicked=!0,t.handled=!0)}},DataPointSelectionModifier.prototype.modifierMouseMove=function(t){e.prototype.modifierMouseMove.call(this,t);var r=this.parentSurface.seriesViewRect;if(this.isClicked){this.endPoint=(0,f.translateFromCanvasToSeriesViewRect)(c.Rect.clipPointToRect(t.mousePoint,r),r);var i=(0,x.getRubberBandRect)(this.startPoint,this.endPoint,this.xyDirection,this.parentSurface.seriesViewRect),n=i.x,o=i.right,a=i.y,s=i.bottom;this.selectionRect.isHidden=!this.allowDragSelect,this.selectionRect.x1=(0,f.translateToNotScaled)(n),this.selectionRect.x2=(0,f.translateToNotScaled)(o),this.selectionRect.y1=(0,f.translateToNotScaled)(a),this.selectionRect.y2=(0,f.translateToNotScaled)(s)}},DataPointSelectionModifier.prototype.modifierMouseUp=function(t){if(e.prototype.modifierMouseUp.call(this,t),this.executeOn===t.button){if(!this.isAttached)throw Error("Should not call DataPointSelectionModifier.modifierMouseUp if not attached");if(this.isClicked){var r=this.parentSurface.seriesViewRect;this.endPoint=(0,f.translateFromCanvasToSeriesViewRect)(c.Rect.clipPointToRect(t.mousePoint,r),r);var i=(0,x.getRubberBandRect)(this.startPoint,this.endPoint,this.xyDirection,this.parentSurface.seriesViewRect),n=i.width>=3&&i.height>=3&&this.allowDragSelect,o=this.getSelectionMode(t,n);n&&this.allowDragSelect?this.selectManyPoints(i,o):this.allowClickSelect&&this.selectSinglePoint(t.mousePoint,o),this.isClicked=!1,this.selectionRect.isHidden=!0}}},Object.defineProperty(DataPointSelectionModifier.prototype,"selectionStrokeThickness",{get:function(){return this.selectionStrokeThicknessProperty},set:function(e){this.selectionStrokeThicknessProperty=e,this.notifyPropertyChanged(b.PROPERTY.SELECTION_STROKE_THICKNESS)},enumerable:!1,configurable:!0}),Object.defineProperty(DataPointSelectionModifier.prototype,"selectionStroke",{get:function(){return this.selectionStrokeProperty},set:function(e){this.selectionStrokeProperty=e,this.notifyPropertyChanged(b.PROPERTY.SELECTION_STROKE)},enumerable:!1,configurable:!0}),Object.defineProperty(DataPointSelectionModifier.prototype,"selectionFill",{get:function(){return this.selectionFillProperty},set:function(e){this.selectionFillProperty=e,this.notifyPropertyChanged(b.PROPERTY.SELECTION_FILL)},enumerable:!1,configurable:!0}),DataPointSelectionModifier.prototype.getIncludedRenderableSeries=function(){var e=this;return this.getAllSeries().filter(function(t){return!1!==e.includedSeriesMap.get(t)})},DataPointSelectionModifier.prototype.includeSeries=function(e,t){t||this.includedSeriesMap.set(e,t),t&&this.includedSeriesMap.delete(e)},Object.defineProperty(DataPointSelectionModifier.prototype,"includedSeries",{get:function(){return this.includedSeriesMap},enumerable:!1,configurable:!0}),DataPointSelectionModifier.prototype.getSelectionMode=function(e,t){return e.ctrlKey?o.Union:e.shiftKey?o.Inverse:o.Replace},DataPointSelectionModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={allowClickSelect:this.allowClickSelect,allowDragSelect:this.allowDragSelect,getSelectionMode:this.typeMap.get("getSelectionMode"),onSelectionChanged:this.typeMap.get("onSelectionChanged"),selectionFill:this.selectionFill,selectionStroke:this.selectionStroke,selectionStrokeThickness:this.selectionStrokeThickness};return Object.assign(t.options,r),t},DataPointSelectionModifier.prototype.delete=function(){this.selectionChanged.unsubscribeAll(),this.selectionRect=(0,l.deleteSafe)(this.selectionRect),e.prototype.delete.call(this)},DataPointSelectionModifier.prototype.selectManyPoints=function(e,t){var r=this;this.parentSurface&&(t!==o.Replace||this.deselectAllPoints(!1),this.getIncludedRenderableSeries().filter(function(e){return e.isVisible&&e.dataSeries}).forEach(function(e,i){var n,a,s,l,u=e.xAxis.getCurrentCoordinateCalculator(),c=e.yAxis.getCurrentCoordinateCalculator();if(u.getDataValue(r.startPoint.x)<=u.getDataValue(r.endPoint.x)?(n=u.getDataValue(r.startPoint.x),a=u.getDataValue(r.endPoint.x)):(n=u.getDataValue(r.endPoint.x),a=u.getDataValue(r.startPoint.x)),c.getDataValue(r.startPoint.y)<=c.getDataValue(r.endPoint.y)?(s=c.getDataValue(r.startPoint.y),l=c.getDataValue(r.endPoint.y)):(s=c.getDataValue(r.endPoint.y),l=c.getDataValue(r.startPoint.y)),e.dataSeries.type===y.EDataSeriesType.HeatmapUniform);else for(var d=e.dataSeries,p=0;p<d.count();p++){var f=d.getNativeXValues().get(p),g=d.getNativeYValues().get(p);if((0,h.testIsInBounds)(f,g,n,l,a,s)){var v=d.getMetadataAt(p);t!==o.Inverse?(v.isSelected=!0,r.addSelectedDataPoint(e,p,new P.DataPointInfo(e,v,p))):v.isSelected?(v.isSelected=!1,r.removeSelectedDataPoint(e,p)):(v.isSelected=!0,r.addSelectedDataPoint(e,p,new P.DataPointInfo(e,v,p)))}}}),this.raiseSelectionChanged(!0))},DataPointSelectionModifier.prototype.selectSinglePoint=function(e,t){var r=this;if(this.parentSurface){var i=this.getIncludedRenderableSeries().filter(function(e){return e.isVisible&&e.dataSeries}).map(function(t){return{renderableSeries:t,hitTestInfo:t.hitTestProvider.hitTestForDataPointSelectionModifier(e.x,e.y,v.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS)}});t!==o.Replace||this.deselectAllPoints(!1),i.forEach(function(e){var i=e.hitTestInfo,n=e.renderableSeries;if(i.isHit){if(!i.metadata){console.warn("Cannot select datapoint for series ".concat(i.dataSeriesName," as it does not have metadata. To solve this either:\nConfigure metadata when you create the series or when you add data eg renderableSeries.dataSeries = new XyDataSeries(wasmContext, { metadata: { isSelected: false }}), or:\nAdd the DataPointSelectionModifier after all series have had their dataSeries set."));return}if(t===o.Union){i.metadata.isSelected=!0;var a=new P.DataPointInfo(i.associatedSeries,i.metadata,i.dataSeriesIndex);r.addSelectedDataPoint(i.associatedSeries,i.dataSeriesIndex,a)}else i.metadata.isSelected=!i.metadata.isSelected,i.metadata.isSelected?r.addSelectedDataPoint(n,i.dataSeriesIndex,new P.DataPointInfo(i.associatedSeries,i.metadata,i.dataSeriesIndex)):r.removeSelectedDataPoint(n,i.dataSeriesIndex)}}),this.raiseSelectionChanged(!0)}},DataPointSelectionModifier.prototype.deselectAllPoints=function(e){void 0===e&&(e=!0),this.selectedDataPoints.forEach(function(e){e.renderableSeries&&e.metadata&&(e.metadata.isSelected=!1)}),this.clearSelectedDataPoints(),e&&this.raiseSelectionChanged(!0)},DataPointSelectionModifier.prototype.addSelectedDataPoint=function(e,t,r){this.selectedDataPointsMap.set(getKey(e,t),r),this.selectionHasChanged=!0},DataPointSelectionModifier.prototype.removeSelectedDataPoint=function(e,t){this.selectedDataPointsMap.delete(getKey(e,t)),this.selectionHasChanged=!0},DataPointSelectionModifier.prototype.clearSelectedDataPoints=function(){this.selectedDataPointsMap.size>0&&(this.selectionHasChanged=!0),this.selectedDataPointsMap.clear()},DataPointSelectionModifier.prototype.removeSelectedDataPointsForSeries=function(e){var t=this;this.selectedDataPointsMap.forEach(function(r,i){r.renderableSeries===e&&(t.selectedDataPointsMap.delete(i),t.selectionHasChanged=!0)})},DataPointSelectionModifier.prototype.raiseSelectionChanged=function(e){var t;this.selectionHasChanged&&(this.selectionChanged.raiseEvent(new C.DataPointSelectionChangedArgs(this,this.selectedDataPoints)),this.selectionHasChanged=!1,e&&(null===(t=this.parentSurface)||void 0===t||t.invalidateElement()))},DataPointSelectionModifier}(S.ChartModifierBase2D);t.DataPointSelectionModifier=A;var getKey=function(e,t){return"".concat(e.id,"_").concat(t)}},22720:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LegendModifier=void 0;var o=r(35855),a=r(81751),s=r(32156),l=function(e){function LegendModifier(t){var r,i,n,l=this;return(l=e.call(this,t)||this).type=a.EChart2DModifierType.Legend,l.isCheckedChanged=new o.EventHandler,l.includedSeriesMap=new Map,l.legendItemCheckedChanged=l.legendItemCheckedChanged.bind(l),l.sciChartLegend=null!==(r=null==t?void 0:t.legend)&&void 0!==r?r:new s.SciChartLegend(t),l.sciChartLegend.showCheckboxes=null!==(i=null==t?void 0:t.showCheckboxes)&&void 0!==i?i:l.sciChartLegend.showCheckboxes,l.sciChartLegend.showSeriesMarkers=null!==(n=null==t?void 0:t.showSeriesMarkers)&&void 0!==n?n:l.sciChartLegend.showSeriesMarkers,l.sciChartLegend.legendItemCheckedChangedCallback=l.legendItemCheckedChanged,(null==t?void 0:t.isCheckedChangedCallback)&&l.isCheckedChanged.subscribe(function(e){return t.isCheckedChangedCallback(e.series,e.isChecked)}),l}return n(LegendModifier,e),LegendModifier.prototype.applyTheme=function(t){e.prototype.applyTheme.call(this,t),this.sciChartLegend.applyTheme()},LegendModifier.prototype.onAttachSeries=function(t){e.prototype.onAttachSeries.call(this,t),this.sciChartLegend.setRenderableSeriesArray(this.getIncludedRenderableSeries()),this.sciChartLegend.setInvalidateParentSurface(this.parentSurface.invalidateElement)},LegendModifier.prototype.onDetachSeries=function(t){e.prototype.onDetachSeries.call(this,t),this.sciChartLegend.setRenderableSeriesArray(this.getIncludedRenderableSeries())},LegendModifier.prototype.onParentSurfaceRendered=function(){e.prototype.onParentSurfaceRendered.call(this)},LegendModifier.prototype.onAttach=function(){e.prototype.onAttach.call(this),this.sciChartLegend.attachTo(this.parentSurface),this.sciChartLegend.setRenderableSeriesArray(this.getIncludedRenderableSeries())},LegendModifier.prototype.onDetach=function(){var t,r;e.prototype.onDetach.call(this),null===(t=this.sciChartLegend)||void 0===t||t.setRenderableSeriesArray([]),null===(r=this.sciChartLegend)||void 0===r||r.detach(),this.sciChartLegend=void 0},LegendModifier.prototype.includeSeries=function(e,t){var r;(void 0!==this.includedSeriesMap.get(e)||t)&&(!0!==this.includedSeriesMap.get(e)||t)&&(!1!==this.includedSeriesMap.get(e)||!t)||(this.includedSeriesMap.set(e,t),this.sciChartLegend.setRenderableSeriesArray(this.getIncludedRenderableSeries()),null===(r=this.parentSurface)||void 0===r||r.invalidateElement())},LegendModifier.prototype.getIncludedRenderableSeries=function(){var e=this,t=this.parentSurface.renderableSeries.asArray().filter(function(t){return!t.isStacked&&e.testIsIncludedSeries(t)});return this.parentSurface.renderableSeries.asArray().filter(function(e){return e.isStacked}).forEach(function(r){r.getVisibleSeries().forEach(function(r){e.testIsIncludedSeries(r)&&t.push(r)})}),t},LegendModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={margin:this.sciChartLegend.margin,orientation:this.sciChartLegend.orientation,placement:this.sciChartLegend.placement,showCheckboxes:this.sciChartLegend.showCheckboxes,showLegend:this.sciChartLegend.showLegend,showSeriesMarkers:this.sciChartLegend.showSeriesMarkers};return Object.assign(t.options,r),t},LegendModifier.prototype.delete=function(){e.prototype.delete.call(this),this.onDetach()},LegendModifier.prototype.legendItemCheckedChanged=function(e,t){var r;null===(r=this.isCheckedChanged)||void 0===r||r.raiseEvent({series:e,isChecked:t})},LegendModifier.prototype.testIsIncludedSeries=function(e){return!1!==this.includedSeriesMap.get(e)},LegendModifier}(r(93551).ChartModifierBase2D);t.LegendModifier=l},4027:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModifierArgsBase=void 0,t.ModifierArgsBase=function(){this.handled=!1}},4069:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ModifierMouseArgs=void 0;var a=r(92530),s=r(48484),l=r(91462),u=function(e){function ModifierMouseArgs(t,r){var i,n=this;return(n=e.call(this)||this).isActiveSubChartEvent=!0,n.mousePoint=t,n.button=null==r?void 0:r.button,n.mouseWheelDelta=null!==(i=null==r?void 0:r.mouseWheelDelta)&&void 0!==i?i:0,n.pointerId=null==r?void 0:r.pointerId,n.pointerType=null==r?void 0:r.pointerType,n.target=null==r?void 0:r.target,n.isMaster=null==r?void 0:r.isMaster,n.modifierGroup=null==r?void 0:r.modifierGroup,n.shiftKey=null==r?void 0:r.shiftKey,n.altKey=null==r?void 0:r.altKey,n.ctrlKey=null==r?void 0:r.ctrlKey,n.nativeEvent=null==r?void 0:r.nativeEvent,n}return n(ModifierMouseArgs,e),ModifierMouseArgs.fromMouseEvent=function(e){a.Guard.notNull(e,"mouseEvent");var t=new s.Point(e.offsetX*l.DpiHelper.PIXEL_RATIO,e.offsetY*l.DpiHelper.PIXEL_RATIO),r={target:e.target,isMaster:!0,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,nativeEvent:e};return new ModifierMouseArgs(t,r)},ModifierMouseArgs.fromWheelEvent=function(e){a.Guard.notNull(e,"wheelEvent");var t=new s.Point(e.offsetX*l.DpiHelper.PIXEL_RATIO,e.offsetY*l.DpiHelper.PIXEL_RATIO),r={mouseWheelDelta:e.deltaY,target:e.target,isMaster:!0,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,nativeEvent:e};return new ModifierMouseArgs(t,r)},ModifierMouseArgs.fromPointerEvent=function(e){a.Guard.notNull(e,"pointerEvent");var t=new s.Point(e.offsetX*l.DpiHelper.PIXEL_RATIO,e.offsetY*l.DpiHelper.PIXEL_RATIO),r={button:e.button,pointerId:e.pointerId,pointerType:e.pointerType,target:e.target,isMaster:!0,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,nativeEvent:e};return new ModifierMouseArgs(t,r)},ModifierMouseArgs.copy=function(e,t,r,i,n){var a=e.mousePoint;if(r&&i){var l=e.mousePoint.x-r.x,u=e.mousePoint.y-r.y,c=i.width/r.width,d=i.height/r.height;a=new s.Point(i.x+l*c,i.y+u*d)}return o(o({},e),{isMaster:!1,masterData:n,handled:!1,modifierGroup:t,mousePoint:a})},ModifierMouseArgs.copyForSubChart=function(e,t,r,i,n){var a=e.mousePoint;if(r&&i){var l=i.width/r.width,u=i.height/r.height;a=new s.Point((e.mousePoint.x-r.x)*l+i.x,(e.mousePoint.y-r.y)*u+i.y)}return o(o({},e),{isMaster:!1,masterData:n,handled:!1,modifierGroup:t,mousePoint:a})},ModifierMouseArgs}(r(4027).ModifierArgsBase);t.ModifierMouseArgs=u},68430:function(e,t,r){"use strict";var i,n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.MouseWheelZoomModifier=t.EActionType=void 0;var s=r(81751),l=r(24510),u=r(81762),c=r(24409),d=r(79361),p=r(73336),h=r(93551);(i=o=t.EActionType||(t.EActionType={}))[i.Zoom=0]="Zoom",i[i.Pan=1]="Pan";var f=function(e){function MouseWheelZoomModifier(t){var r,i,n,a,u,c,d,p,h,f,y,g,v=this;if((v=e.call(this,t)||this).type=s.EChart2DModifierType.MouseWheelZoom,v.growFactor=.001,v.actionType=o.Zoom,v.applyToSeriesViewRect=!0,v.applyToAxes=!0,v.includedXAxisMap=new Map,v.includedYAxisMap=new Map,v.growFactor=null!==(r=null==t?void 0:t.growFactor)&&void 0!==r?r:v.growFactor,v.actionType=null!==(i=null==t?void 0:t.actionType)&&void 0!==i?i:v.actionType,v.applyToSeriesViewRect=null!==(n=null==t?void 0:t.applyToSeriesViewRect)&&void 0!==n?n:v.applyToSeriesViewRect,v.applyToAxes=null!==(a=null==t?void 0:t.applyToAxes)&&void 0!==a?a:v.applyToAxes,v.actionType===o.Pan&&v.xyDirection===l.EXyDirection.XyDirection&&(console.warn("SciChart MouseWheelZoomModifier: actionType=Pan and xyDirection=Xy conflict. Auto setting XyDirection to X"),v.xyDirection=l.EXyDirection.XDirection),(null===(u=null==t?void 0:t.includedXAxisIds)||void 0===u?void 0:u.length)>0&&(null===(c=null==t?void 0:t.excludedXAxisIds)||void 0===c?void 0:c.length)>0)throw Error("You either should use includedXAxisIds or excludedXAxisIds");if((null===(d=null==t?void 0:t.includedYAxisIds)||void 0===d?void 0:d.length)>0&&(null===(p=null==t?void 0:t.excludedYAxisIds)||void 0===p?void 0:p.length)>0)throw Error("You either should use includedYAxisIds or excludedYAxisIds");return null===(h=null==t?void 0:t.includedXAxisIds)||void 0===h||h.forEach(function(e){v.includedXAxisMap.set(e,!0)}),null===(f=null==t?void 0:t.includedYAxisIds)||void 0===f||f.forEach(function(e){v.includedYAxisMap.set(e,!0)}),null===(y=null==t?void 0:t.excludedXAxisIds)||void 0===y||y.forEach(function(e){v.includedXAxisMap.set(e,!1)}),null===(g=null==t?void 0:t.excludedYAxisIds)||void 0===g||g.forEach(function(e){v.includedYAxisMap.set(e,!1)}),v}return a(MouseWheelZoomModifier,e),MouseWheelZoomModifier.prototype.modifierMouseWheel=function(t){var r=this;e.prototype.modifierMouseWheel.call(this,t);var i=(0,d.translateFromCanvasToSeriesViewRect)(t.mousePoint,this.parentSurface.seriesViewRect);if(i&&this.applyToSeriesViewRect)this.actionType===o.Zoom?t.handled=this.performZoom(i,t.mouseWheelDelta):this.actionType===o.Pan&&(t.handled=this.performPan(t.mouseWheelDelta));else if(this.applyToAxes){var n=[];[l.EXyDirection.XDirection,l.EXyDirection.XyDirection].includes(this.xyDirection)&&n.push.apply(n,this.getIncludedXAxis()),[l.EXyDirection.YDirection,l.EXyDirection.XyDirection].includes(this.xyDirection)&&n.push.apply(n,this.getIncludedYAxis());var a=(0,h.getActiveAxes)(n,t.mousePoint);if(a.length>0){if(t.handled=!0,this.actionType===o.Zoom){var s=this.growFactor*t.mouseWheelDelta,c=(0,d.translateFromCanvasToSeriesViewRect)(t.mousePoint,this.parentSurface.seriesViewRect,!0);a.forEach(function(e){r.growBy(c,e,s)})}else this.actionType===o.Pan&&a.forEach(function(e){var i=r.getAxisSize(e),n=t.mouseWheelDelta*r.growFactor*i;e.scroll(n,p.EClipMode.None)})}}t.handled&&this.parentSurface.setZoomState(u.EZoomState.UserZooming)},MouseWheelZoomModifier.prototype.performZoom=function(e,t){var r=this,i=this.growFactor*t,n=!1;return[l.EXyDirection.XDirection,l.EXyDirection.XyDirection].includes(this.xyDirection)&&this.getIncludedXAxis().forEach(function(t){r.growBy(e,t,i),n=!0}),[l.EXyDirection.YDirection,l.EXyDirection.XyDirection].includes(this.xyDirection)&&this.getIncludedYAxis().forEach(function(t){r.growBy(e,t,i),n=!0}),n},MouseWheelZoomModifier.prototype.performPan=function(e){var t=this,r=!1;return[l.EXyDirection.XDirection,l.EXyDirection.XyDirection].includes(this.xyDirection)&&this.getIncludedXAxis().forEach(function(i){var n=t.getAxisSize(i),o=e*t.growFactor*n;i.scroll(o,p.EClipMode.None),r=!0}),[l.EXyDirection.YDirection,l.EXyDirection.XyDirection].includes(this.xyDirection)&&this.getIncludedYAxis().forEach(function(i){var n=t.getAxisSize(i),o=e*t.growFactor*n;i.scroll(o,p.EClipMode.None),r=!0}),r},MouseWheelZoomModifier.prototype.includeXAxis=function(e,t){this.includedXAxisMap.set(e.id,t)},MouseWheelZoomModifier.prototype.includeYAxis=function(e,t){this.includedYAxisMap.set(e.id,t)},MouseWheelZoomModifier.prototype.includeAllAxes=function(){this.includedXAxisMap.clear()},MouseWheelZoomModifier.prototype.getIncludedXAxis=function(){return(0,c.getIncludedAxis)(this.parentSurface.xAxes.asArray(),this.includedXAxisMap)},MouseWheelZoomModifier.prototype.getIncludedYAxis=function(){return(0,c.getIncludedAxis)(this.parentSurface.yAxes.asArray(),this.includedYAxisMap)},MouseWheelZoomModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={actionType:this.actionType,growFactor:this.growFactor,applyToSeriesViewRect:this.applyToSeriesViewRect,applyToAxes:this.applyToAxes,includedXAxisIds:Array.from(this.includedXAxisMap.entries()).filter(function(e){return e[1]}).map(function(e){return e[0]}),includedYAxisIds:Array.from(this.includedYAxisMap.entries()).filter(function(e){return e[1]}).map(function(e){return e[0]}),excludedXAxisIds:Array.from(this.includedXAxisMap.entries()).filter(function(e){return!e[1]}).map(function(e){return e[0]}),excludedYAxisIds:Array.from(this.includedYAxisMap.entries()).filter(function(e){return!e[1]}).map(function(e){return e[0]})};return Object.assign(t.options,r),t},MouseWheelZoomModifier.prototype.getAxisSize=function(e){var t=e.isHorizontalAxis?e.viewRect.width:e.viewRect.height;return 1e-8>Math.abs(t)&&this.parentSurface&&(t=e.isHorizontalAxis?this.parentSurface.seriesViewRect.width:this.parentSurface.seriesViewRect.height),t},MouseWheelZoomModifier}(h.ChartModifierBase2D);t.MouseWheelZoomModifier=f},80467:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewRangeSelectionModifier=void 0;var a=r(56529),s=r(94694),l=r(51134),u=r(47494),c=r(81751),d=r(24510),p=r(79361),h=r(22148),f=r(57670),y=function(e){function OverviewRangeSelectionModifier(t){var r,i,n=this;return(n=e.call(this,t)||this).type=c.EChart2DModifierType.OverviewRangeSelection,n.animationDuration=1e3,n.animate=!0,n.isClicked=!1,n.onSelectedAreaChanged=null==t?void 0:t.onSelectedAreaChanged,n.xAxisId=null!==(r=null==t?void 0:t.xAxisId)&&void 0!==r?r:n.xAxisId,n.yAxisId=null!==(i=null==t?void 0:t.yAxisId)&&void 0!==i?i:n.yAxisId,n}return n(OverviewRangeSelectionModifier,e),OverviewRangeSelectionModifier.prototype.onAttach=function(){e.prototype.onAttach.call(this),this.updateSelectionAnnotation()},OverviewRangeSelectionModifier.prototype.modifierMouseDown=function(t){if(e.prototype.modifierMouseDown.call(this,t),this.executeOn===t.button){if(!this.isAttached)throw Error("Should not call OverviewRangeSelectionModifier.modifierMouseDown if not attached");(0,p.translateFromCanvasToSeriesViewRect)(t.mousePoint,this.parentSurface.seriesViewRect)&&(this.isClicked=!0)}},OverviewRangeSelectionModifier.prototype.modifierMouseUp=function(t){var r,i=this;if(e.prototype.modifierMouseUp.call(this,t),this.executeOn===t.button){if(!this.isAttached)throw Error("Should not call OverviewRangeSelectionModifier.modifierMouseUp if not attached");if(this.isClicked){t.handled=!0,null===(r=this.overviewPositionAnimation)||void 0===r||r.cancel();var n=this.parentSurface.seriesViewRect;this.pointTo=(0,p.translateFromCanvasToSeriesViewRect)(u.Rect.clipPointToRect(t.mousePoint,n),n),this.isClicked=!1;var o=this.parentSurface.getXAxisById(this.xAxisId),s=o.getCurrentCoordinateCalculator().getDataValue(o.isHorizontalAxis?this.pointTo.x:this.pointTo.y)-(this.rangeSelectionAnnotation.x1+this.rangeSelectionAnnotation.x2)/2,c=new l.NumberRange(this.rangeSelectionAnnotation.x1,this.rangeSelectionAnnotation.x2),d=new l.NumberRange(this.rangeSelectionAnnotation.x1+s,this.rangeSelectionAnnotation.x2+s),updateAnnotationCoordinates=function(e){var t,r,n;null===(t=i.rangeSelectionAnnotation)||void 0===t||t.setCoordinates({x1:e.min,x2:e.max}),i.annotationBeforeSelectedAreaProperty.x2=null===(r=i.rangeSelectionAnnotation)||void 0===r?void 0:r.x1,i.annotationAfterSelectedAreaProperty.x1=null===(n=i.rangeSelectionAnnotation)||void 0===n?void 0:n.x2,i.onSelectedAreaChanged(new l.NumberRange(i.rangeSelectionAnnotation.x1,i.rangeSelectionAnnotation.x2))};this.animate?(this.overviewPositionAnimation=a.NumberRangeAnimator.animate(c,d,this.animationDuration,updateAnnotationCoordinates,null),this.parentSurface.addAnimation(this.overviewPositionAnimation)):updateAnnotationCoordinates(d)}}},Object.defineProperty(OverviewRangeSelectionModifier.prototype,"rangeSelectionAnnotation",{get:function(){return this.rangeSelectionAnnotationProperty},enumerable:!1,configurable:!0}),Object.defineProperty(OverviewRangeSelectionModifier.prototype,"unselectedsvgString",{get:function(){return this.annotationBeforeSelectedAreaProperty.svgString},set:function(e){this.annotationBeforeSelectedAreaProperty.svgString=e,this.annotationAfterSelectedAreaProperty.svgString=e},enumerable:!1,configurable:!0}),Object.defineProperty(OverviewRangeSelectionModifier.prototype,"selectedArea",{get:function(){return this.selectedAreaProperty},set:function(e){this.selectedAreaProperty=e;var t,r,i,n,o,a,s=null===(t=this.parentSurface)||void 0===t?void 0:t.getXAxisById(this.xAxisId);s&&(null===(r=this.rangeSelectionAnnotation)||void 0===r||r.setCoordinates({x1:e.min,x2:e.max}),null===(i=this.annotationBeforeSelectedAreaProperty)||void 0===i||i.setCoordinates({x1:s.visibleRange.min,x2:null===(n=this.rangeSelectionAnnotation)||void 0===n?void 0:n.x1}),null===(o=this.annotationAfterSelectedAreaProperty)||void 0===o||o.setCoordinates({x1:null===(a=this.rangeSelectionAnnotation)||void 0===a?void 0:a.x2,x2:s.visibleRange.max}))},enumerable:!1,configurable:!0}),OverviewRangeSelectionModifier.prototype.createAnnotation=function(e){return new f.OverviewCustomResizableAnnotation(e)},OverviewRangeSelectionModifier.prototype.updateSelectionAnnotation=function(){var e,t=this;if(this.parentSurface){var r=null===(e=this.parentSurface)||void 0===e?void 0:e.getXAxisById(this.xAxisId),i={xAxisId:this.xAxisId,yAxisId:this.yAxisId,opacity:.5,y1:0,y2:1,xCoordinateMode:h.ECoordinateMode.DataValue,yCoordinateMode:h.ECoordinateMode.Relative,resizeDirections:d.EXyDirection.XDirection},n=this.createAnnotation(o(o({},i),{x1:this.selectedArea.min,x2:this.selectedArea.max,isEditable:!0,svgString:g,onDrag:function(){null===(e=t.overviewPositionAnimation)||void 0===e||e.cancel();var e,r=new l.NumberRange(t.rangeSelectionAnnotation.x1,t.rangeSelectionAnnotation.x2);t.selectedAreaProperty=r,t.annotationBeforeSelectedAreaProperty.x2=t.rangeSelectionAnnotation.x1,t.annotationAfterSelectedAreaProperty.x1=t.rangeSelectionAnnotation.x2,t.onSelectedAreaChanged(r)}})),a=this.createAnnotation(o(o({},i),{x1:r.visibleRange.min,x2:this.selectedArea.min,svgString:v})),u=this.createAnnotation(o(o({},i),{x1:this.selectedArea.max,x2:r.visibleRange.max,svgString:v}));r.isHorizontalAxis?(n.adornerSvgStringTemplate=horizontalAdornerSvgTemplate,a.minWidth=0,u.minWidth=0):(n.adornerSvgStringTemplate=verticalAdornerSvgTemplate,a.minHeight=0,u.minHeight=0),this.rangeSelectionAnnotationProperty=(0,s.deleteSafe)(this.rangeSelectionAnnotation),this.annotationBeforeSelectedAreaProperty=(0,s.deleteSafe)(this.annotationBeforeSelectedAreaProperty),this.annotationAfterSelectedAreaProperty=(0,s.deleteSafe)(this.annotationAfterSelectedAreaProperty),this.parentSurface.modifierAnnotations.remove(this.rangeSelectionAnnotation),this.parentSurface.modifierAnnotations.remove(this.annotationBeforeSelectedAreaProperty),this.parentSurface.modifierAnnotations.remove(this.annotationAfterSelectedAreaProperty),this.parentSurface.modifierAnnotations.add(n),this.parentSurface.modifierAnnotations.add(a),this.parentSurface.modifierAnnotations.add(u),this.rangeSelectionAnnotationProperty=n,this.annotationBeforeSelectedAreaProperty=a,this.annotationAfterSelectedAreaProperty=u}},OverviewRangeSelectionModifier}(r(93551).ChartModifierBase2D);t.OverviewRangeSelectionModifier=y;var horizontalAdornerSvgTemplate=function(e,t,r,i){var n="black",o="#2e2e2e",a=r-e,s=i-t;return'<svg x="'.concat(e,'" y="').concat(t,'" width="').concat(a,'px" height="').concat(s,'px" viewBox="0 0 ').concat(a," ").concat(s,'" overflow="visible" xmlns="http://www.w3.org/2000/svg">\n        <line x1="0" y1="0" x2="').concat(a,'" y2="0" stroke="').concat(n,'" stroke-width="1" />\n        <line x1="0" y1="').concat(s,'" x2="').concat(a,'" y2="').concat(s,'" stroke="').concat(n,'" stroke-width="1" />\n        <line x1="0" y1="0" x2="0" y2="').concat(s,'" stroke="').concat(n,'" stroke-width="1" />\n        <line x1="').concat(a,'" y1="0" x2="').concat(a,'" y2="').concat(s,'" stroke="').concat(n,'" stroke-width="1" />\n        <rect x="').concat(-3,'" y="').concat("30%",'" width="7" height="').concat("40%",'" fill="').concat(o,'" rx="5" stroke="').concat(n,'" />\n        <rect x="').concat(a-3,'" y="').concat("30%",'" width="7" height="').concat("40%",'" fill="').concat(o,'" rx="5" stroke="').concat(n,'" />\n        </svg>')},verticalAdornerSvgTemplate=function(e,t,r,i){var n="black",o="#2e2e2e",a=r-e,s=i-t;return'<svg x="'.concat(e,'" y="').concat(t,'" width="').concat(a,'px" height="').concat(s,'px" viewBox="0 0 ').concat(a," ").concat(s,'" overflow="visible" xmlns="http://www.w3.org/2000/svg">\n        <line x1="0" y1="0" x2="').concat(a,'" y2="0" stroke="').concat(n,'" stroke-width="1" />\n        <line x1="0" y1="').concat(s,'" x2="').concat(a,'" y2="').concat(s,'" stroke="').concat(n,'" stroke-width="1" />\n        <line x1="0" y1="0" x2="0" y2="').concat(s,'" stroke="').concat(n,'" stroke-width="1" />\n        <line x1="').concat(a,'" y1="0" x2="').concat(a,'" y2="').concat(s,'" stroke="').concat(n,'" stroke-width="1" />\n        <rect x="').concat("30%",'" y="').concat(-3,'" width="').concat("40%",'" height="7" fill="').concat(o,'" rx="5" stroke="').concat(n,'" />\n        <rect x="').concat("30%",'" y="').concat(s-3,'" width="').concat("40%",'" height="7" fill="').concat(o,'" rx="5" stroke="').concat(n,'" />\n        </svg>')},g='<svg width="50" height="50" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n    <rect width="100%" height="100%" style="fill:transparent">\n    </rect>\n</svg>',v='<svg width="50" height="50" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">\n        <rect width="100%" height="100%" style="fill:black">\n        </rect>\n    </svg>'},49193:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.PinchZoomModifier=void 0;var o=r(48484),a=r(81751),s=r(24510),l=r(81762),u=r(24409),c=r(79361),d=function(e){function PinchZoomModifier(t){var r,i,n,s,l,u,c,d,p,h,f=this;if((f=e.call(this,t)||this).horizontalGrowFactor=.005,f.verticalGrowFactor=.005,f.includedXAxisMap=new Map,f.includedYAxisMap=new Map,f.getMiddlePoint=function(e,t){return new o.Point((e.x+t.x)/2,(e.y+t.y)/2)},f.type=a.EChart2DModifierType.PinchZoom,(null===(r=null==t?void 0:t.includedXAxisIds)||void 0===r?void 0:r.length)>0&&(null===(i=null==t?void 0:t.excludedXAxisIds)||void 0===i?void 0:i.length)>0)throw Error("You either should use includedXAxisIds or excludedXAxisIds");if((null===(n=null==t?void 0:t.includedYAxisIds)||void 0===n?void 0:n.length)>0&&(null===(s=null==t?void 0:t.excludedYAxisIds)||void 0===s?void 0:s.length)>0)throw Error("You either should use includedYAxisIds or excludedYAxisIds");return null===(l=null==t?void 0:t.includedXAxisIds)||void 0===l||l.forEach(function(e){f.includedXAxisMap.set(e,!0)}),null===(u=null==t?void 0:t.includedYAxisIds)||void 0===u||u.forEach(function(e){f.includedYAxisMap.set(e,!0)}),null===(c=null==t?void 0:t.excludedXAxisIds)||void 0===c||c.forEach(function(e){f.includedXAxisMap.set(e,!1)}),null===(d=null==t?void 0:t.excludedYAxisIds)||void 0===d||d.forEach(function(e){f.includedYAxisMap.set(e,!1)}),f.horizontalGrowFactor=null!==(p=null==t?void 0:t.horizontalGrowFactor)&&void 0!==p?p:f.horizontalGrowFactor,f.verticalGrowFactor=null!==(h=null==t?void 0:t.verticalGrowFactor)&&void 0!==h?h:f.verticalGrowFactor,f}return n(PinchZoomModifier,e),PinchZoomModifier.prototype.modifierMouseDown=function(t){if(e.prototype.modifierMouseDown.call(this,t),!this.isAttached)throw Error("Should not call PinchZoomModifier.modifierMouseDown if not attached");(0,c.translateFromCanvasToSeriesViewRect)(t.mousePoint,this.parentSurface.seriesViewRect)&&("touch"===t.pointerType||"pen"===t.pointerType)&&this.activePointerEvents.set(t.pointerId,t)},PinchZoomModifier.prototype.modifierMouseMove=function(t){e.prototype.modifierMouseMove.call(this,t),this.getIsActionAllowed(t)&&(this.parentSurface.setZoomState(l.EZoomState.UserZooming),this.performModifierAction(t))},PinchZoomModifier.prototype.modifierMouseUp=function(t){e.prototype.modifierMouseUp.call(this,t),this.removeFromActiveTouchEvents(t)},PinchZoomModifier.prototype.modifierPointerCancel=function(t){e.prototype.modifierPointerCancel.call(this,t),this.removeFromActiveTouchEvents(t)},PinchZoomModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={horizontalGrowFactor:this.horizontalGrowFactor,verticalGrowFactor:this.verticalGrowFactor,includedXAxisIds:Array.from(this.includedXAxisMap.entries()).filter(function(e){return e[1]}).map(function(e){return e[0]}),includedYAxisIds:Array.from(this.includedYAxisMap.entries()).filter(function(e){return e[1]}).map(function(e){return e[0]}),excludedXAxisIds:Array.from(this.includedXAxisMap.entries()).filter(function(e){return!e[1]}).map(function(e){return e[0]}),excludedYAxisIds:Array.from(this.includedYAxisMap.entries()).filter(function(e){return!e[1]}).map(function(e){return e[0]})};return Object.assign(t.options,r),t},PinchZoomModifier.prototype.includeXAxis=function(e,t){this.includedXAxisMap.set(e.id,t)},PinchZoomModifier.prototype.includeYAxis=function(e,t){this.includedYAxisMap.set(e.id,t)},PinchZoomModifier.prototype.includeAllAxes=function(){this.includedXAxisMap.clear()},PinchZoomModifier.prototype.getIncludedXAxis=function(){return(0,u.getIncludedAxis)(this.parentSurface.xAxes.asArray(),this.includedXAxisMap)},PinchZoomModifier.prototype.getIncludedYAxis=function(){return(0,u.getIncludedAxis)(this.parentSurface.yAxes.asArray(),this.includedYAxisMap)},PinchZoomModifier.prototype.performZoom=function(e,t,r,i,n){var o=this,a=i*t,l=n*r;[s.EXyDirection.XDirection,s.EXyDirection.XyDirection].includes(this.xyDirection)&&this.getIncludedXAxis().forEach(function(t){o.growBy(e,t,a)}),[s.EXyDirection.YDirection,s.EXyDirection.XyDirection].includes(this.xyDirection)&&this.getIncludedYAxis().forEach(function(t){o.growBy(e,t,l)})},PinchZoomModifier.prototype.removeFromActiveTouchEvents=function(e){this.activePointerEvents.delete(e.pointerId),this.activePointerEvents.size<2&&(this.previousHorizontalTouchPointsDistance=void 0,this.previousVerticalTouchPointsDistance=void 0)},PinchZoomModifier.prototype.performModifierAction=function(e){var t=Array.from(this.activePointerEvents.values()),r=t[0].mousePoint,i=t[1].mousePoint,n=Math.abs(r.x-i.x),o=Math.abs(r.y-i.y),a=this.getMiddlePoint(r,i),s=(0,c.translateFromCanvasToSeriesViewRect)(a,this.parentSurface.seriesViewRect);if(s&&void 0!==this.previousHorizontalTouchPointsDistance&&void 0!==this.previousVerticalTouchPointsDistance){var l=this.previousHorizontalTouchPointsDistance-n,u=this.previousVerticalTouchPointsDistance-o;this.performZoom(s,l,u,this.horizontalGrowFactor,this.verticalGrowFactor)}this.previousHorizontalTouchPointsDistance=n,this.previousVerticalTouchPointsDistance=o},PinchZoomModifier.prototype.getIsActionAllowed=function(e){return("touch"===e.pointerType||"pen"===e.pointerType)&&this.activePointerEvents.size>=2},PinchZoomModifier}(r(93551).ChartModifierBase2D);t.PinchZoomModifier=d},20810:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.updateRolloverModifierProps=t.calcTooltipPositions=t.calcTooltipProps=t.RolloverModifier=t.TOOLTIP_SPACING=void 0;var o=r(53247),a=r(51894),s=r(81751),l=r(55617),u=r(55687),c=r(41108),d=r(79361),p=r(63869),h=r(22148),f=r(67356),y=r(50324),g=r(83363),v=r(58395),m=r(61239),S=r(91462),b=r(93551),P=r(55356);t.TOOLTIP_SPACING=4;var C=function(e){function RolloverModifier(t){var r,i,n,u,c,d,p,h,f,g,v=this;return(v=e.call(this,t)||this).type=s.EChart2DModifierType.Rollover,v.tooltipLegendOffsetX=0,v.tooltipLegendOffsetY=0,v.snapToDataPoint=!1,v.hitTestRadius=0,v.showRolloverLineProperty=!0,v.showTooltipProperty=!0,v.absoluteXCoord=0,v.mousePosition=l.EMousePosition.OutOfCanvas,v.allowTooltipOverlappingProperty=!1,v.includedSeriesMap=new Map,v.hitTestRenderableSeries=v.hitTestRenderableSeries.bind(v),v.placementDivIdProperty=null!==(r=null==t?void 0:t.placementDivId)&&void 0!==r?r:v.placementDivIdProperty,v.rolloverLineAnnotation=v.createLine(t),(null==t?void 0:t.tooltipLegendTemplate)&&"string"==typeof t.tooltipLegendTemplate&&(v.typeMap.set("tooltipLegendTemplate",t.tooltipLegendTemplate),t.tooltipLegendTemplate=(0,o.getFunction)(a.EBaseType.OptionFunction,t.tooltipLegendTemplate)),v.tooltipLegendTemplate=null!==(i=null==t?void 0:t.tooltipLegendTemplate)&&void 0!==i?i:v.tooltipLegendTemplate,v.tooltipLegendOffsetX=null!==(n=null==t?void 0:t.tooltipLegendOffsetX)&&void 0!==n?n:v.tooltipLegendOffsetX,v.tooltipLegendOffsetY=null!==(u=null==t?void 0:t.tooltipLegendOffsetY)&&void 0!==u?u:v.tooltipLegendOffsetY,(null==t?void 0:t.tooltipDataTemplate)&&"string"==typeof t.tooltipDataTemplate&&(v.typeMap.set("tooltipDataTemplate",t.tooltipDataTemplate),t.tooltipDataTemplate=(0,o.getFunction)(a.EBaseType.OptionFunction,t.tooltipDataTemplate)),v.tooltipDataTemplateProperty=null!==(c=null==t?void 0:t.tooltipDataTemplate)&&void 0!==c?c:v.tooltipDataTemplateProperty,v.showRolloverLineProperty=null!==(d=null==t?void 0:t.showRolloverLine)&&void 0!==d?d:v.showRolloverLineProperty,v.showTooltipProperty=null!==(p=null==t?void 0:t.showTooltip)&&void 0!==p?p:v.showTooltipProperty,v.legendAnnotation=new y.RolloverLegendSvgAnnotation({tooltipLegendTemplate:v.tooltipLegendTemplate,tooltipLegendOffsetX:v.tooltipLegendOffsetX,tooltipLegendOffsetY:v.tooltipLegendOffsetY,xAxisId:v.xAxisId,yAxisId:v.yAxisId}),v.allowTooltipOverlappingProperty=null!==(h=null==t?void 0:t.allowTooltipOverlapping)&&void 0!==h?h:v.allowTooltipOverlappingProperty,v.snapToDataPoint=null!==(f=null==t?void 0:t.snapToDataPoint)&&void 0!==f?f:v.snapToDataPoint,v.hitTestRadius=null!==(g=null==t?void 0:t.hitTestRadius)&&void 0!==g?g:v.hitTestRadius,v}return n(RolloverModifier,e),RolloverModifier.prototype.createLine=function(e){var t,r,i;return new f.LineAnnotation({xCoordinateMode:h.ECoordinateMode.Pixel,yCoordinateMode:h.ECoordinateMode.Pixel,strokeDashArray:null==e?void 0:e.rolloverLineStrokeDashArray,strokeThickness:null!==(t=null==e?void 0:e.rolloverLineStrokeThickness)&&void 0!==t?t:2,stroke:null!==(r=null==e?void 0:e.rolloverLineStroke)&&void 0!==r?r:m.SciChartSurfaceBase.DEFAULT_THEME.cursorLineBrush,xAxisId:this.xAxisId,yAxisId:this.yAxisId,showLabel:null!==(i=null==e?void 0:e.showAxisLabel)&&void 0!==i&&i})},RolloverModifier.prototype.applyTheme=function(e){if(this.parentSurface){var t=this.parentSurface.previousThemeProvider;this.rolloverLineAnnotation.stroke===t.cursorLineBrush&&(this.rolloverLineAnnotation.stroke=e.cursorLineBrush)}},Object.defineProperty(RolloverModifier.prototype,"rolloverLineStroke",{get:function(){return this.rolloverLineAnnotation.stroke},set:function(e){this.rolloverLineAnnotation.stroke=e,this.notifyPropertyChanged(P.PROPERTY.STROKE)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifier.prototype,"rolloverLineStrokeThickness",{get:function(){return this.rolloverLineAnnotation.strokeThickness},set:function(e){this.rolloverLineAnnotation.strokeThickness=e,this.notifyPropertyChanged(P.PROPERTY.STROKE_THICKNESS)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifier.prototype,"rolloverLineStrokeDashArray",{get:function(){return this.rolloverLineAnnotation.strokeDashArray},set:function(e){this.rolloverLineAnnotation.strokeDashArray=e,this.notifyPropertyChanged(P.PROPERTY.STROKE_DASH_ARRAY)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifier.prototype,"showRolloverLine",{get:function(){return this.showRolloverLineProperty},set:function(e){this.showRolloverLineProperty=e,this.notifyPropertyChanged(P.PROPERTY.SHOW_ROLLOVER_LINE)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifier.prototype,"tooltipDataTemplate",{get:function(){return this.tooltipDataTemplateProperty},set:function(e){this.tooltipDataTemplateProperty=e,this.notifyPropertyChanged(P.PROPERTY.TOOLTIP_DATA_TEMPLATE)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifier.prototype,"showTooltip",{get:function(){return this.showTooltipProperty},set:function(e){this.showTooltipProperty=e,this.notifyPropertyChanged(P.PROPERTY.SHOW_TOOLTIP)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifier.prototype,"allowTooltipOverlapping",{get:function(){return this.allowTooltipOverlappingProperty},set:function(e){this.allowTooltipOverlappingProperty=e,this.notifyPropertyChanged(P.PROPERTY.ALLOW_TOOLTIP_OVERLAPPING)},enumerable:!1,configurable:!0}),RolloverModifier.prototype.onAttach=function(){var t=this;e.prototype.onAttach.call(this),this.addLineAnnotationToSurface(),this.parentSurface.modifierAnnotations.add(this.legendAnnotation),this.getIncludedRenderableSeries().forEach(function(e){return t.addSeriesAnnotationsToParentSurface(e)})},RolloverModifier.prototype.addLineAnnotationToSurface=function(){this.parentSurface.modifierAnnotations.add(this.rolloverLineAnnotation)},RolloverModifier.prototype.onDetach=function(){var t=this;e.prototype.onDetach.call(this),this.parentSurface.modifierAnnotations.remove(this.rolloverLineAnnotation,!0),this.parentSurface.modifierAnnotations.remove(this.legendAnnotation),this.getIncludedRenderableSeries().forEach(function(e){return t.removeSeriesAnnotationsFromParentSurface(e)})},RolloverModifier.prototype.onAttachSeries=function(t){e.prototype.onAttachSeries.call(this,t),this.parentSurface.renderableSeries.size(),this.addSeriesAnnotationsToParentSurface(t),this.legendAnnotation.seriesInfos=this.getSeriesInfos()},RolloverModifier.prototype.onDetachSeries=function(t){e.prototype.onDetachSeries.call(this,t),this.removeSeriesAnnotationsFromParentSurface(t)},RolloverModifier.prototype.modifierMouseMove=function(t){(!this.parentSurface.isSubSurface||t.isActiveSubChartEvent)&&(this.activePointerEvents.set(t.pointerId,t),e.prototype.modifierMouseMove.call(this,t),this.mousePoint?(0,d.translateFromCanvasToSeriesViewRect)(this.mousePoint,this.parentSurface.seriesViewRect)?this.mousePosition=l.EMousePosition.SeriesArea:this.mousePosition=l.EMousePosition.AxisArea:this.mousePosition=l.EMousePosition.OutOfCanvas,this.getIsActionAllowed(t)&&this.update())},RolloverModifier.prototype.modifierMouseLeave=function(t){e.prototype.modifierMouseLeave.call(this,t),this.mousePosition=l.EMousePosition.OutOfCanvas,this.update()},RolloverModifier.prototype.onParentSurfaceRendered=function(){this.update()},RolloverModifier.prototype.includeSeries=function(e,t){var r;(void 0!==this.includedSeriesMap.get(e)||t)&&(!0!==this.includedSeriesMap.get(e)||t)&&(!1!==this.includedSeriesMap.get(e)||!t)||(this.includedSeriesMap.set(e,t),!0===t&&this.addSeriesAnnotationsToParentSurface(e),!1===t&&this.removeSeriesAnnotationsFromParentSurface(e),this.parentSurface&&(this.legendAnnotation.seriesInfos=this.getSeriesInfos()),null===(r=this.parentSurface)||void 0===r||r.invalidateElement())},RolloverModifier.prototype.getIncludedRenderableSeries=function(){var e=this,t=this.parentSurface.renderableSeries.asArray().filter(function(t){return!t.isStacked&&t.isVisible&&t.rolloverModifierProps.showRollover&&e.testIsIncludedSeries(t)});return this.parentSurface.renderableSeries.asArray().filter(function(e){return e.isStacked}).forEach(function(r){r.getVisibleSeries().forEach(function(r){r.rolloverModifierProps.showRollover&&e.testIsIncludedSeries(r)&&t.push(r)})}),t},RolloverModifier.prototype.hitTestRenderableSeries=function(e,t){return t?this.hitTestRadius<=0?e.hitTestProvider.hitTestXSlice(t.x,t.y):e.hitTestProvider.hitTestDataPoint(t.x,t.y,this.hitTestRadius):void 0},RolloverModifier.prototype.getMousePosition=function(){return this.mousePosition},RolloverModifier.prototype.toJSON=function(){var t,r,i=e.prototype.toJSON.call(this),n={snapToDataPoint:this.snapToDataPoint,placementDivId:this.placementDivId,hitTestRadius:this.hitTestRadius,allowTooltipOverlapping:this.allowTooltipOverlapping,rolloverLineStrokeDashArray:this.rolloverLineStrokeDashArray,rolloverLineStroke:this.rolloverLineStroke,rolloverLineStrokeThickness:this.rolloverLineStrokeThickness,showRolloverLine:this.showRolloverLine,showTooltip:this.showTooltip,showAxisLabel:null!==(r=null===(t=this.rolloverLineAnnotation)||void 0===t?void 0:t.showLabel)&&void 0!==r&&r,tooltipDataTemplate:this.typeMap.get("tooltipDataTemplate"),tooltipLegendOffsetX:this.tooltipLegendOffsetX,tooltipLegendOffsetY:this.tooltipLegendOffsetY,tooltipLegendTemplate:this.typeMap.get("tooltipLegendTemplate")};return Object.assign(i.options,n),i},RolloverModifier.prototype.CalculateTooltipPositions=function(e,r,i,n,o,a){return void 0===a&&(a=!1),(0,t.calcTooltipPositions)(e,r,i,n,o,a)},RolloverModifier.prototype.notifyPropertyChanged=function(t){e.prototype.notifyPropertyChanged.call(this,t),t===P.PROPERTY.X_AXIS_ID&&(this.rolloverLineAnnotation.xAxisId=this.xAxisId,this.legendAnnotation.xAxisId=this.xAxisId),t===P.PROPERTY.Y_AXIS_ID&&(this.rolloverLineAnnotation.yAxisId=this.yAxisId,this.legendAnnotation.yAxisId=this.yAxisId)},RolloverModifier.prototype.isVerticalChart=function(){var e,t,r=(null===(e=this.parentSurface)||void 0===e?void 0:e.getXAxisById(this.xAxisId))||(null===(t=this.parentSurface)||void 0===t?void 0:t.xAxes.get(0));return!!r&&r.isVerticalChart},RolloverModifier.prototype.removeSeriesAnnotationsFromParentSurface=function(e){var t=this;this.parentSurface&&(e.isStacked?e.asArray().forEach(function(e){t.parentSurface.modifierAnnotations.remove(t.getRolloverProps(e).marker),t.parentSurface.modifierAnnotations.remove(t.getRolloverProps(e).tooltip),t.getRolloverProps(e).delete()}):(this.parentSurface.modifierAnnotations.remove(this.getRolloverProps(e).marker),this.parentSurface.modifierAnnotations.remove(this.getRolloverProps(e).tooltip),this.getRolloverProps(e).delete(),e.type===u.ESeriesType.BandSeries&&(this.parentSurface.modifierAnnotations.remove(this.getRolloverProps1(e).marker),this.parentSurface.modifierAnnotations.remove(this.getRolloverProps1(e).tooltip),this.getRolloverProps1(e).delete())))},RolloverModifier.prototype.addSeriesAnnotationsToParentSurface=function(e){if(this.parentSurface&&e.type!==u.ESeriesType.StackedMountainCollection&&e.type!==u.ESeriesType.StackedColumnCollection){this.getRolloverProps(e).rolloverModifier=this,createAnnotations(e,this.getRolloverProps(e),this.getRolloverProps1(e),this.placementDivIdProperty);var t=this.getRolloverProps(e).marker;this.parentSurface.modifierAnnotations.contains(t)||(this.parentSurface.modifierAnnotations.add(this.getRolloverProps(e).marker),this.parentSurface.modifierAnnotations.add(this.getRolloverProps(e).tooltip),e.type===u.ESeriesType.BandSeries&&(this.getRolloverProps1(e).rolloverModifier=this,this.parentSurface.modifierAnnotations.add(this.getRolloverProps1(e).marker),this.parentSurface.modifierAnnotations.add(this.getRolloverProps1(e).tooltip)))}},RolloverModifier.prototype.getRolloverProps=function(e){return e.rolloverModifierProps},RolloverModifier.prototype.getRolloverProps1=function(e){return e.rolloverModifierProps1},RolloverModifier.prototype.update=function(){this.updateLine(),this.updateSeriesAnnotations(),this.tooltipLegendTemplate&&(this.legendAnnotation.seriesInfos=this.getSeriesInfos())},RolloverModifier.prototype.updateLine=function(){if(this.mousePosition!==l.EMousePosition.SeriesArea||!this.showRolloverLineProperty){this.rolloverLineAnnotation.isHidden=!0;return}if(this.snapToDataPoint){var e=this.getIncludedRenderableSeries()[0];if(e){var t=this.hitTestRenderableSeries(e,this.mousePoint);if(t&&t.isWithinDataBounds){this.rolloverLineAnnotation.isHidden=!1;var r=(0,d.translateToNotScaled)(t.xCoord);this.rolloverLineAnnotation.x1=r,this.rolloverLineAnnotation.x2=r,this.rolloverLineAnnotation.y1=0,this.rolloverLineAnnotation.y2=this.isVerticalChart()?(0,d.translateToNotScaled)(this.parentSurface.seriesViewRect.right):(0,d.translateToNotScaled)(this.parentSurface.seriesViewRect.bottom)}else this.rolloverLineAnnotation.isHidden=!0}else this.rolloverLineAnnotation.isHidden=!0}else{this.rolloverLineAnnotation.isHidden=!1;var i=(0,d.translateFromCanvasToSeriesViewRect)(this.mousePoint,this.parentSurface.seriesViewRect);if(i){var r=(0,d.translateToNotScaled)(i.x),n=(0,d.translateToNotScaled)(i.y);this.isVerticalChart()?(this.rolloverLineAnnotation.x1=n,this.rolloverLineAnnotation.x2=n,this.rolloverLineAnnotation.y1=0,this.rolloverLineAnnotation.y2=(0,d.translateToNotScaled)(this.parentSurface.seriesViewRect.right)):(this.rolloverLineAnnotation.x1=r,this.rolloverLineAnnotation.x2=r,this.rolloverLineAnnotation.y1=0,this.rolloverLineAnnotation.y2=(0,d.translateToNotScaled)(this.parentSurface.seriesViewRect.bottom))}}},RolloverModifier.prototype.updateSeriesAnnotations=function(){var e,r=this,i=this.getIncludedRenderableSeries();if(i.forEach(function(e){var t=r.getRolloverProps(e);t.marker||r.addSeriesAnnotationsToParentSurface(e),t.marker.suspendInvalidate(),t.tooltip.suspendInvalidate(),t.marker.isHidden=!0,t.tooltip.isHidden=!0,t.tooltip.x1=void 0,t.tooltip.y1=void 0,e.type===u.ESeriesType.BandSeries&&(t.marker.suspendInvalidate(),t.tooltip.suspendInvalidate(),t.marker.isHidden=!0,t.tooltip.isHidden=!0,t.tooltip.x1=void 0,t.tooltip.y1=void 0)}),this.mousePosition!==l.EMousePosition.SeriesArea){i.forEach(function(e){var t=r.getRolloverProps(e);t.marker.resumeInvalidate(),t.tooltip.resumeInvalidate(),e.type===u.ESeriesType.BandSeries&&(r.getRolloverProps1(e).marker.resumeInvalidate(),r.getRolloverProps1(e).tooltip.resumeInvalidate())});return}var n=[],o=this.isVerticalChart()?this.parentSurface.seriesViewRect.width:this.parentSurface.seriesViewRect.height;i.forEach(function(e,i){var a=r.hitTestRenderableSeries(e,r.mousePoint);if(a){if((e.type!==u.ESeriesType.StackedColumnSeries&&0===r.hitTestRadius||a.isHit)&&0<=a.yCoord&&a.yCoord<=o){r.absoluteXCoord=r.isVerticalChart()?a.yCoord:a.xCoord;var s=r.isVerticalChart()?a.xCoord:a.yCoord,l=(0,t.calcTooltipProps)(i,e,r.getRolloverProps(e),r.parentSurface.seriesViewRect,a.xValue,a.yValue,r.absoluteXCoord,s,a,S.DpiHelper.PIXEL_RATIO,!1,r.isVerticalChart());l&&n.push(l)}if(e.type===u.ESeriesType.BandSeries&&0<=a.y1Coord&&a.y1Coord<=o){var c=r.isVerticalChart()?a.y1Coord:a.xCoord,s=r.isVerticalChart()?a.xCoord:a.y1Coord,d=(0,t.calcTooltipProps)(i,e,r.getRolloverProps1(e),r.parentSurface.seriesViewRect,a.xValue,a.y1Value,c,s,a,S.DpiHelper.PIXEL_RATIO,!0,r.isVerticalChart());d&&n.push(d)}}}),e=this.isVerticalChart()?n.sort(function(e,t){return e.xCoord>t.xCoord?1:t.xCoord>e.xCoord?-1:0}):n.sort(function(e,t){return e.yCoord>t.yCoord?1:t.yCoord>e.yCoord?-1:0}),this.CalculateTooltipPositions(e,this.allowTooltipOverlapping,t.TOOLTIP_SPACING*S.DpiHelper.PIXEL_RATIO,this.parentSurface.seriesViewRect,S.DpiHelper.PIXEL_RATIO,this.isVerticalChart()).forEach(function(e){var n=i[e.index],o=r.showTooltip&&e.seriesInfo.isHit,a=e.seriesInfo.isHit;e.isY1?(0,t.updateRolloverModifierProps)(r.getRolloverProps1(n),n,e,o,a,r.placementDivId):(0,t.updateRolloverModifierProps)(r.getRolloverProps(n),n,e,o,a,r.placementDivId)}),i.forEach(function(e){r.getRolloverProps(e).marker.resumeInvalidate(),r.getRolloverProps(e).tooltip.resumeInvalidate(),e.type===u.ESeriesType.BandSeries&&(r.getRolloverProps1(e).marker.resumeInvalidate(),r.getRolloverProps1(e).tooltip.resumeInvalidate())})},RolloverModifier.prototype.testIsIncludedSeries=function(e){return!1!==this.includedSeriesMap.get(e)},RolloverModifier.prototype.getSeriesInfos=function(){var e=this;return this.getIncludedRenderableSeries().map(function(t){var r=e.hitTestRenderableSeries(t,e.mousePoint);if(r)return t.getSeriesInfo(r)}).filter(function(e){return void 0!==e})},Object.defineProperty(RolloverModifier.prototype,"placementDivId",{get:function(){return this.placementDivIdProperty},set:function(e){var t,r=this;this.placementDivIdProperty!==e&&(this.placementDivIdProperty=e,null===(t=this.parentSurface)||void 0===t||t.renderableSeries.asArray().forEach(function(e){r.getRolloverProps(e).tooltip.placementDivId=r.placementDivIdProperty,r.getRolloverProps1(e).tooltip.placementDivId=r.placementDivIdProperty}))},enumerable:!1,configurable:!0}),RolloverModifier}(b.ChartModifierBase2D);t.RolloverModifier=C,t.calcTooltipProps=function(e,t,r,i,n,o,a,s,l,u,c,d){void 0===c&&(c=!1),void 0===d&&(d=!1);var p=t.getSeriesInfo(l),h=r.tooltip.width,f=h*u,y=r.tooltip.height,g=y*u,v=i.height-s,m=5*u,S=i.width-a<f?-h:5,b=d?m:-y/2;return d?v<g+m&&(b=-((g+m)/u*1)):s<g/2?b=-s/u:v<g/2&&(b=-(g-v)/u),{index:e,isY1:c,xValue:n,yValue:o,xCoord:a,yCoord:s,hitTestPointValues:l.hitTestPointValues,isCategoryAxis:l.isCategoryAxis,xCoordShift:S,yCoordShift:b,height:g,width:f,seriesInfo:p}},t.calcTooltipPositions=function(e,t,r,i,n,o){void 0===o&&(o=!1);var a=(0,c.getTooltipPositionProperties)(o);o&&e.forEach(function(e){var t=e.width/2/n;e.xCoord>t&&(e[a.shiftPropertyName]=-(e.width/2)/n)});var s=(0,c.checkHasOverlap)(e,r,n,a),l=e.length;if(!t&&l>=2&&s){var u=(0,c.spreadTooltips)(e,n,a,r,i);e.forEach(function(e){e[a.shiftPropertyName]=u.get(e.index)})}return e};var createAnnotations=function(e,t,r,i){var n,o,a,s;t.marker||(t.marker=new g.RolloverMarkerSvgAnnotation(t),t.marker.xAxisId=e.xAxisId,t.marker.yAxisId=e.yAxisId),t.tooltip||(t.tooltipTitle=null!==(o=null!==(n=t.tooltipTitle)&&void 0!==n?n:e.getDataSeriesName())&&void 0!==o?o:"",t.tooltipColor=t.tooltipColor,t.shadowColor=e.parentSurface.themeProvider.shadowEffectColor,t.tooltip=new v.RolloverTooltipSvgAnnotation(t,{seriesType:e.type,placementDivId:i}),t.tooltip.xAxisId=e.xAxisId,t.tooltip.yAxisId=e.yAxisId),e.type!==u.ESeriesType.BandSeries||(r.marker||(r.marker=new g.RolloverMarkerSvgAnnotation(r),r.marker.xAxisId=e.xAxisId,r.marker.yAxisId=e.yAxisId),r.tooltip||(r.tooltipTitle=null!==(s=null!==(a=r.tooltipTitle)&&void 0!==a?a:e.getDataSeriesName())&&void 0!==s?s:"",r.tooltipColor=r.tooltipColor,r.tooltip=new v.RolloverTooltipSvgAnnotation(r,{placementDivId:i}),r.tooltip.xAxisId=e.xAxisId,r.tooltip.yAxisId=e.yAxisId))};t.updateRolloverModifierProps=function(e,t,r,i,n,o){e.tooltip.seriesInfo=r.seriesInfo,r.isY1&&(e.tooltip.seriesInfo.isFirstSeries=!1),n&&(e.marker.isHidden=!1,e.marker.x1=r.xValue,e.marker.y1=r.yValue,e.markerColor.startsWith(p.AUTO_COLOR)&&(e.markerColor=r.isY1?t.strokeY1:t.stroke)),i?(e.tooltip.isHidden=!1,e.tooltip.x1=r.xValue,e.tooltip.y1=r.yValue,e.tooltip.xCoordShift=r.xCoordShift,e.tooltip.yCoordShift=r.yCoordShift,e.tooltipColor.startsWith(p.AUTO_COLOR)&&(e.tooltipColor=r.isY1?t.strokeY1:t.stroke)):o&&e.tooltip.delete()}},36071:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.getRubberBandRect=t.RubberBandXyZoomModifier=void 0;var o=r(19513),a=r(94694),s=r(48484),l=r(47494),u=r(81751),c=r(24510),d=r(81762),p=r(79361),h=r(1590),f=r(93551),y=r(55356),g=function(e){function RubberBandXyZoomModifier(t){var r,i,n,a,s,l,c=this;return(c=e.call(this,t)||this).type=u.EChart2DModifierType.RubberBandXYZoom,c.isAnimated=!0,c.animationDuration=400,c.easingFunction=o.easing.outExpo,c.isClicked=!1,c.fillProperty="#42b64933",c.strokeProperty="#42b64977",c.strokeThicknessProperty=2,c.fill=null!==(r=null==t?void 0:t.fill)&&void 0!==r?r:c.fillProperty,c.stroke=null!==(i=null==t?void 0:t.stroke)&&void 0!==i?i:c.strokeProperty,c.strokeThickness=null!==(n=null==t?void 0:t.strokeThickness)&&void 0!==n?n:c.strokeThicknessProperty,c.isAnimated=null===(a=null==t?void 0:t.isAnimated)||void 0===a||a,c.animationDuration=null!==(s=null==t?void 0:t.animationDuration)&&void 0!==s?s:400,(null==t?void 0:t.easingFunction)&&"string"==typeof t.easingFunction&&(t.easingFunction=o.easing[t.easingFunction]),c.easingFunction=null!==(l=null==t?void 0:t.easingFunction)&&void 0!==l?l:o.easing.outExpo,c}return n(RubberBandXyZoomModifier,e),RubberBandXyZoomModifier.prototype.applyTheme=function(e){this.testPropertyChanged(y.PROPERTY.FILL)||(this.fill=e.rubberBandFillBrush),this.testPropertyChanged(y.PROPERTY.STROKE)||(this.stroke=e.rubberBandStrokeBrush)},RubberBandXyZoomModifier.prototype.onDetach=function(){e.prototype.onDetach.call(this),this.rubberBandRect=(0,a.deleteSafe)(this.rubberBandRect)},RubberBandXyZoomModifier.prototype.modifierMouseDown=function(t){if(e.prototype.modifierMouseDown.call(this,t),this.executeOn===t.button){if(!this.isAttached)throw Error("Should not call RubberBandXyZoomModifier.modifierMouseDown if not attached");this.parentSurface.setZoomState(d.EZoomState.UserZooming);var r=(0,p.translateFromCanvasToSeriesViewRect)(t.mousePoint,this.parentSurface.seriesViewRect);r&&(this.pointFrom=r,this.isClicked=!0)}},RubberBandXyZoomModifier.prototype.modifierMouseMove=function(t){e.prototype.modifierMouseMove.call(this,t);var r=this.parentSurface.seriesViewRect;if(this.isClicked){this.pointTo=(0,p.translateFromCanvasToSeriesViewRect)(l.Rect.clipPointToRect(t.mousePoint,r),r);var i=this.parentSurface.getCoordSvgTranslation(),n=getRubberBandRect(this.pointFrom,this.pointTo,this.xyDirection,this.parentSurface.seriesViewRect),o=n.x,a=n.right,s=n.y,u=n.bottom;this.rubberBandRect.isHidden=!1,this.rubberBandRect.x1=(0,p.translateToNotScaled)(o+i.x),this.rubberBandRect.x2=(0,p.translateToNotScaled)(a+i.x),this.rubberBandRect.y1=(0,p.translateToNotScaled)(s+i.y),this.rubberBandRect.y2=(0,p.translateToNotScaled)(u+i.y)}},RubberBandXyZoomModifier.prototype.modifierMouseUp=function(t){if(e.prototype.modifierMouseUp.call(this,t),this.executeOn===t.button&&this.isClicked){var r=this.parentSurface.seriesViewRect;this.pointTo=(0,p.translateFromCanvasToSeriesViewRect)(l.Rect.clipPointToRect(t.mousePoint,r),r);var i=getRubberBandRect(this.pointFrom,this.pointTo,this.xyDirection,this.parentSurface.seriesViewRect),n=i.x,o=i.right,a=i.y,u=i.bottom;this.isClicked=!1,this.rubberBandRect.isHidden=!0,this.calculateDraggedDistance()>RubberBandXyZoomModifier.MIN_DRAG_SENSITIVITY&&this.performZoom(new s.Point(n,a),new s.Point(o,u))}},Object.defineProperty(RubberBandXyZoomModifier.prototype,"strokeThickness",{get:function(){return this.strokeThicknessProperty},set:function(e){this.strokeThicknessProperty=e,this.notifyPropertyChanged(y.PROPERTY.STROKE_THICKNESS)},enumerable:!1,configurable:!0}),Object.defineProperty(RubberBandXyZoomModifier.prototype,"stroke",{get:function(){return this.strokeProperty},set:function(e){this.strokeProperty=e,this.notifyPropertyChanged(y.PROPERTY.STROKE)},enumerable:!1,configurable:!0}),Object.defineProperty(RubberBandXyZoomModifier.prototype,"fill",{get:function(){return this.fillProperty},set:function(e){this.fillProperty=e,this.notifyPropertyChanged(y.PROPERTY.FILL)},enumerable:!1,configurable:!0}),RubberBandXyZoomModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={animationDuration:this.animationDuration,easingFunction:this.easingFunction.name,fill:this.fill,isAnimated:this.isAnimated,stroke:this.stroke,strokeThickness:this.strokeThickness};return Object.assign(t.options,r),t},RubberBandXyZoomModifier.prototype.delete=function(){this.parentSurfaceProperty=void 0,this.rubberBandRect=(0,a.deleteSafe)(this.rubberBandRect),e.prototype.delete.call(this)},RubberBandXyZoomModifier.prototype.performZoom=function(e,t){var r=this,i=[c.EXyDirection.XDirection,c.EXyDirection.XyDirection].includes(this.xyDirection),n=[c.EXyDirection.YDirection,c.EXyDirection.XyDirection].includes(this.xyDirection);this.parentSurface.xAxes.asArray().forEach(function(o){(!o.isVerticalChart&&i||o.isVerticalChart&&n)&&r.performZoomOnAxis(o,o.isVerticalChart?e.y:e.x,o.isVerticalChart?t.y:t.x)}),this.parentSurface.yAxes.asArray().forEach(function(o){(!o.isVerticalChart&&n||o.isVerticalChart&&i)&&r.performZoomOnAxis(o,o.isVerticalChart?e.x:e.y,o.isVerticalChart?t.x:t.y)})},RubberBandXyZoomModifier.prototype.performZoomOnAxis=function(e,t,r){e.zoom(t,r,this.isAnimated?this.animationDuration:0,this.easingFunction)},RubberBandXyZoomModifier.prototype.notifyPropertyChanged=function(t){e.prototype.notifyPropertyChanged.call(this,t),this.updateRubberBandRect()},RubberBandXyZoomModifier.prototype.calculateDraggedDistance=function(){return Math.sqrt(Math.pow(this.pointFrom.x-this.pointTo.x,2)+Math.pow(this.pointFrom.y-this.pointTo.y,2))},RubberBandXyZoomModifier.prototype.updateRubberBandRect=function(){this.parentSurface&&(this.rubberBandRect=(0,a.deleteSafe)(this.rubberBandRect),this.rubberBandRect=new h.RubberBandSvgRect(this.parentSurface.domSvgContainer,this.fill,this.stroke,this.strokeThickness))},RubberBandXyZoomModifier.MIN_DRAG_SENSITIVITY=5,RubberBandXyZoomModifier}(f.ChartModifierBase2D);function getRubberBandRect(e,t,r,i){var n=t.x<=e.x?t.x:e.x,o=t.x<=e.x?e.x:t.x,a=t.y<=e.y?t.y:e.y,u=t.y<=e.y?e.y:t.y;return r===c.EXyDirection.XDirection&&(a=0,u=i.height),r===c.EXyDirection.YDirection&&(n=0,o=i.width),l.Rect.createWithPoints(new s.Point(n,a),new s.Point(o,u))}t.RubberBandXyZoomModifier=g,t.getRubberBandRect=getRubberBandRect},42757:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SeriesSelectionModifier=void 0;var a=r(53247),s=r(35855),l=r(51894),u=r(81751),c=r(70250),d=r(23089),p=r(55325),h=r(98709),f=r(93551),y=r(55356),g=function(e){function SeriesSelectionModifier(t){var r,i,n=this;if((n=e.call(this,t)||this).type=u.EChart2DModifierType.SeriesSelection,n.selectedSeries=[],n.hoveredSeries=[],n.selectionChanged=new s.EventHandler,n.hoverChanged=new s.EventHandler,n.hitTestRadiusProperty=(null==t?void 0:t.hitTestRadius)||d.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS,n.enableSelection=null===(r=null==t?void 0:t.enableSelection)||void 0===r||r,n.enableHover=null!==(i=null==t?void 0:t.enableHover)&&void 0!==i&&i,null==t?void 0:t.onSelectionChanged){if("string"==typeof t.onSelectionChanged){n.typeMap.set("onSelectionChanged",t.onSelectionChanged);var o=(0,a.getFunction)(l.EBaseType.OptionFunction,t.onSelectionChanged);n.selectionChanged.subscribe(o)}else n.selectionChanged.subscribe(t.onSelectionChanged)}if(null==t?void 0:t.onHoverChanged){if("string"==typeof t.onHoverChanged){n.typeMap.set("onHoverChanged",t.onHoverChanged);var c=(0,a.getFunction)(l.EBaseType.OptionFunction,t.onHoverChanged);n.hoverChanged.subscribe(c)}else n.hoverChanged.subscribe(t.onHoverChanged)}return n.updateSeriesSelected=n.updateSeriesSelected.bind(n),n.updateSeriesHovered=n.updateSeriesHovered.bind(n),n.getAllSeries=n.getAllSeries.bind(n),n}return n(SeriesSelectionModifier,e),Object.defineProperty(SeriesSelectionModifier.prototype,"hitTestRadius",{get:function(){return this.hitTestRadiusProperty},set:function(e){this.hitTestRadiusProperty=e,this.notifyPropertyChanged(y.PROPERTY.HIT_TEST_RADIUS)},enumerable:!1,configurable:!0}),SeriesSelectionModifier.prototype.onAttach=function(){var t,r=this;e.prototype.onAttach.call(this),this.selectedSeries=[],null===(t=this.getAllSeries())||void 0===t||t.forEach(function(e){return r.onAttachSeries(e)})},SeriesSelectionModifier.prototype.onDetach=function(){var t,r=this;e.prototype.onDetach.call(this),this.selectedSeries=[],null===(t=this.getAllSeries())||void 0===t||t.forEach(function(e){return r.onDetachSeries(e)})},SeriesSelectionModifier.prototype.onAttachSeries=function(t){e.prototype.onAttachSeries.call(this,t),t.isSelected&&this.selectedSeries.push(t),t.selected.subscribe(this.updateSeriesSelected),t.isHovered&&this.hoveredSeries.push(t),t.hovered.subscribe(this.updateSeriesHovered)},SeriesSelectionModifier.prototype.onDetachSeries=function(t){e.prototype.onDetachSeries.call(this,t),this.selectedSeries=(0,c.arrayRemove)(this.selectedSeries,t),t.selected.unsubscribe(this.updateSeriesSelected),this.hoveredSeries=(0,c.arrayRemove)(this.hoveredSeries,t),t.hovered.unsubscribe(this.updateSeriesHovered)},SeriesSelectionModifier.prototype.modifierMouseDown=function(t){if(e.prototype.modifierMouseDown.call(this,t),this.executeOn===t.button&&!this.isAttached)throw Error("Should not call SeriesSelectionModifier.modifierMouseDown if not attached")},SeriesSelectionModifier.prototype.modifierMouseMove=function(t){var r=this;if(e.prototype.modifierMouseMove.call(this,t),this.enableHover){var i=this.getAllSeries(),n=i.map(function(e){return e.hitTestProvider.hitTest(t.mousePoint.x,t.mousePoint.y,r.hitTestRadius)});try{this.preventReentrancy=!0;var a,s,l=o([],this.hoveredSeries,!0);this.hoveredSeries=[],(null==n?void 0:n.length)>0?((s=n.filter(function(e){return e.isHit}).sort(function(e,t){return e.getEuclideanDistance()-t.getEuclideanDistance()})[0])?(s.associatedSeries.isHovered=!0,this.hoveredSeries.push(s.associatedSeries)):i.forEach(function(e){return e.isHovered=!1}),n.filter(function(e){return e!==s}).forEach(function(e){(null==e?void 0:e.associatedSeries)&&(e.associatedSeries.isHovered=!1)})):i.forEach(function(e){return e.isHovered=!1}),(l.length!==this.hoveredSeries.length||l.some(function(e){return!r.hoveredSeries.includes(e)}))&&(null===(a=this.hoverChanged)||void 0===a||a.raiseEvent(new p.HoveredChangedArgs(this,this.hoveredSeries,i,s)))}finally{this.preventReentrancy=!1}}},SeriesSelectionModifier.prototype.modifierMouseLeave=function(e){this.preventReentrancy=!0;var t,r=this.getAllSeries();o([],this.hoveredSeries,!0).length>0&&(r.forEach(function(e){return e.isHovered=!1}),null===(t=this.hoverChanged)||void 0===t||t.raiseEvent(new p.HoveredChangedArgs(this,this.hoveredSeries,r,void 0))),this.preventReentrancy=!1},SeriesSelectionModifier.prototype.modifierPointerCancel=function(e){this.modifierMouseLeave(e)},SeriesSelectionModifier.prototype.modifierMouseUp=function(t){var r,i=this;if(e.prototype.modifierMouseUp.call(this,t),this.executeOn===t.button&&this.enableSelection){if(!this.isAttached)throw Error("Should not call SeriesSelectionModifier.modifierMouseUp if not attached");var n=this.getAllSeries(),o=n.map(function(e){return e.hitTestProvider.hitTest(t.mousePoint.x,t.mousePoint.y,i.hitTestRadius)});try{this.preventReentrancy=!0,this.selectedSeries=[],n.forEach(function(e){return e.isSelected=!1});var a=void 0;(null==o?void 0:o.length)>0&&(a=o.sort(function(e,t){return e.getEuclideanDistance()-t.getEuclideanDistance()})[0]).isHit&&(a.associatedSeries.isSelected=!0,this.selectedSeries.push(a.associatedSeries)),null===(r=this.selectionChanged)||void 0===r||r.raiseEvent(new h.SelectionChangedArgs(this,this.selectedSeries,n,a))}finally{this.preventReentrancy=!1}}},SeriesSelectionModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={enableHover:this.enableHover,enableSelection:this.enableSelection,hitTestRadius:this.hitTestRadius,onHoverChanged:this.typeMap.get("onHoverChanged"),onSelectionChanged:this.typeMap.get("onSelectionChanged")};return Object.assign(t.options,r),t},SeriesSelectionModifier.prototype.getAllSeries=function(){return e.prototype.getAllSeries.call(this).filter(function(e){return e.isVisible})},SeriesSelectionModifier.prototype.updateSeriesSelected=function(e){var t,r;this.preventReentrancy||(e.isSelected?(this.selectedSeries.push(e.sourceSeries),null===(t=this.selectionChanged)||void 0===t||t.raiseEvent(new h.SelectionChangedArgs(this,this.selectedSeries,this.getAllSeries(),void 0))):(this.selectedSeries=(0,c.arrayRemove)(this.selectedSeries,e.sourceSeries),null===(r=this.selectionChanged)||void 0===r||r.raiseEvent(new h.SelectionChangedArgs(this,this.selectedSeries,this.getAllSeries(),void 0))))},SeriesSelectionModifier.prototype.updateSeriesHovered=function(e){var t,r;this.preventReentrancy||(e.hovered?(this.hoveredSeries.push(e.sourceSeries),null===(t=this.hoverChanged)||void 0===t||t.raiseEvent(new p.HoveredChangedArgs(this,this.hoveredSeries,this.getAllSeries(),void 0))):(this.hoveredSeries=(0,c.arrayRemove)(this.hoveredSeries,e.sourceSeries),null===(r=this.hoverChanged)||void 0===r||r.raiseEvent(new p.HoveredChangedArgs(this,this.hoveredSeries,this.getAllSeries(),void 0))))},SeriesSelectionModifier}(f.ChartModifierBase2D);t.SeriesSelectionModifier=g},55305:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalSliceModifier=void 0;var o=r(20810),a=r(79361),s=r(48484),l=r(55617),u=r(67046),c=r(22148),d=r(55687),p=r(55356),h=r(81751),f=function(e){function VerticalSliceModifier(t){var r,i,n,o=this;return(o=e.call(this,t)||this).xCoordinateModeProperty=c.ECoordinateMode.Pixel,o.isDraggableProperty=!1,o.rmrsProps=new Map,o.rmrsProps1=new Map,o.type=h.EChart2DModifierType.VerticalSlice,o.x1Property=null!==(r=t.x1)&&void 0!==r?r:0,o.mousePosition=l.EMousePosition.SeriesArea,o.xCoordinateModeProperty=null!==(i=t.xCoordinateMode)&&void 0!==i?i:o.xCoordinateModeProperty,o.isDraggableProperty=null!==(n=t.isDraggable)&&void 0!==n?n:o.isDraggableProperty,o.lineSelectionColorProperty=t.lineSelectionColor,o.rolloverLineAnnotation.isEditable=o.isDraggableProperty,o.rolloverLineAnnotation.selectionBoxStroke=o.lineSelectionColor,o}return n(VerticalSliceModifier,e),Object.defineProperty(VerticalSliceModifier.prototype,"x1",{get:function(){return this.x1Property},set:function(e){e!==this.x1Property&&(this.x1Property=e,this.notifyPropertyChanged(p.PROPERTY.X1))},enumerable:!1,configurable:!0}),Object.defineProperty(VerticalSliceModifier.prototype,"xCoordinateMode",{get:function(){return this.xCoordinateModeProperty},set:function(e){e!==this.xCoordinateModeProperty&&(this.xCoordinateModeProperty=e,this.notifyPropertyChanged(p.PROPERTY.X_COORDINATE_MODE))},enumerable:!1,configurable:!0}),Object.defineProperty(VerticalSliceModifier.prototype,"verticalLine",{get:function(){return this.rolloverLineAnnotation},enumerable:!1,configurable:!0}),Object.defineProperty(VerticalSliceModifier.prototype,"isDraggable",{get:function(){return this.isDraggableProperty},set:function(e){e!=this.isDraggableProperty&&(this.isDraggableProperty=e,this.notifyPropertyChanged(p.PROPERTY.IS_DRAGGABLE))},enumerable:!1,configurable:!0}),Object.defineProperty(VerticalSliceModifier.prototype,"lineSelectionColor",{get:function(){return this.lineSelectionColorProperty},set:function(e){e!=this.lineSelectionColorProperty&&(this.lineSelectionColorProperty=e,this.notifyPropertyChanged(p.PROPERTY.LINE_SELECTION_COLOR))},enumerable:!1,configurable:!0}),VerticalSliceModifier.prototype.modifierMouseMove=function(e){if(this.rolloverLineAnnotation.isDraggingStarted){this.mousePoint=new s.Point(e.mousePoint.x,e.mousePoint.y);var t=this.isVerticalChart()?e.mousePoint.y:e.mousePoint.x,r=this.parentSurface.getXAxisById(this.xAxisId),i=r.getCurrentCoordinateCalculator();if(this.xCoordinateMode===c.ECoordinateMode.Pixel)this.x1=Math.min(Math.max(r.viewRect.left,(0,a.translateToNotScaled)(t)),r.viewRect.right);else if(this.xCoordinateMode===c.ECoordinateMode.Relative){var n=(t-(this.isVerticalChart()?r.viewRect.top:r.viewRect.left))/i.viewportDimension;this.x1=Math.min(Math.max(0,n),1)}else{var o=this.isVerticalChart()?(0,a.translateFromCanvasToSeriesViewRectY)(t,this.parentSurface.seriesViewRect):(0,a.translateFromCanvasToSeriesViewRectX)(t,this.parentSurface.seriesViewRect),n=i.getDataValue(o);isNaN(n)||(this.x1=n)}this.update()}},VerticalSliceModifier.prototype.modifierMouseLeave=function(e){},VerticalSliceModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={x1:this.x1,xCoordinateMode:this.xCoordinateMode,isDraggable:this.isDraggable,lineSelectionColor:this.lineSelectionColor};return Object.assign(t.options,r),t},VerticalSliceModifier.prototype.getRolloverProps=function(e){return this.rmrsProps.get(e)},VerticalSliceModifier.prototype.getRolloverProps1=function(e){return this.rmrsProps.get(e)},VerticalSliceModifier.prototype.removeSeriesAnnotationsFromParentSurface=function(t){e.prototype.removeSeriesAnnotationsFromParentSurface.call(this,t),this.rmrsProps.get(t).delete(),this.rmrsProps.delete(t),t.type===d.ESeriesType.BandSeries&&(this.rmrsProps1.get(t).delete(),this.rmrsProps1.delete(t))},VerticalSliceModifier.prototype.addSeriesAnnotationsToParentSurface=function(t){var r=new u.RolloverModifierRenderableSeriesProps(t,!1);if(u.RolloverModifierRenderableSeriesProps.copy(t.rolloverModifierProps,r),this.rmrsProps.set(t,r),t.type===d.ESeriesType.BandSeries){var i=new u.RolloverModifierRenderableSeriesProps(t,!1);u.RolloverModifierRenderableSeriesProps.copy(t.rolloverModifierProps1,i),this.rmrsProps1.set(t,i)}e.prototype.addSeriesAnnotationsToParentSurface.call(this,t)},VerticalSliceModifier.prototype.createLine=function(t){var r=e.prototype.createLine.call(this,t);return r.annotationsGripsRadius=0,r},VerticalSliceModifier.prototype.update=function(){this.calculateXPosition(),this.updateLine(),this.updateSeriesAnnotations(),Array.from(this.rmrsProps.values()).forEach(function(e){e.renderableSeries.isVisible&&e.showRollover||(e.tooltip.isHidden=!0,e.marker.isHidden=!0)}),this.tooltipLegendTemplate&&(this.legendAnnotation.seriesInfos=this.getSeriesInfos())},VerticalSliceModifier.prototype.notifyPropertyChanged=function(t){switch(e.prototype.notifyPropertyChanged.call(this,t),t){case p.PROPERTY.X1:case p.PROPERTY.X_COORDINATE_MODE:this.calculateXPosition();break;case p.PROPERTY.IS_DRAGGABLE:this.rolloverLineAnnotation.isEditable=this.isDraggableProperty}},VerticalSliceModifier.prototype.calculateXPosition=function(){var e=this.parentSurface.getXAxisById(this.xAxisId),t=this.isVerticalChart();if(e){var r=e.getCurrentCoordinateCalculator(),i=this.rolloverLineAnnotation.getCoordinate(this.x1Property,r,this.xCoordinateModeProperty);(this.xCoordinateMode===c.ECoordinateMode.Relative||this.xCoordinateMode===c.ECoordinateMode.DataValue)&&(i+=t?e.viewRect.top:e.viewRect.left);var n=t?this.parentSurface.seriesViewRect.width/2:this.parentSurface.seriesViewRect.height/2;this.mousePoint=t?new s.Point(n,i):new s.Point(i,n)}},VerticalSliceModifier}(o.RolloverModifier);t.VerticalSliceModifier=f},87128:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XAxisDragModifier=void 0;var o=r(24764),a=r(39406),s=r(79361),l=r(73336),u=r(93551),c=r(92530),d=r(81751),p=function(e){function XAxisDragModifier(t){var r,i,n=this;return(n=e.call(this,t)||this).type=d.EChart2DModifierType.XAxisDrag,n.dragMode=a.EDragMode.Scaling,n.isClickedOverXAxis=!1,n.isVerticalChart=!1,n.cursorStyle=o.ECursorStyle.Defalut,n.includedSeriesMapProperty=new Map,n.dragMode=null!==(r=null==t?void 0:t.dragMode)&&void 0!==r?r:n.dragMode,null===(i=null==t?void 0:t.excludedAxisIds)||void 0===i||i.forEach(function(e){n.includedSeriesMapProperty.set(e,!1)}),n}return n(XAxisDragModifier,e),XAxisDragModifier.prototype.includeAxis=function(e,t){c.Guard.notNull(e,"axis"),t||this.includedSeriesMapProperty.set(e.id,t),t&&this.includedSeriesMapProperty.delete(e.id)},XAxisDragModifier.prototype.getIncludedAxis=function(){var e,t,r=this;return null!==(t=null===(e=this.parentSurface)||void 0===e?void 0:e.xAxes.asArray().filter(function(e){return!1!==r.includedSeriesMapProperty.get(e.id)}))&&void 0!==t?t:[]},Object.defineProperty(XAxisDragModifier.prototype,"includedAxisMap",{get:function(){return this.includedSeriesMapProperty},enumerable:!1,configurable:!0}),XAxisDragModifier.prototype.modifierMouseDown=function(t){if(e.prototype.modifierMouseDown.call(this,t),!this.isAttached)throw Error("Should not call XAxisDragModifier.modifierMouseDown if not attached");(0,u.testIsOverAxes)(this.getHorizontalXAxes(),t.mousePoint)?(this.isVerticalChart=!1,this.startDragging(this.getHorizontalXAxes(),t)):(0,u.testIsOverAxes)(this.getVerticalXAxes(),t.mousePoint)&&(this.isVerticalChart=!0,this.startDragging(this.getVerticalXAxes(),t))},XAxisDragModifier.prototype.modifierMouseMove=function(t){this.isClickedOverXAxis?(e.prototype.modifierMouseMove.call(this,t),void 0!==this.pointFrom&&(this.dragMode===a.EDragMode.Panning?this.doPanning(t.mousePoint):this.dragMode===a.EDragMode.Scaling&&this.doScaling(t.mousePoint))):this.updateCursor(t.mousePoint)},XAxisDragModifier.prototype.modifierMouseUp=function(t){e.prototype.modifierMouseUp.call(this,t),this.updateCursor(t.mousePoint),this.pointFrom=void 0,this.isClickedOverXAxis=!1},XAxisDragModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={dragMode:this.dragMode,excludedAxisIds:Array.from(this.includedSeriesMapProperty.entries()).filter(function(e){return!e[1]}).map(function(e){return e[0]})};return Object.assign(t.options,r),t},XAxisDragModifier.prototype.updateCursor=function(e){var t=this.parentSurface.getMainCanvas();(0,u.testIsOverAxes)(this.getHorizontalXAxes(),e)?this.cursorStyle!==o.ECursorStyle.EW&&(t.style.cursor=o.ECursorStyle.EW,this.cursorStyle=o.ECursorStyle.EW):(0,u.testIsOverAxes)(this.getVerticalXAxes(),e)?this.cursorStyle!==o.ECursorStyle.NS&&(t.style.cursor=o.ECursorStyle.NS,this.cursorStyle=o.ECursorStyle.NS):this.cursorStyle!==o.ECursorStyle.Defalut&&(t.style.cursor=o.ECursorStyle.Defalut,this.cursorStyle=o.ECursorStyle.Defalut)},XAxisDragModifier.prototype.doPanning=function(e){if(this.isVerticalChart){var t=e.y-this.pointFrom.y;this.activeAxes.forEach(function(e){var r=e.flippedCoordinates?-t:t;e.scroll(r,l.EClipMode.None)})}else{var r=e.x-this.pointFrom.x;this.activeAxes.forEach(function(e){var t=e.flippedCoordinates?-r:r;e.scroll(t,l.EClipMode.None)})}this.pointFrom=e},XAxisDragModifier.prototype.doScaling=function(e){var t=this.parentSurface.seriesViewRect;if(this.isVerticalChart){var r=(0,s.translateFromCanvasToSeriesViewRectY)(this.pointFrom.y,t)>=t.height/2,i=(e.y-this.pointFrom.y)/t.width;(0,u.scaleAxes)(this.activeAxes,this.initialVisibleRanges,i,r)}else{var r=(0,s.translateFromCanvasToSeriesViewRectX)(this.pointFrom.x,t)>=t.width/2,n=(e.x-this.pointFrom.x)/t.width;(0,u.scaleAxes)(this.activeAxes,this.initialVisibleRanges,n,r)}},XAxisDragModifier.prototype.getHorizontalXAxes=function(){return this.getIncludedAxis().filter(function(e){return e.isHorizontalAxis})},XAxisDragModifier.prototype.getVerticalXAxes=function(){return this.getIncludedAxis().filter(function(e){return!e.isHorizontalAxis})},XAxisDragModifier.prototype.startDragging=function(e,t){this.isClickedOverXAxis=!0;var r=(0,u.getActiveAxes)(e,t.mousePoint),i=[];r.forEach(function(e){i.push(e.visibleRange)}),this.activeAxes=r,this.initialVisibleRanges=i,this.pointFrom=t.mousePoint,t.handled=!0},XAxisDragModifier}(u.ChartModifierBase2D);t.XAxisDragModifier=p},46566:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.YAxisDragModifier=void 0;var o=r(81751),a=r(24764),s=r(39406),l=r(79361),u=r(73336),c=r(93551),d=function(e){function YAxisDragModifier(t){var r,i,n=this;return(n=e.call(this,t)||this).type=o.EChart2DModifierType.YAxisDrag,n.dragMode=s.EDragMode.Scaling,n.isClickedOverYAxis=!1,n.isVerticalChart=!1,n.cursorStyle=a.ECursorStyle.Defalut,n.includedSeriesMapProperty=new Map,n.dragMode=null!==(r=null==t?void 0:t.dragMode)&&void 0!==r?r:n.dragMode,null===(i=null==t?void 0:t.excludedAxisIds)||void 0===i||i.forEach(function(e){n.includedSeriesMapProperty.set(e,!1)}),n}return n(YAxisDragModifier,e),YAxisDragModifier.prototype.includeAxis=function(e,t){t||this.includedSeriesMapProperty.set(e.id,t),t&&this.includedSeriesMapProperty.delete(e.id)},YAxisDragModifier.prototype.getIncludedAxis=function(){var e,t,r=this;return null!==(t=null===(e=this.parentSurface)||void 0===e?void 0:e.yAxes.asArray().filter(function(e){return!1!==r.includedSeriesMapProperty.get(e.id)}))&&void 0!==t?t:[]},Object.defineProperty(YAxisDragModifier.prototype,"includedAxisMap",{get:function(){return this.includedSeriesMapProperty},enumerable:!1,configurable:!0}),YAxisDragModifier.prototype.modifierMouseDown=function(t){if(e.prototype.modifierMouseDown.call(this,t),!this.isAttached)throw Error("Should not call YAxisDragModifier.modifierMouseDown if not attached");(0,c.testIsOverAxes)(this.getVerticalYAxes(),t.mousePoint)?(this.isVerticalChart=!1,this.startDragging(this.getVerticalYAxes(),t)):(0,c.testIsOverAxes)(this.getHorizontalYAxes(),t.mousePoint)&&(this.isVerticalChart=!0,this.startDragging(this.getHorizontalYAxes(),t))},YAxisDragModifier.prototype.modifierMouseMove=function(t){this.isClickedOverYAxis?(e.prototype.modifierMouseMove.call(this,t),void 0!==this.pointFrom&&(this.dragMode===s.EDragMode.Panning?this.doPanning(t.mousePoint):this.dragMode===s.EDragMode.Scaling&&this.doScaling(t.mousePoint))):this.updateCursor(t.mousePoint)},YAxisDragModifier.prototype.modifierMouseUp=function(t){e.prototype.modifierMouseUp.call(this,t),this.updateCursor(t.mousePoint),this.pointFrom=void 0,this.isClickedOverYAxis=!1},YAxisDragModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={dragMode:this.dragMode,excludedAxisIds:Array.from(this.includedSeriesMapProperty.entries()).filter(function(e){return!e[1]}).map(function(e){return e[0]})};return Object.assign(t.options,r),t},YAxisDragModifier.prototype.updateCursor=function(e){var t=this.parentSurface.getMainCanvas();(0,c.testIsOverAxes)(this.getVerticalYAxes(),e)?this.cursorStyle!==a.ECursorStyle.NS&&(t.style.cursor=a.ECursorStyle.NS,this.cursorStyle=a.ECursorStyle.NS):(0,c.testIsOverAxes)(this.getHorizontalYAxes(),e)?this.cursorStyle!==a.ECursorStyle.EW&&(t.style.cursor=a.ECursorStyle.EW,this.cursorStyle=a.ECursorStyle.EW):this.cursorStyle!==a.ECursorStyle.Defalut&&(t.style.cursor=a.ECursorStyle.Defalut,this.cursorStyle=a.ECursorStyle.Defalut)},YAxisDragModifier.prototype.doPanning=function(e){if(this.isVerticalChart){var t=e.x-this.pointFrom.x;this.activeAxes.forEach(function(e){var r=e.flippedCoordinates?t:-t;e.scroll(r,u.EClipMode.None)})}else{var r=e.y-this.pointFrom.y;this.activeAxes.forEach(function(e){var t=e.flippedCoordinates?r:-r;e.scroll(t,u.EClipMode.None)})}this.pointFrom=e},YAxisDragModifier.prototype.doScaling=function(e){var t=this.parentSurface.seriesViewRect;if(this.isVerticalChart){var r=(0,l.translateFromCanvasToSeriesViewRectX)(this.pointFrom.x,t)<=t.width/2,i=-(e.x-this.pointFrom.x)/t.width;(0,c.scaleAxes)(this.activeAxes,this.initialVisibleRanges,i,r)}else{var r=(0,l.translateFromCanvasToSeriesViewRectY)(this.pointFrom.y,t)<=t.height/2,n=-(e.y-this.pointFrom.y)/t.height;(0,c.scaleAxes)(this.activeAxes,this.initialVisibleRanges,n,r)}},YAxisDragModifier.prototype.getVerticalYAxes=function(){return this.getIncludedAxis().filter(function(e){return!e.isHorizontalAxis})},YAxisDragModifier.prototype.getHorizontalYAxes=function(){return this.getIncludedAxis().filter(function(e){return e.isHorizontalAxis})},YAxisDragModifier.prototype.startDragging=function(e,t){this.isClickedOverYAxis=!0;var r=(0,c.getActiveAxes)(e,t.mousePoint),i=[];r.forEach(function(e){i.push(e.visibleRange)}),this.activeAxes=r,this.initialVisibleRanges=i,this.pointFrom=t.mousePoint,t.handled=!0},YAxisDragModifier}(c.ChartModifierBase2D);t.YAxisDragModifier=d},95412:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomExtentsModifier=void 0;var o=r(53247),a=r(19513),s=r(51894),l=r(81751),u=r(24510),c=r(81762),d=r(79361),p=r(93551),h=function(e){function ZoomExtentsModifier(t){var r,i,n,u,c,d=this;return(d=e.call(this,t)||this).type=l.EChart2DModifierType.ZoomExtents,d.isAnimated=!0,d.animationDuration=400,d.easingFunction=a.easing.outExpo,d.applyToSeriesViewRect=!0,d.applyToAxes=!0,d.isAnimated=null!==(r=null==t?void 0:t.isAnimated)&&void 0!==r?r:d.isAnimated,d.animationDuration=null!==(i=null==t?void 0:t.animationDuration)&&void 0!==i?i:d.animationDuration,d.applyToSeriesViewRect=null!==(n=null==t?void 0:t.applyToSeriesViewRect)&&void 0!==n?n:d.applyToSeriesViewRect,d.applyToAxes=null!==(u=null==t?void 0:t.applyToAxes)&&void 0!==u?u:d.applyToAxes,(null==t?void 0:t.easingFunction)&&"string"==typeof t.easingFunction&&(t.easingFunction=a.easing[t.easingFunction]),d.easingFunction=null!==(c=null==t?void 0:t.easingFunction)&&void 0!==c?c:a.easing.outExpo,(null==t?void 0:t.onZoomExtents)&&"string"==typeof t.onZoomExtents&&(d.typeMap.set("onZoomExtents",t.onZoomExtents),t.onZoomExtents=(0,o.getFunction)(s.EBaseType.OptionFunction,t.onZoomExtents)),d.onZoomExtents=null==t?void 0:t.onZoomExtents,d}return n(ZoomExtentsModifier,e),ZoomExtentsModifier.prototype.modifierDoubleClick=function(e){var t=this,r=this.parentSurface,i=this.isAnimated?this.animationDuration:0;if(void 0!==r){if((0,d.translateFromCanvasToSeriesViewRect)(e.mousePoint,this.parentSurface.seriesViewRect)&&this.applyToSeriesViewRect){if(!this.onZoomExtents||this.onZoomExtents(r)){switch(this.xyDirection){case u.EXyDirection.XyDirection:r.zoomExtents(i,this.easingFunction,function(){return r.setZoomState(c.EZoomState.AtExtents)});break;case u.EXyDirection.XDirection:r.zoomExtentsX(i,this.easingFunction);break;case u.EXyDirection.YDirection:r.zoomExtentsY(i,this.easingFunction)}e.handled=!0}}else if(this.applyToAxes){var n=[];[u.EXyDirection.XDirection,u.EXyDirection.XyDirection].includes(this.xyDirection)&&n.push.apply(n,this.parentSurface.xAxes.asArray()),[u.EXyDirection.YDirection,u.EXyDirection.XyDirection].includes(this.xyDirection)&&n.push.apply(n,this.parentSurface.yAxes.asArray());var o=(0,p.getActiveAxes)(n,e.mousePoint);o.length>0&&(e.handled=!0,o.forEach(function(e){if(e.isXAxis){var r=e.getMaximumRange();e.animateVisibleRange(r,i,t.easingFunction)}else{var n=e.getWindowedYRange(void 0);e.animateVisibleRange(n,i,t.easingFunction)}}))}}},ZoomExtentsModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={animationDuration:this.animationDuration,easingFunction:this.easingFunction.name,isAnimated:this.isAnimated,applyToSeriesViewRect:this.applyToSeriesViewRect,applyToAxes:this.applyToAxes,onZoomExtents:this.typeMap.get("onZoomExtents")};return Object.assign(t.options,r),t},ZoomExtentsModifier}(p.ChartModifierBase2D);t.ZoomExtentsModifier=h},33883:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ZoomPanModifier=void 0;var o=r(81751),a=r(24510),s=r(81762),l=r(79361),u=r(73336),c=function(e){function ZoomPanModifier(t){var r,i=this;return(i=e.call(this,t)||this).enableZoom=!1,i.type=o.EChart2DModifierType.ZoomPan,i.enableZoom=null!==(r=null==t?void 0:t.enableZoom)&&void 0!==r?r:i.enableZoom,i}return n(ZoomPanModifier,e),ZoomPanModifier.prototype.modifierMouseDown=function(t){if(t.nativeEvent.preventDefault(),this.executeOn===t.button){if(!this.isAttached)throw Error("Should not call ZoomPanModifier.modifierMouseDown if not attached");e.prototype.modifierMouseDown.call(this,t),(0,l.translateFromCanvasToSeriesViewRect)(t.mousePoint,this.parentSurface.seriesViewRect)&&(this.activePointerEvents.set(t.pointerId,t),this.parentSurface.setZoomState(s.EZoomState.UserZooming))}},ZoomPanModifier.prototype.modifierMouseMove=function(t){this.updatePointerInfo(t),this.previousPoint&&(this.enableZoom&&e.prototype.getIsActionAllowed.call(this,t)&&e.prototype.performModifierAction.call(this,t),this.getIsActionAllowed(t)&&this.performModifierAction(t))},ZoomPanModifier.prototype.modifierMouseUp=function(t){if(e.prototype.modifierMouseUp.call(this,t),this.activePointerEvents.size>0){var r=this.activePointerEvents.values().next().value;t.target.setPointerCapture(r.pointerId)}},ZoomPanModifier.prototype.modifierPointerCancel=function(t){e.prototype.modifierPointerCancel.call(this,t),this.activePointerEvents.clear()},ZoomPanModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={enableZoom:this.enableZoom};return Object.assign(t.options,r),t},ZoomPanModifier.prototype.performModifierAction=function(e){var t=e.mousePoint,r=t.x-this.previousPoint.x,i=this.previousPoint.y-t.y;this.performPan(r,i)},ZoomPanModifier.prototype.getIsActionAllowed=function(e){return this.activePointerEvents.values().next().value.pointerId===e.pointerId},ZoomPanModifier.prototype.performPan=function(e,t){[a.EXyDirection.XDirection,a.EXyDirection.XyDirection].includes(this.xyDirection)&&this.getIncludedXAxis().forEach(function(r){var i=r.isHorizontalAxis?e:-t;r.scroll(r.flippedCoordinates?-i:i,u.EClipMode.None)}),[a.EXyDirection.YDirection,a.EXyDirection.XyDirection].includes(this.xyDirection)&&this.getIncludedYAxis().forEach(function(r){var i=r.isHorizontalAxis?-e:t;r.scroll(r.flippedCoordinates?-i:i,u.EClipMode.None)})},ZoomPanModifier}(r(49193).PinchZoomModifier);t.ZoomPanModifier=c},55356:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).ALLOWS_MULTI_SELECTION="ALLOWS_MULTI_SELECTION",r.ALLOW_TOOLTIP_OVERLAPPING="ALLOW_TOOLTIP_OVERLAPPING",r.CROSSHAIR_STROKE="CROSSHAIR_STROKE",r.EXECUTE_ON="EXECUTE_ON",r.FILL="FILL",r.HIT_TEST_RADIUS="HIT_TEST_RADIUS",r.IS_ATTACHED="IS_ATTACHED",r.IS_ENABLED="IS_ENABLED",r.PARENT_SURFACE="PARENT_SURFACE",r.RECEIVE_HANDLED_EVENTS="RECEIVE_HANDLED_EVENTS",r.SHOW_ROLLOVER_LINE="SHOW_ROLLOVER_LINE",r.SHOW_TOOLTIP="SHOW_TOOLTIP",r.SELECTED_AREA="SELECTED_AREA",r.SELECTION_FILL="SELECTION_FILL",r.SELECTION_STROKE="SELECTION_STROKE",r.SELECTION_STROKE_THICKNESS="SELECTION_STROKE_THICKNESS",r.STROKE="STROKE",r.STROKE_THICKNESS="STROKE_THICKNESS",r.STROKE_DASH_ARRAY="STROKE_DASH_ARRAY",r.TOOLTIP_DATA_TEMPLATE="TOOLTIP_DATA_TEMPLATE",r.X_AXIS_ID="X_AXIS_ID",r.Y_AXIS_ID="Y_AXIS_ID",r.PLACEMENT_DIV_ID="PLACEMENT_DIV_ID",r.X_LINE="X_LINE",r.Y_LINE="Y_LINE",r.AXIS_LABELS="AXIS_LABELS",r.X1="X1",r.X_COORDINATE_MODE="X_COORDINATE_MODE",r.IS_DRAGGABLE="IS_DRAGGABLE",r.LINE_ANNOTATIONS_OPTIONS="LINE_ANNOTATIONS_OPTIONS",r.LINE_SELECTION_COLOR="LINE_SELECTION_COLOR",r.TOOLTIP_SHADOW="TOOLTIP_SHADOW"},95456:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCache=void 0;var o=r(15492),a=r(94694);r(29502);var s=r(21075),l=function(e){function BaseCache(t){var r=e.call(this)||this;return r.webAssemblyContext=t,t&&s.WebGlRenderContext2D.webGlResourcesRefs.add(r),r}return n(BaseCache,e),Object.defineProperty(BaseCache.prototype,"value",{get:function(){return this.cachedEntity},enumerable:!1,configurable:!0}),BaseCache.prototype.invalidateCache=function(){this.cachedEntity=(0,a.deleteSafe)(this.cachedEntity)},BaseCache.prototype.resetCache=function(){this.invalidateCache()},BaseCache.prototype.delete=function(){this.cachedEntity=(0,a.deleteSafe)(this.cachedEntity),s.WebGlRenderContext2D.webGlResourcesRefs.delete(this),this.webAssemblyContext=void 0},BaseCache}(o.DeletableEntity);t.BaseCache=l},44258:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BatchRenderContext=void 0;var o=function(e){function BatchRenderContext(){var t=null!==e&&e.apply(this,arguments)||this;return t.doDraw=!1,t}return n(BatchRenderContext,e),BatchRenderContext.prototype.drawLayers=function(){this.doDraw&&e.prototype.drawLayers.call(this)},BatchRenderContext.prototype.endFonts=function(t){void 0===t&&(t=!1),(this.doDraw||t)&&e.prototype.endFonts.call(this)},BatchRenderContext}(r(21075).WebGlRenderContext2D);t.BatchRenderContext=o},12840:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.createBrushInCache=t.getScrtBrushFromCache=t.getWebGlBrushFromCache=t.BrushCache=void 0;var o=r(94694),a=r(92530),s=r(6680),l=r(56210),u=r(95456),c=r(5237),d=function(e){function BrushCache(){return null!==e&&e.apply(this,arguments)||this}return n(BrushCache,e),Object.defineProperty(BrushCache.prototype,"value",{get:function(){return!this.cachedEntity&&(this.fill||this.fillLinearGradient)&&(this.cachedEntity=this.create(this.fill,this.opacity,this.textureHeightRatio,this.textureWidthRatio,this.fillLinearGradient)),this.cachedEntity},enumerable:!1,configurable:!0}),BrushCache.prototype.create=function(e,t,r,i,n){if(this.cachedEntity&&e===this.fill&&t===this.opacity&&r===this.textureHeightRatio&&i===this.textureWidthRatio&&n===this.fillLinearGradient)return this.cachedEntity;this.invalidateCache(),this.fill=e,this.opacity=t,this.textureHeightRatio=r,this.textureWidthRatio=i,this.fillLinearGradient=n;var o=n?this.createGradientBrush():this.createSolidBrush(e,t);return this.cachedEntity=new c.WebGlBrush(o)},BrushCache.prototype.invalidateCache=function(){e.prototype.invalidateCache.call(this),this.canvasTexture=(0,o.deleteSafe)(this.canvasTexture)},BrushCache.prototype.reset=function(){this.invalidateCache(),this.fill=void 0,this.opacity=void 0,this.fillLinearGradient=void 0},BrushCache.prototype.delete=function(){this.invalidateCache()},BrushCache.prototype.createSolidBrush=function(e,t){return(0,s.createSolidBrush)(this.webAssemblyContext,e,t)},BrushCache.prototype.createGradientBrush=function(){var e=this.createGradientTexture().getTexture();return new this.webAssemblyContext.SCRTTextureBrush(e,this.webAssemblyContext.eSCRTBrushMappingMode.PerPrimitive,1)},BrushCache.prototype.createGradientTexture=function(){a.Guard.notNull(this.fillLinearGradient,"fillLinearGradient");var e=this.fillLinearGradient,t=e.startPoint,r=e.endPoint,i=e.gradientStops;this.canvasTexture=new l.CanvasTexture(this.webAssemblyContext,256,256),this.canvasTexture.clear();var n=this.canvasTexture.getContext(),o=convertRelativeToAbsolute(t.x,256*this.textureWidthRatio),s=convertRelativeToAbsolute(t.y,256*this.textureHeightRatio),u=convertRelativeToAbsolute(r.x,256*this.textureWidthRatio),c=convertRelativeToAbsolute(r.y,256*this.textureHeightRatio),d=n.createLinearGradient(o,s,u,c);return i.forEach(function(e){d.addColorStop(e.offset,e.color)}),n.fillStyle=d,n.fillRect(0,0,256,256),this.canvasTexture.copyTexture(),this.canvasTexture},BrushCache}(u.BaseCache);t.BrushCache=d,t.getWebGlBrushFromCache=function(e){return a.Guard.notNull(e,"cache"),e.value},t.getScrtBrushFromCache=function(e){var r=(0,t.getWebGlBrushFromCache)(e);return null==r?void 0:r.scrtBrush},t.createBrushInCache=function(e,t,r,i,n,o){return a.Guard.notNull(e,"brushCache"),e.create(t,r,i,n,o).scrtBrush};var convertRelativeToAbsolute=function(e,t){return e*t}},13120:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.PaletteCache=void 0;var o=r(94694),a=function(e){function PaletteCache(){return null!==e&&e.apply(this,arguments)||this}return n(PaletteCache,e),Object.defineProperty(PaletteCache.prototype,"value",{get:function(){return!this.cachedEntity&&this.fillColors&&(this.cachedEntity=this.create(this.fillColors)),this.cachedEntity},enumerable:!1,configurable:!0}),PaletteCache.prototype.create=function(e){return this.cachedEntity&&e===this.fillColors?this.cachedEntity:((0,o.deleteSafe)(this.cachedEntity),this.fillColors=e,this.cachedEntity=new this.webAssemblyContext.SCRTCreatePalette(e))},PaletteCache.prototype.reset=function(){this.invalidateCache(),this.fillColors=void 0},PaletteCache}(r(95456).BaseCache);t.PaletteCache=a},8355:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.createPenInCache=t.getScrtPenFromCache=t.getWebGlPenFromCache=t.Pen2DCache=void 0;var o=r(94694),a=r(92530),s=r(70250),l=r(48053),u=r(42277),c=r(91462),d=r(95456),p=r(4863),h=function(e){function Pen2DCache(){return null!==e&&e.apply(this,arguments)||this}return n(Pen2DCache,e),Object.defineProperty(Pen2DCache.prototype,"value",{get:function(){if(!this.cachedEntity&&this.stroke){var e=this.stroke,t=this.strokeThickness,r=this.strokeDashArray,i=this.antiAliased,n=this.opacity;this.cachedEntity=this.create({stroke:e,strokeThickness:t,strokeDashArray:r,antiAliased:i,opacity:n})}return this.cachedEntity},enumerable:!1,configurable:!0}),Pen2DCache.prototype.create=function(e){var t=e.stroke,r=e.strokeThickness,i=void 0===r?1:r,n=e.strokeDashArray,a=e.antiAliased,d=void 0===a||a,h=e.opacity,f=void 0===h?1:h,y=c.DpiHelper.adjustStrokeSize({strokeThickness:i,strokeDashArray:n}),g=y.strokeThickness,v=y.strokeDashArray;if(this.cachedEntity&&t===this.stroke&&g===this.adjustedStrokeThickness&&d===this.antiAliased&&(0,s.areArraysEqual)(v,this.adjustedStrokeDashArray))return f!==this.opacity&&(this.opacity=f,this.cachedEntity.setOpacity(f)),this.strokeThickness=i,this.strokeDashArray=n,this.cachedEntity;(0,o.deleteSafe)(this.cachedEntity),this.stroke=t,this.opacity=f,this.antiAliased=d,this.strokeThickness=i,this.adjustedStrokeThickness=g,this.strokeDashArray=n,this.adjustedStrokeDashArray=v;var m=(0,u.createSCRTPen)(this.webAssemblyContext,t,g,f,v,d);return this.cachedEntity=new p.WebGlPen(m,(0,l.parseColorToUIntArgb)(t))},Pen2DCache}(d.BaseCache);t.Pen2DCache=h,t.getWebGlPenFromCache=function(e){return a.Guard.notNull(e,"penCache"),e.value},t.getScrtPenFromCache=function(e){var r=(0,t.getWebGlPenFromCache)(e);return null==r?void 0:r.scrtPen},t.createPenInCache=function(e,t,r,i,n,o){return a.Guard.notNull(e,"penCache"),e.create({stroke:t,strokeThickness:r,opacity:i,strokeDashArray:n,antiAliased:o}).scrtPen}},96747:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderContext2D=void 0;var r=function(){function RenderContext2D(e){this.canvas2D=e,this.ctx2D=e.getContext("2d")}return RenderContext2D.prototype.drawRect=function(e,t,r,i,n){void 0===n&&(n="rgba(211,211,211,0.5)"),this.clear(),this.ctx2D.fillStyle=n,this.ctx2D.fillRect(e,t,r,i)},RenderContext2D.prototype.drawCircle=function(e,t,r,i){this.clear(),this.ctx2D.beginPath(),this.ctx2D.arc(e,t,r,0,2*Math.PI,!1),this.ctx2D.fillStyle=i,this.ctx2D.fill(),this.ctx2D.lineWidth=0,this.ctx2D.strokeStyle=i,this.ctx2D.stroke()},RenderContext2D.prototype.clear=function(){this.ctx2D.clearRect(0,0,this.canvas2D.width,this.canvas2D.height)},RenderContext2D}();t.RenderContext2D=r},37129:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderSurface=void 0;var i=r(2003),n=r(20342),o=r(21075),a=function(){function RenderSurface(e,t,r){this.webAssemblyContext=e,this.viewportSize=t,this.canvasId=r}return RenderSurface.prototype.getRenderContext=function(){return this.renderContextProperty||(this.renderContextProperty=new o.WebGlRenderContext2D(this.webAssemblyContext,this.viewportSize,this.canvasId)),this.renderContextProperty},RenderSurface.prototype.invalidateElement=function(e){var t;i.IS_TEST_ENV||(null===(t=n.WebGlHelper.getContext(this.webAssemblyContext.canvas))||void 0===t?void 0:t.isContextLost())||this.webAssemblyContext.TSRRequestCanvasDraw(e)},RenderSurface.prototype.onRenderTimeElapsed=function(){this.handleDraw(),this.renderContextProperty=void 0},RenderSurface}();t.RenderSurface=a},92346:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SolidBrushCache=void 0;var o=r(15492),a=r(94694),s=r(48053),l=function(e){function SolidBrushCache(t){var r=e.call(this)||this;return r.webAssemblyContext=t,r}return n(SolidBrushCache,e),SolidBrushCache.prototype.newBrush=function(e,t){return void 0===t&&(t=!1),this.brush&&e===this.color&&t===this.transparent||(this.brush&&this.brush.delete(),this.color=e,this.transparent=t,this.brush=new this.webAssemblyContext.SCRTSolidBrush((0,s.parseColorToUIntArgb)(e),t)),this.brush},SolidBrushCache.prototype.delete=function(){this.brush=(0,a.deleteSafe)(this.brush),this.webAssemblyContext=void 0},SolidBrushCache}(o.DeletableEntity);t.SolidBrushCache=l},3080:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.TextureCache=void 0;var o=r(94694),a=function(e){function TextureCache(t){var r=e.call(this,t)||this;return r.wasmContext=t,r}return n(TextureCache,e),Object.defineProperty(TextureCache.prototype,"value",{get:function(){return!this.cachedEntity&&this.textureFormat&&(this.cachedEntity=this.create(this.width,this.height,this.textureFormat)),this.cachedEntity},enumerable:!1,configurable:!0}),TextureCache.prototype.create=function(e,t,r){return this.cachedEntity&&e===this.width&&t===this.height&&r===this.textureFormat||(this.cachedEntity=(0,o.deleteSafe)(this.cachedEntity),this.width=e,this.height=t,this.textureFormat=r,this.cachedEntity=this.wasmContext.SCRTCreateBitmapTexture(this.width,this.height,r)),this.cachedEntity},TextureCache.prototype.resetCache=function(){this.invalidateCache(),this.width=void 0,this.height=void 0,this.textureFormat=void 0},TextureCache}(r(95456).BaseCache);t.TextureCache=a},5237:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGlBrush=void 0;var o=r(15492),a=r(94694),s=r(31765),l=function(e){function WebGlBrush(t){var r=e.call(this)||this;return r.scrtBrushProperty=t,r}return n(WebGlBrush,e),Object.defineProperty(WebGlBrush.prototype,"scrtBrush",{get:function(){return this.scrtBrushProperty},enumerable:!1,configurable:!0}),WebGlBrush.prototype.delete=function(){this.scrtBrushProperty=(0,a.deleteSafe)(this.scrtBrushProperty)},WebGlBrush.prototype.getBrushType=function(){return s.EDrawingTypes.WasmBrush},WebGlBrush.prototype.setOpacity=function(e){var t;null===(t=this.scrtBrushProperty)||void 0===t||t.SetOpacity(e)},WebGlBrush}(o.DeletableEntity);t.WebGlBrush=l},4863:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGlPen=void 0;var o=r(2003),a=r(15492),s=r(94694),l=r(13973),u=r(31765),c=function(e){function WebGlPen(t,r){var i=e.call(this)||this;return i.scrtPenProperty=t,i.originalColor=null!=r?r:null==t?void 0:t.m_uiColor,i}return n(WebGlPen,e),Object.defineProperty(WebGlPen.prototype,"scrtPen",{get:function(){return this.scrtPenProperty},enumerable:!1,configurable:!0}),WebGlPen.prototype.delete=function(){this.scrtPenProperty=(0,s.deleteSafe)(this.scrtPenProperty)},WebGlPen.prototype.getPenType=function(){return u.EDrawingTypes.WasmPen},WebGlPen.prototype.setOpacity=function(e){o.IS_TEST_ENV||(this.scrtPen.m_uiColor=(0,l.uintArgbColorMultiplyOpacity)(this.originalColor,e))},WebGlPen}(a.DeletableEntity);t.WebGlPen=c},21075:function(e,t,r){"use strict";var i,n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.WebGlRenderContext2D=t.ELineDrawMode=t.calculateAbsoluteRenderLayer=void 0;var s=r(2003),l=r(92530);r(48053);var u=r(49033),c=r(94485);r(5237),r(4863);var d=r(15492);t.calculateAbsoluteRenderLayer=function(e,t,r){return e+r*t},(i=o=t.ELineDrawMode||(t.ELineDrawMode={}))[i.PolyLine=0]="PolyLine",i[i.DiscontinuousLine=1]="DiscontinuousLine";var p=function(e){function WebGlRenderContext2D(t,r,i){var n=e.call(this)||this;return n.layers={},n.effects=[],n.webAssemblyContext=t,n.viewportSize=r,n.canvasId=i,n}return a(WebGlRenderContext2D,e),WebGlRenderContext2D.prototype.getNativeContext=function(){return this.nativeContext||(this.nativeContext=this.webAssemblyContext.SCRTGetMainRenderContext2D()),this.nativeContext},WebGlRenderContext2D.prototype.drawLinesNative=function(e,t,r,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var a=r===o.PolyLine,s=this.getNativeContext();s.PushMatrix(),s.Translate(i,n),s.DrawLinesBatchVec(a,e,t),s.PopMatrix()},WebGlRenderContext2D.prototype.drawRects=function(e,t,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=(0,c.getVector4)(this.webAssemblyContext,0,0,0,0),o=this.getNativeContext();o.PushMatrix(),o.Translate(r,i),o.DrawRectsBatchVec(e,t,n),o.PopMatrix()},WebGlRenderContext2D.prototype.enqueueLayeredDraw=function(e,t){this.layers[t]||(this.layers[t]=[]),this.layers[t].push(e)},WebGlRenderContext2D.prototype.drawLayers=function(){Object.values(this.layers).forEach(function(e){e.forEach(function(e){return e()})})},WebGlRenderContext2D.prototype.pushShaderEffect=function(e){e&&(this.effects.push(e),s.IS_TEST_ENV||this.getNativeContext().AddSeriesEffect(e.getNativeEffect()))},WebGlRenderContext2D.prototype.popShaderEffect=function(){var e=this.effects.pop();e&&!s.IS_TEST_ENV&&this.getNativeContext().RemoveSeriesEffect(e.getNativeEffect())},WebGlRenderContext2D.prototype.createPen=function(e,t,r,i){throw void 0===r&&(r=[]),void 0===i&&(i=!0),Error("Use Pen2DCache for creating pens instead!")},WebGlRenderContext2D.prototype.createSolidBrush=function(e,t){throw Error("Use BrushCache for creating brushes instead!")},WebGlRenderContext2D.prototype.delete=function(){},WebGlRenderContext2D.prototype.drawLine=function(e,t,r,i,n,o){if(e||t||r||i){l.Guard.notNull(n,"pen"),l.Guard.isTrue("WasmPen"===n.getPenType(),"pen must be an instance of WasmPen to be used with the WasmRenderContext");var a=n.scrtPen;l.Guard.notNull(a,"WasmPen.scrtPen");var s=this.getNativeContext(),u=(0,c.getVectorColorVertex)(this.webAssemblyContext),d=(0,c.getVertex)(this.webAssemblyContext,e,t);u.push_back(d);var p=(0,c.getVertex)(this.webAssemblyContext,r,i);u.push_back(p),s.PushMatrix(),s.PushState(),s.Translate(o.x,o.y),s.SetClipRect(o.x,o.y,o.width,o.height),s.DrawLinesBatchVec(!1,u,a),s.PopMatrix(),s.PopState()}},WebGlRenderContext2D.prototype.drawLines=function(e,t,r,i){void 0===i&&(i=o.PolyLine),l.Guard.notNull(t,"pen"),l.Guard.notNull(e,"xyValues"),l.Guard.isTrue("WasmPen"===t.getPenType(),"pen must be an instance of WasmPen to be used with the WasmRenderContext"),l.Guard.isTrue(e.length>0&&e.length%2==0,"xyValues length must be a multiple of 2, values arranged as x0y0 x1y1 x2y2...");var n=t.scrtPen;l.Guard.notNull(n,"WebGlPen.scrtPen");for(var a=i===o.PolyLine,s=this.getNativeContext(),u=(0,c.getVectorColorVertex)(this.webAssemblyContext),d=0;d<e.length;d+=2){var p=(0,c.getVertex)(this.webAssemblyContext,e[d],e[d+1]);p.m_vPosition.z=0,u.push_back(p)}s.PushMatrix(),s.PushState(),s.Translate(r.x,r.y),s.SetClipRect(r.x,r.y,r.width,r.height),s.DrawLinesBatchVec(a,u,n),s.PopMatrix(),s.PopState()},WebGlRenderContext2D.prototype.drawRect=function(e,t,r,i){if(i){var n=this.getNativeContext(),a=i.scrtBrush;l.Guard.notNull(a,"WebGlBrush.scrtBrush");var s=(0,c.getVectorRectVertex)(this.webAssemblyContext),d=(0,c.getVector4)(this.webAssemblyContext,0,0,0,0),p=(0,u.createNativeRect)(this.webAssemblyContext,e.x,e.y,e.right,e.bottom);s.push_back(p),n.PushMatrix(),n.PushState(),n.Translate(t.x,t.y),n.SetClipRect(t.x,t.y,t.width,t.height),n.DrawRectsBatchVec(s,a,d),n.PopMatrix(),n.PopState()}r&&this.drawLines([e.right,e.top,e.right,e.bottom,e.left,e.bottom,e.left,e.top,e.right,e.top],r,t,o.PolyLine)},WebGlRenderContext2D.prototype.printBlendMode=function(){switch(this.getNativeContext().GetBlendMode()){case this.webAssemblyContext.eSCRTBlendMode.BlendDefault:console.log("BlendDefault");break;case this.webAssemblyContext.eSCRTBlendMode.BlendAdditiveOneAlpha:console.log("BlendAdditiveOneAlpha");break;case this.webAssemblyContext.eSCRTBlendMode.BlendAdditiveColor:console.log("BlendAdditiveColor");break;case this.webAssemblyContext.eSCRTBlendMode.BlendAdditiveAlpha:console.log("BlendAdditiveAlpha");break;case this.webAssemblyContext.eSCRTBlendMode.BlendDisabled:console.log("BlendDisabled");break;default:throw Error("Unhandled blendmode ")}},WebGlRenderContext2D.prototype.getFont=function(e,t,r){var i=this;void 0===t&&(t=!1),void 0===r&&(r=!1);var n=(0,c.getFontKey)(this.webAssemblyContext,e,t,r),o=this.getNativeContext().AquireFont(n);if(o)o.m_isDrawing||o.Begin();else throw Error("Could not create font "+n.m_strName);var a=o.GetFaceName();return"SCRT_Loading"===a?setTimeout(function(){var e;return i.webAssemblyContext.TSRRequestCanvasDraw(null!==(e=i.canvasId)&&void 0!==e?e:"undefinedCanvasId")},100):a===n.m_strName||n.warned||(console.warn("Font ".concat(n.m_strName," could not be found on the server and has not been registered. Falling back to Arial.\n                Use await scichartSurface.registerFont if you need to load the font from a remote url")),n.warned=!0),o},WebGlRenderContext2D.prototype.endFonts=function(e){void 0===e&&(e=!1);for(var t=this.getNativeContext(),r=(0,c.getAllFontKeys)(this.webAssemblyContext),i=0;i<r.length;i++){var n=r[i],o=t.AquireFont(n);o&&o.m_isDrawing&&o.End()}},WebGlRenderContext2D.webGlResourcesRefs=new Set,WebGlRenderContext2D}(d.DeletableEntity);t.WebGlRenderContext2D=p},31765:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EDrawingTypes=void 0,(r=t.EDrawingTypes||(t.EDrawingTypes={})).WasmBrush="WasmBrush",r.WasmPen="WasmPen"},48570:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testLayoutManager=t.getCoordinateWithCoordinateMode=t.getValueWithCoordinateMode=t.updateTopAndBottomChartLayoutState=t.updateLeftAndRightChartLayoutState=t.getVerticalAxisRequiredSize=t.getHorizontalAxisRequiredSize=t.layoutAxisPartsBottomStrategy=t.layoutAxisPartsTopStrategy=t.layoutAxisPartsRightStrategy=t.layoutAxisPartsLeftStrategy=t.layoutAxisParts=t.updateAxisLayoutState=void 0;var i=r(92530),n=r(47494),o=r(63186);function updateAxisLayoutState(e){var t=e.axisRenderer,r=e.axisTitleRenderer,i=e.axisLayoutState,n=e.isHorizontalAxis,o=e.axisBorder;i.clear(),i.axisSize=n?t.desiredHeight+r.desiredHeight:t.desiredWidth+r.desiredWidth,i.additionalBottomSize=o.borderBottom,i.additionalTopSize=o.borderTop,i.additionalRightSize=o.borderRight,i.additionalLeftSize=o.borderLeft}function layoutAxisPartsLeftStrategy(e,t,r,i,o){return{axisTitleRendererViewRect:n.Rect.createWithCoords(o.left,o.top,o.left+r,o.bottom),axisRendererViewRect:n.Rect.createWithCoords(o.left+r,o.top,o.right,o.bottom)}}function layoutAxisPartsRightStrategy(e,t,r,i,o){return{axisRendererViewRect:n.Rect.createWithCoords(o.left,o.top,o.left+e,o.bottom),axisTitleRendererViewRect:n.Rect.createWithCoords(o.left+e,o.top,o.right,o.bottom)}}function layoutAxisPartsTopStrategy(e,t,r,i,o){return{axisTitleRendererViewRect:n.Rect.createWithCoords(o.left,o.top,o.right,o.top+i),axisRendererViewRect:n.Rect.createWithCoords(o.left,o.top+i,o.right,o.bottom)}}function layoutAxisPartsBottomStrategy(e,t,r,i,o){return{axisRendererViewRect:n.Rect.createWithCoords(o.left,o.top,o.right,o.top+t),axisTitleRendererViewRect:n.Rect.createWithCoords(o.left,o.top+t,o.right,o.bottom)}}t.updateAxisLayoutState=updateAxisLayoutState,t.layoutAxisParts=function(e,t){var r=e.isHorizontalAxis,i=e.viewRect,n=e.axisRenderer,o=e.axisTitleRenderer,a=e.axisBorder,s=t(r?i.width:n.desiredWidth,r?n.desiredHeight:i.height,o.desiredWidth,o.desiredHeight,i,a),l=s.axisRendererViewRect,u=s.axisTitleRendererViewRect;n.layout(l),o.layout(u)},t.layoutAxisPartsLeftStrategy=layoutAxisPartsLeftStrategy,t.layoutAxisPartsRightStrategy=layoutAxisPartsRightStrategy,t.layoutAxisPartsTopStrategy=layoutAxisPartsTopStrategy,t.layoutAxisPartsBottomStrategy=layoutAxisPartsBottomStrategy,t.getHorizontalAxisRequiredSize=function(e){return e.axisSize+e.additionalTopSize+e.additionalBottomSize},t.getVerticalAxisRequiredSize=function(e){return e.axisSize+e.additionalLeftSize+e.additionalRightSize},t.updateLeftAndRightChartLayoutState=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0),e.leftOuterAreaSize=Math.max(e.leftOuterAreaSize,t),e.rightOuterAreaSize=Math.max(e.rightOuterAreaSize,r)},t.updateTopAndBottomChartLayoutState=function(e,t,r){void 0===t&&(t=0),void 0===r&&(r=0),e.topOuterAreaSize=Math.max(e.topOuterAreaSize,t),e.bottomOuterAreaSize=Math.max(e.bottomOuterAreaSize,r)},t.getValueWithCoordinateMode=function(e,t,r){switch(r){case o.EInnerAxisPlacementCoordinateMode.Pixel:return t.getDataValue(e);case o.EInnerAxisPlacementCoordinateMode.DataValue:return e;case o.EInnerAxisPlacementCoordinateMode.Relative:return(t.visibleMax-t.visibleMin)*e+t.visibleMin;default:throw Error("CoordinateMode ".concat(r," is not supported"))}},t.getCoordinateWithCoordinateMode=function(e,t,r){switch(i.Guard.notNull(r,"coordinateMode"),i.Guard.notNull(t,"calculator"),r){case o.EInnerAxisPlacementCoordinateMode.Pixel:return e;case o.EInnerAxisPlacementCoordinateMode.DataValue:return t.getCoordinate(e);case o.EInnerAxisPlacementCoordinateMode.Relative:return e*t.viewportDimension;default:throw Error("CoordinateMode ".concat(r," is not supported"))}},t.testLayoutManager={updateAxisLayoutState:updateAxisLayoutState,layoutAxisPartsLeftStrategy:layoutAxisPartsLeftStrategy,layoutAxisPartsRightStrategy:layoutAxisPartsRightStrategy,layoutAxisPartsTopStrategy:layoutAxisPartsTopStrategy,layoutAxisPartsBottomStrategy:layoutAxisPartsBottomStrategy}},57700:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAxisLayoutStrategy=void 0;var i=r(47494),n=r(48570),o=function(){function BaseAxisLayoutStrategy(){this.isStacked=!1}return BaseAxisLayoutStrategy.prototype.toJSON=function(){return{type:this.type}},BaseAxisLayoutStrategy.prototype.layoutAxesFromBottomToTop=function(e,t,r,o,a){var s=this,l=o;a.forEach(function(t){var o=t.axisLayoutState,a=o.axisSize,u=o.additionalTopSize,c=o.additionalBottomSize,d=l-a-c-u;t.viewRect=i.Rect.createWithCoords(e,d+u,r,l-c),l=d,(0,n.layoutAxisParts)(t,s.layoutAxisPartsStrategy)})},BaseAxisLayoutStrategy.prototype.layoutAxesFromTopToBottom=function(e,t,r,o,a){var s=this,l=t;a.forEach(function(t){var o=t.axisLayoutState,a=o.axisSize,u=o.additionalTopSize,c=o.additionalBottomSize,d=l+a+c+u;t.viewRect=i.Rect.createWithCoords(e,l+u,r,d-c),l=d,(0,n.layoutAxisParts)(t,s.layoutAxisPartsStrategy)})},BaseAxisLayoutStrategy.prototype.layoutAxesFromLeftToRight=function(e,t,r,o,a){var s=this,l=e;a.forEach(function(e){var r=e.axisLayoutState,a=r.axisSize,u=r.additionalLeftSize,c=r.additionalRightSize,d=l+a+u+c;e.viewRect=i.Rect.createWithCoords(l+u,t,d-c,o),l=d,(0,n.layoutAxisParts)(e,s.layoutAxisPartsStrategy)})},BaseAxisLayoutStrategy.prototype.layoutAxesFromRightToLeft=function(e,t,r,o,a){var s=this,l=r;a.forEach(function(e){var r=e.axisLayoutState,a=r.axisSize,u=r.additionalLeftSize,c=r.additionalRightSize,d=l-a-u-c;e.viewRect=i.Rect.createWithCoords(d+u,t,l-c,o),l=d,(0,n.layoutAxisParts)(e,s.layoutAxisPartsStrategy)})},BaseAxisLayoutStrategy.prototype.calculateTotalAxisHeight=function(e,t){return parseSize(e.stackedAxisLength,t)+e.axisLayoutState.additionalBottomSize+e.axisLayoutState.additionalTopSize},BaseAxisLayoutStrategy.prototype.calculateTotalAxisWidth=function(e,t){return parseSize(e.stackedAxisLength,t)+e.axisLayoutState.additionalRightSize+e.axisLayoutState.additionalLeftSize},BaseAxisLayoutStrategy}();t.BaseAxisLayoutStrategy=o;var parseSize=function(e,t){if("number"==typeof e){if(e<0)throw Error("stackedAxisLength must be a positive value!");return e}if(e.includes("%"))return parsePc(e,t);var r=parseFloat(e);if(!isNaN(r))return r;throw Error("stackedAxisLength must be a number or a percentage")},parsePc=function(e,t){var r=parseFloat(e);if(r<0||r>100)throw Error("stackedAxisLength percentage must be from 0 to 100");return Math.round(t*r/10)/10}},53810:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCenteredAxisLayoutStrategy=void 0;var o=r(73336),a=r(57700),s=r(64335),l=r(63186),u=function(e){function BaseCenteredAxisLayoutStrategy(t){var r,i,n,a=this;return(a=e.call(this)||this).orthogonalAxisIdProperty=o.AxisBase2D.DEFAULT_AXIS_ID,a.coordinateModeProperty=l.EInnerAxisPlacementCoordinateMode.DataValue,a.orthogonalAxisIdProperty=null!==(r=null==t?void 0:t.orthogonalAxisId)&&void 0!==r?r:a.orthogonalAxisIdProperty,a.coordinateModeProperty=null!==(i=null==t?void 0:t.coordinateMode)&&void 0!==i?i:a.coordinateModeProperty,a.axisPositionProperty=null!==(n=null==t?void 0:t.axisPosition)&&void 0!==n?n:a.axisPositionProperty,a}return n(BaseCenteredAxisLayoutStrategy,e),Object.defineProperty(BaseCenteredAxisLayoutStrategy.prototype,"orthogonalAxisId",{get:function(){return this.orthogonalAxisIdProperty},set:function(e){this.orthogonalAxisIdProperty=e,this.notifyPropertyChanged(s.PROPERTY.VERTICAL_AXIS_ID)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseCenteredAxisLayoutStrategy.prototype,"coordinateMode",{get:function(){return this.coordinateModeProperty},set:function(e){this.coordinateModeProperty=e,this.notifyPropertyChanged(s.PROPERTY.COORDINATE_MODE)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseCenteredAxisLayoutStrategy.prototype,"axisPosition",{get:function(){return this.axisPositionProperty},set:function(e){this.axisPositionProperty=e,this.notifyPropertyChanged(s.PROPERTY.AXIS_POSITION_COORDINATE)},enumerable:!1,configurable:!0}),BaseCenteredAxisLayoutStrategy.prototype.toJSON=function(){var e={axisPosition:this.axisPosition,coordinateMode:this.coordinateMode,orthogonalAxisId:this.orthogonalAxisId};return{type:this.type,options:e}},BaseCenteredAxisLayoutStrategy.prototype.notifyPropertyChanged=function(e){var t;(null===(t=this.sciChartSurface)||void 0===t?void 0:t.invalidateElement)&&this.sciChartSurface.invalidateElement()},BaseCenteredAxisLayoutStrategy}(a.BaseAxisLayoutStrategy);t.BaseCenteredAxisLayoutStrategy=u},49065:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BottomAlignedInnerAxisLayoutStrategy=void 0;var o=r(8558),a=r(48570),s=function(e){function BottomAlignedInnerAxisLayoutStrategy(t){var r=e.call(this,t)||this;return r.type=o.ELayoutStrategyType.BottomInner,r.layoutAxisPartsStrategy=a.layoutAxisPartsTopStrategy,r}return n(BottomAlignedInnerAxisLayoutStrategy,e),BottomAlignedInnerAxisLayoutStrategy.prototype.measureAxes=function(e,t,r){this.sciChartSurface=e;var i=0;r.forEach(function(e){e.measure(),(0,a.updateAxisLayoutState)(e),i+=(0,a.getHorizontalAxisRequiredSize)(e.axisLayoutState)}),t.bottomInnerAreaSize=Math.max(t.bottomInnerAreaSize,i)},BottomAlignedInnerAxisLayoutStrategy.prototype.layoutAxes=function(e,t,r,i,n){if(n.forEach(function(e){e.axisLength=void 0,e.offset=0}),0!==n.length){var o=i;if(void 0!==this.axisPosition){var s=this.sciChartSurface.getYAxisById(this.orthogonalAxisId)||this.sciChartSurface.getXAxisById(this.orthogonalAxisId);if(!s||s.isHorizontalAxis)throw Error("orthogonalAxisId should be a valid id of vertical axis on the surface!");var l=s.getCurrentCoordinateCalculator();o=(0,a.getCoordinateWithCoordinateMode)(this.axisPosition,l,this.coordinateMode)+s.viewRect.top}this.layoutAxesFromBottomToTop(e,t,r,o,n)}},BottomAlignedInnerAxisLayoutStrategy}(r(53810).BaseCenteredAxisLayoutStrategy);t.BottomAlignedInnerAxisLayoutStrategy=s},47770:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BottomAlignedOuterAxisLayoutStrategy=void 0;var o=r(8558),a=r(48570),s=function(e){function BottomAlignedOuterAxisLayoutStrategy(){var t=e.call(this)||this;return t.type=o.ELayoutStrategyType.BottomOuter,t.layoutAxisPartsStrategy=a.layoutAxisPartsBottomStrategy,t}return n(BottomAlignedOuterAxisLayoutStrategy,e),BottomAlignedOuterAxisLayoutStrategy.prototype.measureAxes=function(e,t,r){var i,n,o=null!==(n=null===(i=e.adjustedPadding)||void 0===i?void 0:i.bottom)&&void 0!==n?n:0;o+=e.bottomViewportBorder+e.bottomCanvasBorder,r.forEach(function(e){e.measure(),(0,a.updateAxisLayoutState)(e),o+=(0,a.getHorizontalAxisRequiredSize)(e.axisLayoutState),(0,a.updateLeftAndRightChartLayoutState)(t,e.axisLayoutState.additionalLeftSize,e.axisLayoutState.additionalRightSize)}),t.bottomOuterAreaSize=Math.max(t.bottomOuterAreaSize,o)},BottomAlignedOuterAxisLayoutStrategy.prototype.layoutAxes=function(e,t,r,i,n){n.forEach(function(e){e.axisLength=void 0,e.offset=0}),this.layoutAxesFromTopToBottom(e,t,r,i,n)},BottomAlignedOuterAxisLayoutStrategy}(r(57700).BaseAxisLayoutStrategy);t.BottomAlignedOuterAxisLayoutStrategy=s},3528:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BottomAlignedOuterHorizontallyStackedAxisLayoutStrategy=void 0;var o=r(47494),a=r(8558),s=r(48570),l=function(e){function BottomAlignedOuterHorizontallyStackedAxisLayoutStrategy(){var t=e.call(this)||this;return t.type=a.ELayoutStrategyType.BottomStacked,t.isStacked=!0,t.layoutAxisPartsStrategy=s.layoutAxisPartsBottomStrategy,t}return n(BottomAlignedOuterHorizontallyStackedAxisLayoutStrategy,e),BottomAlignedOuterHorizontallyStackedAxisLayoutStrategy.prototype.measureAxes=function(e,t,r){var i,n=0;r.forEach(function(e){e.measure(),(0,s.updateAxisLayoutState)(e);var t=(0,s.getHorizontalAxisRequiredSize)(e.axisLayoutState);n=t>n?t:n});var o=r[0],a=r[r.length-1];(0,s.updateLeftAndRightChartLayoutState)(t,null==o?void 0:o.axisLayoutState.additionalLeftSize,null==a?void 0:a.axisLayoutState.additionalRightSize);var l=e.bottomViewportBorder,u=e.bottomCanvasBorder,c=e.adjustedPadding;n+=null!==(i=l+u+(null==c?void 0:c.bottom))&&void 0!==i?i:0,t.bottomOuterAreaSize=Math.max(t.bottomOuterAreaSize,n)},BottomAlignedOuterHorizontallyStackedAxisLayoutStrategy.prototype.layoutAxes=function(e,t,r,i,n){var a=this,l=r-e,u=n[0],c=n[n.length-1],d=n.filter(function(e){return e.stackedAxisLength}),p=n.reduce(function(e,t){return e-t.axisLayoutState.additionalBottomSize-t.axisLayoutState.additionalTopSize},l+(null==u?void 0:u.axisLayoutState.additionalLeftSize)+(null==c?void 0:c.axisLayoutState.additionalRightSize)),h=d.reduce(function(e,t){return e+a.calculateTotalAxisWidth(t,p)},0),f=l+(null==u?void 0:u.axisLayoutState.additionalLeftSize)+(null==c?void 0:c.axisLayoutState.additionalRightSize)-h;if(f<0)throw Error("Bottom stacked axes with defined size total ".concat(h," pixels which is ").concat(-f," more than the space available"));var y=f/(n.length-d.length),g=e-(null==u?void 0:u.axisLayoutState.additionalLeftSize);n.forEach(function(r){var i=r.axisLayoutState,n=i.axisSize,l=i.additionalLeftSize,u=i.additionalRightSize,c=t+i.additionalTopSize,d=c+n,h=r.stackedAxisLength?a.calculateTotalAxisWidth(r,p):y,f=g+h-u;g+=l,r.offset=g-e,r.axisLength=f-g,r.isPrimaryAxis=!0,r.viewRect=o.Rect.createWithCoords(g,c,f,d),g=f+u,(0,s.layoutAxisParts)(r,a.layoutAxisPartsStrategy)})},BottomAlignedOuterHorizontallyStackedAxisLayoutStrategy}(r(57700).BaseAxisLayoutStrategy);t.BottomAlignedOuterHorizontallyStackedAxisLayoutStrategy=l},36174:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CentralAxesLayoutManager=void 0;var o=r(86599),a=r(18638),s=r(49065),l=r(64335),u=r(63186),c=r(54259),d=r(3337),p=r(78292),h=r(34852),f=function(e){function CentralAxesLayoutManager(t){var r,i,n,o,l=this;return(l=e.call(this,t)||this).type=a.ELayoutManagerType.CentralAxes,l.horizontalAxisPositionCoordinateModeProperty=u.EInnerAxisPlacementCoordinateMode.Relative,l.verticalAxisPositionCoordinateModeProperty=u.EInnerAxisPlacementCoordinateMode.Relative,l.horizontalAxisPositionProperty=.5,l.verticalAxisPositionProperty=.5,l.verticalAxisPositionProperty=null!==(r=null==t?void 0:t.verticalAxisPosition)&&void 0!==r?r:l.verticalAxisPositionProperty,l.verticalAxisPositionCoordinateModeProperty=null!==(i=null==t?void 0:t.verticalAxisPositionCoordinateMode)&&void 0!==i?i:l.verticalAxisPositionCoordinateModeProperty,l.horizontalAxisPositionProperty=null!==(n=null==t?void 0:t.horizontalAxisPosition)&&void 0!==n?n:l.horizontalAxisPositionProperty,l.horizontalAxisPositionCoordinateModeProperty=null!==(o=null==t?void 0:t.horizontalAxisPositionCoordinateMode)&&void 0!==o?o:l.horizontalAxisPositionCoordinateModeProperty,l.leftInnerAxesLayoutStrategy=new d.LeftAlignedInnerAxisLayoutStrategy({axisPosition:l.verticalAxisPositionProperty,coordinateMode:l.verticalAxisPositionCoordinateModeProperty}),l.rightInnerAxesLayoutStrategy=new p.RightAlignedInnerAxisLayoutStrategy({axisPosition:l.verticalAxisPositionProperty,coordinateMode:l.verticalAxisPositionCoordinateModeProperty}),l.topInnerAxesLayoutStrategy=new h.TopAlignedInnerAxisLayoutStrategy({axisPosition:l.horizontalAxisPositionProperty,coordinateMode:l.horizontalAxisPositionCoordinateModeProperty}),l.bottomInnerAxesLayoutStrategy=new s.BottomAlignedInnerAxisLayoutStrategy({axisPosition:l.horizontalAxisPositionProperty,coordinateMode:l.horizontalAxisPositionCoordinateModeProperty}),l}return n(CentralAxesLayoutManager,e),Object.defineProperty(CentralAxesLayoutManager.prototype,"horizontalAxisPositionCoordinateMode",{get:function(){return this.horizontalAxisPositionCoordinateModeProperty},set:function(e){this.horizontalAxisPositionCoordinateModeProperty=e,this.topInnerAxesLayoutStrategy.coordinateMode=e,this.bottomInnerAxesLayoutStrategy.coordinateMode=e,this.notifyPropertyChanged(l.PROPERTY.COORDINATE_MODE)},enumerable:!1,configurable:!0}),Object.defineProperty(CentralAxesLayoutManager.prototype,"verticalAxisPositionCoordinateMode",{get:function(){return this.verticalAxisPositionCoordinateModeProperty},set:function(e){this.verticalAxisPositionCoordinateModeProperty=e,this.rightInnerAxesLayoutStrategy.coordinateMode=e,this.leftInnerAxesLayoutStrategy.coordinateMode=e,this.notifyPropertyChanged(l.PROPERTY.COORDINATE_MODE)},enumerable:!1,configurable:!0}),Object.defineProperty(CentralAxesLayoutManager.prototype,"horizontalAxisPosition",{get:function(){return this.horizontalAxisPositionProperty},set:function(e){this.horizontalAxisPositionProperty=e,this.topInnerAxesLayoutStrategy.axisPosition=e,this.bottomInnerAxesLayoutStrategy.axisPosition=e,this.notifyPropertyChanged(l.PROPERTY.AXIS_POSITION_COORDINATE)},enumerable:!1,configurable:!0}),Object.defineProperty(CentralAxesLayoutManager.prototype,"verticalAxisPosition",{get:function(){return this.verticalAxisPositionProperty},set:function(e){this.verticalAxisPositionProperty=e,this.rightInnerAxesLayoutStrategy.axisPosition=e,this.leftInnerAxesLayoutStrategy.axisPosition=e,this.notifyPropertyChanged(l.PROPERTY.AXIS_POSITION_COORDINATE)},enumerable:!1,configurable:!0}),CentralAxesLayoutManager.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return Object.assign(t,{horizontalAxisPosition:this.horizontalAxisPosition,horizontalAxisPositionCoordinateMode:this.horizontalAxisPositionCoordinateMode,verticalAxisPosition:this.verticalAxisPosition,verticalAxisPositionCoordinateMode:this.verticalAxisPositionCoordinateMode}),t},CentralAxesLayoutManager.prototype.notifyPropertyChanged=function(e){var t;(null===(t=this.sciChartSurface)||void 0===t?void 0:t.invalidateElement)&&this.sciChartSurface.invalidateElement()},CentralAxesLayoutManager.prototype.groupAxesByLayoutStrategy=function(){this.axesGroupedByLayoutStrategy.clear();var e=this.axesGroupedByLayoutStrategy,t=e.topInnerAxes,r=e.bottomInnerAxes,i=e.leftInnerAxes,n=e.rightInnerAxes,groupAxes=function(e){e.forEach(function(e){var a=e.axisAlignment;switch(e.isInnerAxis=!0,a){case o.EAxisAlignment.Top:t.push(e);break;case o.EAxisAlignment.Bottom:r.push(e);break;case o.EAxisAlignment.Left:i.push(e);break;case o.EAxisAlignment.Right:n.push(e)}})};groupAxes(this.sciChartSurface.xAxes.asArray()),groupAxes(this.sciChartSurface.yAxes.asArray())},CentralAxesLayoutManager}(c.LayoutManager);t.CentralAxesLayoutManager=f},11015:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChartLayoutState=void 0;var r=function(){function ChartLayoutState(){this.leftInnerAreaSize=ChartLayoutState.DEFAULT_SIZE,this.topInnerAreaSize=ChartLayoutState.DEFAULT_SIZE,this.bottomInnerAreaSize=ChartLayoutState.DEFAULT_SIZE,this.rightInnerAreaSize=ChartLayoutState.DEFAULT_SIZE,this.leftOuterAreaSize=ChartLayoutState.DEFAULT_SIZE,this.topOuterAreaSize=ChartLayoutState.DEFAULT_SIZE,this.bottomOuterAreaSize=ChartLayoutState.DEFAULT_SIZE,this.rightOuterAreaSize=ChartLayoutState.DEFAULT_SIZE}return ChartLayoutState.prototype.clear=function(){this.leftInnerAreaSize=ChartLayoutState.DEFAULT_SIZE,this.topInnerAreaSize=ChartLayoutState.DEFAULT_SIZE,this.bottomInnerAreaSize=ChartLayoutState.DEFAULT_SIZE,this.rightInnerAreaSize=ChartLayoutState.DEFAULT_SIZE,this.leftOuterAreaSize=ChartLayoutState.DEFAULT_SIZE,this.topOuterAreaSize=ChartLayoutState.DEFAULT_SIZE,this.bottomOuterAreaSize=ChartLayoutState.DEFAULT_SIZE,this.rightOuterAreaSize=ChartLayoutState.DEFAULT_SIZE},ChartLayoutState.DEFAULT_SIZE=0,ChartLayoutState}();t.ChartLayoutState=r},63186:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EInnerAxisPlacementCoordinateMode=void 0,(r=t.EInnerAxisPlacementCoordinateMode||(t.EInnerAxisPlacementCoordinateMode={}))[r.DataValue=0]="DataValue",r[r.Pixel=1]="Pixel",r[r.Relative=2]="Relative"},54259:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutManager=void 0;var i=r(53247),n=r(47494),o=r(86599),a=r(51894),s=r(18638),l=r(8558),u=r(49065),c=r(47770),d=r(11015),p=r(31841),h=r(3337),f=r(17456),y=r(78292),g=r(70048),v=r(34852),m=r(44813),S=function(){function LayoutManager(e){this.type=s.ELayoutManagerType.Default,this.leftOuterAxesLayoutStrategyProperty=new f.LeftAlignedOuterAxisLayoutStrategy,this.rightOuterAxesLayoutStrategyProperty=new g.RightAlignedOuterAxisLayoutStrategy,this.topOuterAxesLayoutStrategyProperty=new m.TopAlignedOuterAxisLayoutStrategy,this.bottomOuterAxesLayoutStrategyProperty=new c.BottomAlignedOuterAxisLayoutStrategy,this.leftInnerAxesLayoutStrategy=new h.LeftAlignedInnerAxisLayoutStrategy,this.rightInnerAxesLayoutStrategy=new y.RightAlignedInnerAxisLayoutStrategy,this.topInnerAxesLayoutStrategy=new v.TopAlignedInnerAxisLayoutStrategy,this.bottomInnerAxesLayoutStrategy=new u.BottomAlignedInnerAxisLayoutStrategy,this.chartLayoutState=new d.ChartLayoutState,this.axesGroupedByLayoutStrategy=new p.LayoutStrategyAxes,this.leftOuterAxesLayoutStrategy=this.createStrategy(null==e?void 0:e.LeftOuter,this.leftOuterAxesLayoutStrategy),this.rightOuterAxesLayoutStrategy=this.createStrategy(null==e?void 0:e.RightOuter,this.rightOuterAxesLayoutStrategy),this.topOuterAxesLayoutStrategy=this.createStrategy(null==e?void 0:e.TopOuter,this.topOuterAxesLayoutStrategy),this.bottomOuterAxesLayoutStrategy=this.createStrategy(null==e?void 0:e.BottomOuter,this.bottomOuterAxesLayoutStrategy),this.leftInnerAxesLayoutStrategy=this.createStrategy(null==e?void 0:e.LeftInner,this.leftInnerAxesLayoutStrategy),this.rightInnerAxesLayoutStrategy=this.createStrategy(null==e?void 0:e.RightInner,this.rightInnerAxesLayoutStrategy),this.topInnerAxesLayoutStrategy=this.createStrategy(null==e?void 0:e.TopInner,this.topInnerAxesLayoutStrategy),this.bottomInnerAxesLayoutStrategy=this.createStrategy(null==e?void 0:e.BottomInner,this.bottomInnerAxesLayoutStrategy)}return Object.defineProperty(LayoutManager.prototype,"leftOuterAxesLayoutStrategy",{get:function(){return this.leftOuterAxesLayoutStrategyProperty},set:function(e){var t,r=this.leftOuterAxesLayoutStrategyProperty;r!==e&&(this.leftOuterAxesLayoutStrategyProperty=e,r.isStacked&&!e.isStacked&&(this.groupAxesByLayoutStrategy(),resetAxes(this.axesGroupedByLayoutStrategy.leftOuterAxes)),null===(t=this.sciChartSurface)||void 0===t||t.invalidateElement())},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutManager.prototype,"rightOuterAxesLayoutStrategy",{get:function(){return this.rightOuterAxesLayoutStrategyProperty},set:function(e){var t,r=this.rightOuterAxesLayoutStrategyProperty;r!==e&&(this.rightOuterAxesLayoutStrategyProperty=e,r.isStacked&&!e.isStacked&&(this.groupAxesByLayoutStrategy(),resetAxes(this.axesGroupedByLayoutStrategy.rightOuterAxes)),null===(t=this.sciChartSurface)||void 0===t||t.invalidateElement())},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutManager.prototype,"topOuterAxesLayoutStrategy",{get:function(){return this.topOuterAxesLayoutStrategyProperty},set:function(e){var t,r=this.topOuterAxesLayoutStrategyProperty;r!==e&&(this.topOuterAxesLayoutStrategyProperty=e,r.isStacked&&!e.isStacked&&(this.groupAxesByLayoutStrategy(),resetAxes(this.axesGroupedByLayoutStrategy.topOuterAxes)),null===(t=this.sciChartSurface)||void 0===t||t.invalidateElement())},enumerable:!1,configurable:!0}),Object.defineProperty(LayoutManager.prototype,"bottomOuterAxesLayoutStrategy",{get:function(){return this.bottomOuterAxesLayoutStrategyProperty},set:function(e){var t,r=this.bottomOuterAxesLayoutStrategyProperty;r!==e&&(this.bottomOuterAxesLayoutStrategyProperty=e,r.isStacked&&!e.isStacked&&(this.groupAxesByLayoutStrategy(),resetAxes(this.axesGroupedByLayoutStrategy.bottomOuterAxes)),null===(t=this.sciChartSurface)||void 0===t||t.invalidateElement())},enumerable:!1,configurable:!0}),LayoutManager.prototype.getAxisLayoutStrategy=function(e,t){switch(e){case o.EAxisAlignment.Left:return t?this.leftInnerAxesLayoutStrategy:this.leftOuterAxesLayoutStrategy;case o.EAxisAlignment.Right:return t?this.rightInnerAxesLayoutStrategy:this.rightOuterAxesLayoutStrategy;case o.EAxisAlignment.Top:return t?this.topInnerAxesLayoutStrategy:this.topOuterAxesLayoutStrategy;case o.EAxisAlignment.Bottom:return t?this.bottomInnerAxesLayoutStrategy:this.bottomOuterAxesLayoutStrategy;default:return(0,o.handleInvalidAxisAlignment)(e)}},LayoutManager.prototype.layoutChart=function(e,t){this.groupAxesByLayoutStrategy();var r,i,n,o,a=null!==(r=null==t?void 0:t.right)&&void 0!==r?r:0,s=null!==(i=null==t?void 0:t.left)&&void 0!==i?i:0,l=null!==(n=null==t?void 0:t.top)&&void 0!==n?n:0,u=null!==(o=null==t?void 0:t.bottom)&&void 0!==o?o:0,c=e.width-s-a,d=e.height-l-u;try{this.measureTopOuterAxes(),this.measureBottomOuterAxes(),this.measureLeftOuterAxes(),this.measureRightOuterAxes(),this.measureTopInnerAxes(),this.measureBottomInnerAxes(),this.measureLeftInnerAxes(),this.measureRightInnerAxes();var p=c-this.chartLayoutState.leftOuterAreaSize-this.chartLayoutState.rightOuterAreaSize,h=d-this.chartLayoutState.topOuterAreaSize-this.chartLayoutState.bottomOuterAreaSize,f=s+this.chartLayoutState.leftOuterAreaSize,y=f+(p<10?10:p),g=y+this.chartLayoutState.rightOuterAreaSize,v=l+this.chartLayoutState.topOuterAreaSize,m=v+(h<10?10:h),S=m+this.chartLayoutState.bottomOuterAreaSize;this.sciChartSurface.drawSeriesBehindAxis?this.layoutChartCenter(s,l,g,S):this.layoutChartCenter(f,v,y,m),this.leftOuterAxesLayoutStrategy.layoutAxes(s,v,f-this.sciChartSurface.leftViewportBorder,m,this.axesGroupedByLayoutStrategy.leftOuterAxes),this.rightOuterAxesLayoutStrategy.layoutAxes(y+this.sciChartSurface.rightViewportBorder,v,g,m,this.axesGroupedByLayoutStrategy.rightOuterAxes),this.topOuterAxesLayoutStrategy.layoutAxes(f,l,y,v-this.sciChartSurface.topViewportBorder,this.axesGroupedByLayoutStrategy.topOuterAxes),this.bottomOuterAxesLayoutStrategy.layoutAxes(f,m+this.sciChartSurface.bottomViewportBorder,y,S,this.axesGroupedByLayoutStrategy.bottomOuterAxes);var b=f+this.chartLayoutState.leftInnerAreaSize,P=y-this.chartLayoutState.rightInnerAreaSize,C=v+this.chartLayoutState.topInnerAreaSize,x=m-this.chartLayoutState.bottomInnerAreaSize;return this.leftInnerAxesLayoutStrategy.layoutAxes(f,v,b,m,this.axesGroupedByLayoutStrategy.leftInnerAxes),this.rightInnerAxesLayoutStrategy.layoutAxes(P,v,y,m,this.axesGroupedByLayoutStrategy.rightInnerAxes),this.topInnerAxesLayoutStrategy.layoutAxes(f,v,y,C,this.axesGroupedByLayoutStrategy.topInnerAxes),this.bottomInnerAxesLayoutStrategy.layoutAxes(f,x,y,m,this.axesGroupedByLayoutStrategy.bottomInnerAxes),this.sciChartSurface.seriesViewRect}finally{this.chartLayoutState.clear()}},LayoutManager.prototype.toJSON=function(){var e={BottomInner:this.bottomInnerAxesLayoutStrategy.toJSON(),BottomOuter:this.bottomOuterAxesLayoutStrategy.toJSON(),LeftInner:this.leftInnerAxesLayoutStrategy.toJSON(),LeftOuter:this.leftOuterAxesLayoutStrategy.toJSON(),RightInner:this.rightInnerAxesLayoutStrategy.toJSON(),RightOuter:this.rightOuterAxesLayoutStrategy.toJSON(),TopInner:this.topInnerAxesLayoutStrategy.toJSON(),TopOuter:this.topOuterAxesLayoutStrategy.toJSON()};return{type:this.type,options:e}},LayoutManager.prototype.measureLeftOuterAxes=function(){this.leftOuterAxesLayoutStrategy.measureAxes(this.sciChartSurface,this.chartLayoutState,this.axesGroupedByLayoutStrategy.leftOuterAxes)},LayoutManager.prototype.measureRightOuterAxes=function(){this.rightOuterAxesLayoutStrategy.measureAxes(this.sciChartSurface,this.chartLayoutState,this.axesGroupedByLayoutStrategy.rightOuterAxes)},LayoutManager.prototype.measureTopOuterAxes=function(){this.topOuterAxesLayoutStrategy.measureAxes(this.sciChartSurface,this.chartLayoutState,this.axesGroupedByLayoutStrategy.topOuterAxes)},LayoutManager.prototype.measureBottomOuterAxes=function(){this.bottomOuterAxesLayoutStrategy.measureAxes(this.sciChartSurface,this.chartLayoutState,this.axesGroupedByLayoutStrategy.bottomOuterAxes)},LayoutManager.prototype.measureLeftInnerAxes=function(){this.leftInnerAxesLayoutStrategy.measureAxes(this.sciChartSurface,this.chartLayoutState,this.axesGroupedByLayoutStrategy.leftInnerAxes)},LayoutManager.prototype.measureRightInnerAxes=function(){this.rightInnerAxesLayoutStrategy.measureAxes(this.sciChartSurface,this.chartLayoutState,this.axesGroupedByLayoutStrategy.rightInnerAxes)},LayoutManager.prototype.measureTopInnerAxes=function(){this.topInnerAxesLayoutStrategy.measureAxes(this.sciChartSurface,this.chartLayoutState,this.axesGroupedByLayoutStrategy.topInnerAxes)},LayoutManager.prototype.measureBottomInnerAxes=function(){this.bottomInnerAxesLayoutStrategy.measureAxes(this.sciChartSurface,this.chartLayoutState,this.axesGroupedByLayoutStrategy.bottomInnerAxes)},LayoutManager.prototype.groupAxesByLayoutStrategy=function(){this.axesGroupedByLayoutStrategy.clear();var e=this.axesGroupedByLayoutStrategy,t=e.topInnerAxes,r=e.bottomInnerAxes,i=e.leftInnerAxes,n=e.rightInnerAxes,a=e.topOuterAxes,s=e.bottomOuterAxes,l=e.leftOuterAxes,u=e.rightOuterAxes,groupAxes=function(e){e.forEach(function(e){var c=e.axisAlignment,d=e.isInnerAxis;if(e.isVisible,d)switch(c){case o.EAxisAlignment.Top:t.push(e);break;case o.EAxisAlignment.Bottom:r.push(e);break;case o.EAxisAlignment.Left:i.push(e);break;case o.EAxisAlignment.Right:n.push(e)}else switch(c){case o.EAxisAlignment.Top:a.push(e);break;case o.EAxisAlignment.Bottom:s.push(e);break;case o.EAxisAlignment.Left:l.push(e);break;case o.EAxisAlignment.Right:u.push(e)}})};groupAxes(this.sciChartSurface.xAxes.asArray()),groupAxes(this.sciChartSurface.yAxes.asArray())},LayoutManager.prototype.layoutChartCenter=function(e,t,r,i){this.setSeriesViewRect(e,t,r,i),this.sciChartSurface.annotationUnderlaySurfaceViewRect=n.Rect.createWithCoords(e,t,r,i),this.sciChartSurface.annotationOverlaySurfaceViewRect=n.Rect.createWithCoords(e,t,r,i),this.sciChartSurface.chartModifierSurfaceViewRect=n.Rect.createWithCoords(e,t,r,i)},LayoutManager.prototype.setSeriesViewRect=function(e,t,r,i){var o=this.sciChartSurface.seriesViewRect,a=n.Rect.createWithCoords(e,t,r,i);o&&n.Rect.isEqual(o,a)||this.sciChartSurface.setSeriesViewRect(a)},LayoutManager.prototype.createStrategy=function(e,t){return e&&e.type!==t.type?"measureAxes"in e?e:e.type===l.ELayoutStrategyType.Custom?(0,i.createType)(a.EBaseType.LayoutStrategy,e.customType,void 0,e.options):(0,i.createType)(a.EBaseType.LayoutStrategy,e.type,void 0,e.options):t},LayoutManager}();t.LayoutManager=S;var resetAxes=function(e){e.length>0&&(e[0].isPrimaryAxis=!0)}},31841:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutStrategyAxes=void 0;var r=function(){function LayoutStrategyAxes(){this.topInnerAxes=[],this.bottomInnerAxes=[],this.leftInnerAxes=[],this.rightInnerAxes=[],this.topOuterAxes=[],this.bottomOuterAxes=[],this.leftOuterAxes=[],this.rightOuterAxes=[]}return LayoutStrategyAxes.prototype.clear=function(){this.topInnerAxes=[],this.bottomInnerAxes=[],this.leftInnerAxes=[],this.rightInnerAxes=[],this.topOuterAxes=[],this.bottomOuterAxes=[],this.leftOuterAxes=[],this.rightOuterAxes=[]},LayoutStrategyAxes}();t.LayoutStrategyAxes=r},3337:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LeftAlignedInnerAxisLayoutStrategy=void 0;var o=r(8558),a=r(48570),s=function(e){function LeftAlignedInnerAxisLayoutStrategy(t){var r=e.call(this,t)||this;return r.type=o.ELayoutStrategyType.LeftInner,r.layoutAxisPartsStrategy=a.layoutAxisPartsRightStrategy,r}return n(LeftAlignedInnerAxisLayoutStrategy,e),LeftAlignedInnerAxisLayoutStrategy.prototype.measureAxes=function(e,t,r){this.sciChartSurface=e;var i=0;r.forEach(function(e){e.measure(),(0,a.updateAxisLayoutState)(e),i+=(0,a.getVerticalAxisRequiredSize)(e.axisLayoutState)}),t.leftInnerAreaSize=Math.max(t.leftInnerAreaSize,i)},LeftAlignedInnerAxisLayoutStrategy.prototype.layoutAxes=function(e,t,r,i,n){if(n.forEach(function(e){e.axisLength=void 0,e.offset=0}),0!==n.length){var o=e;if(void 0!==this.axisPosition){var s=this.sciChartSurface.getXAxisById(this.orthogonalAxisId)||this.sciChartSurface.getYAxisById(this.orthogonalAxisId);if(!s||!s.isHorizontalAxis)throw Error("orthogonalAxisId should be a valid id of horizontal axis on the surface!");var l=s.getCurrentCoordinateCalculator();o=(0,a.getCoordinateWithCoordinateMode)(this.axisPosition,l,this.coordinateMode)+s.parentSurface.seriesViewRect.left}this.layoutAxesFromLeftToRight(o,t,r,i,n)}},LeftAlignedInnerAxisLayoutStrategy}(r(53810).BaseCenteredAxisLayoutStrategy);t.LeftAlignedInnerAxisLayoutStrategy=s},17456:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LeftAlignedOuterAxisLayoutStrategy=void 0;var o=r(8558),a=r(48570),s=function(e){function LeftAlignedOuterAxisLayoutStrategy(){var t=e.call(this)||this;return t.type=o.ELayoutStrategyType.LeftOuter,t.layoutAxisPartsStrategy=a.layoutAxisPartsLeftStrategy,t}return n(LeftAlignedOuterAxisLayoutStrategy,e),LeftAlignedOuterAxisLayoutStrategy.prototype.measureAxes=function(e,t,r){var i,n,o=null!==(n=null===(i=e.adjustedPadding)||void 0===i?void 0:i.left)&&void 0!==n?n:0;o+=e.leftViewportBorder+e.leftCanvasBorder,r.forEach(function(e){e.measure(),(0,a.updateAxisLayoutState)(e),o+=(0,a.getVerticalAxisRequiredSize)(e.axisLayoutState),(0,a.updateTopAndBottomChartLayoutState)(t,e.axisLayoutState.additionalTopSize,e.axisLayoutState.additionalBottomSize)}),t.leftOuterAreaSize=Math.max(t.leftOuterAreaSize,o)},LeftAlignedOuterAxisLayoutStrategy.prototype.layoutAxes=function(e,t,r,i,n){n.forEach(function(e){e.axisLength=void 0,e.offset=0}),this.layoutAxesFromRightToLeft(e,t,r,i,n)},LeftAlignedOuterAxisLayoutStrategy}(r(57700).BaseAxisLayoutStrategy);t.LeftAlignedOuterAxisLayoutStrategy=s},47003:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LeftAlignedOuterVerticallyStackedAxisLayoutStrategy=void 0;var o=r(47494),a=r(8558),s=r(48570),l=function(e){function LeftAlignedOuterVerticallyStackedAxisLayoutStrategy(){var t=e.call(this)||this;return t.type=a.ELayoutStrategyType.LeftStacked,t.isStacked=!0,t.layoutAxisPartsStrategy=s.layoutAxisPartsLeftStrategy,t}return n(LeftAlignedOuterVerticallyStackedAxisLayoutStrategy,e),LeftAlignedOuterVerticallyStackedAxisLayoutStrategy.prototype.measureAxes=function(e,t,r){var i,n=0;r.forEach(function(e){e.measure(),(0,s.updateAxisLayoutState)(e);var t=(0,s.getVerticalAxisRequiredSize)(e.axisLayoutState);n=t>n?t:n});var o=r[0],a=r[r.length-1];(0,s.updateTopAndBottomChartLayoutState)(t,null==o?void 0:o.axisLayoutState.additionalTopSize,null==a?void 0:a.axisLayoutState.additionalBottomSize);var l=e.leftViewportBorder,u=e.leftCanvasBorder,c=e.adjustedPadding;n+=null!==(i=l+u+(null==c?void 0:c.left))&&void 0!==i?i:0,t.leftOuterAreaSize=Math.max(t.leftOuterAreaSize,n)},LeftAlignedOuterVerticallyStackedAxisLayoutStrategy.prototype.layoutAxes=function(e,t,r,i,n){var a=this,l=i-t,u=n[0],c=n[n.length-1],d=n.filter(function(e){return void 0!==e.stackedAxisLength}),p=n.reduce(function(e,t){return e-t.axisLayoutState.additionalBottomSize-t.axisLayoutState.additionalTopSize},l+(null==u?void 0:u.axisLayoutState.additionalTopSize)+(null==c?void 0:c.axisLayoutState.additionalBottomSize)),h=d.reduce(function(e,t){return e+a.calculateTotalAxisHeight(t,p)},0),f=l+(null==u?void 0:u.axisLayoutState.additionalTopSize)+(null==c?void 0:c.axisLayoutState.additionalBottomSize)-h;if(f<0)throw Error("Left stacked axes with defined size total ".concat(h," pixels which is ").concat(-f," more than the space available"));var y=f/(n.length-d.length),g=t-(null==u?void 0:u.axisLayoutState.additionalTopSize);n.forEach(function(e){var i=e.axisLayoutState,n=i.axisSize,l=i.additionalRightSize,u=i.additionalBottomSize,c=i.additionalTopSize,d=r-l,h=d-n,f=void 0!==e.stackedAxisLength?a.calculateTotalAxisHeight(e,p):y,v=g+f-u;g+=c,e.offset=g-t,e.axisLength=v-g,e.isPrimaryAxis=!0,e.viewRect=o.Rect.createWithCoords(h,g,d,v),g=v+u,(0,s.layoutAxisParts)(e,a.layoutAxisPartsStrategy)})},LeftAlignedOuterVerticallyStackedAxisLayoutStrategy}(r(57700).BaseAxisLayoutStrategy);t.LeftAlignedOuterVerticallyStackedAxisLayoutStrategy=l},78292:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.RightAlignedInnerAxisLayoutStrategy=void 0;var o=r(8558),a=r(48570),s=function(e){function RightAlignedInnerAxisLayoutStrategy(t){var r=e.call(this,t)||this;return r.type=o.ELayoutStrategyType.RightInner,r.layoutAxisPartsStrategy=a.layoutAxisPartsLeftStrategy,r}return n(RightAlignedInnerAxisLayoutStrategy,e),RightAlignedInnerAxisLayoutStrategy.prototype.measureAxes=function(e,t,r){this.sciChartSurface=e;var i=0;r.forEach(function(e){e.measure(),(0,a.updateAxisLayoutState)(e),i+=(0,a.getVerticalAxisRequiredSize)(e.axisLayoutState)}),t.rightInnerAreaSize=Math.max(t.rightInnerAreaSize,i)},RightAlignedInnerAxisLayoutStrategy.prototype.layoutAxes=function(e,t,r,i,n){if(n.forEach(function(e){e.axisLength=void 0,e.offset=0}),0!==n.length){var o=r;if(void 0!==this.axisPosition){var s=this.sciChartSurface.getXAxisById(this.orthogonalAxisId)||this.sciChartSurface.getYAxisById(this.orthogonalAxisId);if(!s||!s.isHorizontalAxis)throw Error("orthogonalAxisId should be a valid id of horizontal axis on the surface!");var l=s.getCurrentCoordinateCalculator();o=(0,a.getCoordinateWithCoordinateMode)(this.axisPosition,l,this.coordinateMode)+s.parentSurface.seriesViewRect.left}this.layoutAxesFromRightToLeft(e,t,o,i,n)}},RightAlignedInnerAxisLayoutStrategy}(r(53810).BaseCenteredAxisLayoutStrategy);t.RightAlignedInnerAxisLayoutStrategy=s},70048:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.RightAlignedOuterAxisLayoutStrategy=void 0;var o=r(8558),a=r(48570),s=function(e){function RightAlignedOuterAxisLayoutStrategy(){var t=e.call(this)||this;return t.type=o.ELayoutStrategyType.RightOuter,t.layoutAxisPartsStrategy=a.layoutAxisPartsRightStrategy,t}return n(RightAlignedOuterAxisLayoutStrategy,e),RightAlignedOuterAxisLayoutStrategy.prototype.measureAxes=function(e,t,r){var i,n,o=null!==(n=null===(i=e.adjustedPadding)||void 0===i?void 0:i.right)&&void 0!==n?n:0;o+=e.rightViewportBorder+e.rightCanvasBorder,r.forEach(function(e){e.measure(),(0,a.updateAxisLayoutState)(e),o+=(0,a.getVerticalAxisRequiredSize)(e.axisLayoutState),(0,a.updateTopAndBottomChartLayoutState)(t,e.axisLayoutState.additionalTopSize,e.axisLayoutState.additionalBottomSize)}),t.rightOuterAreaSize=Math.max(t.rightOuterAreaSize,o)},RightAlignedOuterAxisLayoutStrategy.prototype.layoutAxes=function(e,t,r,i,n){n.forEach(function(e){e.axisLength=void 0,e.offset=0}),this.layoutAxesFromLeftToRight(e,t,r,i,n)},RightAlignedOuterAxisLayoutStrategy}(r(57700).BaseAxisLayoutStrategy);t.RightAlignedOuterAxisLayoutStrategy=s},19358:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.RightAlignedOuterVerticallyStackedAxisLayoutStrategy=void 0;var o=r(47494),a=r(8558),s=r(48570),l=function(e){function RightAlignedOuterVerticallyStackedAxisLayoutStrategy(){var t=e.call(this)||this;return t.type=a.ELayoutStrategyType.RightStacked,t.isStacked=!0,t.layoutAxisPartsStrategy=s.layoutAxisPartsRightStrategy,t}return n(RightAlignedOuterVerticallyStackedAxisLayoutStrategy,e),RightAlignedOuterVerticallyStackedAxisLayoutStrategy.prototype.measureAxes=function(e,t,r){var i,n=0;r.forEach(function(e){e.measure(),(0,s.updateAxisLayoutState)(e);var t=(0,s.getVerticalAxisRequiredSize)(e.axisLayoutState);n=t>n?t:n});var o=r[0],a=r[r.length-1];(0,s.updateTopAndBottomChartLayoutState)(t,null==o?void 0:o.axisLayoutState.additionalTopSize,null==a?void 0:a.axisLayoutState.additionalBottomSize);var l=e.rightViewportBorder,u=e.rightCanvasBorder,c=e.adjustedPadding;n+=null!==(i=l+u+(null==c?void 0:c.right))&&void 0!==i?i:0,t.rightOuterAreaSize=Math.max(t.rightOuterAreaSize,n)},RightAlignedOuterVerticallyStackedAxisLayoutStrategy.prototype.layoutAxes=function(e,t,r,i,n){var a=this,l=i-t,u=n[0],c=n[n.length-1],d=n.filter(function(e){return e.stackedAxisLength}),p=n.reduce(function(e,t){return e-t.axisLayoutState.additionalBottomSize-t.axisLayoutState.additionalTopSize},l+(null==u?void 0:u.axisLayoutState.additionalTopSize)+(null==c?void 0:c.axisLayoutState.additionalBottomSize)),h=d.reduce(function(e,t){return e+a.calculateTotalAxisHeight(t,p)},0),f=l+(null==u?void 0:u.axisLayoutState.additionalTopSize)+(null==c?void 0:c.axisLayoutState.additionalBottomSize)-h;if(f<0)throw Error("Right stacked axes with defined size total ".concat(h," pixels which is ").concat(-f," more than the space available"));var y=f/(n.length-d.length),g=t-(null==u?void 0:u.axisLayoutState.additionalTopSize);n.forEach(function(r){var i=r.axisLayoutState,n=i.axisSize,l=i.additionalLeftSize,u=i.additionalBottomSize,c=i.additionalTopSize,d=e+l,h=d+n,f=r.stackedAxisLength?a.calculateTotalAxisHeight(r,p):y,v=g+f-u;g+=c,r.offset=g-t,r.axisLength=v-g,r.isPrimaryAxis=!0,r.viewRect=o.Rect.createWithCoords(d,g,h,v),g=v+u,(0,s.layoutAxisParts)(r,a.layoutAxisPartsStrategy)})},RightAlignedOuterVerticallyStackedAxisLayoutStrategy}(r(57700).BaseAxisLayoutStrategy);t.RightAlignedOuterVerticallyStackedAxisLayoutStrategy=l},23346:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartVerticalGroup=void 0;var i=r(67475),n=r(54259),o=r(70674),a=function(){function SciChartVerticalGroup(){this.groupRightSize=0,this.groupLeftSize=0,this.layoutManagers=[],this.leftOuterLayoutSizes={},this.rightOuterLayoutSizes={}}return SciChartVerticalGroup.prototype.addSurfaceToGroup=function(e){var t=new o.SynchronizedLayoutManager(this);this.layoutManagers.push(t),e.layoutManager=t;var r=e.domCanvas2D,n=r.width,a=r.height;e.layoutManager.layoutChart(new i.Size(n,a)),this.synchronizeAxisSizes()},SciChartVerticalGroup.prototype.removeSurface=function(e){var t=e.layoutManager,r=this.layoutManagers.findIndex(function(e){return e===t});if(r<0)throw Error("Surface ".concat(e.id," not found in Vertical Group!"));this.layoutManagers.splice(r,1);var o=new n.LayoutManager;e.layoutManager=o;var a=e.domCanvas2D,s=a.width,l=a.height;e.layoutManager.layoutChart(new i.Size(s,l)),this.onLeftSizeChanged(t.id,0),this.onRightSizeChanged(t.id,0),delete this.leftOuterLayoutSizes[t.id],delete this.rightOuterLayoutSizes[t.id],this.synchronizeAxisSizes()},SciChartVerticalGroup.prototype.synchronizeAxisSizes=function(){this.layoutManagers.forEach(function(e){e.trySynchronizeLayouts()})},SciChartVerticalGroup.prototype.onLeftSizeChanged=function(e,t){this.leftOuterLayoutSizes[e]=t,this.groupLeftSize=calculateMaxGroupSize(this.leftOuterLayoutSizes)},SciChartVerticalGroup.prototype.onRightSizeChanged=function(e,t){this.rightOuterLayoutSizes[e]=t,this.groupRightSize=calculateMaxGroupSize(this.rightOuterLayoutSizes)},SciChartVerticalGroup}();t.SciChartVerticalGroup=a;var calculateMaxGroupSize=function(e){var t=0;return Object.keys(e).forEach(function(r){t=Math.max(t,e[r])}),t}},70674:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SynchronizedLayoutManager=void 0;var o=r(18638),a=r(92200),s=function(e){function SynchronizedLayoutManager(t,r){var i=e.call(this,r)||this;return i.type=o.ELayoutManagerType.Synchronised,i.id=(0,a.generateGuid)(),i.verticalGroup=t,i}return n(SynchronizedLayoutManager,e),SynchronizedLayoutManager.prototype.layoutChart=function(t){var r=e.prototype.layoutChart.call(this,t);return this.verticalGroup.synchronizeAxisSizes(),r},SynchronizedLayoutManager.prototype.trySynchronizeLayouts=function(){(this.lastLeftOuterAreaSize!==this.verticalGroup.groupLeftSize||this.lastRightOuterAreaSize!==this.verticalGroup.groupRightSize)&&this.sciChartSurface.invalidateElement()},SynchronizedLayoutManager.prototype.measureLeftOuterAxes=function(){e.prototype.measureLeftOuterAxes.call(this),this.verticalGroup.onLeftSizeChanged(this.id,this.chartLayoutState.leftOuterAreaSize);var t=Math.max(this.chartLayoutState.leftOuterAreaSize,this.verticalGroup.groupLeftSize);if(this.axesGroupedByLayoutStrategy.leftOuterAxes.length>0){var r=this.axesGroupedByLayoutStrategy.leftOuterAxes[this.axesGroupedByLayoutStrategy.leftOuterAxes.length-1],i=this.chartLayoutState.leftOuterAreaSize-r.axisLayoutState.axisSize;r.axisLayoutState.axisSize=t-i}this.chartLayoutState.leftOuterAreaSize=t,this.lastLeftOuterAreaSize=t},SynchronizedLayoutManager.prototype.measureRightOuterAxes=function(){e.prototype.measureRightOuterAxes.call(this),this.verticalGroup.onRightSizeChanged(this.id,this.chartLayoutState.rightOuterAreaSize);var t=Math.max(this.chartLayoutState.rightOuterAreaSize,this.verticalGroup.groupRightSize);if(this.axesGroupedByLayoutStrategy.rightOuterAxes.length>0){var r=this.axesGroupedByLayoutStrategy.rightOuterAxes[this.axesGroupedByLayoutStrategy.rightOuterAxes.length-1],i=this.chartLayoutState.rightOuterAreaSize-r.axisLayoutState.axisSize;r.axisLayoutState.axisSize=t-i}this.chartLayoutState.rightOuterAreaSize=t,this.lastRightOuterAreaSize=t},SynchronizedLayoutManager}(r(54259).LayoutManager);t.SynchronizedLayoutManager=s},34852:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.TopAlignedInnerAxisLayoutStrategy=void 0;var o=r(8558),a=r(48570),s=function(e){function TopAlignedInnerAxisLayoutStrategy(t){var r=e.call(this,t)||this;return r.type=o.ELayoutStrategyType.TopInner,r.layoutAxisPartsStrategy=a.layoutAxisPartsBottomStrategy,r}return n(TopAlignedInnerAxisLayoutStrategy,e),TopAlignedInnerAxisLayoutStrategy.prototype.measureAxes=function(e,t,r){this.sciChartSurface=e;var i=0;r.forEach(function(e){e.measure(),(0,a.updateAxisLayoutState)(e),i+=(0,a.getHorizontalAxisRequiredSize)(e.axisLayoutState)}),t.topInnerAreaSize=Math.max(t.topInnerAreaSize,i)},TopAlignedInnerAxisLayoutStrategy.prototype.layoutAxes=function(e,t,r,i,n){if(n.forEach(function(e){e.axisLength=void 0,e.offset=0}),0!==n.length){var o=t;if(void 0!==this.axisPosition){var s=this.sciChartSurface.getYAxisById(this.orthogonalAxisId)||this.sciChartSurface.getXAxisById(this.orthogonalAxisId);if(!s||s.isHorizontalAxis)throw Error("orthogonalAxisId should be a valid id of vertical axis on the surface!");var l=s.getCurrentCoordinateCalculator();o=(0,a.getCoordinateWithCoordinateMode)(this.axisPosition,l,this.coordinateMode)+s.viewRect.top}this.layoutAxesFromTopToBottom(e,o,r,i,n)}},TopAlignedInnerAxisLayoutStrategy}(r(53810).BaseCenteredAxisLayoutStrategy);t.TopAlignedInnerAxisLayoutStrategy=s},44813:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.TopAlignedOuterAxisLayoutStrategy=void 0;var o=r(8558),a=r(48570),s=function(e){function TopAlignedOuterAxisLayoutStrategy(){var t=e.call(this)||this;return t.type=o.ELayoutStrategyType.TopOuter,t.layoutAxisPartsStrategy=a.layoutAxisPartsTopStrategy,t}return n(TopAlignedOuterAxisLayoutStrategy,e),TopAlignedOuterAxisLayoutStrategy.prototype.measureAxes=function(e,t,r){var i,n,o=null!==(n=null===(i=e.adjustedPadding)||void 0===i?void 0:i.top)&&void 0!==n?n:0;o+=e.topViewportBorder+e.topCanvasBorder,r.forEach(function(e){e.measure(),(0,a.updateAxisLayoutState)(e),o+=(0,a.getHorizontalAxisRequiredSize)(e.axisLayoutState),(0,a.updateLeftAndRightChartLayoutState)(t,e.axisLayoutState.additionalLeftSize,e.axisLayoutState.additionalRightSize)}),t.topOuterAreaSize=Math.max(t.topOuterAreaSize,o)},TopAlignedOuterAxisLayoutStrategy.prototype.layoutAxes=function(e,t,r,i,n){n.forEach(function(e){e.axisLength=void 0,e.offset=0}),this.layoutAxesFromBottomToTop(e,t,r,i,n)},TopAlignedOuterAxisLayoutStrategy}(r(57700).BaseAxisLayoutStrategy);t.TopAlignedOuterAxisLayoutStrategy=s},37352:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.TopAlignedOuterHorizontallyStackedAxisLayoutStrategy=void 0;var o=r(47494),a=r(8558),s=r(48570),l=function(e){function TopAlignedOuterHorizontallyStackedAxisLayoutStrategy(){var t=e.call(this)||this;return t.type=a.ELayoutStrategyType.TopStacked,t.isStacked=!0,t.layoutAxisPartsStrategy=s.layoutAxisPartsTopStrategy,t}return n(TopAlignedOuterHorizontallyStackedAxisLayoutStrategy,e),TopAlignedOuterHorizontallyStackedAxisLayoutStrategy.prototype.measureAxes=function(e,t,r){var i,n=0;r.forEach(function(e){e.measure(),(0,s.updateAxisLayoutState)(e);var t=(0,s.getHorizontalAxisRequiredSize)(e.axisLayoutState);n=t>n?t:n});var o=r[0],a=r[r.length-1];(0,s.updateLeftAndRightChartLayoutState)(t,null==o?void 0:o.axisLayoutState.additionalLeftSize,null==a?void 0:a.axisLayoutState.additionalRightSize);var l=e.topViewportBorder,u=e.topCanvasBorder,c=e.adjustedPadding;n+=null!==(i=l+u+(null==c?void 0:c.top))&&void 0!==i?i:0,t.topOuterAreaSize=Math.max(t.topOuterAreaSize,n)},TopAlignedOuterHorizontallyStackedAxisLayoutStrategy.prototype.layoutAxes=function(e,t,r,i,n){var a=this,l=r-e,u=n[0],c=n[n.length-1],d=n.filter(function(e){return e.stackedAxisLength}),p=n.reduce(function(e,t){return e-t.axisLayoutState.additionalBottomSize-t.axisLayoutState.additionalTopSize},l+(null==u?void 0:u.axisLayoutState.additionalLeftSize)+(null==c?void 0:c.axisLayoutState.additionalRightSize)),h=d.reduce(function(e,t){return e+a.calculateTotalAxisWidth(t,p)},0),f=l+(null==u?void 0:u.axisLayoutState.additionalLeftSize)+(null==c?void 0:c.axisLayoutState.additionalRightSize)-h;if(f<0)throw Error("Top stacked axes with defined size total ".concat(h," pixels which is ").concat(-f," more than the space available"));var y=f/(n.length-d.length),g=e-(null==u?void 0:u.axisLayoutState.additionalLeftSize);n.forEach(function(t){var r=t.axisLayoutState,n=r.axisSize,l=r.additionalLeftSize,u=r.additionalRightSize,c=i-r.additionalBottomSize,d=c-n,h=t.stackedAxisLength?a.calculateTotalAxisWidth(t,p):y,f=g+h-u;g+=l,t.offset=g-e,t.axisLength=f-g,t.isPrimaryAxis=!0,t.viewRect=o.Rect.createWithCoords(g,d,f,c),g=f+u,(0,s.layoutAxisParts)(t,a.layoutAxisPartsStrategy)})},TopAlignedOuterHorizontallyStackedAxisLayoutStrategy}(r(57700).BaseAxisLayoutStrategy);t.TopAlignedOuterHorizontallyStackedAxisLayoutStrategy=l},64335:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).AXIS_POSITION_COORDINATE="AXIS_POSITION_COORDINATE",r.COORDINATE_MODE="COORDINATE_MODE",r.VERTICAL_AXIS_ID="VERTICAL_AXIS_ID"},23144:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowedYRange=t.getIndicesRange=t.BaseDataSeries=void 0;var a=r(53247),s=r(15492),l=r(94694),u=r(35855),c=r(92530),d=r(51134),p=r(51894),h=r(96565),f=r(60717),y=r(70250),g=r(92200),v=r(51877),m=r(36072),S=r(21106),b=r(79334),P=r(3351),C=r(85230),x=function(e){function BaseDataSeries(t,r){var i,n,o,s,l,d,h,f=this;if((f=e.call(this)||this).dataChanged=new u.EventHandler,f.dataDistributionCalculator=new S.DataDistributionCalculator,f.minXSpacing=0,f.doubleVectorProvider=new b.DoubleVectorProvider,f.isSortedProperty=void 0,f.containsNaNProperty=void 0,f.isEvenlySpacedProperty=!1,f.metadataGeneratorProperty=void 0,f.changeCountProperty=0,f.fifoCapacityProperty=void 0,f.fifoSweepingProperty=!1,f.fifoSweepingGapProperty=1,f.webAssemblyContext=t,f.id=null!==(i=null==r?void 0:r.id)&&void 0!==i?i:(0,g.generateGuid)(),null==r?void 0:r.fifoCapacity)f.fifoCapacityProperty=r.fifoCapacity,f.doubleVectorProvider=new b.FIFOVectorProvider(r.fifoCapacity);else{var y=f.calculateInitialCapacity(r);c.Guard.argumentIsRealInteger(y,"initialCapacity"),f.doubleVectorProvider.capacity=y}return f.fifoSweepingProperty=(null==r?void 0:r.fifoSweeping)||f.fifoSweepingProperty,f.fifoSweepingGapProperty=(null==r?void 0:r.fifoSweepingGap)||f.fifoSweepingGapProperty,f.xValues=f.doubleVectorProvider.getDoubleVector(t),f.yValues=f.doubleVectorProvider.getDoubleVector(t),f.indexes=new t.SCRTDoubleVector,f.dataSeriesNameProperty=null!==(n=null==r?void 0:r.dataSeriesName)&&void 0!==n?n:f.dataSeriesNameProperty,f.isSorted=null!==(s=null!==(o=null==r?void 0:r.dataIsSortedInX)&&void 0!==o?o:null==r?void 0:r.isSorted)&&void 0!==s?s:f.isSortedProperty,f.containsNaN=null!==(l=null==r?void 0:r.containsNaN)&&void 0!==l?l:f.containsNaNProperty,f.isEvenlySpaced=null!==(d=null==r?void 0:r.dataEvenlySpacedInX)&&void 0!==d?d:f.isEvenlySpacedProperty,(null==r?void 0:r.metadata)&&("type"in r.metadata?(f.metadataGeneratorProperty=(0,a.createType)(p.EBaseType.MetadataGenerator,r.metadata.type,t,r.metadata.data),r.metadata=null===(h=f.metadataGeneratorProperty)||void 0===h?void 0:h.getMetadata()):Array.isArray(null==r?void 0:r.metadata)||(f.metadataGeneratorProperty=new C.TemplateMetadataGenerator(null==r?void 0:r.metadata),r.metadata=void 0)),f}return n(BaseDataSeries,e),BaseDataSeries.prototype.clear=function(){var e;null===(e=this.indexes)||void 0===e||e.clear(),this.dataDistributionCalculator.clear(this.isSorted,this.containsNaN)},Object.defineProperty(BaseDataSeries.prototype,"capacity",{get:function(){return this.xValues.capacity()},set:function(e){e>this.capacity&&this.reserve(e)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseDataSeries.prototype,"containsNaN",{get:function(){return this.containsNaNProperty},set:function(e){this.containsNaNProperty=e,void 0!==e&&this.dataDistributionCalculator.setContainsNaN(e),this.notifyDataChanged(P.EDataChangeType.Property,void 0,void 0,"containsNaN")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseDataSeries.prototype,"isSorted",{get:function(){return this.isSortedProperty},set:function(e){this.isSortedProperty=e,void 0!==e&&this.dataDistributionCalculator.setIsSortedAscending(e),this.notifyDataChanged(P.EDataChangeType.Property,void 0,void 0,"isSorted")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseDataSeries.prototype,"isEvenlySpaced",{get:function(){return this.isEvenlySpacedProperty},set:function(e){this.isEvenlySpacedProperty=e,this.notifyDataChanged(P.EDataChangeType.Property,void 0,void 0,"isEvenlySpaced")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseDataSeries.prototype,"dataSeriesName",{get:function(){return this.dataSeriesNameProperty},set:function(e){this.dataSeriesNameProperty=e,this.notifyDataChanged(P.EDataChangeType.Property,void 0,void 0,"dataSeriesName")},enumerable:!1,configurable:!0}),BaseDataSeries.prototype.count=function(){return this.xValues?this.xValues.size():0},BaseDataSeries.prototype.getIsDeleted=function(){return this.isDeleted},Object.defineProperty(BaseDataSeries.prototype,"fifoCapacity",{get:function(){return this.fifoCapacityProperty},enumerable:!1,configurable:!0}),Object.defineProperty(BaseDataSeries.prototype,"fifoStartIndex",{get:function(){return this.fifoCapacity>0?this.xValues.getStartIndex():0},enumerable:!1,configurable:!0}),Object.defineProperty(BaseDataSeries.prototype,"fifoSweeping",{get:function(){return this.fifoCapacity&&this.fifoSweepingProperty},set:function(e){this.fifoSweepingProperty=e,this.notifyDataChanged(P.EDataChangeType.Property,void 0,void 0,"fifoSweeping")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseDataSeries.prototype,"fifoSweepingGap",{get:function(){return this.fifoSweepingGapProperty},set:function(e){this.fifoSweepingGapProperty=e,this.notifyDataChanged(P.EDataChangeType.Property,void 0,void 0,"fifoSweepingGap")},enumerable:!1,configurable:!0}),BaseDataSeries.prototype.getNativeIndexes=function(){if(this.indexes){var e=this.count(),t=this.indexes.size();return t<e?this.webAssemblyContext.SCRTFillVectorSequential(this.indexes,e):t>e&&this.indexes.resizeFast(e),this.indexes}},BaseDataSeries.prototype.getNativeXValues=function(){return this.xValues},BaseDataSeries.prototype.getNativeValue=function(e,t){return this.fifoSweeping&&e.getRaw?e.getRaw(t):e.get(t)},BaseDataSeries.prototype.getNativeYValues=function(){return this.yValues},BaseDataSeries.prototype.delete=function(){this.xValues=(0,l.deleteSafe)(this.xValues),this.yValues=(0,l.deleteSafe)(this.yValues),this.indexes=(0,l.deleteSafe)(this.indexes),this.xInitialAnimationValues=(0,l.deleteSafe)(this.xInitialAnimationValues),this.yInitialAnimationValues=(0,l.deleteSafe)(this.yInitialAnimationValues),this.xFinalAnimationValues=(0,l.deleteSafe)(this.xFinalAnimationValues),this.yFinalAnimationValues=(0,l.deleteSafe)(this.yFinalAnimationValues),this.setMetadata(void 0),this.isDeleted=!0},BaseDataSeries.prototype.notifyDataChanged=function(e,t,r,i){this.changeCountProperty++,this.dataChanged.raiseEvent({changeType:e,index:t,count:r})},Object.defineProperty(BaseDataSeries.prototype,"xRange",{get:function(){return this.getXRange()},enumerable:!1,configurable:!0}),BaseDataSeries.prototype.getXRange=function(e){var t,r=this.getXValues(e);if(1===this.count()){var i=r.get(0)-1,n=r.get(0)+1;return new d.NumberRange(i,n)}if(this.count()>1){var i=r.get(0),n=r.get(this.count()-1);if(!this.dataDistributionCalculator.isSortedAscending){var o=void 0;try{if(o=this.webAssemblyContext.NumberUtil.MinMax(this.getNativeXValues()),!(0,v.isRealNumber)(o.minD)||!(0,v.isRealNumber)(o.maxD))return new d.NumberRange(0,0);i=o.minD,n=o.maxD}finally{(0,l.deleteSafe)(o)}}return i===n?new d.NumberRange(i-1,n+1):(i>n&&(t=i,i=n,n=t),new d.NumberRange(i,n))}return new d.NumberRange(0,0)},BaseDataSeries.prototype.getWindowedYRange=function(e,r,i,n,o){void 0===i&&(i=!1),void 0===n&&(n=P.EDataSeriesValueType.Default),void 0===o&&(o=f.EYRangeMode.Visible);var a=this.getXValues(n),s=this.getYValues(n);return(0,t.getWindowedYRange)(this.webAssemblyContext,a,s,e,r,i,this.dataDistributionCalculator.isSortedAscending,o===f.EYRangeMode.Visible?h.ESearchMode.RoundUp:h.ESearchMode.RoundDown,o===f.EYRangeMode.Visible?h.ESearchMode.RoundDown:h.ESearchMode.RoundUp)},BaseDataSeries.prototype.getIndicesRange=function(e,r,i,n){void 0===r&&(r=!1),void 0===i&&(i=h.ESearchMode.RoundDown),void 0===n&&(n=h.ESearchMode.RoundUp);var o=r?this.getNativeIndexes():this.xValues;return(0,t.getIndicesRange)(this.webAssemblyContext,o,e,this.dataDistributionCalculator.isSortedAscending,i,n)},Object.defineProperty(BaseDataSeries.prototype,"hasValues",{get:function(){return this.count()>0},enumerable:!1,configurable:!0}),BaseDataSeries.prototype.hasMetadataGenerator=function(){return void 0!==this.metadataGeneratorProperty},BaseDataSeries.prototype.setMetadataGenerator=function(e){var t=this,r=!this.hasMetadataGenerator();if(this.metadataGeneratorProperty=e,r&&!this.metadataProperty){var i=Array(this.xValues.size()).fill(1).map(function(e){return t.metadataGeneratorProperty.getSingleMetadata()});this.metadataProperty=i}},BaseDataSeries.prototype.getMetadataAt=function(e,t){if(void 0===t&&(t=!1),this.validateIndex(e),this.metadataProperty){if(!this.fifoCapacity||t)return this.metadataProperty[e];var r=(this.xValues.getStartIndex()+e)%this.fifoCapacity;return this.metadataProperty[r]}},BaseDataSeries.prototype.getMetadataLength=function(){return this.metadataProperty?this.metadataProperty.length:this.count()},Object.defineProperty(BaseDataSeries.prototype,"hasMetadata",{get:function(){return void 0!==this.metadataProperty},enumerable:!1,configurable:!0}),BaseDataSeries.prototype.createAnimationVectors=function(){this.xInitialAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.yInitialAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.xFinalAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.yFinalAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext)},BaseDataSeries.prototype.setInitialAnimationVectors=function(e){if(!e){this.xInitialAnimationValues.resize(0,0),this.yInitialAnimationValues.resize(0,0);return}m.animationHelpers.copyVector(e.getNativeXValues(),this.xInitialAnimationValues),m.animationHelpers.copyVector(e.getNativeYValues(),this.yInitialAnimationValues)},BaseDataSeries.prototype.setFinalAnimationVectors=function(e){if(!e){this.xFinalAnimationValues.resize(0,0),this.yFinalAnimationValues.resize(0,0);return}m.animationHelpers.copyVector(e.getNativeXValues(),this.xFinalAnimationValues),m.animationHelpers.copyVector(e.getNativeYValues(),this.yFinalAnimationValues)},BaseDataSeries.prototype.validateAnimationVectors=function(){var e=this.xInitialAnimationValues.size();if(e!==this.yInitialAnimationValues.size()||e!==this.xFinalAnimationValues.size()||e!==this.yFinalAnimationValues.size())throw Error("initialAnimationValues and finalAnimationValues must have the same length")},BaseDataSeries.prototype.updateAnimationProperties=function(e,t){t.isOnStartAnimation?t.calculateAnimationValues(this.webAssemblyContext,this.yFinalAnimationValues,this.getNativeYValues(),e):t.isDataSeriesAnimation&&(t.calculateDataSeriesAnimationValues(this.webAssemblyContext,this.xInitialAnimationValues,this.xFinalAnimationValues,this.getNativeXValues(),e),t.calculateDataSeriesAnimationValues(this.webAssemblyContext,this.yInitialAnimationValues,this.yFinalAnimationValues,this.getNativeYValues(),e))},BaseDataSeries.prototype.toJSON=function(e){void 0===e&&(e=!1);var t=this.getOptions(e);return{type:this.type,options:t}},Object.defineProperty(BaseDataSeries.prototype,"changeCount",{get:function(){return this.changeCountProperty},enumerable:!1,configurable:!0}),BaseDataSeries.prototype.getOptions=function(e){void 0===e&&(e=!1);var t=o({id:this.id,containsNaN:this.containsNaN,isSorted:this.isSorted,dataIsSortedInX:this.isSorted,dataEvenlySpacedInX:this.isEvenlySpaced,dataSeriesName:this.dataSeriesName,fifoCapacity:this.fifoCapacity,fifoSweeping:this.fifoSweeping,fifoSweepingGap:this.fifoSweepingGap,fifoStartIndex:this.fifoSweeping?this.fifoStartIndex:0,capacity:this.capacity,metadata:void 0,xValues:void 0,yValues:void 0},this.dataIds);return t.metadata=this.metadataGeneratorProperty?this.metadataGeneratorProperty.toJSON():e?void 0:this.metadataProperty,t},BaseDataSeries.prototype.findIndex=function(e,t){if(void 0===t&&(t=h.ESearchMode.Nearest),0===this.count())return -1;var r,i,n=null!==(i=null===(r=this.dataDistributionCalculator)||void 0===r?void 0:r.isSortedAscending)&&void 0!==i&&i,o=n?(0,h.convertSearchMode)(this.webAssemblyContext,t):this.webAssemblyContext.SCRTFindIndexSearchMode.Exact;return this.webAssemblyContext.NumberUtil.FindIndex(this.xValues,e,o,n)},BaseDataSeries.prototype.validateIndex=function(e,t){if(Math.round(e)!==e)throw Error("Index must be an integer");if(e<0||e>=this.count())throw Error(null!=t?t:"Index is out of range")},BaseDataSeries.prototype.setMetadataAt=function(e,t){if(t){if(this.validateIndex(e),this.fillMetadataIfUndefined(),this.fifoCapacity){var r=(this.xValues.getStartIndex()+e)%this.fifoCapacity;this.metadataProperty[r]=t}else this.metadataProperty[e]=t}},BaseDataSeries.prototype.appendMetadata=function(e){if(!e){if(!this.metadataGeneratorProperty)return;e=this.metadataGeneratorProperty.getSingleMetadata()}this.fillMetadataIfUndefined(),this.fifoCapacity&&this.count()===this.fifoCapacity?this.metadataProperty[this.xValues.getStartIndex()]=e:this.metadataProperty.push(e)},BaseDataSeries.prototype.appendMetadataRange=function(e,t){var r=this;if(!e){if(!this.metadataGeneratorProperty)return;e=Array(t).fill(1).map(function(e){return r.metadataGeneratorProperty.getSingleMetadata()})}if(this.fillMetadataIfUndefined(),this.fifoCapacity)(0,y.appendRangeFifo)(e,this.metadataProperty,this.fifoCapacity,this.xValues.getStartIndex());else{var i=this.metadataProperty.length;this.metadataProperty.length+=t;for(var n=0;n<t;++n)this.metadataProperty[i+n]=e[n]}},BaseDataSeries.prototype.insertMetadata=function(e,t){if(!t){if(!this.metadataGeneratorProperty)return;t=this.metadataGeneratorProperty.getSingleMetadata()}this.fillMetadataIfUndefined(),this.metadataProperty.splice(e,0,t)},BaseDataSeries.prototype.insertMetadataRange=function(e,t){var r=this;if(!t){if(!this.metadataGeneratorProperty)return;t=Array(length).fill(1).map(function(e){return r.metadataGeneratorProperty.getSingleMetadata()})}this.fillMetadataIfUndefined();var i=this.metadataProperty.slice(0,e),n=this.metadataProperty.slice(e);this.metadataProperty=i.concat(t,n)},BaseDataSeries.prototype.removeMetadataAt=function(e){this.metadataProperty&&this.metadataProperty.splice(e,1)},BaseDataSeries.prototype.removeMetadataRange=function(e,t){this.metadataProperty&&this.metadataProperty.splice(e,t)},BaseDataSeries.prototype.setMetadata=function(e){this.metadataProperty=e},BaseDataSeries.prototype.getXValues=function(e){var t;switch(e){case P.EDataSeriesValueType.FinalAnimationValues:t=this.xFinalAnimationValues;break;case P.EDataSeriesValueType.InitialAnimationValues:t=this.xInitialAnimationValues;break;default:t=this.xValues}return t},BaseDataSeries.prototype.throwIfFifo=function(e){if(this.fifoCapacity)throw Error("".concat(e," is not supported in fifo mode"))},BaseDataSeries.prototype.reserve=function(e){if(this.fifoCapacity)throw Error("Resizing a fifo dataSeries is not currently supported.");c.Guard.argumentIsRealInteger(e,"capacity"),this.xValues.reserve(e),this.yValues.reserve(e)},BaseDataSeries.prototype.calculateInitialCapacity=function(e){var t,r,i;return Math.max(null!==(t=null==e?void 0:e.capacity)&&void 0!==t?t:0,null!==(i=null===(r=null==e?void 0:e.xValues)||void 0===r?void 0:r.length)&&void 0!==i?i:0)},BaseDataSeries.prototype.fillMetadataIfUndefined=function(){if(void 0===this.metadataProperty){var e=this.count();this.metadataProperty=Array(e).fill(void 0)}},BaseDataSeries.prototype.getYValues=function(e){var t;switch(e){case P.EDataSeriesValueType.FinalAnimationValues:t=this.yFinalAnimationValues;break;case P.EDataSeriesValueType.InitialAnimationValues:t=this.yInitialAnimationValues;break;default:t=this.yValues}return t},BaseDataSeries}(s.DeletableEntity);t.BaseDataSeries=x,t.getIndicesRange=function(e,t,r,i,n,o){void 0===n&&(n=h.ESearchMode.RoundDown),void 0===o&&(o=h.ESearchMode.RoundUp);var a=t.size(),s=new d.NumberRange(0,-1);if(a>0){if(!i)return new d.NumberRange(0,a-1);var convertSearchMode_1=function(t){switch(t){case h.ESearchMode.Exact:return e.SCRTFindIndexSearchMode.Exact;case h.ESearchMode.Nearest:return e.SCRTFindIndexSearchMode.Nearest;case h.ESearchMode.RoundDown:return e.SCRTFindIndexSearchMode.RoundDown;case h.ESearchMode.RoundUp:return e.SCRTFindIndexSearchMode.RoundUp}},l=e.NumberUtil.FindIndex(t,r.min,convertSearchMode_1(n),!0),u=e.NumberUtil.FindIndex(t,r.max,convertSearchMode_1(o),!0);s=new d.NumberRange(l,u)}return s},t.getWindowedYRange=function(e,r,i,n,o,a,s,u,c){void 0===u&&(u=h.ESearchMode.RoundUp),void 0===c&&(c=h.ESearchMode.RoundDown);var p,f=r.size();if(1===f){var y=i.get(0);return new d.NumberRange(y,y)}var g=a?n:(0,t.getIndicesRange)(e,r,n,s,u,c),m=Math.max(Math.floor(g.min),0),S=Math.min(Math.ceil(g.max),f-1);if(!(S<m))try{if(p=e.NumberUtil.MinMaxWithIndex(i,m,S-m+1),!(0,v.isRealNumber)(p.minD)||!(0,v.isRealNumber)(p.maxD))return;return new d.NumberRange(p.minD,p.maxD)}finally{(0,l.deleteSafe)(p)}}},75707:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseHeatmapDataSeries=void 0;var i=r(53247),n=r(94694),o=r(35855),a=r(92530),s=r(51134),l=r(51894),u=r(24714),c=r(92200),d=r(51877),p=r(3351),h=r(85230),f=function(){function BaseHeatmapDataSeries(e,t){var r,n,a,s;this.dataChanged=new o.EventHandler,this.minXSpacing=0,this.arrayWidth=0,this.arrayHeight=0,this.hasDataChangesProperty=!1,this.hasNaNsProperty=!1,this.lastZMin=-1,this.lastZMax=-1,this.lastFillValuesOutOfRange=void 0,this.metadataGeneratorProperty=void 0,this.changeCountProperty=0,this.webAssemblyContext=e,this.id=null!==(r=null==t?void 0:t.id)&&void 0!==r?r:(0,c.generateGuid)(),this.dataSeriesNameProperty=null!==(n=null==t?void 0:t.dataSeriesName)&&void 0!==n?n:this.dataSeriesNameProperty,this.hasNaNsProperty=null!==(a=null==t?void 0:t.containsNaN)&&void 0!==a?a:this.hasNaNsProperty,this.normalizedVector=new this.webAssemblyContext.SCRTFloatVector,(null==t?void 0:t.metadata)&&("type"in t.metadata?(this.metadataGeneratorProperty=(0,i.createType)(l.EBaseType.MetadataGenerator,t.metadata.type,e,t.metadata.data),t.metadata=null===(s=this.metadataGeneratorProperty)||void 0===s?void 0:s.getMetadata()):Array.isArray(null==t?void 0:t.metadata)||(this.metadataGeneratorProperty=new h.TemplateMetadataGenerator(null==t?void 0:t.metadata),t.metadata=void 0)),this.setZValues(null==t?void 0:t.zValues,null==t?void 0:t.metadata)}return Object.defineProperty(BaseHeatmapDataSeries.prototype,"isSorted",{get:function(){return!0},set:function(e){throw Error("setting isSorted on a heatmap series is not supported")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"isEvenlySpaced",{get:function(){return!0},set:function(e){throw Error("setting isEvenlySpaced on a heatmap series is not supported")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"containsNaN",{get:function(){return!1},set:function(e){throw Error("setting containsNaN is not supported on BaseHeatmapDataSeries")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"dataDistributionCalculator",{get:function(){throw Error("dataDistributionCalculator is not supported on BaseHeatmapDataSeries")},enumerable:!1,configurable:!0}),BaseHeatmapDataSeries.prototype.getNativeValue=function(e,t){throw Error("getNativeValue not supported for HeatmapDataSeries")},Object.defineProperty(BaseHeatmapDataSeries.prototype,"hasDataChanges",{get:function(){return this.hasDataChangesProperty},enumerable:!1,configurable:!0}),BaseHeatmapDataSeries.prototype.getZValues=function(){return this.zValuesProperty},BaseHeatmapDataSeries.prototype.setZValues=function(e,t){if(!e||!e[0]){this.zValuesProperty=void 0,this.arrayHeight=0,this.arrayWidth=0,this.size=0;return}var r=e[0].length;e.forEach(function(e){if(!e)throw Error("Each row in zValues must be defined. See how to declare a 2D array in Javascript here https://stackoverflow.com/a/966234/303612");if(e.length!==r)throw Error("Each row in zValues must be the same length, so that the overall 2D array is square")}),t&&guardSameLengthZValuesAndMetadata(e,t);var i=e[0].length,n=e.length;this.arrayWidth=i,this.arrayHeight=n,this.size=i*n,this.zValuesProperty=e,this.setMetadata(t),this.notifyDataChanged(p.EDataChangeType.Append)},BaseHeatmapDataSeries.prototype.getZValue=function(e,t){return this.zValuesProperty[e][t]},BaseHeatmapDataSeries.prototype.setZValue=function(e,t,r,i){this.zValuesProperty[e][t]=r,this.setMetadataAt(e,t,i),this.notifyDataChanged(p.EDataChangeType.Update,t,e)},BaseHeatmapDataSeries.prototype.clear=function(){this.getIsDeleted()||(this.setZValues(void 0),this.setMetadata(void 0),this.notifyDataChanged(p.EDataChangeType.Clear,null,null))},Object.defineProperty(BaseHeatmapDataSeries.prototype,"xMin",{get:function(){return this.xRange.min},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"xMax",{get:function(){return this.xRange.max},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"yMin",{get:function(){return this.yRange.min},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"yMax",{get:function(){return this.yRange.max},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"zMin",{get:function(){return this.zRange.min},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"zMax",{get:function(){return this.zRange.max},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"xRange",{get:function(){return this.getXRange()},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"yRange",{get:function(){return this.getYRange()},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"zRange",{get:function(){return this.getZRange()},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"dataSeriesName",{get:function(){return this.dataSeriesNameProperty},set:function(e){this.dataSeriesNameProperty=e,this.notifyDataChanged(p.EDataChangeType.Property,null,null,"dataSeriesName")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"hasValues",{get:function(){return this.arrayWidth>0&&this.arrayHeight>0},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapDataSeries.prototype,"hasNaNs",{get:function(){return this.hasNaNsProperty},set:function(e){this.hasNaNsProperty=e,this.notifyDataChanged(p.EDataChangeType.Property,null,null,"hasNaNs")},enumerable:!1,configurable:!0}),BaseHeatmapDataSeries.prototype.count=function(){return this.arrayWidth*this.arrayHeight},BaseHeatmapDataSeries.prototype.setMetadataGenerator=function(e){var t=void 0===this.metadataGeneratorProperty;this.metadataGeneratorProperty=e,t&&this.setMetadata(null)},BaseHeatmapDataSeries.prototype.delete=function(){this.isDeleted=!0,this.normalizedVector=(0,n.deleteSafe)(this.normalizedVector)},BaseHeatmapDataSeries.prototype.getIsDeleted=function(){return this.isDeleted},BaseHeatmapDataSeries.prototype.getNativeIndexes=function(){throw Error("getNativeIndexes is invalid for heatmap type series. Try getting or setting zValues instead")},BaseHeatmapDataSeries.prototype.getNativeXValues=function(){throw Error("getNativeXValues is invalid for heatmap type series. Try getting or setting zValues instead")},BaseHeatmapDataSeries.prototype.getNativeYValues=function(){throw Error("getNativeYValues is invalid for heatmap type series. Try getting or setting zValues instead")},BaseHeatmapDataSeries.prototype.getWindowedYRange=function(e,t,r){return this.yRange},BaseHeatmapDataSeries.prototype.notifyDataChanged=function(e,t,r,i){this.changeCountProperty++,this.hasDataChangesProperty=!0,this.dataChanged.raiseEvent({changeType:e,index:t,yIndex:r,name:i})},BaseHeatmapDataSeries.prototype.getNormalizedVector=function(e,t){a.Guard.notNull(e,"colorMap"),a.Guard.argumentIsRealNumber(e.minimum,"colorMap.minimum"),a.Guard.argumentIsRealNumber(e.maximum,"colorMap.maximum");var r=this.arrayWidth*this.arrayHeight;return(this.hasDataChangesProperty||r!==this.normalizedVector.size()||e.minimum!==this.lastZMin||e.maximum!==this.lastZMax||t!==this.lastFillValuesOutOfRange)&&(this.recreateNormalizedVector(e.minimum,e.maximum,t),this.lastZMin=e.minimum,this.lastZMax=e.maximum,this.lastFillValuesOutOfRange=t,this.hasDataChangesProperty=!1),this.normalizedVector},BaseHeatmapDataSeries.prototype.recreateNormalizedVector=function(e,t,r){var i=this.arrayWidth*this.arrayHeight;this.normalizedVector.clear(),this.normalizedVector.resizeFast(i);var n=this.hasNaNs?e-(t-e)/128:e;if(!(0,d.isRealNumber)(n))throw Error("Can not create newZMin for try to use different zMin and zMax values");for(var o=0,a=1/(t-n),s=new Float32Array(this.arrayWidth),l=0;l<this.arrayHeight;l++){for(var c=0;c<this.arrayWidth;c++){var p=this.zValuesProperty[l][c],h=p-n;p!=p?h=0:h<e-n?h=r?e-n:0:h>t-n&&(h=r?t-n:0);var f=h*a;s[c]=f}(0,u.memCopyFloat32)(this.webAssemblyContext,s,this.normalizedVector,o),o+=this.arrayWidth}},BaseHeatmapDataSeries.prototype.getMetadataAt=function(e,t){if(this.validateIndexes(e,t),this.metadataProperty)return this.metadataProperty[e][t]},BaseHeatmapDataSeries.prototype.getMetadataHeight=function(){return this.metadataProperty?this.metadataProperty.length:this.arrayHeight},BaseHeatmapDataSeries.prototype.getMetadataWidth=function(){return this.metadataProperty?this.metadataProperty[0].length:this.arrayWidth},BaseHeatmapDataSeries.prototype.toJSON=function(e){void 0===e&&(e=!1);var t=this.getOptions(e);return{type:this.type,options:t}},BaseHeatmapDataSeries.prototype.getIndicesRange=function(e,t,r,i){},Object.defineProperty(BaseHeatmapDataSeries.prototype,"changeCount",{get:function(){return this.changeCountProperty},enumerable:!1,configurable:!0}),BaseHeatmapDataSeries.prototype.getOptions=function(e){return void 0===e&&(e=!1),{id:this.id,containsNaN:this.hasNaNs,dataSeriesName:this.dataSeriesName,zValues:e?void 0:this.zValuesProperty,metadata:this.metadataGeneratorProperty?this.metadataGeneratorProperty.toJSON():e?void 0:this.metadataProperty}},BaseHeatmapDataSeries.prototype.getZRange=function(){var e=this.getZValues();if(e){for(var t=Number.MAX_VALUE,r=Number.MIN_VALUE,i=0;i<this.arrayHeight;++i)for(var n=0;n<this.arrayWidth;n++){var o=e[i][n];o<t&&(t=o),o>r&&(r=o)}return new s.NumberRange(t,r)}},BaseHeatmapDataSeries.prototype.validateIndexes=function(e,t){if(Math.round(e)!==e)throw Error("yIndex must be an integer");if(Math.round(t)!==t)throw Error("xIndex must be an integer");if(e<0||e>=this.arrayHeight)throw Error("yIndex is out of range");if(t<0||t>=this.arrayWidth)throw Error("xIndex is out of range")},BaseHeatmapDataSeries.prototype.setMetadata=function(e){if(!e&&this.metadataGeneratorProperty)for(var t=0;t<this.arrayHeight;t++)for(var r=0;r<this.arrayWidth;r++)e[t][r]=this.metadataGeneratorProperty.getSingleMetadata();this.metadataProperty=e},BaseHeatmapDataSeries.prototype.setMetadataAt=function(e,t,r){r&&(this.validateIndexes(e,t),this.fillMetadataIfUndefined(),this.metadataProperty[e][t]=r)},BaseHeatmapDataSeries.prototype.fillMetadataIfUndefined=function(){if(void 0===this.metadataProperty)for(var e=Array(this.arrayHeight).fill(void 0),t=0;t<this.arrayHeight;t++)e[t]=Array(this.arrayWidth).fill(void 0)},BaseHeatmapDataSeries}();t.BaseHeatmapDataSeries=f;var guardSameLengthZValuesAndMetadata=function(e,t){a.Guard.arraysSameLengthArr([{arg:e,name:"zValues"},{arg:t,name:"metadata"}]);for(var r=0;r<e.length;r++)a.Guard.arraysSameLengthArr([{arg:e[r],name:"zValues[".concat(r,"]")},{arg:t[r],name:"metadata[".concat(r,"]")}])}},13952:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePaletteProvider=void 0;var r=function(){function BasePaletteProvider(){}return BasePaletteProvider.prototype.onAttached=function(e){},BasePaletteProvider.prototype.onDetached=function(){},BasePaletteProvider}();t.BasePaletteProvider=r},32435:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.HeatmapSeriesInfo=void 0;var o=r(44841),a=r(1411),s=function(e){function HeatmapSeriesInfo(t,r){var i=e.call(this,t,r)||this;return i.xIndex=r.heatmapXIndex,i.yIndex=r.heatmapYIndex,i.zValue=r.zValue,i.color=void 0,i}return n(HeatmapSeriesInfo,e),Object.defineProperty(HeatmapSeriesInfo.prototype,"formattedZValue",{get:function(){var e=this.renderableSeries;return e?e.zLabelProvider.formatCursorLabel(this.zValue):(0,a.formatNumber)(this.zValue,o.ENumericFormat.Decimal,2)},enumerable:!1,configurable:!0}),HeatmapSeriesInfo}(r(84151).SeriesInfo);t.HeatmapSeriesInfo=s},91379:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.HlcSeriesInfo=void 0;var o=function(e){function HlcSeriesInfo(t,r){var i=e.call(this,t,r)||this;return i.highValue=r.highValue,i.lowValue=r.lowValue,i.closeValue=r.closeValue,i}return n(HlcSeriesInfo,e),Object.defineProperty(HlcSeriesInfo.prototype,"formattedHighValue",{get:function(){return this.getYCursorFormattedValue(this.highValue)},enumerable:!1,configurable:!0}),Object.defineProperty(HlcSeriesInfo.prototype,"formattedLowValue",{get:function(){return this.getYCursorFormattedValue(this.lowValue)},enumerable:!1,configurable:!0}),Object.defineProperty(HlcSeriesInfo.prototype,"formattedCloseValue",{get:function(){return this.getYCursorFormattedValue(this.closeValue)},enumerable:!1,configurable:!0}),HlcSeriesInfo}(r(84151).SeriesInfo);t.HlcSeriesInfo=o},3709:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.OhlcSeriesInfo=void 0;var o=function(e){function OhlcSeriesInfo(t,r){var i=e.call(this,t,r)||this;return i.openValue=r.openValue,i.highValue=r.highValue,i.lowValue=r.lowValue,i.closeValue=r.closeValue,i}return n(OhlcSeriesInfo,e),Object.defineProperty(OhlcSeriesInfo.prototype,"formattedOpenValue",{get:function(){return this.getYCursorFormattedValue(this.openValue)},enumerable:!1,configurable:!0}),Object.defineProperty(OhlcSeriesInfo.prototype,"formattedHighValue",{get:function(){return this.getYCursorFormattedValue(this.highValue)},enumerable:!1,configurable:!0}),Object.defineProperty(OhlcSeriesInfo.prototype,"formattedLowValue",{get:function(){return this.getYCursorFormattedValue(this.lowValue)},enumerable:!1,configurable:!0}),Object.defineProperty(OhlcSeriesInfo.prototype,"formattedCloseValue",{get:function(){return this.getYCursorFormattedValue(this.closeValue)},enumerable:!1,configurable:!0}),OhlcSeriesInfo}(r(84151).SeriesInfo);t.OhlcSeriesInfo=o},84151:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeriesInfo=void 0;var i=r(55687),n=function(){function SeriesInfo(e,t){var r;this.renderableSeries=e,this.seriesName=null===(r=e.dataSeries)||void 0===r?void 0:r.dataSeriesName,this.stroke=e.stroke,this.dataSeriesType=t.dataSeriesType,this.dataSeriesIndex=t.dataSeriesIndex,this.isHit=t.isHit,this.isWithinDataBounds=t.isWithinDataBounds,this.hitTestPointValues=t.hitTestPointValues,this.xValue=t.isCategoryAxis?t.xCategoryValue:t.xValue,this.point2xValue=t.point2xValue,this.yValue=t.yValue,this.point2yValue=t.point2yValue,this.xCoordinate=t.xCoord,this.yCoordinate=t.yCoord,this.point2xCoordinate=t.point2xCoord,this.point2yCoordinate=t.point2yCoord,this.pointMetadata=t.metadata,this.point2metadata=t.point2metadata,this.distance=t.distance,e.type===i.ESeriesType.ColumnSeries?this.fill=e.fill:e.type===i.ESeriesType.MountainSeries?this.fill=e.fill:e.type===i.ESeriesType.BandSeries&&(this.fill=e.fill)}return Object.defineProperty(SeriesInfo.prototype,"isVisible",{get:function(){return this.renderableSeries.isVisible},enumerable:!1,configurable:!0}),Object.defineProperty(SeriesInfo.prototype,"formattedYValue",{get:function(){return this.getYCursorFormattedValue(this.yValue)},enumerable:!1,configurable:!0}),Object.defineProperty(SeriesInfo.prototype,"formattedXValue",{get:function(){return this.getXCursorFormattedValue(this.xValue)},enumerable:!1,configurable:!0}),SeriesInfo.prototype.getYCursorFormattedValue=function(e){return this.renderableSeries.yAxis.labelProvider.formatCursorLabel(e)},SeriesInfo.prototype.getXCursorFormattedValue=function(e){return this.renderableSeries.xAxis.labelProvider.formatCursorLabel(e)},SeriesInfo.prototype.equals=function(e){return!!e&&this.renderableSeries.id===e.renderableSeries.id&&this.isHit===e.isHit&&this.xValue===e.xValue&&this.yValue===e.yValue&&this.pointMetadata===e.pointMetadata},SeriesInfo}();t.SeriesInfo=n},54592:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.StackedXySeriesInfo=void 0;var o=function(e){function StackedXySeriesInfo(t,r){var i=e.call(this,t,r)||this;return i.yValue=r.y1Value,i.accumulatedValue=r.yValue,i}return n(StackedXySeriesInfo,e),StackedXySeriesInfo}(r(84151).SeriesInfo);t.StackedXySeriesInfo=o},35846:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XySeriesInfo=void 0;var o=function(e){function XySeriesInfo(t,r){return e.call(this,t,r)||this}return n(XySeriesInfo,e),XySeriesInfo}(r(84151).SeriesInfo);t.XySeriesInfo=o},29723:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyySeriesInfo=void 0;var o=function(e){function XyySeriesInfo(t,r){var i=e.call(this,t,r)||this;return i.isFirstSeries=!0,i.y1Value=r.y1Value,i.point2y1Value=r.point2y1Value,i.y1Coordinate=r.y1Coord,i.point2y1Coordinate=r.point2y1Coord,i}return n(XyySeriesInfo,e),Object.defineProperty(XyySeriesInfo.prototype,"formattedY1Value",{get:function(){return this.getYCursorFormattedValue(this.y1Value)},enumerable:!1,configurable:!0}),XyySeriesInfo}(r(84151).SeriesInfo);t.XyySeriesInfo=o},2765:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyzSeriesInfo=void 0;var o=function(e){function XyzSeriesInfo(t,r){var i=e.call(this,t,r)||this;return i.zValue=r.zValue,i}return n(XyzSeriesInfo,e),Object.defineProperty(XyzSeriesInfo.prototype,"formattedZValue",{get:function(){return this.getYCursorFormattedValue(this.zValue)},enumerable:!1,configurable:!0}),XyzSeriesInfo}(r(84151).SeriesInfo);t.XyzSeriesInfo=o},21106:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataDistributionCalculator=void 0;var i=r(93940),n=r(70250),o=r(1411),a=function(){function DataDistributionCalculator(){this.containsNanProperty=!1,this.isSortedAscendingProperty=!0}return Object.defineProperty(DataDistributionCalculator.prototype,"containsNaN",{get:function(){return this.containsNanProperty},enumerable:!1,configurable:!0}),Object.defineProperty(DataDistributionCalculator.prototype,"isSortedAscending",{get:function(){return this.isSortedAscendingProperty},enumerable:!1,configurable:!0}),DataDistributionCalculator.prototype.onAppend=function(e,t,r,a,s){if(void 0!==t?this.containsNanProperty=t:!1===this.containsNanProperty&&(this.containsNanProperty=s.some(o.checkIsNaN),!1===this.containsNanProperty&&i.performanceWarnings.dataDistributionFlagNaN.warn()),void 0!==e)this.isSortedAscendingProperty=e;else if(!0===this.isSortedAscendingProperty){var l=(0,n.isArraySorted)(a),u=r.size(),c=0===u||r.get(u-1)<a[0];this.isSortedAscendingProperty=l&&c,!0===this.isSortedAscendingProperty&&i.performanceWarnings.dataDistributionFlagSortedAscending.warn()}},DataDistributionCalculator.prototype.onInsert=function(e,t,r,a,s,l){if(void 0!==t?this.containsNanProperty=t:!1===this.containsNanProperty&&(this.containsNanProperty=s.some(o.checkIsNaN),!1===this.containsNanProperty&&i.performanceWarnings.dataDistributionFlagNaN.warn()),void 0!==e)this.isSortedAscendingProperty=e;else if(!0===this.isSortedAscendingProperty&&a){var u=(0,n.isArraySorted)(a),c=0===l||r.get(l-1)<a[0],d=l>=r.size()||a[a.length-1]<r.get(l);this.isSortedAscendingProperty=u&&c&&d,!0===this.isSortedAscendingProperty&&i.performanceWarnings.dataDistributionFlagSortedAscending.warn()}},DataDistributionCalculator.prototype.onUpdate=function(e,t,r,i,a,s){if(void 0!==t?this.containsNanProperty=t:!1===this.containsNanProperty&&(this.containsNanProperty=a.some(o.checkIsNaN)),void 0!==e)this.isSortedAscendingProperty=e;else if(!0===this.isSortedAscendingProperty&&i){var l=(0,n.isArraySorted)(i),u=0===s||r.get(s-1)<i[0],c=r.size(),d=s+i.length,p=d>=c||i[i.length-1]<r.get(d);this.isSortedAscendingProperty=l&&u&&p}},DataDistributionCalculator.prototype.clear=function(e,t){this.isSortedAscendingProperty=null==e||e,this.containsNanProperty=null!=t&&t},DataDistributionCalculator.prototype.setIsSortedAscending=function(e){this.isSortedAscendingProperty=e},DataDistributionCalculator.prototype.setContainsNaN=function(e){this.containsNanProperty=e},DataDistributionCalculator}();t.DataDistributionCalculator=a},39772:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataPointSelectionPaletteProvider=void 0;var i=r(86538),n=r(55687),o=r(48053),a=r(4002),s=function(){function DataPointSelectionPaletteProvider(e){this.strokePaletteMode=a.EStrokePaletteMode.SOLID,this.fillPaletteMode=a.EFillPaletteMode.SOLID,(null==e?void 0:e.stroke)&&(this.selectedStroke=(0,o.parseColorToUIntArgb)(null==e?void 0:e.stroke)),(null==e?void 0:e.fill)&&(this.selectedFill=(0,o.parseColorToUIntArgb)(null==e?void 0:e.fill)),this.selectedPointMarker={stroke:this.selectedStroke,fill:this.selectedFill}}return DataPointSelectionPaletteProvider.prototype.onAttached=function(e){this.seriesType?this.seriesType!==e.type&&(e.paletteProvider=a.DefaultPaletteProvider.createEmpty(),console.error("One instance of a DataPointSelectionPaletteProvider cannot be shared between series of different types")):this.seriesType=e.type},DataPointSelectionPaletteProvider.prototype.onDetached=function(){},DataPointSelectionPaletteProvider.prototype.overridePointMarkerArgb=function(e,t,r,i,n){if(null==n?void 0:n.isSelected)return this.selectedPointMarker},DataPointSelectionPaletteProvider.prototype.overrideStrokeArgb=function(e,t,r,i,o){if([n.ESeriesType.OhlcSeries,n.ESeriesType.CandlestickSeries,n.ESeriesType.ColumnSeries].includes(this.seriesType)&&(null==o?void 0:o.isSelected))return this.selectedStroke},DataPointSelectionPaletteProvider.prototype.overrideFillArgb=function(e,t,r,i,o){if([n.ESeriesType.StackedColumnSeries,n.ESeriesType.ColumnSeries,n.ESeriesType.CandlestickSeries].includes(this.seriesType)&&(null==o?void 0:o.isSelected))return this.selectedFill},DataPointSelectionPaletteProvider.prototype.toJSON=function(){return{type:i.EPaletteProviderType.DataPointSelection,options:{stroke:runIfValue(this.selectedStroke,o.parseArgbToHtmlColor),fill:runIfValue(this.selectedFill,o.parseArgbToHtmlColor)}}},DataPointSelectionPaletteProvider}();t.DataPointSelectionPaletteProvider=s;var runIfValue=function(e,t){if(e)return t(e)}},79334:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FIFOVectorProvider=t.DoubleVectorProvider=void 0;var i=r(17570),n=r(24714),o=function(){function DoubleVectorProvider(){}return DoubleVectorProvider.prototype.getDoubleVector=function(e){return this.capacity?new e.SCRTDoubleVector(this.capacity):new e.SCRTDoubleVector},DoubleVectorProvider.prototype.appendArray=function(e,t,r){(0,n.appendDoubleVectorFromJsArray)(e,t,r)},DoubleVectorProvider}();t.DoubleVectorProvider=o;var a=function(){function FIFOVectorProvider(e){this.capacity=e}return FIFOVectorProvider.prototype.getDoubleVector=function(e){return new e.SCRTFifoVector(this.capacity)},FIFOVectorProvider.prototype.appendArray=function(e,t,r){var o=t.size(),a=t.capacity(),s=r.length,l=t.getStartIndex();if(a>=o+s){var u=t.dataPtr(o);e.HEAPF64.set(r,u/n.SIZEOF_NUMBER),t.notifyAppend(s)}else if(s>a){var c=s-a,d=(0,i.subArray)(r,c),p=t.dataPtrZero();e.HEAPF64.set(d,p/n.SIZEOF_NUMBER),t.notifyAppend(a)}else if(a>o){var h=a-o,f=(0,i.subArray)(r,0,h),y=t.dataPtr(o);e.HEAPF64.set(f,y/n.SIZEOF_NUMBER);var g=(0,i.subArray)(r,h),p=t.dataPtrZero();e.HEAPF64.set(g,p/n.SIZEOF_NUMBER),t.notifyAppend(s)}else{if(l+s>a){var h=a-l,f=(0,i.subArray)(r,0,h),y=t.dataPtr(0);e.HEAPF64.set(f,y/n.SIZEOF_NUMBER);var g=(0,i.subArray)(r,h),p=t.dataPtrZero();e.HEAPF64.set(g,p/n.SIZEOF_NUMBER)}else{var y=t.dataPtr(0);e.HEAPF64.set(r,y/n.SIZEOF_NUMBER)}t.notifyAppend(s)}},FIFOVectorProvider}();t.FIFOVectorProvider=a},35941:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.HlcCustomFilter=void 0;var o=r(3351),a=function(e){function HlcCustomFilter(t,r){var i,n,a,s=this;if(s=e.call(this,t,r)||this,t.type!==o.EDataSeriesType.Hlc)throw Error("HlcCustomFilter only supports Hlc original series");return s.closefilterFunctionProperty=null!==(i=null==r?void 0:r.closefilterFunction)&&void 0!==i?i:s.closefilterFunctionProperty,s.highfilterFunctionProperty=null!==(n=null==r?void 0:r.highfilterFunction)&&void 0!==n?n:s.closefilterFunction,s.lowfilterFunctionProperty=null!==(a=null==r?void 0:r.lowfilterFunction)&&void 0!==a?a:s.closefilterFunction,s.getOriginalCount()>0&&((null==r?void 0:r.closefilterFunction)||(null==r?void 0:r.highfilterFunction)||(null==r?void 0:r.lowfilterFunction))&&s.filterAll(),s}return n(HlcCustomFilter,e),Object.defineProperty(HlcCustomFilter.prototype,"closefilterFunction",{get:function(){return this.closefilterFunctionProperty},set:function(e){this.closefilterFunctionProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),Object.defineProperty(HlcCustomFilter.prototype,"highfilterFunction",{get:function(){return this.highfilterFunctionProperty},set:function(e){this.highfilterFunctionProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),Object.defineProperty(HlcCustomFilter.prototype,"lowfilterFunction",{get:function(){return this.lowfilterFunctionProperty},set:function(e){this.lowfilterFunctionProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),HlcCustomFilter.prototype.highfilterFunctionProperty=function(e,t){return t},HlcCustomFilter.prototype.lowfilterFunctionProperty=function(e,t){return t},HlcCustomFilter.prototype.closefilterFunctionProperty=function(e,t){return t},HlcCustomFilter.prototype.filterOnAppend=function(e){var t=this.filter(this.count(),e),r=t.xValues,i=t.highValues,n=t.lowValues,o=t.closeValues,a=t.metadata;this.appendRange(r,o,i,n,a)},HlcCustomFilter.prototype.filterOnUpdate=function(e){var t=this.originalSeries;this.update(e,this.highfilterFunction(e,t.getNativeHighValues().get(e)),this.lowfilterFunction(e,t.getNativeLowValues().get(e)),this.closefilterFunction(e,t.getNativeYValues().get(e)),this.originalSeries.getMetadataAt(e))},HlcCustomFilter.prototype.filterOnInsert=function(e,t){var r=this.filter(e,t),i=r.xValues,n=r.highValues,o=r.lowValues,a=r.closeValues,s=r.metadata;this.insertRange(e,i,a,n,o,s)},HlcCustomFilter.prototype.filterOnRemove=function(e,t){this.removeRange(e,t)},HlcCustomFilter.prototype.filterAll=function(){this.clear();var e=this.filter(0,this.getOriginalCount()),t=e.xValues,r=e.highValues,i=e.lowValues,n=e.closeValues,o=e.metadata;this.appendRange(t,n,r,i,o)},HlcCustomFilter.prototype.filter=function(e,t){var r=this.getOriginalXValues(),i=this.getOriginalYValues(),n=this.getOriginalHighValues(),o=this.getOriginalLowValues(),a=[],s=[],l=[],u=[],c=void 0;if(this.originalSeries.hasMetadata){c=[];for(var d=e;d<e+t;d++)a.push(r.get(d)),s.push(this.highfilterFunction(d,n.get(d))),l.push(this.lowfilterFunction(d,o.get(d))),u.push(this.closefilterFunction(d,i.get(d))),c.push(this.originalSeries.getMetadataAt(d))}else for(var d=e;d<e+t;d++)a.push(r.get(d)),s.push(this.highfilterFunction(d,n.get(d))),l.push(this.lowfilterFunction(d,o.get(d))),u.push(this.closefilterFunction(d,i.get(d)));return{xValues:a,highValues:s,lowValues:l,closeValues:u,metadata:c}},HlcCustomFilter}(r(72898).HlcFilterBase);t.HlcCustomFilter=a},72898:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.HlcFilterBase=void 0;var o=r(94694),a=r(9314),s=r(3351),l=r(71902),u=function(e){function HlcFilterBase(t,r){var i,n,o=this;switch((o=e.call(this,t.webAssemblyContext,r)||this).closefield=l.EDataSeriesField.Close,o.highfield=l.EDataSeriesField.High,o.lowfield=l.EDataSeriesField.Low,o.originalSeriesProperty=t,o.closefield=null!==(i=null==r?void 0:r.closefield)&&void 0!==i?i:o.closefield,o.highfield=null!==(n=null==r?void 0:r.highfield)&&void 0!==n?n:o.highfield,o.onBaseDataChanged=o.onBaseDataChanged.bind(o),t.dataChanged.subscribe(o.onBaseDataChanged),o.originalSeries.type){case s.EDataSeriesType.Ohlc:var a=o.originalSeries;o.getOriginalYValues=function(){return(0,l.switchData)(o.closefield,a.getNativeYValues(),a.getNativeOpenValues(),a.getNativeHighValues(),a.getNativeLowValues())},o.getOriginalHighValues=function(){return(0,l.switchData)(o.highfield,a.getNativeYValues(),a.getNativeOpenValues(),a.getNativeHighValues(),a.getNativeLowValues())},o.getOriginalLowValues=function(){return(0,l.switchData)(o.lowfield,a.getNativeYValues(),a.getNativeOpenValues(),a.getNativeHighValues(),a.getNativeLowValues())};break;case s.EDataSeriesType.Xy:var u=o.originalSeries;o.getOriginalYValues=function(){return u.getNativeYValues()},o.getOriginalHighValues=function(){return u.getNativeYValues()},o.getOriginalLowValues=function(){return u.getNativeYValues()};break;case s.EDataSeriesType.Xyy:var c=o.originalSeries;o.getOriginalYValues=function(){return(0,l.switchData)(o.closefield,c.getNativeYValues(),c.getNativeY1Values())},o.getOriginalHighValues=function(){return(0,l.switchData)(o.highfield,c.getNativeYValues(),c.getNativeY1Values())},o.getOriginalLowValues=function(){return(0,l.switchData)(o.lowfield,c.getNativeYValues(),c.getNativeY1Values())};break;case s.EDataSeriesType.Xyz:var d=o.originalSeries;o.getOriginalYValues=function(){return(0,l.switchData)(o.closefield,d.getNativeYValues(),d.getNativeZValues())},o.getOriginalHighValues=function(){return(0,l.switchData)(o.highfield,d.getNativeYValues(),d.getNativeZValues())},o.getOriginalLowValues=function(){return(0,l.switchData)(o.lowfield,d.getNativeYValues(),d.getNativeZValues())}}return o}return n(HlcFilterBase,e),Object.defineProperty(HlcFilterBase.prototype,"originalSeries",{get:function(){return this.originalSeriesProperty},enumerable:!1,configurable:!0}),HlcFilterBase.prototype.detachFromOriginalSeries=function(){this.originalSeries.dataChanged.unsubscribe(this.onBaseDataChanged),this.originalSeriesProperty=void 0},HlcFilterBase.prototype.delete=function(){this.originalSeriesProperty=(0,o.deleteSafe)(this.originalSeries),e.prototype.delete.call(this)},HlcFilterBase.prototype.getOriginalXValues=function(){return this.originalSeries.getNativeXValues()},HlcFilterBase.prototype.getOriginalYValues=function(){return this.originalSeries.getNativeYValues()},HlcFilterBase.prototype.getOriginalHighValues=function(){return this.originalSeries.getNativeHighValues()},HlcFilterBase.prototype.getOriginalLowValues=function(){return this.originalSeries.getNativeLowValues()},HlcFilterBase.prototype.getOriginalCount=function(){return this.originalSeries.count()},HlcFilterBase.prototype.onOriginalPropertyChanged=function(e){},HlcFilterBase.prototype.filterOnAppend=function(e){this.filterAll()},HlcFilterBase.prototype.filterOnUpdate=function(e){this.filterAll()},HlcFilterBase.prototype.filterOnInsert=function(e,t){this.filterAll()},HlcFilterBase.prototype.filterOnRemove=function(e,t){this.filterAll()},HlcFilterBase.prototype.onClear=function(){this.clear()},HlcFilterBase.prototype.onBaseDataChanged=function(e){var t=e.changeType,r=e.name,i=e.index,n=e.count;switch(t){case s.EDataChangeType.Property:this.onOriginalPropertyChanged(r);return;case s.EDataChangeType.Append:this.filterOnAppend(n);break;case s.EDataChangeType.Clear:this.onClear();break;case s.EDataChangeType.Insert:this.filterOnInsert(i,n);break;case s.EDataChangeType.Remove:this.filterOnRemove(i,n);break;case s.EDataChangeType.Update:this.filterOnUpdate(i)}},HlcFilterBase}(a.HlcDataSeries);t.HlcFilterBase=u},90824:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.HlcScaleOffsetFilter=void 0;var a=r(34422),s=r(3351),l=function(e){function HlcScaleOffsetFilter(t,r){var i,n,o=this;if((o=e.call(this,t,r)||this).scaleProperty=1,o.offsetProperty=0,t.type!==s.EDataSeriesType.Hlc)throw Error("HlcScaleOffsetFilter only supports Hlc original series");return o.scaleProperty=null!==(i=null==r?void 0:r.scale)&&void 0!==i?i:o.scaleProperty,o.offsetProperty=null!==(n=null==r?void 0:r.offset)&&void 0!==n?n:o.offsetProperty,o.getOriginalCount()>0&&o.filterAll(),o}return n(HlcScaleOffsetFilter,e),Object.defineProperty(HlcScaleOffsetFilter.prototype,"scale",{get:function(){return this.scaleProperty},set:function(e){this.scaleProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),Object.defineProperty(HlcScaleOffsetFilter.prototype,"offset",{get:function(){return this.offsetProperty},set:function(e){this.offsetProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),HlcScaleOffsetFilter.prototype.toJSON=function(e){void 0===e&&(e=!1);var t=this.originalSeries.toJSON(e);return o(o({},t),{filter:{type:a.EDataFilterType.HlcScaleOffset,options:{scale:this.scale,offset:this.offset}}})},HlcScaleOffsetFilter.prototype.defaultFunction=function(e,t){return t*this.scaleProperty+this.offsetProperty},HlcScaleOffsetFilter}(r(35941).HlcCustomFilter);t.HlcScaleOffsetFilter=l},64069:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.OhlcCustomFilter=void 0;var o=r(3351),a=function(e){function OhlcCustomFilter(t,r){var i,n,a,s,l=this;if(l=e.call(this,t,r)||this,t.type!==o.EDataSeriesType.Ohlc)throw Error("OhlcCustomFilter only supports Ohlc original series");return l.closefilterFunctionProperty=null!==(i=null==r?void 0:r.closefilterFunction)&&void 0!==i?i:l.closefilterFunctionProperty,l.openfilterFunctionProperty=null!==(n=null==r?void 0:r.openfilterFunction)&&void 0!==n?n:l.closefilterFunction,l.highfilterFunctionProperty=null!==(a=null==r?void 0:r.highfilterFunction)&&void 0!==a?a:l.closefilterFunction,l.lowfilterFunctionProperty=null!==(s=null==r?void 0:r.lowfilterFunction)&&void 0!==s?s:l.closefilterFunction,l.getOriginalCount()>0&&((null==r?void 0:r.closefilterFunction)||(null==r?void 0:r.openfilterFunction)||(null==r?void 0:r.highfilterFunction)||(null==r?void 0:r.lowfilterFunction))&&l.filterAll(),l}return n(OhlcCustomFilter,e),Object.defineProperty(OhlcCustomFilter.prototype,"closefilterFunction",{get:function(){return this.closefilterFunctionProperty},set:function(e){this.closefilterFunctionProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),Object.defineProperty(OhlcCustomFilter.prototype,"openfilterFunction",{get:function(){return this.openfilterFunctionProperty},set:function(e){this.openfilterFunctionProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),Object.defineProperty(OhlcCustomFilter.prototype,"highfilterFunction",{get:function(){return this.highfilterFunctionProperty},set:function(e){this.highfilterFunctionProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),Object.defineProperty(OhlcCustomFilter.prototype,"lowfilterFunction",{get:function(){return this.lowfilterFunctionProperty},set:function(e){this.lowfilterFunctionProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),OhlcCustomFilter.prototype.openfilterFunctionProperty=function(e,t){return t},OhlcCustomFilter.prototype.highfilterFunctionProperty=function(e,t){return t},OhlcCustomFilter.prototype.lowfilterFunctionProperty=function(e,t){return t},OhlcCustomFilter.prototype.closefilterFunctionProperty=function(e,t){return t},OhlcCustomFilter.prototype.filterOnAppend=function(e){var t=this.filter(this.count(),e),r=t.xValues,i=t.openValues,n=t.highValues,o=t.lowValues,a=t.closeValues,s=t.metadata;this.appendRange(r,i,n,o,a,s)},OhlcCustomFilter.prototype.filterOnUpdate=function(e){var t=this.originalSeries;this.update(e,this.openfilterFunction(e,t.getNativeOpenValues().get(e)),this.highfilterFunction(e,t.getNativeHighValues().get(e)),this.lowfilterFunction(e,t.getNativeLowValues().get(e)),this.closefilterFunction(e,t.getNativeCloseValues().get(e)),this.originalSeries.getMetadataAt(e))},OhlcCustomFilter.prototype.filterOnInsert=function(e,t){var r=this.filter(e,t),i=r.xValues,n=r.openValues,o=r.highValues,a=r.lowValues,s=r.closeValues,l=r.metadata;this.insertRange(e,i,n,o,a,s,l)},OhlcCustomFilter.prototype.filterOnRemove=function(e,t){this.removeRange(e,t)},OhlcCustomFilter.prototype.filterAll=function(){this.clear();var e=this.filter(0,this.getOriginalCount()),t=e.xValues,r=e.openValues,i=e.highValues,n=e.lowValues,o=e.closeValues,a=e.metadata;this.appendRange(t,r,i,n,o,a)},OhlcCustomFilter.prototype.filter=function(e,t){var r=this.getOriginalXValues(),i=this.originalSeries,n=[],o=[],a=[],s=[],l=[],u=void 0;if(this.originalSeries.hasMetadata){u=[];for(var c=e;c<e+t;c++)n.push(r.get(c)),o.push(this.openfilterFunction(c,i.getNativeOpenValues().get(c))),a.push(this.highfilterFunction(c,i.getNativeHighValues().get(c))),s.push(this.lowfilterFunction(c,i.getNativeLowValues().get(c))),l.push(this.closefilterFunction(c,i.getNativeCloseValues().get(c))),u.push(this.originalSeries.getMetadataAt(c))}else for(var c=e;c<e+t;c++)n.push(r.get(c)),o.push(this.openfilterFunction(c,i.getNativeOpenValues().get(c))),a.push(this.highfilterFunction(c,i.getNativeHighValues().get(c))),s.push(this.lowfilterFunction(c,i.getNativeLowValues().get(c))),l.push(this.closefilterFunction(c,i.getNativeCloseValues().get(c)));return{xValues:n,openValues:o,highValues:a,lowValues:s,closeValues:l,metadata:u}},OhlcCustomFilter}(r(18428).OhlcFilterBase);t.OhlcCustomFilter=a},18428:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.OhlcFilterBase=void 0;var o=r(94694),a=r(3351),s=function(e){function OhlcFilterBase(t,r){var i=e.call(this,t.webAssemblyContext,r)||this;return i.originalSeriesProperty=t,i.onBaseDataChanged=i.onBaseDataChanged.bind(i),t.dataChanged.subscribe(i.onBaseDataChanged),i}return n(OhlcFilterBase,e),Object.defineProperty(OhlcFilterBase.prototype,"originalSeries",{get:function(){return this.originalSeriesProperty},enumerable:!1,configurable:!0}),OhlcFilterBase.prototype.detachFromOriginalSeries=function(){this.originalSeries.dataChanged.unsubscribe(this.onBaseDataChanged),this.originalSeriesProperty=void 0},OhlcFilterBase.prototype.delete=function(){this.originalSeriesProperty=(0,o.deleteSafe)(this.originalSeries),e.prototype.delete.call(this)},OhlcFilterBase.prototype.getOriginalXValues=function(){return this.originalSeries.getNativeXValues()},OhlcFilterBase.prototype.getOriginalCount=function(){return this.originalSeries.count()},OhlcFilterBase.prototype.onOriginalPropertyChanged=function(e){},OhlcFilterBase.prototype.filterOnAppend=function(e){this.filterAll()},OhlcFilterBase.prototype.filterOnUpdate=function(e){this.filterAll()},OhlcFilterBase.prototype.filterOnInsert=function(e,t){this.filterAll()},OhlcFilterBase.prototype.filterOnRemove=function(e,t){this.filterAll()},OhlcFilterBase.prototype.onClear=function(){this.clear()},OhlcFilterBase.prototype.onBaseDataChanged=function(e){var t=e.changeType,r=e.name,i=e.index,n=e.count;switch(t){case a.EDataChangeType.Property:this.onOriginalPropertyChanged(r);return;case a.EDataChangeType.Append:this.filterOnAppend(n);break;case a.EDataChangeType.Clear:this.onClear();break;case a.EDataChangeType.Insert:this.filterOnInsert(i,n);break;case a.EDataChangeType.Remove:this.filterOnRemove(i,n);break;case a.EDataChangeType.Update:this.filterOnUpdate(i)}},OhlcFilterBase}(r(72418).OhlcDataSeries);t.OhlcFilterBase=s},34040:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.OhlcScaleOffsetFilter=void 0;var a=r(34422),s=r(3351),l=function(e){function OhlcScaleOffsetFilter(t,r){var i,n,o=this;if((o=e.call(this,t,r)||this).scaleProperty=1,o.offsetProperty=0,t.type!==s.EDataSeriesType.Ohlc)throw Error("OhlcScaleOffsetFilter only supports Ohlc original series");return o.scaleProperty=null!==(i=null==r?void 0:r.scale)&&void 0!==i?i:o.scaleProperty,o.offsetProperty=null!==(n=null==r?void 0:r.offset)&&void 0!==n?n:o.offsetProperty,o.getOriginalCount()>0&&o.filterAll(),o}return n(OhlcScaleOffsetFilter,e),Object.defineProperty(OhlcScaleOffsetFilter.prototype,"scale",{get:function(){return this.scaleProperty},set:function(e){this.scaleProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),Object.defineProperty(OhlcScaleOffsetFilter.prototype,"offset",{get:function(){return this.offsetProperty},set:function(e){this.offsetProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),OhlcScaleOffsetFilter.prototype.toJSON=function(e){void 0===e&&(e=!1);var t=this.originalSeries.toJSON(e);return o(o({},t),{filter:{type:a.EDataFilterType.OhlcScaleOffset,options:{scale:this.scale,offset:this.offset}}})},OhlcScaleOffsetFilter.prototype.defaultFunction=function(e,t){return t*this.scaleProperty+this.offsetProperty},OhlcScaleOffsetFilter}(r(64069).OhlcCustomFilter);t.OhlcScaleOffsetFilter=l},42173:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyCustomFilter=void 0;var o=function(e){function XyCustomFilter(t,r){var i,n=this;return(n=e.call(this,t,r)||this).filterFunctionProperty=null!==(i=null==r?void 0:r.filterFunction)&&void 0!==i?i:n.filterFunctionProperty,n.getOriginalCount()>0&&(null==r?void 0:r.filterFunction)&&n.filterAll(),n}return n(XyCustomFilter,e),Object.defineProperty(XyCustomFilter.prototype,"filterFunction",{get:function(){return this.filterFunctionProperty},set:function(e){this.filterFunctionProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),XyCustomFilter.prototype.filterFunctionProperty=function(e,t){return t},XyCustomFilter.prototype.filterOnAppend=function(e){var t=this.filter(this.count(),e),r=t.xValues,i=t.yValues,n=t.metadata;this.appendRange(r,i,n)},XyCustomFilter.prototype.filterOnUpdate=function(e){this.update(e,this.filterFunction(e,this.getOriginalYValues().get(e)),this.originalSeries.getMetadataAt(e))},XyCustomFilter.prototype.filterOnInsert=function(e,t){var r=this.filter(e,t),i=r.xValues,n=r.yValues,o=r.metadata;this.insertRange(e,i,n,o)},XyCustomFilter.prototype.filterOnRemove=function(e,t){this.removeRange(e,t)},XyCustomFilter.prototype.filterAll=function(){this.clear();var e=this.filter(0,this.getOriginalCount()),t=e.xValues,r=e.yValues,i=e.metadata;this.appendRange(t,r,i)},XyCustomFilter.prototype.filter=function(e,t){var r=this.getOriginalXValues(),i=this.getOriginalYValues(),n=[],o=[],a=void 0;if(this.originalSeries.hasMetadata){a=[];for(var s=e;s<e+t;s++)n.push(r.get(s)),o.push(this.filterFunction(s,i.get(s))),a.push(this.originalSeries.getMetadataAt(s))}else for(var s=e;s<e+t;s++)n.push(r.get(s)),o.push(this.filterFunction(s,i.get(s)));return{xValues:n,yValues:o,metadata:a}},XyCustomFilter}(r(71902).XyFilterBase);t.XyCustomFilter=o},71902:function(e,t,r){"use strict";var i,n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.switchData=t.XyFilterBase=t.EDataSeriesField=void 0;var s=r(94694),l=r(3351),u=r(53956);(i=o=t.EDataSeriesField||(t.EDataSeriesField={})).X="x",i.Open="open",i.High="high",i.Low="low",i.Close="close",i.Y="y",i.Y1="y1",i.Z="z";var c=function(e){function XyFilterBase(t,r){var i,n,a=this;switch((a=e.call(this,t.webAssemblyContext,r)||this).field=o.Y,a.xField=o.X,a.originalSeriesProperty=t,a.field=null!==(i=null==r?void 0:r.field)&&void 0!==i?i:a.field,a.xField=null!==(n=null==r?void 0:r.xField)&&void 0!==n?n:a.xField,a.onBaseDataChanged=a.onBaseDataChanged.bind(a),t.dataChanged.subscribe(a.onBaseDataChanged),a.originalSeries.type){case l.EDataSeriesType.Xy:a.xField===o.Y&&(a.getOriginalXValues=function(){return a.originalSeries.getNativeYValues()}),a.field===o.X&&(a.getOriginalYValues=function(){return a.originalSeries.getNativeXValues()});break;case l.EDataSeriesType.Ohlc:a.getOriginalXValues=function(){return a.getValuesFromOHLC(a.xField,a.originalSeries)},a.getOriginalYValues=function(){return a.getValuesFromOHLC(a.field,a.originalSeries)};break;case l.EDataSeriesType.Xyy:a.getOriginalXValues=function(){return a.getValuesFromXyy(a.xField,a.originalSeries)},a.getOriginalYValues=function(){return a.getValuesFromXyy(a.field,a.originalSeries)};break;case l.EDataSeriesType.Xyz:a.getOriginalXValues=function(){return a.getValuesFromXyz(a.xField,a.originalSeries)},a.getOriginalYValues=function(){return a.getValuesFromXyz(a.field,a.originalSeries)};break;case l.EDataSeriesType.Hlc:a.getOriginalXValues=function(){return a.getValuesFromHlc(a.xField,a.originalSeries)},a.getOriginalYValues=function(){return a.getValuesFromHlc(a.field,a.originalSeries)}}return a}return a(XyFilterBase,e),Object.defineProperty(XyFilterBase.prototype,"originalSeries",{get:function(){return this.originalSeriesProperty},enumerable:!1,configurable:!0}),XyFilterBase.prototype.detachFromOriginalSeries=function(){this.originalSeries.dataChanged.unsubscribe(this.onBaseDataChanged),this.originalSeriesProperty=void 0},XyFilterBase.prototype.delete=function(){this.originalSeriesProperty=(0,s.deleteSafe)(this.originalSeries),e.prototype.delete.call(this)},XyFilterBase.prototype.getOriginalXValues=function(){return this.originalSeries.getNativeXValues()},XyFilterBase.prototype.getOriginalYValues=function(){return this.originalSeries.getNativeYValues()},XyFilterBase.prototype.getOriginalCount=function(){return this.originalSeries.count()},XyFilterBase.prototype.onOriginalPropertyChanged=function(e){},XyFilterBase.prototype.filterOnAppend=function(e){this.filterAll()},XyFilterBase.prototype.filterOnUpdate=function(e){this.filterAll()},XyFilterBase.prototype.filterOnInsert=function(e,t){this.filterAll()},XyFilterBase.prototype.filterOnRemove=function(e,t){this.filterAll()},XyFilterBase.prototype.onClear=function(){this.clear()},XyFilterBase.prototype.onBaseDataChanged=function(e){var t=e.changeType,r=e.name,i=e.index,n=e.count;switch(t){case l.EDataChangeType.Property:this.onOriginalPropertyChanged(r);return;case l.EDataChangeType.Append:this.filterOnAppend(n);break;case l.EDataChangeType.Clear:this.onClear();break;case l.EDataChangeType.Insert:this.filterOnInsert(i,n);break;case l.EDataChangeType.Remove:this.filterOnRemove(i,n);break;case l.EDataChangeType.Update:this.filterOnUpdate(i)}},XyFilterBase.prototype.getValuesFromOHLC=function(e,r){return(0,t.switchData)(e,r.getNativeXValues(),r.getNativeYValues(),r.getNativeOpenValues(),r.getNativeHighValues(),r.getNativeLowValues())},XyFilterBase.prototype.getValuesFromXyy=function(e,r){return(0,t.switchData)(e,r.getNativeXValues(),r.getNativeYValues(),r.getNativeY1Values())},XyFilterBase.prototype.getValuesFromXyz=function(e,r){return(0,t.switchData)(e,r.getNativeXValues(),r.getNativeYValues(),r.getNativeZValues())},XyFilterBase.prototype.getValuesFromHlc=function(e,r){return(0,t.switchData)(e,r.getNativeXValues(),r.getNativeYValues(),void 0,r.getNativeHighValues(),r.getNativeLowValues())},XyFilterBase}(u.XyDataSeries);t.XyFilterBase=c,t.switchData=function(e,t,r,i,n,a){var s;switch(e){case o.X:s=t;break;case o.Close:case o.Y:s=r;break;case o.Open:case o.Y1:case o.Z:s=i;break;case o.High:s=n;break;case o.Low:s=a}if(!s)throw Error("".concat(e," does not exist"));return s}},42527:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.XyLinearTrendFilter=void 0;var a=r(34422),s=function(e){function XyLinearTrendFilter(t,r){var i=e.call(this,t,r)||this;return i.getOriginalCount()>0&&i.filterAll(),i}return n(XyLinearTrendFilter,e),Object.defineProperty(XyLinearTrendFilter.prototype,"slope",{get:function(){return this.slopeProperty},enumerable:!1,configurable:!0}),Object.defineProperty(XyLinearTrendFilter.prototype,"intercept",{get:function(){return this.interceptProperty},enumerable:!1,configurable:!0}),Object.defineProperty(XyLinearTrendFilter.prototype,"correlation",{get:function(){return this.correlationProperty},enumerable:!1,configurable:!0}),XyLinearTrendFilter.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t);return o(o({},r),{filter:{type:a.EDataFilterType.XyLinearTrend,options:{field:this.field,slope:this.slope,intercept:this.intercept}}})},XyLinearTrendFilter.prototype.filterAll=function(){for(var e=0,t=0,r=0,i=0,n=0,o=this.getOriginalXValues(),a=this.getOriginalYValues(),s=this.getOriginalCount(),l=0;l<this.getOriginalCount();l++){var u=a.get(l),c=o.get(l);e+=c*u,t+=c,r+=u,i+=Math.pow(c,2),n+=Math.pow(u,2)}var d=e*s,p=t*r,h=i*s,f=Math.pow(t,2);this.correlationProperty=(d-p)/Math.sqrt((h-f)*(n*s-Math.pow(r,2))),this.slopeProperty=(d-p)/(h-f);var y=this.slopeProperty*t;this.interceptProperty=(r-y)/s;for(var g=[],v=[],l=0;l<s;l++){var m=o.get(l);v.push(m),g.push(m*this.slopeProperty+this.interceptProperty)}this.clear(),this.appendRange(v,g)},XyLinearTrendFilter}(r(71902).XyFilterBase);t.XyLinearTrendFilter=s},52756:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.XyMovingAverageFilter=void 0;var a=r(34422),s=function(e){function XyMovingAverageFilter(t,r){var i,n=this;if((n=e.call(this,t,r)||this).lengthProperty=30,n.buffer=[],n.pointer=-1,n.bufferTotal=0,n.lengthProperty=null!==(i=null==r?void 0:r.length)&&void 0!==i?i:n.lengthProperty,!t.dataDistributionCalculator.isSortedAscending)throw Error("XyMovingAverageFilter requires original data to be sorted in X");return n.getOriginalCount()>0&&n.calculate(0),n}return n(XyMovingAverageFilter,e),Object.defineProperty(XyMovingAverageFilter.prototype,"length",{get:function(){return this.lengthProperty},set:function(e){this.lengthProperty=e,this.calculate(0)},enumerable:!1,configurable:!0}),XyMovingAverageFilter.prototype.toJSON=function(e){void 0===e&&(e=!1);var t=this.originalSeries.toJSON(e);return o(o({},t),{filter:{type:a.EDataFilterType.XyMovingAverage,options:{field:this.field,length:this.length}}})},XyMovingAverageFilter.prototype.onOriginalPropertyChanged=function(e){},XyMovingAverageFilter.prototype.filterOnAppend=function(e){this.calculate(this.count())},XyMovingAverageFilter.prototype.filterOnUpdate=function(e){var t=this.getOriginalYValues().get(e)||0;this.calculateUpdate(e,t)},XyMovingAverageFilter.prototype.filterOnInsert=function(e,t){this.calculate(e)},XyMovingAverageFilter.prototype.filterOnRemove=function(e,t){this.calculate(e)},XyMovingAverageFilter.prototype.filterAll=function(){this.calculate(0)},XyMovingAverageFilter.prototype.calculateUpdate=function(e,t){if(e<this.count()-1)this.calculate(e);else{var r=this.buffer[this.pointer];this.bufferTotal=this.bufferTotal-r+t,this.buffer[this.pointer]=t,this.update(e,this.bufferTotal/this.length)}},XyMovingAverageFilter.prototype.calculate=function(e){var t=e;e<this.count()&&(0===e?this.clear():this.removeRange(e,this.count()-e),e=Math.max(0,e-this.length+1),this.buffer=[],this.pointer=-1,this.bufferTotal=0);var r=this.getOriginalXValues(),i=this.getOriginalYValues();this.length,this.getOriginalCount();for(var n=e;n<this.getOriginalCount();n++){var o=r.get(n)||0,a=i.get(n)||0;this.pointer=(this.pointer+1)%this.length;var s=this.buffer[this.pointer];this.buffer[this.pointer]=a,this.bufferTotal=this.bufferTotal+a-(null!=s?s:0),this.buffer.length===this.length?this.append(o,this.bufferTotal/this.length):t<this.length&&this.append(o,NaN)}},XyMovingAverageFilter}(r(71902).XyFilterBase);t.XyMovingAverageFilter=s},88494:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.XyRatioFilter=void 0;var a=r(92530),s=r(34422),l=r(3351),u=r(71902),c=function(e){function XyRatioFilter(t,r){var i,n=this;return(n=e.call(this,t,r)||this).divisorField=u.EDataSeriesField.Y,a.Guard.notNull(r.divisorSeries,"divisorSeries"),n.divisorSeries=r.divisorSeries,n.divisorField=null!==(i=r.divisorField)&&void 0!==i?i:n.divisorField,n.onDivisorDataChanged=n.onDivisorDataChanged.bind(n),n.divisorSeries.dataChanged.subscribe(n.onDivisorDataChanged),n.getOriginalCount()>0&&n.filterAll(),n}return n(XyRatioFilter,e),XyRatioFilter.prototype.toJSON=function(e){void 0===e&&(e=!1);for(var t=this.originalSeries.toJSON(e),r=[],i=this.getDivisorYValues(),n=0;n<this.divisorSeries.count();n++)r.push(i.get(n));return o(o({},t),{filter:{type:s.EDataFilterType.XyRatio,options:{field:this.field,divisorSeries:r}}})},XyRatioFilter.prototype.filterOnAppend=function(e){if(this.getOriginalCount()===this.divisorSeries.count()){var t=this.filter(this.count(),e),r=t.xValues,i=t.yValues;this.appendRange(r,i)}},XyRatioFilter.prototype.filterOnUpdate=function(e){this.update(e,this.getOriginalYValues().get(e)/this.getDivisorYValues().get(e))},XyRatioFilter.prototype.filterOnInsert=function(e,t){if(this.getOriginalCount()===this.divisorSeries.count()){var r=this.filter(e,t),i=r.xValues,n=r.yValues;this.insertRange(e,i,n)}},XyRatioFilter.prototype.filterOnRemove=function(e,t){this.getOriginalCount()===this.divisorSeries.count()&&this.removeRange(e,t)},XyRatioFilter.prototype.filterAll=function(){if(this.getOriginalCount()===this.divisorSeries.count()){this.clear();var e=this.filter(0,this.getOriginalCount()),t=e.xValues,r=e.yValues;this.appendRange(t,r)}},XyRatioFilter.prototype.filter=function(e,t){for(var r=this.getOriginalXValues(),i=this.getOriginalYValues(),n=[],o=[],a=e;a<e+t;a++)n.push(r.get(a)),o.push(i.get(a)/this.getDivisorYValues().get(a));return{xValues:n,yValues:o}},XyRatioFilter.prototype.getDivisorYValues=function(){var e=this.divisorSeries.getNativeYValues();if(this.divisorSeries.type===l.EDataSeriesType.Xyy){var t=this.divisorSeries;e=(0,u.switchData)(this.divisorField,t.getNativeYValues(),t.getNativeY1Values())}else if(this.divisorSeries.type===l.EDataSeriesType.Xyz){var r=this.divisorSeries;e=(0,u.switchData)(this.field,r.getNativeYValues(),r.getNativeZValues())}else if(this.divisorSeries.type===l.EDataSeriesType.Ohlc){var i=this.divisorSeries;e=(0,u.switchData)(this.field,i.getNativeYValues(),i.getNativeOpenValues(),i.getNativeHighValues(),i.getNativeLowValues())}return e},XyRatioFilter.prototype.onDivisorDataChanged=function(e){var t=e.changeType,r=(e.name,e.index),i=e.count;switch(t){case l.EDataChangeType.Append:this.filterOnAppend(i);break;case l.EDataChangeType.Clear:this.onClear();break;case l.EDataChangeType.Insert:this.filterOnInsert(r,i);break;case l.EDataChangeType.Remove:this.filterOnRemove(r,i);break;case l.EDataChangeType.Update:this.filterOnUpdate(r)}},XyRatioFilter}(u.XyFilterBase);t.XyRatioFilter=c},97482:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.XyScaleOffsetFilter=void 0;var a=r(34422),s=function(e){function XyScaleOffsetFilter(t,r){var i,n,o=this;return(o=e.call(this,t,r)||this).scaleProperty=1,o.offsetProperty=0,o.scaleProperty=null!==(i=null==r?void 0:r.scale)&&void 0!==i?i:o.scaleProperty,o.offsetProperty=null!==(n=null==r?void 0:r.offset)&&void 0!==n?n:o.offsetProperty,o.getOriginalCount()>0&&o.filterAll(),o}return n(XyScaleOffsetFilter,e),Object.defineProperty(XyScaleOffsetFilter.prototype,"scale",{get:function(){return this.scaleProperty},set:function(e){this.scaleProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),Object.defineProperty(XyScaleOffsetFilter.prototype,"offset",{get:function(){return this.offsetProperty},set:function(e){this.offsetProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),XyScaleOffsetFilter.prototype.toJSON=function(e){void 0===e&&(e=!1);var t=this.originalSeries.toJSON(e);return o(o({},t),{filter:{type:a.EDataFilterType.XyScaleOffset,options:{field:this.field,scale:this.scale,offset:this.offset}}})},XyScaleOffsetFilter.prototype.filterFunctionProperty=function(e,t){return t*this.scaleProperty+this.offsetProperty},XyScaleOffsetFilter}(r(42173).XyCustomFilter);t.XyScaleOffsetFilter=s},83433:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyyCustomFilter=void 0;var o=function(e){function XyyCustomFilter(t,r){var i,n,o=this;return(o=e.call(this,t,r)||this).filterFunctionProperty=null!==(i=null==r?void 0:r.filterFunction)&&void 0!==i?i:o.filterFunctionProperty,o.y1filterFunctionProperty=null!==(n=null==r?void 0:r.y1filterFunction)&&void 0!==n?n:o.filterFunctionProperty,o.getOriginalCount()>0&&((null==r?void 0:r.filterFunction)||(null==r?void 0:r.y1filterFunction))&&o.filterAll(),o}return n(XyyCustomFilter,e),Object.defineProperty(XyyCustomFilter.prototype,"filterFunction",{get:function(){return this.filterFunctionProperty},set:function(e){this.filterFunctionProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),XyyCustomFilter.prototype.filterFunctionProperty=function(e,t){return t},Object.defineProperty(XyyCustomFilter.prototype,"y1filterFunction",{get:function(){return this.y1filterFunctionProperty},enumerable:!1,configurable:!0}),Object.defineProperty(XyyCustomFilter.prototype,"y1yfilterFunction",{set:function(e){this.y1filterFunctionProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),XyyCustomFilter.prototype.y1filterFunctionProperty=function(e,t){return t},XyyCustomFilter.prototype.filterOnAppend=function(e){var t=this.filter(this.count(),e),r=t.xValues,i=t.yValues,n=t.y1Values,o=t.metadata;this.appendRange(r,i,n,o)},XyyCustomFilter.prototype.filterOnUpdate=function(e){this.update(e,this.filterFunction(e,this.getOriginalYValues().get(e)),this.y1filterFunction(e,this.getOriginalY1Values().get(e)),this.originalSeries.getMetadataAt(e))},XyyCustomFilter.prototype.filterOnInsert=function(e,t){var r=this.filter(e,t),i=r.xValues,n=r.yValues,o=r.y1Values,a=r.metadata;this.insertRange(e,i,n,o,a)},XyyCustomFilter.prototype.filterOnRemove=function(e,t){this.removeRange(e,t)},XyyCustomFilter.prototype.filterAll=function(){this.clear();var e=this.filter(0,this.getOriginalCount()),t=e.xValues,r=e.yValues,i=e.y1Values,n=e.metadata;this.appendRange(t,r,i,n)},XyyCustomFilter.prototype.filter=function(e,t){var r=this.getOriginalXValues(),i=this.getOriginalYValues(),n=this.getOriginalY1Values(),o=[],a=[],s=[],l=void 0;if(this.originalSeries.hasMetadata){l=[];for(var u=e;u<e+t;u++)o.push(r.get(u)),a.push(this.filterFunction(u,i.get(u))),s.push(this.y1filterFunction(u,n.get(u))),l.push(this.originalSeries.getMetadataAt(u))}else for(var u=e;u<e+t;u++)o.push(r.get(u)),a.push(this.filterFunction(u,i.get(u))),s.push(this.y1filterFunction(u,n.get(u)));return{xValues:o,yValues:a,y1Values:s,metadata:l}},XyyCustomFilter}(r(43989).XyyFilterBase);t.XyyCustomFilter=o},43989:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyyFilterBase=void 0;var o=r(94694),a=r(3351),s=r(57994),l=r(71902),u=function(e){function XyyFilterBase(t,r){var i,n,o=this;switch((o=e.call(this,t.webAssemblyContext,r)||this).yfield=l.EDataSeriesField.Y,o.y1field=l.EDataSeriesField.Y1,o.originalSeriesProperty=t,o.yfield=null!==(i=null==r?void 0:r.yfield)&&void 0!==i?i:o.yfield,o.yfield=null!==(n=null==r?void 0:r.yfield)&&void 0!==n?n:o.yfield,o.onBaseDataChanged=o.onBaseDataChanged.bind(o),t.dataChanged.subscribe(o.onBaseDataChanged),o.originalSeries.type){case a.EDataSeriesType.Ohlc:var s=o.originalSeries;o.getOriginalYValues=function(){return(0,l.switchData)(o.yfield,s.getNativeYValues(),s.getNativeOpenValues(),s.getNativeHighValues(),s.getNativeLowValues())},o.getOriginalY1Values=function(){return(0,l.switchData)(o.y1field,s.getNativeYValues(),s.getNativeOpenValues(),s.getNativeHighValues(),s.getNativeLowValues())};break;case a.EDataSeriesType.Xy:var u=o.originalSeries;o.getOriginalYValues=function(){return u.getNativeYValues()},o.getOriginalY1Values=function(){return u.getNativeYValues()};break;case a.EDataSeriesType.Xyz:var c=o.originalSeries;o.getOriginalYValues=function(){return(0,l.switchData)(o.yfield,c.getNativeYValues(),c.getNativeZValues())},o.getOriginalY1Values=function(){return(0,l.switchData)(o.y1field,c.getNativeYValues(),c.getNativeZValues())};break;case a.EDataSeriesType.Hlc:var d=o.originalSeries;o.getOriginalYValues=function(){return(0,l.switchData)(o.yfield,d.getNativeYValues(),void 0,d.getNativeHighValues(),d.getNativeLowValues())},o.getOriginalY1Values=function(){return(0,l.switchData)(o.y1field,d.getNativeYValues(),void 0,d.getNativeHighValues(),d.getNativeLowValues())}}return o}return n(XyyFilterBase,e),Object.defineProperty(XyyFilterBase.prototype,"originalSeries",{get:function(){return this.originalSeriesProperty},enumerable:!1,configurable:!0}),XyyFilterBase.prototype.detachFromOriginalSeries=function(){this.originalSeries.dataChanged.unsubscribe(this.onBaseDataChanged),this.originalSeriesProperty=void 0},XyyFilterBase.prototype.delete=function(){this.originalSeriesProperty=(0,o.deleteSafe)(this.originalSeries),e.prototype.delete.call(this)},XyyFilterBase.prototype.getOriginalXValues=function(){return this.originalSeries.getNativeXValues()},XyyFilterBase.prototype.getOriginalYValues=function(){return this.originalSeries.getNativeYValues()},XyyFilterBase.prototype.getOriginalY1Values=function(){return this.originalSeries.getNativeY1Values()},XyyFilterBase.prototype.getOriginalCount=function(){return this.originalSeries.count()},XyyFilterBase.prototype.onOriginalPropertyChanged=function(e){},XyyFilterBase.prototype.filterOnAppend=function(e){this.filterAll()},XyyFilterBase.prototype.filterOnUpdate=function(e){this.filterAll()},XyyFilterBase.prototype.filterOnInsert=function(e,t){this.filterAll()},XyyFilterBase.prototype.filterOnRemove=function(e,t){this.filterAll()},XyyFilterBase.prototype.onClear=function(){this.clear()},XyyFilterBase.prototype.onBaseDataChanged=function(e){var t=e.changeType,r=e.name,i=e.index,n=e.count;switch(t){case a.EDataChangeType.Property:this.onOriginalPropertyChanged(r);return;case a.EDataChangeType.Append:this.filterOnAppend(n);break;case a.EDataChangeType.Clear:this.onClear();break;case a.EDataChangeType.Insert:this.filterOnInsert(i,n);break;case a.EDataChangeType.Remove:this.filterOnRemove(i,n);break;case a.EDataChangeType.Update:this.filterOnUpdate(i)}},XyyFilterBase}(s.XyyDataSeries);t.XyyFilterBase=u},85384:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.XyyScaleOffsetFilter=void 0;var a=r(34422),s=function(e){function XyyScaleOffsetFilter(t,r){var i,n,o=this;return(o=e.call(this,t,r)||this).scaleProperty=1,o.offsetProperty=0,o.scaleProperty=null!==(i=null==r?void 0:r.scale)&&void 0!==i?i:o.scaleProperty,o.offsetProperty=null!==(n=null==r?void 0:r.offset)&&void 0!==n?n:o.offsetProperty,o.getOriginalCount()>0&&o.filterAll(),o}return n(XyyScaleOffsetFilter,e),Object.defineProperty(XyyScaleOffsetFilter.prototype,"scale",{get:function(){return this.scaleProperty},set:function(e){this.scaleProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),Object.defineProperty(XyyScaleOffsetFilter.prototype,"offset",{get:function(){return this.offsetProperty},set:function(e){this.offsetProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),XyyScaleOffsetFilter.prototype.toJSON=function(e){void 0===e&&(e=!1);var t=this.originalSeries.toJSON(e);return o(o({},t),{filter:{type:a.EDataFilterType.XyyScaleOffset,options:{yfield:this.yfield,y1field:this.y1field,scale:this.scale,offset:this.offset}}})},XyyScaleOffsetFilter.prototype.filterFunctionProperty=function(e,t){return t*this.scaleProperty+this.offsetProperty},XyyScaleOffsetFilter}(r(83433).XyyCustomFilter);t.XyyScaleOffsetFilter=s},82086:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyzCustomFilter=void 0;var o=function(e){function XyzCustomFilter(t,r){var i,n,o=this;return(o=e.call(this,t,r)||this).filterFunctionProperty=null!==(i=null==r?void 0:r.filterFunction)&&void 0!==i?i:o.filterFunctionProperty,o.zfilterFunctionProperty=null!==(n=null==r?void 0:r.zfilterFunction)&&void 0!==n?n:o.filterFunctionProperty,o.getOriginalCount()>0&&((null==r?void 0:r.filterFunction)||(null==r?void 0:r.zfilterFunction))&&o.filterAll(),o}return n(XyzCustomFilter,e),Object.defineProperty(XyzCustomFilter.prototype,"filterFunction",{get:function(){return this.filterFunctionProperty},set:function(e){this.filterFunctionProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),XyzCustomFilter.prototype.filterFunctionProperty=function(e,t){return t},Object.defineProperty(XyzCustomFilter.prototype,"zfilterFunction",{get:function(){return this.zfilterFunctionProperty},set:function(e){this.zfilterFunctionProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),XyzCustomFilter.prototype.zfilterFunctionProperty=function(e,t){return t},XyzCustomFilter.prototype.filterOnAppend=function(e){var t=this.filter(this.count(),e),r=t.xValues,i=t.yValues,n=t.zValues,o=t.metadata;this.appendRange(r,i,n,o)},XyzCustomFilter.prototype.filterOnUpdate=function(e){this.update(e,this.filterFunction(e,this.getOriginalYValues().get(e)),this.zfilterFunction(e,this.getOriginalZValues().get(e)),this.originalSeries.getMetadataAt(e))},XyzCustomFilter.prototype.filterOnInsert=function(e,t){var r=this.filter(e,t),i=r.xValues,n=r.yValues,o=r.zValues,a=r.metadata;this.insertRange(e,i,n,o,a)},XyzCustomFilter.prototype.filterOnRemove=function(e,t){this.removeRange(e,t)},XyzCustomFilter.prototype.filterAll=function(){this.clear();var e=this.filter(0,this.getOriginalCount()),t=e.xValues,r=e.yValues,i=e.zValues,n=e.metadata;this.appendRange(t,r,i,n)},XyzCustomFilter.prototype.filter=function(e,t){var r=this.getOriginalXValues(),i=this.getOriginalYValues(),n=this.getOriginalZValues(),o=[],a=[],s=[],l=void 0;if(this.originalSeries.hasMetadata){l=[];for(var u=e;u<e+t;u++)o.push(r.get(u)),a.push(this.filterFunction(u,i.get(u))),s.push(this.zfilterFunction(u,n.get(u))),l.push(this.originalSeries.getMetadataAt(u))}else for(var u=e;u<e+t;u++)o.push(r.get(u)),a.push(this.filterFunction(u,i.get(u))),s.push(this.zfilterFunction(u,n.get(u)));return{xValues:o,yValues:a,zValues:s,metadata:l}},XyzCustomFilter}(r(9404).XyzFilterBase);t.XyzCustomFilter=o},9404:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyzFilterBase=void 0;var o=r(94694),a=r(3351),s=r(90229),l=r(71902),u=function(e){function XyzFilterBase(t,r){var i,n,o=this;switch((o=e.call(this,t.webAssemblyContext,r)||this).yfield=l.EDataSeriesField.Y,o.zfield=l.EDataSeriesField.Z,o.originalSeriesProperty=t,o.yfield=null!==(i=null==r?void 0:r.yfield)&&void 0!==i?i:o.yfield,o.zfield=null!==(n=null==r?void 0:r.zfield)&&void 0!==n?n:o.zfield,o.onBaseDataChanged=o.onBaseDataChanged.bind(o),t.dataChanged.subscribe(o.onBaseDataChanged),o.originalSeries.type){case a.EDataSeriesType.Ohlc:var s=o.originalSeries;o.getOriginalYValues=function(){return(0,l.switchData)(o.yfield,s.getNativeYValues(),s.getNativeOpenValues(),s.getNativeHighValues(),s.getNativeLowValues())},o.getOriginalZValues=function(){return(0,l.switchData)(o.zfield,s.getNativeYValues(),s.getNativeOpenValues(),s.getNativeHighValues(),s.getNativeLowValues())};break;case a.EDataSeriesType.Xy:var u=o.originalSeries;o.getOriginalYValues=function(){return u.getNativeYValues()},o.getOriginalZValues=function(){return u.getNativeYValues()};break;case a.EDataSeriesType.Xyy:var c=o.originalSeries;o.getOriginalYValues=function(){return(0,l.switchData)(o.yfield,c.getNativeYValues(),c.getNativeY1Values())},o.getOriginalZValues=function(){return(0,l.switchData)(o.zfield,c.getNativeYValues(),c.getNativeY1Values())};break;case a.EDataSeriesType.Hlc:var d=o.originalSeries;o.getOriginalYValues=function(){return(0,l.switchData)(o.yfield,d.getNativeYValues(),void 0,d.getNativeHighValues(),d.getNativeLowValues())},o.getOriginalZValues=function(){return(0,l.switchData)(o.zfield,d.getNativeYValues(),void 0,d.getNativeHighValues(),d.getNativeLowValues())}}return o}return n(XyzFilterBase,e),Object.defineProperty(XyzFilterBase.prototype,"originalSeries",{get:function(){return this.originalSeriesProperty},enumerable:!1,configurable:!0}),XyzFilterBase.prototype.detachFromOriginalSeries=function(){this.originalSeries.dataChanged.unsubscribe(this.onBaseDataChanged),this.originalSeriesProperty=void 0},XyzFilterBase.prototype.delete=function(){this.originalSeriesProperty=(0,o.deleteSafe)(this.originalSeries),e.prototype.delete.call(this)},XyzFilterBase.prototype.getOriginalXValues=function(){return this.originalSeries.getNativeXValues()},XyzFilterBase.prototype.getOriginalYValues=function(){return this.originalSeries.getNativeYValues()},XyzFilterBase.prototype.getOriginalZValues=function(){return this.originalSeries.getNativeZValues()},XyzFilterBase.prototype.getOriginalCount=function(){return this.originalSeries.count()},XyzFilterBase.prototype.onOriginalPropertyChanged=function(e){},XyzFilterBase.prototype.filterOnAppend=function(e){this.filterAll()},XyzFilterBase.prototype.filterOnUpdate=function(e){this.filterAll()},XyzFilterBase.prototype.filterOnInsert=function(e,t){this.filterAll()},XyzFilterBase.prototype.filterOnRemove=function(e,t){this.filterAll()},XyzFilterBase.prototype.onClear=function(){this.clear()},XyzFilterBase.prototype.onBaseDataChanged=function(e){var t=e.changeType,r=e.name,i=e.index,n=e.count;switch(t){case a.EDataChangeType.Property:this.onOriginalPropertyChanged(r);return;case a.EDataChangeType.Append:this.filterOnAppend(n);break;case a.EDataChangeType.Clear:this.onClear();break;case a.EDataChangeType.Insert:this.filterOnInsert(i,n);break;case a.EDataChangeType.Remove:this.filterOnRemove(i,n);break;case a.EDataChangeType.Update:this.filterOnUpdate(i)}},XyzFilterBase}(s.XyzDataSeries);t.XyzFilterBase=u},1586:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.XyzScaleOffsetFilter=void 0;var a=r(34422),s=function(e){function XyzScaleOffsetFilter(t,r){var i,n,o=this;return(o=e.call(this,t,r)||this).scaleProperty=1,o.offsetProperty=0,o.scaleProperty=null!==(i=null==r?void 0:r.scale)&&void 0!==i?i:o.scaleProperty,o.offsetProperty=null!==(n=null==r?void 0:r.offset)&&void 0!==n?n:o.offsetProperty,o.getOriginalCount()>0&&o.filterAll(),o}return n(XyzScaleOffsetFilter,e),Object.defineProperty(XyzScaleOffsetFilter.prototype,"scale",{get:function(){return this.scaleProperty},set:function(e){this.scaleProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),Object.defineProperty(XyzScaleOffsetFilter.prototype,"offset",{get:function(){return this.offsetProperty},set:function(e){this.offsetProperty=e,this.filterAll()},enumerable:!1,configurable:!0}),XyzScaleOffsetFilter.prototype.toJSON=function(e){void 0===e&&(e=!1);var t=this.originalSeries.toJSON(e);return o(o({},t),{filter:{type:a.EDataFilterType.XyzScaleOffset,options:{yfield:this.yfield,zfield:this.zfield,scale:this.scale,offset:this.offset}}})},XyzScaleOffsetFilter.prototype.filterFunctionProperty=function(e,t){return t*this.scaleProperty+this.offsetProperty},XyzScaleOffsetFilter}(r(82086).XyzCustomFilter);t.XyzScaleOffsetFilter=s},9314:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.HlcDataSeries=void 0;var o=r(94694),a=r(92530),s=r(51134),l=r(17570),u=r(96565),c=r(60717),d=r(24714),p=r(51877),h=r(36072),f=r(23144),y=r(3351),g=function(e){function HlcDataSeries(t,r){var i=e.call(this,t,r)||this;return i.type=y.EDataSeriesType.Hlc,i.highValues=i.doubleVectorProvider.getDoubleVector(t),i.lowValues=i.doubleVectorProvider.getDoubleVector(t),(null==r?void 0:r.xValues)&&(a.Guard.notNull(r.yValues,"options.yValues"),a.Guard.notNull(r.highValues,"options.highValues"),a.Guard.notNull(r.lowValues,"options.lowValues"),i.appendRange(r.xValues,r.yValues,r.highValues,r.lowValues,r.metadata),(null==r?void 0:r.fifoCapacity)&&(null==r?void 0:r.fifoStartIndex)&&(i.xValues.notifyAppend(null==r?void 0:r.fifoStartIndex),i.yValues.notifyAppend(null==r?void 0:r.fifoStartIndex),i.highValues.notifyAppend(null==r?void 0:r.fifoStartIndex),i.lowValues.notifyAppend(null==r?void 0:r.fifoStartIndex))),i}return n(HlcDataSeries,e),HlcDataSeries.prototype.getNativeHighValues=function(){return this.highValues},HlcDataSeries.prototype.getNativeLowValues=function(){return this.lowValues},HlcDataSeries.prototype.append=function(e,t,r,i,n){if(!this.getIsDeleted()){var o=this.getNativeXValues();this.dataDistributionCalculator.onAppend(this.isSorted,this.containsNaN,o,[e],[t]),this.appendMetadata(n),o.push_back(e),this.getNativeYValues().push_back(t),this.getNativeHighValues().push_back(r),this.getNativeLowValues().push_back(i),this.notifyDataChanged(y.EDataChangeType.Append,null,1)}},HlcDataSeries.prototype.appendRange=function(e,t,r,i,n){if(!this.getIsDeleted()){a.Guard.isTrue((0,l.isNumberArray)(e)||(0,l.isTypedArray)(e),"xValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(t)||(0,l.isTypedArray)(t),"yValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(r)||(0,l.isTypedArray)(r),"hValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(i)||(0,l.isTypedArray)(i),"lValues must be an array of numbers"),a.Guard.arraysSameLengthArr([{arg:e,name:"xValues"},{arg:t,name:"yValues"},{arg:r,name:"hValues"},{arg:i,name:"lValues"}]),n&&(a.Guard.isTrue(Array.isArray(n),"metadata must be an array of IPointMetadata"),a.Guard.arraysSameLength(e,"xValues",n,"metadata"));var o=this.getNativeXValues(),s=this.getNativeYValues(),u=this.getNativeHighValues(),c=this.getNativeLowValues();this.dataDistributionCalculator.onAppend(this.isSorted,this.containsNaN,o,e,t),this.appendMetadataRange(n,e.length),this.doubleVectorProvider.appendArray(this.webAssemblyContext,o,e),this.doubleVectorProvider.appendArray(this.webAssemblyContext,s,t),this.doubleVectorProvider.appendArray(this.webAssemblyContext,u,r),this.doubleVectorProvider.appendArray(this.webAssemblyContext,c,i),this.notifyDataChanged(y.EDataChangeType.Append,null,e.length)}},HlcDataSeries.prototype.update=function(e,t,r,i,n){this.getIsDeleted()||(this.validateIndex(e),this.dataDistributionCalculator.onUpdate(this.isSorted,this.containsNaN,void 0,void 0,[t],e),this.getNativeYValues().set(e,t),this.getNativeHighValues().set(e,r),this.getNativeLowValues().set(e,i),this.setMetadataAt(e,n),this.notifyDataChanged(y.EDataChangeType.Update,e,1))},HlcDataSeries.prototype.updateXyhl=function(e,t,r,i,n,o){if(!this.getIsDeleted()){this.validateIndex(e);var a=this.getNativeXValues();this.dataDistributionCalculator.onUpdate(this.isSorted,this.containsNaN,a,[t],[r],e),a.set(e,t),this.getNativeYValues().set(e,r),this.getNativeHighValues().set(e,i),this.getNativeLowValues().set(e,n),this.setMetadataAt(e,o),this.notifyDataChanged(y.EDataChangeType.Update,e,1)}},HlcDataSeries.prototype.insert=function(e,t,r,i,n,o){if(!this.getIsDeleted()){this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("insert");var a=this.getNativeXValues(),s=this.getNativeYValues(),l=this.getNativeHighValues(),u=this.getNativeLowValues();this.dataDistributionCalculator.onInsert(this.isSorted,this.containsNaN,a,[t],[r],e),a.insertAt(e,t),s.insertAt(e,r),l.insertAt(e,i),u.insertAt(e,n),this.insertMetadata(e,o),this.notifyDataChanged(y.EDataChangeType.Insert,e,1)}},HlcDataSeries.prototype.insertRange=function(e,t,r,i,n,o){if(!this.getIsDeleted()){a.Guard.isTrue((0,l.isNumberArray)(t)||(0,l.isTypedArray)(t),"xValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(r)||(0,l.isTypedArray)(r),"yValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(i)||(0,l.isTypedArray)(i),"hValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(n)||(0,l.isTypedArray)(n),"lValues must be an array of numbers"),this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("insertRange"),a.Guard.arraysSameLengthArr([{arg:t,name:"xValues"},{arg:r,name:"yValues"},{arg:i,name:"hValues"},{arg:n,name:"lValues"}]),o&&(a.Guard.isTrue(Array.isArray(o),"metadata must be an array of IPointMetadata"),a.Guard.arraysSameLength(t,"xValues",o,"metadata"));var s=this.getNativeXValues();this.dataDistributionCalculator.onInsert(this.isSorted,this.containsNaN,s,t,r,e),(0,d.insertDoubleVectorFromJsArray)(this.webAssemblyContext,t,s,e),(0,d.insertDoubleVectorFromJsArray)(this.webAssemblyContext,r,this.getNativeYValues(),e),(0,d.insertDoubleVectorFromJsArray)(this.webAssemblyContext,i,this.getNativeHighValues(),e),(0,d.insertDoubleVectorFromJsArray)(this.webAssemblyContext,n,this.getNativeLowValues(),e),this.insertMetadataRange(e,o),this.notifyDataChanged(y.EDataChangeType.Insert,e,t.length)}},HlcDataSeries.prototype.removeAt=function(e){this.getIsDeleted()||(this.validateIndex(e),this.throwIfFifo("removeAt"),this.getNativeXValues().removeAt(e),this.getNativeYValues().removeAt(e),this.getNativeHighValues().removeAt(e),this.getNativeLowValues().removeAt(e),this.removeMetadataAt(e),this.notifyDataChanged(y.EDataChangeType.Remove,e,1))},HlcDataSeries.prototype.removeRange=function(e,t){this.getIsDeleted()||(this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("removeRange"),this.getNativeXValues().removeRange(e,t),this.getNativeYValues().removeRange(e,t),this.getNativeHighValues().removeRange(e,t),this.getNativeLowValues().removeRange(e,t),this.removeMetadataRange(e,t),this.notifyDataChanged(y.EDataChangeType.Remove,e,t))},HlcDataSeries.prototype.clear=function(){this.getIsDeleted()||(e.prototype.clear.call(this),this.getNativeXValues().clear(),this.getNativeYValues().clear(),this.getNativeHighValues().clear(),this.getNativeLowValues().clear(),this.setMetadata(void 0),this.notifyDataChanged(y.EDataChangeType.Clear,null,null))},HlcDataSeries.prototype.getXRange=function(e,t,r,i){var n,a=this.getXValues(e),l=this.getHlcValues(e),u=l.hValues,c=l.lValues;if(t){if(1===this.count()){var d=i?c:a,h=r?u:a,f=d.get(0)-1,y=h.get(0)+1;return new s.NumberRange(f,y)}if(this.count()>1){var f=void 0,y=void 0,g=void 0;try{if(f=(g=this.webAssemblyContext.NumberUtil.MinMax(i?this.getNativeLowValues():this.getNativeXValues())).minD,y=(g=this.webAssemblyContext.NumberUtil.MinMax(r?this.getNativeHighValues():this.getNativeXValues())).maxD,!(0,p.isRealNumber)(f)||!(0,p.isRealNumber)(y))return new s.NumberRange(0,0)}finally{(0,o.deleteSafe)(g)}return f===y?new s.NumberRange(f-1,y+1):(f>y&&(n=f,f=y,y=n),new s.NumberRange(f,y))}}else{if(1===this.count()){var f=a.get(0)-1,y=a.get(0)+1;return new s.NumberRange(f,y)}if(this.count()>1){var f=a.get(0),y=a.get(this.count()-1);if(!this.dataDistributionCalculator.isSortedAscending){var g=void 0;try{if(g=this.webAssemblyContext.NumberUtil.MinMax(this.getNativeXValues()),!(0,p.isRealNumber)(g.minD)||!(0,p.isRealNumber)(g.maxD))return new s.NumberRange(0,0);f=g.minD,y=g.maxD}finally{(0,o.deleteSafe)(g)}}return f===y?new s.NumberRange(f-1,y+1):(f>y&&(n=f,f=y,y=n),new s.NumberRange(f,y))}}return new s.NumberRange(0,0)},HlcDataSeries.prototype.getWindowedYRange=function(e,t,r,i,n,a,l,d){void 0===r&&(r=!1),void 0===i&&(i=y.EDataSeriesValueType.Default),void 0===n&&(n=c.EYRangeMode.Visible),void 0===a&&(a=!1);var h=this.getHlcValues(i),f=h.hValues,g=h.lValues,v=h.yValues;if(1===this.count()&&!a){if(a){var m=v.get(0);return new s.NumberRange(m,m)}var S=Math.min(f.get(0),g.get(0)),b=Math.max(f.get(0),g.get(0));return new s.NumberRange(S,b)}var P=r?e:this.getIndicesRange(e,!1,n===c.EYRangeMode.Visible?u.ESearchMode.RoundUp:u.ESearchMode.RoundDown,n===c.EYRangeMode.Visible?u.ESearchMode.RoundDown:u.ESearchMode.RoundUp),C=Number.MAX_VALUE,x=Number.MIN_VALUE,A=Math.max(Math.floor(P.min),0),T=Math.min(Math.ceil(P.max),this.count()-1);if(!(T<A)){if(a){var _=void 0;try{if(_=this.webAssemblyContext.NumberUtil.MinMaxWithIndex(v,A,T-A+1),!(0,p.isRealNumber)(_.minD)||!(0,p.isRealNumber)(_.maxD))return new s.NumberRange(0,0);C=_.minD,x=_.maxD}finally{(0,o.deleteSafe)(_)}}else{var R=l?f:v,E=d?g:v,_=void 0;try{if(_=this.webAssemblyContext.NumberUtil.MinMaxWithIndex(R,A,T-A+1),!(0,p.isRealNumber)(_.minD)||!(0,p.isRealNumber)(_.maxD)||(x=_.maxD,_=this.webAssemblyContext.NumberUtil.MinMaxWithIndex(E,A,T-A+1),!(0,p.isRealNumber)(_.minD)||!(0,p.isRealNumber)(_.maxD)))return new s.NumberRange(0,0);C=_.minD}finally{(0,o.deleteSafe)(_)}}return new s.NumberRange(C,x)}},HlcDataSeries.prototype.delete=function(){this.highValues=(0,o.deleteSafe)(this.highValues),this.lowValues=(0,o.deleteSafe)(this.lowValues),this.hInitialAnimationValues=(0,o.deleteSafe)(this.hInitialAnimationValues),this.hFinalAnimationValues=(0,o.deleteSafe)(this.hFinalAnimationValues),this.lInitialAnimationValues=(0,o.deleteSafe)(this.lInitialAnimationValues),this.lFinalAnimationValues=(0,o.deleteSafe)(this.lFinalAnimationValues),e.prototype.delete.call(this)},HlcDataSeries.prototype.createAnimationVectors=function(){e.prototype.createAnimationVectors.call(this),this.lInitialAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.lFinalAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.hInitialAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.hFinalAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext)},HlcDataSeries.prototype.setInitialAnimationVectors=function(t){if(e.prototype.setInitialAnimationVectors.call(this,t),!t){this.hInitialAnimationValues.resize(0,0),this.lInitialAnimationValues.resize(0,0);return}h.animationHelpers.copyVector(t.getNativeHighValues(),this.hInitialAnimationValues),h.animationHelpers.copyVector(t.getNativeLowValues(),this.lInitialAnimationValues)},HlcDataSeries.prototype.setFinalAnimationVectors=function(t){if(e.prototype.setFinalAnimationVectors.call(this,t),!t){this.hFinalAnimationValues.resize(0,0),this.lFinalAnimationValues.resize(0,0);return}h.animationHelpers.copyVector(t.getNativeHighValues(),this.hFinalAnimationValues),h.animationHelpers.copyVector(t.getNativeLowValues(),this.lFinalAnimationValues)},HlcDataSeries.prototype.validateAnimationVectors=function(){e.prototype.validateAnimationVectors.call(this);var t=this.xInitialAnimationValues.size();if(t!==this.hInitialAnimationValues.size()||t!==this.hFinalAnimationValues.size()||t!==this.lInitialAnimationValues.size()||t!==this.lFinalAnimationValues.size())throw Error("initialAnimationValues and finalAnimationValues must have the same length")},HlcDataSeries.prototype.updateAnimationProperties=function(t,r){e.prototype.updateAnimationProperties.call(this,t,r),r.isOnStartAnimation?(r.calculateAnimationValues(this.webAssemblyContext,this.hFinalAnimationValues,this.getNativeHighValues(),t),r.calculateAnimationValues(this.webAssemblyContext,this.lFinalAnimationValues,this.getNativeLowValues(),t)):r.isDataSeriesAnimation&&(r.calculateDataSeriesAnimationValues(this.webAssemblyContext,this.hInitialAnimationValues,this.hFinalAnimationValues,this.getNativeHighValues(),t),r.calculateDataSeriesAnimationValues(this.webAssemblyContext,this.lInitialAnimationValues,this.lFinalAnimationValues,this.getNativeLowValues(),t))},HlcDataSeries.prototype.getOptions=function(t){void 0===t&&(t=!1);var r=e.prototype.getOptions.call(this,t);if(!t){var i=this.count(),n=Array(i),o=Array(i),a=Array(i),s=Array(i);if(this.fifoCapacity&&this.fifoSweeping)for(var l=0;l<i;l++)n[l]=this.xValues.getRaw(l),o[l]=this.yValues.getRaw(l),a[l]=this.highValues.getRaw(l),s[l]=this.lowValues.getRaw(l);else for(var l=0;l<i;l++)n[l]=this.xValues.get(l),o[l]=this.yValues.get(l),a[l]=this.highValues.get(l),s[l]=this.lowValues.get(l);Object.assign(r,{xValues:n,yValues:o,highValues:a,lowValues:s})}return r},HlcDataSeries.prototype.reserve=function(t){e.prototype.reserve.call(this,t),this.highValues.reserve(t),this.lowValues.reserve(t)},HlcDataSeries.prototype.getHlcValues=function(e){var t,r,i;switch(e){case y.EDataSeriesValueType.FinalAnimationValues:t=this.hFinalAnimationValues,r=this.lFinalAnimationValues,i=this.yFinalAnimationValues;break;case y.EDataSeriesValueType.InitialAnimationValues:t=this.hInitialAnimationValues,r=this.lInitialAnimationValues,i=this.yInitialAnimationValues;break;default:t=this.highValues,r=this.lowValues,i=this.yValues}return{hValues:t,lValues:r,yValues:i}},HlcDataSeries}(f.BaseDataSeries);t.HlcDataSeries=g},3351:function(e,t){"use strict";var r,i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.EDataSeriesValueType=t.EDataChangeType=t.EDataSeriesType=void 0,(r=t.EDataSeriesType||(t.EDataSeriesType={})).Xy="Xy",r.Xyy="Xyy",r.Xyz="Xyz",r.Ohlc="Ohlc",r.HeatmapUniform="UniformHeatmap",r.HeatmapNonUniform="NonUniformHeatmap",r.Hlc="Hlc",r.XyText="XyText",(i=t.EDataChangeType||(t.EDataChangeType={}))[i.Append=0]="Append",i[i.Insert=1]="Insert",i[i.Update=2]="Update",i[i.Remove=3]="Remove",i[i.Clear=4]="Clear",i[i.Property=5]="Property",(n=t.EDataSeriesValueType||(t.EDataSeriesValueType={})).Default="Default",n.InitialAnimationValues="InitialAnimationValues",n.FinalAnimationValues="FinalAnimationValues"},4002:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultPaletteProvider=t.EFillPaletteMode=t.EStrokePaletteMode=void 0,(r=n=t.EStrokePaletteMode||(t.EStrokePaletteMode={})).GRADIENT="GRADIENT",r.SOLID="SOLID",(i=o=t.EFillPaletteMode||(t.EFillPaletteMode={})).GRADIENT="GRADIENT",i.SOLID="SOLID";var r,i,n,o,a=function(){function DefaultPaletteProvider(){this.strokePaletteMode=n.GRADIENT,this.fillPaletteMode=o.GRADIENT}return DefaultPaletteProvider.createEmpty=function(){var e=new DefaultPaletteProvider;return e.overrideFillArgb=void 0,e.overrideStrokeArgb=void 0,e.overridePointMarkerArgb=void 0,e},DefaultPaletteProvider.prototype.onAttached=function(e){this.parentSeries=e},DefaultPaletteProvider.prototype.onDetached=function(){this.parentSeries=void 0},Object.defineProperty(DefaultPaletteProvider.prototype,"isRangeIndependant",{get:function(){return!1},enumerable:!1,configurable:!0}),DefaultPaletteProvider.prototype.shouldUpdatePalette=function(){return!0},DefaultPaletteProvider.prototype.overrideFillArgb=function(e,t,r,i,n){},DefaultPaletteProvider.prototype.overrideStrokeArgb=function(e,t,r,i,n){},DefaultPaletteProvider.prototype.overridePointMarkerArgb=function(e,t,r,i,n){},DefaultPaletteProvider.prototype.toJSON=function(){},DefaultPaletteProvider}();t.DefaultPaletteProvider=a},85230:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateMetadataGenerator=void 0;var r=function(){function TemplateMetadataGenerator(e){this.template=e}return TemplateMetadataGenerator.prototype.getSingleMetadata=function(){return Object.assign({},this.template)},TemplateMetadataGenerator.prototype.getMetadata=function(){},TemplateMetadataGenerator.prototype.toJSON=function(){return"toJSON"in this.template?this.template.toJSON():this.template},TemplateMetadataGenerator}();t.TemplateMetadataGenerator=r},52924:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformHeatmapDataSeries=void 0;var o=r(94694),a=r(92530),s=r(51134),l=r(3979),u=r(24714),c=r(23144),d=r(75707),p=r(3351),h=function(e){function NonUniformHeatmapDataSeries(t,r){var i=e.call(this,t,r)||this;if(i.type=p.EDataSeriesType.HeatmapNonUniform,a.Guard.notNull(r.xCellOffsets,"options.xCellOffsets"),a.Guard.notNull(r.yCellOffsets,"options.yCellOffsets"),Array.isArray(r.xCellOffsets)){if(r.xCellOffsets.length<i.arrayWidth+1)throw Error("xCellOffsets array should not be smaller than zValues width!");i.xCellOffsetsProperty=r.xCellOffsets}else i.xCellOffsetsGeneratorFunction=r.xCellOffsets;if(Array.isArray(r.yCellOffsets)){if(r.yCellOffsets.length<i.arrayHeight+1)throw Error("yCellOffsets array should not be smaller than zValues height!");i.yCellOffsetsProperty=r.yCellOffsets}else i.yCellOffsetsGeneratorFunction=r.yCellOffsets;return i.nativeXOffsetsProperty=new i.webAssemblyContext.SCRTDoubleVector,i.nativeYOffsetsProperty=new i.webAssemblyContext.SCRTDoubleVector,i.getZValues()&&i.notifyDataChanged(p.EDataChangeType.Append),i}return n(NonUniformHeatmapDataSeries,e),Object.defineProperty(NonUniformHeatmapDataSeries.prototype,"xCellSizes",{get:function(){return this.xCellSizesProperty||(this.xCellSizesProperty=this.calculateCellSizes(this.xCellOffsetsProperty)),this.xCellSizesProperty},enumerable:!1,configurable:!0}),Object.defineProperty(NonUniformHeatmapDataSeries.prototype,"yCellSizes",{get:function(){return this.yCellSizesProperty||(this.yCellSizesProperty=this.calculateCellSizes(this.yCellOffsetsProperty)),this.yCellSizesProperty},enumerable:!1,configurable:!0}),Object.defineProperty(NonUniformHeatmapDataSeries.prototype,"xCellOffsets",{get:function(){return this.xCellOffsetsProperty},enumerable:!1,configurable:!0}),Object.defineProperty(NonUniformHeatmapDataSeries.prototype,"yCellOffsets",{get:function(){return this.yCellOffsetsProperty},enumerable:!1,configurable:!0}),Object.defineProperty(NonUniformHeatmapDataSeries.prototype,"nativeXCellOffsets",{get:function(){return this.nativeXOffsetsProperty||(this.nativeXOffsetsProperty=new l.SCRTDoubleVector,(0,u.appendDoubleVectorFromJsArray)(this.webAssemblyContext,this.nativeXOffsetsProperty,this.xCellOffsets)),this.nativeXOffsetsProperty},enumerable:!1,configurable:!0}),Object.defineProperty(NonUniformHeatmapDataSeries.prototype,"nativeYCellOffsets",{get:function(){return this.nativeYOffsetsProperty||(this.nativeYOffsetsProperty=new l.SCRTDoubleVector,(0,u.appendDoubleVectorFromJsArray)(this.webAssemblyContext,this.nativeYOffsetsProperty,this.yCellOffsets)),this.nativeYOffsetsProperty},enumerable:!1,configurable:!0}),NonUniformHeatmapDataSeries.prototype.getXValue=function(e){return this.xCellOffsetsProperty[e]},NonUniformHeatmapDataSeries.prototype.getYValue=function(e){return this.yCellOffsetsProperty[e]},NonUniformHeatmapDataSeries.prototype.notifyDataChanged=function(t,r){(this.xCellOffsets||this.xCellOffsetsGeneratorFunction)&&(this.yCellOffsets||this.yCellOffsetsGeneratorFunction)&&(t===p.EDataChangeType.Append&&(this.xCellOffsetsGeneratorFunction&&(this.xCellOffsetsProperty=this.mapCellSizes(this.arrayWidth,this.xCellOffsetsGeneratorFunction),this.xCellSizesProperty=this.calculateCellSizes(this.xCellOffsetsProperty)),this.yCellOffsetsGeneratorFunction&&(this.yCellOffsetsProperty=this.mapCellSizes(this.arrayHeight,this.yCellOffsetsGeneratorFunction),this.yCellSizesProperty=this.calculateCellSizes(this.yCellOffsetsProperty)),this.nativeXOffsetsProperty.clear(),this.nativeYOffsetsProperty.clear(),(0,u.appendDoubleVectorFromJsArray)(this.webAssemblyContext,this.nativeXOffsetsProperty,this.xCellOffsetsProperty),(0,u.appendDoubleVectorFromJsArray)(this.webAssemblyContext,this.nativeYOffsetsProperty,this.yCellOffsetsProperty)),this.xRangeProperty=new s.NumberRange(this.getXValue(0),this.getXValue(this.arrayWidth)),this.yRangeProperty=new s.NumberRange(this.getYValue(0),this.getYValue(this.arrayHeight)),e.prototype.notifyDataChanged.call(this,t,r))},NonUniformHeatmapDataSeries.prototype.getXRange=function(){return this.xRangeProperty},NonUniformHeatmapDataSeries.prototype.getYRange=function(){return this.yRangeProperty},NonUniformHeatmapDataSeries.prototype.getXIndicesRange=function(e,t,r,i){return(0,c.getIndicesRange)(this.webAssemblyContext,this.nativeXCellOffsets,e,!0)},NonUniformHeatmapDataSeries.prototype.getYIndicesRange=function(e,t,r,i){return(0,c.getIndicesRange)(this.webAssemblyContext,this.nativeYCellOffsets,e,!0)},NonUniformHeatmapDataSeries.prototype.delete=function(){e.prototype.delete.call(this),this.nativeXOffsetsProperty=(0,o.deleteSafe)(this.nativeXOffsetsProperty),this.nativeYOffsetsProperty=(0,o.deleteSafe)(this.nativeYOffsetsProperty)},NonUniformHeatmapDataSeries.prototype.getOptions=function(t){return Object.assign(e.prototype.getOptions.call(this,t),{xCellOffsets:this.xCellOffsetsProperty,yCellOffsets:this.yCellOffsetsProperty})},NonUniformHeatmapDataSeries.prototype.mapCellSizes=function(e,t){for(var r=[],i=e+1,n=0;n<i;++n)r.push(t(n));return r},NonUniformHeatmapDataSeries.prototype.calculateCellSizes=function(e){if(!e||0===e.length)return[];for(var t=e.length,r=e[t-1]-e[0],i=[],n=0;n<t-1;++n){var o=e[n+1]-e[n];i.push(o/r)}return i},NonUniformHeatmapDataSeries}(d.BaseHeatmapDataSeries);t.NonUniformHeatmapDataSeries=h},72418:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.OhlcDataSeries=void 0;var o=r(94694),a=r(92530),s=r(51134),l=r(17570),u=r(96565),c=r(60717),d=r(24714),p=r(36072),h=r(23144),f=r(3351),y=function(e){function OhlcDataSeries(t,r){var i=e.call(this,t,r)||this;return i.type=f.EDataSeriesType.Ohlc,i.openValues=i.doubleVectorProvider.getDoubleVector(t),i.highValues=i.doubleVectorProvider.getDoubleVector(t),i.lowValues=i.doubleVectorProvider.getDoubleVector(t),(null==r?void 0:r.xValues)&&(i.appendRange(r.xValues,r.openValues,r.highValues,r.lowValues,r.closeValues,r.metadata),(null==r?void 0:r.fifoCapacity)&&(null==r?void 0:r.fifoStartIndex)&&(i.xValues.notifyAppend(null==r?void 0:r.fifoStartIndex),i.yValues.notifyAppend(null==r?void 0:r.fifoStartIndex),i.openValues.notifyAppend(null==r?void 0:r.fifoStartIndex),i.highValues.notifyAppend(null==r?void 0:r.fifoStartIndex),i.lowValues.notifyAppend(null==r?void 0:r.fifoStartIndex))),i}return n(OhlcDataSeries,e),OhlcDataSeries.prototype.getNativeOpenValues=function(){return this.openValues},OhlcDataSeries.prototype.getNativeHighValues=function(){return this.highValues},OhlcDataSeries.prototype.getNativeLowValues=function(){return this.lowValues},OhlcDataSeries.prototype.getNativeCloseValues=function(){return this.getNativeYValues()},OhlcDataSeries.prototype.append=function(e,t,r,i,n,o){if(!this.getIsDeleted()){var a=this.getNativeXValues();this.dataDistributionCalculator.onAppend(this.isSorted,this.containsNaN,a,[e],[n]),this.appendMetadata(o),a.push_back(e),this.getNativeOpenValues().push_back(t),this.getNativeHighValues().push_back(r),this.getNativeLowValues().push_back(i),this.getNativeCloseValues().push_back(n),this.notifyDataChanged(f.EDataChangeType.Append,null,1)}},OhlcDataSeries.prototype.appendRange=function(e,t,r,i,n,o){if(!this.getIsDeleted()){a.Guard.isTrue((0,l.isNumberArray)(e)||(0,l.isTypedArray)(e),"xValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(t)||(0,l.isTypedArray)(t),"openValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(r)||(0,l.isTypedArray)(r),"highValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(i)||(0,l.isTypedArray)(i),"lowValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(n)||(0,l.isTypedArray)(n),"closeValues must be an array of numbers"),a.Guard.arraysSameLengthArr([{arg:e,name:"xValues"},{arg:t,name:"openValues"},{arg:r,name:"highValues"},{arg:i,name:"lowValues"},{arg:n,name:"closeValues"}]),o&&(a.Guard.isTrue(Array.isArray(o),"metadata must be an array of IPointMetadata"),a.Guard.arraysSameLength(e,"xValues",o,"metadata"));var s=this.getNativeXValues(),u=this.getNativeOpenValues(),c=this.getNativeHighValues(),d=this.getNativeLowValues(),p=this.getNativeCloseValues();this.dataDistributionCalculator.onAppend(this.isSorted,this.containsNaN,s,e,n),this.appendMetadataRange(o,e.length),this.doubleVectorProvider.appendArray(this.webAssemblyContext,s,e),this.doubleVectorProvider.appendArray(this.webAssemblyContext,u,t),this.doubleVectorProvider.appendArray(this.webAssemblyContext,c,r),this.doubleVectorProvider.appendArray(this.webAssemblyContext,d,i),this.doubleVectorProvider.appendArray(this.webAssemblyContext,p,n),this.notifyDataChanged(f.EDataChangeType.Append,null,e.length)}},OhlcDataSeries.prototype.update=function(e,t,r,i,n,o){this.getIsDeleted()||(this.validateIndex(e),this.dataDistributionCalculator.onUpdate(this.isSorted,this.containsNaN,void 0,void 0,[n],e),this.getNativeOpenValues().set(e,t),this.getNativeHighValues().set(e,r),this.getNativeLowValues().set(e,i),this.getNativeCloseValues().set(e,n),this.setMetadataAt(e,o),this.notifyDataChanged(f.EDataChangeType.Update,e,1))},OhlcDataSeries.prototype.updateXohlc=function(e,t,r,i,n,o,a){if(!this.getIsDeleted()){this.validateIndex(e);var s=this.getNativeXValues();this.dataDistributionCalculator.onUpdate(this.isSorted,this.containsNaN,s,[t],[o],e),s.set(e,t),this.getNativeOpenValues().set(e,r),this.getNativeHighValues().set(e,i),this.getNativeLowValues().set(e,n),this.getNativeCloseValues().set(e,o),this.setMetadataAt(e,a),this.notifyDataChanged(f.EDataChangeType.Update,e,1)}},OhlcDataSeries.prototype.insert=function(e,t,r,i,n,o,a){if(!this.getIsDeleted()){this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("insert");var s=this.getNativeXValues();this.dataDistributionCalculator.onInsert(this.isSorted,this.containsNaN,s,[t],[o],e),s.insertAt(e,t),this.getNativeOpenValues().insertAt(e,r),this.getNativeHighValues().insertAt(e,i),this.getNativeLowValues().insertAt(e,n),this.getNativeCloseValues().insertAt(e,o),this.insertMetadata(e,a),this.notifyDataChanged(f.EDataChangeType.Insert,e,1)}},OhlcDataSeries.prototype.insertRange=function(e,t,r,i,n,o,s){if(!this.getIsDeleted()){a.Guard.isTrue((0,l.isNumberArray)(t)||(0,l.isTypedArray)(t),"xValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(r)||(0,l.isTypedArray)(r),"openValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(i)||(0,l.isTypedArray)(i),"highValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(n)||(0,l.isTypedArray)(n),"lowValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(o)||(0,l.isTypedArray)(o),"closeValues must be an array of numbers"),this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("insertRange"),a.Guard.arraysSameLengthArr([{arg:t,name:"xValues"},{arg:r,name:"openValues"},{arg:i,name:"highValues"},{arg:n,name:"lowValues"},{arg:o,name:"closeValues"}]),s&&(a.Guard.isTrue(Array.isArray(s),"metadata must be an array of IPointMetadata"),a.Guard.arraysSameLength(t,"xValues",s,"metadata"));var u=this.getNativeXValues();this.dataDistributionCalculator.onInsert(this.isSorted,this.containsNaN,u,t,o,e),(0,d.insertDoubleVectorFromJsArray)(this.webAssemblyContext,t,u,e),(0,d.insertDoubleVectorFromJsArray)(this.webAssemblyContext,r,this.getNativeOpenValues(),e),(0,d.insertDoubleVectorFromJsArray)(this.webAssemblyContext,i,this.getNativeHighValues(),e),(0,d.insertDoubleVectorFromJsArray)(this.webAssemblyContext,n,this.getNativeLowValues(),e),(0,d.insertDoubleVectorFromJsArray)(this.webAssemblyContext,o,this.getNativeCloseValues(),e),this.insertMetadataRange(e,s),this.notifyDataChanged(f.EDataChangeType.Insert,e,t.length)}},OhlcDataSeries.prototype.removeAt=function(e){this.getIsDeleted()||(this.validateIndex(e),this.throwIfFifo("removeAt"),this.getNativeXValues().removeAt(e),this.getNativeOpenValues().removeAt(e),this.getNativeHighValues().removeAt(e),this.getNativeLowValues().removeAt(e),this.getNativeCloseValues().removeAt(e),this.removeMetadataAt(e),this.notifyDataChanged(f.EDataChangeType.Remove,e,1))},OhlcDataSeries.prototype.removeRange=function(e,t){this.getIsDeleted()||(this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("removeRange"),this.getNativeXValues().removeRange(e,t),this.getNativeOpenValues().removeRange(e,t),this.getNativeHighValues().removeRange(e,t),this.getNativeLowValues().removeRange(e,t),this.getNativeCloseValues().removeRange(e,t),this.removeMetadataRange(e,t),this.notifyDataChanged(f.EDataChangeType.Remove,e,t))},OhlcDataSeries.prototype.clear=function(){this.getIsDeleted()||(e.prototype.clear.call(this),this.getNativeXValues().clear(),this.getNativeOpenValues().clear(),this.getNativeHighValues().clear(),this.getNativeLowValues().clear(),this.getNativeCloseValues().clear(),this.setMetadata(void 0),this.notifyDataChanged(f.EDataChangeType.Clear,null,null))},OhlcDataSeries.prototype.delete=function(){this.openValues=(0,o.deleteSafe)(this.openValues),this.highValues=(0,o.deleteSafe)(this.highValues),this.lowValues=(0,o.deleteSafe)(this.lowValues),this.openInitialAnimationValues=(0,o.deleteSafe)(this.openInitialAnimationValues),this.highInitialAnimationValues=(0,o.deleteSafe)(this.highInitialAnimationValues),this.lowInitialAnimationValues=(0,o.deleteSafe)(this.lowInitialAnimationValues),this.openFinalAnimationValues=(0,o.deleteSafe)(this.openFinalAnimationValues),this.highFinalAnimationValues=(0,o.deleteSafe)(this.highFinalAnimationValues),this.lowFinalAnimationValues=(0,o.deleteSafe)(this.lowFinalAnimationValues),e.prototype.delete.call(this)},OhlcDataSeries.prototype.getWindowedYRange=function(e,t,r,i,n){void 0===r&&(r=!1),void 0===i&&(i=f.EDataSeriesValueType.Default),void 0===n&&(n=c.EYRangeMode.Visible);var o=this.getOHLCValues(i),a=o.closeValues,l=o.highValues,d=o.lowValues;if(1===this.count()){var p=a.get(0);return new s.NumberRange(p,p)}var h=r?e:this.getIndicesRange(e,!1,n===c.EYRangeMode.Visible?u.ESearchMode.RoundUp:u.ESearchMode.RoundDown,n===c.EYRangeMode.Visible?u.ESearchMode.RoundDown:u.ESearchMode.RoundUp),y=Number.MAX_VALUE,g=Number.MIN_VALUE,v=Math.max(h.min,0),m=Math.min(h.max,this.count()-1);if(!(m<v)){for(var S=v;S<=m;S++){var b=l.get(S),P=d.get(S);P<y&&(y=P),b>g&&(g=b)}return new s.NumberRange(y,g)}},OhlcDataSeries.prototype.createAnimationVectors=function(){e.prototype.createAnimationVectors.call(this),this.openInitialAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.highInitialAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.lowInitialAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.openFinalAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.highFinalAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.lowFinalAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext)},OhlcDataSeries.prototype.setInitialAnimationVectors=function(t){if(e.prototype.setInitialAnimationVectors.call(this,t),!t){this.openInitialAnimationValues.resize(0,0),this.highInitialAnimationValues.resize(0,0),this.lowInitialAnimationValues.resize(0,0);return}p.animationHelpers.copyVector(t.getNativeOpenValues(),this.openInitialAnimationValues),p.animationHelpers.copyVector(t.getNativeHighValues(),this.highInitialAnimationValues),p.animationHelpers.copyVector(t.getNativeLowValues(),this.lowInitialAnimationValues)},OhlcDataSeries.prototype.setFinalAnimationVectors=function(t){if(e.prototype.setFinalAnimationVectors.call(this,t),!t){this.openFinalAnimationValues.resize(0,0),this.highFinalAnimationValues.resize(0,0),this.lowFinalAnimationValues.resize(0,0);return}p.animationHelpers.copyVector(t.getNativeOpenValues(),this.openFinalAnimationValues),p.animationHelpers.copyVector(t.getNativeHighValues(),this.highFinalAnimationValues),p.animationHelpers.copyVector(t.getNativeLowValues(),this.lowFinalAnimationValues)},OhlcDataSeries.prototype.validateAnimationVectors=function(){var e=this.xInitialAnimationValues.size();if(e!==this.yInitialAnimationValues.size()||e!==this.openInitialAnimationValues.size()||e!==this.highInitialAnimationValues.size()||e!==this.lowInitialAnimationValues.size()||e!==this.xFinalAnimationValues.size()||e!==this.yFinalAnimationValues.size()||e!==this.openFinalAnimationValues.size()||e!==this.highFinalAnimationValues.size()||e!==this.lowFinalAnimationValues.size())throw Error("initialAnimationValues and finalAnimationValues must have the same length")},OhlcDataSeries.prototype.updateAnimationProperties=function(t,r){e.prototype.updateAnimationProperties.call(this,t,r),r.isOnStartAnimation?(r.calculateAnimationValues(this.webAssemblyContext,this.openFinalAnimationValues,this.getNativeOpenValues(),t),r.calculateAnimationValues(this.webAssemblyContext,this.highFinalAnimationValues,this.getNativeHighValues(),t),r.calculateAnimationValues(this.webAssemblyContext,this.lowFinalAnimationValues,this.getNativeLowValues(),t)):r.isDataSeriesAnimation&&(r.calculateDataSeriesAnimationValues(this.webAssemblyContext,this.openInitialAnimationValues,this.openFinalAnimationValues,this.getNativeOpenValues(),t),r.calculateDataSeriesAnimationValues(this.webAssemblyContext,this.highInitialAnimationValues,this.highFinalAnimationValues,this.getNativeHighValues(),t),r.calculateDataSeriesAnimationValues(this.webAssemblyContext,this.lowInitialAnimationValues,this.lowFinalAnimationValues,this.getNativeLowValues(),t))},OhlcDataSeries.prototype.getOptions=function(t){void 0===t&&(t=!1);var r=e.prototype.getOptions.call(this,t);if(!t){var i=this.count(),n=Array(i),o=Array(i),a=Array(i),s=Array(i),l=Array(i);if(this.fifoCapacity&&this.fifoSweeping)for(var u=0;u<i;u++)n[u]=this.xValues.getRaw(u),o[u]=this.openValues.getRaw(u),l[u]=this.yValues.getRaw(u),a[u]=this.highValues.getRaw(u),s[u]=this.lowValues.getRaw(u);else for(var u=0;u<i;u++)n[u]=this.xValues.get(u),o[u]=this.openValues.get(u),l[u]=this.yValues.get(u),a[u]=this.highValues.get(u),s[u]=this.lowValues.get(u);Object.assign(r,{xValues:n,openValues:o,highValues:a,lowValues:s,closeValues:l})}return r},OhlcDataSeries.prototype.reserve=function(t){e.prototype.reserve.call(this,t),this.openValues.reserve(t),this.highValues.reserve(t),this.lowValues.reserve(t)},OhlcDataSeries.prototype.getOHLCValues=function(e){var t,r,i,n;switch(e){case f.EDataSeriesValueType.FinalAnimationValues:t=this.openFinalAnimationValues,r=this.highFinalAnimationValues,i=this.lowFinalAnimationValues,n=this.yFinalAnimationValues;break;case f.EDataSeriesValueType.InitialAnimationValues:t=this.openInitialAnimationValues,r=this.highInitialAnimationValues,i=this.lowInitialAnimationValues,n=this.yInitialAnimationValues;break;default:t=this.openValues,r=this.highValues,i=this.lowValues,n=this.yValues}return{openValues:t,highValues:r,lowValues:i,closeValues:n}},OhlcDataSeries}(h.BaseDataSeries);t.OhlcDataSeries=y},26341:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaletteFactory=void 0;var i=r(86538),n=r(13973),o=r(48053),a=r(4002),s=function(){function PaletteFactory(){}return PaletteFactory.createGradient=function(e,t,r){t.endPoint.x,t.startPoint.x,t.endPoint.y,t.startPoint.y;var o,s=PaletteFactory.createColorMap(e,t.gradientStops.slice(0)),doFunc=function(t,r,i,a){void 0===a&&(a=1);var l=o.getDataSeriesValuesCount(),u=e.NumberUtil.Constrain(Math.round(i/(l-1)*(s.length-1)),0,s.length-1),c=s[u];return(0,n.uintArgbColorMultiplyOpacity)(c,a)},l=void 0===r||(null==r?void 0:r.enableStroke)===!0,u=(null==r?void 0:r.enableFill)===!0,c=(null==r?void 0:r.enablePointMarkers)===!0;return{strokePaletteMode:a.EStrokePaletteMode.GRADIENT,fillPaletteMode:a.EFillPaletteMode.GRADIENT,onAttached:function(e){o=e},onDetached:function(){},overrideStrokeArgb:function(e,t,i){var n;return l?doFunc(e,t,i,null!==(n=null==r?void 0:r.strokeOpacity)&&void 0!==n?n:1):void 0},overrideFillArgb:function(e,t,i,n,o){var a;return u?doFunc(e,t,i,null!==(a=null==r?void 0:r.fillOpacity)&&void 0!==a?a:1):void 0},overridePointMarkerArgb:function(e,t,i,n,o){var a,s=null!==(a=null==r?void 0:r.pointMarkerOpacity)&&void 0!==a?a:1;return c?{fill:doFunc(e,t,i,s),stroke:doFunc(e,t,i,s)}:void 0},toJSON:function(){return{type:i.EPaletteProviderType.Gradient,options:t}}}},PaletteFactory.createColorMap=function(e,t){var r=[],i=t.length,n=t[0].offset,a=t[t.length-1].offset-n,s=a/(PaletteFactory.precision-1),l=(0,o.parseColorToUIntArgb)(t[0].color),u=t[0].offset,c=l,d=u;i>1&&(c=(0,o.parseColorToUIntArgb)(t[1].color),d=t[1].offset),a=d-u;for(var p=0,h=0;h<PaletteFactory.precision;++h){var f=n+h*s;f>=d&&(p++,u=d,l=c,p+1<i&&(c=(0,o.parseColorToUIntArgb)(t[p+1].color),d=t[p+1].offset),a=d-u);var y=0;if(l===c||a<=1e-11)y=c;else{var g=(f-u)/a;y=e.NumberUtil.LinearInterpolateI(l,c,g)}r.push(y)}return r},PaletteFactory.precision=500,PaletteFactory}();t.PaletteFactory=s},20405:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BasePointSeriesResampled=void 0;var o=function(e){function BasePointSeriesResampled(t,r){var i=e.call(this)||this;return i.resampled=!0,i.wasmContext=t,i.intIndexes=new t.IntVector,i.indexes=new t.SCRTDoubleVector,i.xValues=new t.SCRTDoubleVector,i.yValues=new t.SCRTDoubleVector,i.xRange=r,i}return n(BasePointSeriesResampled,e),Object.defineProperty(BasePointSeriesResampled.prototype,"count",{get:function(){return this.xValues.size()},enumerable:!1,configurable:!0}),BasePointSeriesResampled.prototype.delete=function(){this.intIndexes.delete(),this.indexes.delete(),this.xValues.delete(),this.yValues.delete(),this.wasmContext=void 0},BasePointSeriesResampled.prototype.clearIntIndexes=function(){this.intIndexes.clear()},BasePointSeriesResampled.prototype.debugOutputForUnitTests=function(){console.log("points count ".concat(this.count)),console.log("xResampled at min",this.xValues.get(0)),console.log("openResampled at min",this.yValues.get(0));var e=Math.round(this.count/2);console.log("middle",e),console.log("xResampled at middle",this.xValues.get(e)),console.log("yValues at middle",this.yValues.get(e));var t=this.count-1;console.log("xResampled at end",this.xValues.get(t)),console.log("yValues at end",this.yValues.get(t))},BasePointSeriesResampled}(r(15492).DeletableEntity);t.BasePointSeriesResampled=o},46094:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePointSeriesWrapped=void 0;var r=function(){function BasePointSeriesWrapped(e,t){this.resampled=!1,this.dataSeries=e,this.count=e.count(),this.xValues=this.dataSeries.getNativeXValues(),this.yValues=null!=t?t:this.dataSeries.getNativeYValues(),this.fifoStartIndex=e.fifoStartIndex}return Object.defineProperty(BasePointSeriesWrapped.prototype,"indexes",{get:function(){return this.indexesProperty||(this.indexesProperty=this.dataSeries.getNativeIndexes()),this.indexesProperty},enumerable:!1,configurable:!0}),BasePointSeriesWrapped}();t.BasePointSeriesWrapped=r},94745:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.HlcPointSeriesWrapped=void 0;var o=function(e){function HlcPointSeriesWrapped(t){var r=e.call(this,t)||this;return r.highValues=t.getNativeHighValues(),r.lowValues=t.getNativeLowValues(),r.closeValues=r.yValues,r}return n(HlcPointSeriesWrapped,e),HlcPointSeriesWrapped}(r(46094).BasePointSeriesWrapped);t.HlcPointSeriesWrapped=o},44897:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.OhlcPointSeriesResampled=void 0;var o=function(e){function OhlcPointSeriesResampled(t,r){var i=e.call(this,t,r)||this;return i.openValues=new t.SCRTDoubleVector,i.highValues=new t.SCRTDoubleVector,i.lowValues=new t.SCRTDoubleVector,i.closeValues=i.yValues,i}return n(OhlcPointSeriesResampled,e),OhlcPointSeriesResampled.prototype.delete=function(){this.openValues.delete(),this.highValues.delete(),this.lowValues.delete(),e.prototype.delete.call(this)},OhlcPointSeriesResampled.prototype.debugOutputForUnitTests=function(){console.log("points count ".concat(this.count)),console.log("xResampled at min",this.xValues.get(0)),console.log("openResampled at min",this.openValues.get(0)),console.log("highResampled at min",this.highValues.get(0)),console.log("lowResampled at min",this.lowValues.get(0)),console.log("closeResampled at min",this.closeValues.get(0));var e=Math.round(this.count/2);console.log("middle",e),console.log("xResampled at middle",this.xValues.get(e)),console.log("openResampled at middle",this.openValues.get(e)),console.log("highResampled at middle",this.highValues.get(e)),console.log("lowResampled at middle",this.lowValues.get(e)),console.log("closeResampled at middle",this.closeValues.get(e));var t=this.count-1;console.log("xResampled at end",this.xValues.get(t)),console.log("openResampled at end",this.openValues.get(t)),console.log("highResampled at end",this.highValues.get(t)),console.log("lowResampled at end",this.lowValues.get(t)),console.log("closeResampled at end",this.closeValues.get(t))},OhlcPointSeriesResampled}(r(20405).BasePointSeriesResampled);t.OhlcPointSeriesResampled=o},6180:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.OhlcPointSeriesWrapped=void 0;var o=function(e){function OhlcPointSeriesWrapped(t){var r=e.call(this,t)||this;return r.openValues=t.getNativeOpenValues(),r.highValues=t.getNativeHighValues(),r.lowValues=t.getNativeLowValues(),r.closeValues=r.yValues,r}return n(OhlcPointSeriesWrapped,e),OhlcPointSeriesWrapped}(r(46094).BasePointSeriesWrapped);t.OhlcPointSeriesWrapped=o},60376:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyPointSeriesResampled=void 0;var o=function(e){function XyPointSeriesResampled(t,r){return e.call(this,t,r)||this}return n(XyPointSeriesResampled,e),XyPointSeriesResampled}(r(20405).BasePointSeriesResampled);t.XyPointSeriesResampled=o},80554:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyPointSeriesWrapped=void 0;var o=function(e){function XyPointSeriesWrapped(t,r){return e.call(this,t,r)||this}return n(XyPointSeriesWrapped,e),XyPointSeriesWrapped}(r(46094).BasePointSeriesWrapped);t.XyPointSeriesWrapped=o},92060:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyyPointSeriesResampled=void 0;var o=function(e){function XyyPointSeriesResampled(t,r){var i=e.call(this,t,r)||this;return i.y1Values=new t.SCRTDoubleVector,i}return n(XyyPointSeriesResampled,e),XyyPointSeriesResampled.prototype.delete=function(){this.y1Values.delete(),e.prototype.delete.call(this)},XyyPointSeriesResampled.prototype.debugOutputForUnitTests=function(){console.log("points count ".concat(this.count)),console.log("xResampled at min",this.xValues.get(0)),console.log("yValues at min",this.yValues.get(0)),console.log("y1Values at min",this.y1Values.get(0));var e=Math.round(this.count/2);console.log("middle",e),console.log("xResampled at middle",this.xValues.get(e)),console.log("yValues at middle",this.yValues.get(e)),console.log("y1Values at middle",this.y1Values.get(e));var t=this.count-1;console.log("xResampled at end",this.xValues.get(t)),console.log("yValues at end",this.yValues.get(t)),console.log("y1Values at end",this.y1Values.get(t))},XyyPointSeriesResampled}(r(20405).BasePointSeriesResampled);t.XyyPointSeriesResampled=o},84331:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyyPointSeriesWrapped=void 0;var o=function(e){function XyyPointSeriesWrapped(t,r,i){var n=e.call(this,t,r)||this;return n.y1Values=null!=i?i:t.getNativeY1Values(),n}return n(XyyPointSeriesWrapped,e),XyyPointSeriesWrapped}(r(46094).BasePointSeriesWrapped);t.XyyPointSeriesWrapped=o},75639:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyzPointSeriesWrapped=void 0;var o=function(e){function XyzPointSeriesWrapped(t){var r=e.call(this,t)||this;return r.zValues=t.getNativeZValues(),r}return n(XyzPointSeriesWrapped,e),XyzPointSeriesWrapped}(r(46094).BasePointSeriesWrapped);t.XyzPointSeriesWrapped=o},98174:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.UniformHeatmapDataSeries=void 0;var o=r(51134),a=r(75707),s=r(3351),l=function(e){function UniformHeatmapDataSeries(t,r){var i=e.call(this,t,r)||this;return i.type=s.EDataSeriesType.HeatmapUniform,i.xStartProperty=r.xStart,i.xStepProperty=r.xStep,i.yStartProperty=r.yStart,i.yStepProperty=r.yStep,i.xRangeProperty=new o.NumberRange(i.xStart,i.getXValue(i.arrayWidth)),i.yRangeProperty=new o.NumberRange(i.yStart,i.getYValue(i.arrayHeight)),i}return n(UniformHeatmapDataSeries,e),Object.defineProperty(UniformHeatmapDataSeries.prototype,"xStart",{get:function(){return this.xStartProperty},set:function(e){this.xStartProperty=e,this.notifyDataChanged(s.EDataChangeType.Update)},enumerable:!1,configurable:!0}),Object.defineProperty(UniformHeatmapDataSeries.prototype,"xStep",{get:function(){return this.xStepProperty},set:function(e){this.xStepProperty=e,this.notifyDataChanged(s.EDataChangeType.Update)},enumerable:!1,configurable:!0}),Object.defineProperty(UniformHeatmapDataSeries.prototype,"yStart",{get:function(){return this.yStartProperty},set:function(e){this.yStartProperty=e,this.notifyDataChanged(s.EDataChangeType.Update)},enumerable:!1,configurable:!0}),Object.defineProperty(UniformHeatmapDataSeries.prototype,"yStep",{get:function(){return this.yStepProperty},set:function(e){this.yStepProperty=e,this.notifyDataChanged(s.EDataChangeType.Update)},enumerable:!1,configurable:!0}),UniformHeatmapDataSeries.prototype.getXValue=function(e){var t=this.xStep*e;return this.xStart+t},UniformHeatmapDataSeries.prototype.getYValue=function(e){var t=this.yStep*e;return this.yStart+t},UniformHeatmapDataSeries.prototype.notifyDataChanged=function(t,r){this.xRangeProperty=new o.NumberRange(this.xStart,this.getXValue(this.arrayWidth)),this.yRangeProperty=new o.NumberRange(this.yStart,this.getYValue(this.arrayHeight)),e.prototype.notifyDataChanged.call(this,t,r)},UniformHeatmapDataSeries.prototype.getOptions=function(t){return Object.assign(e.prototype.getOptions.call(this,t),{xStart:this.xStart,xStep:this.xStep,yStart:this.yStart,yStep:this.yStep})},UniformHeatmapDataSeries.prototype.getXRange=function(){return this.xRangeProperty},UniformHeatmapDataSeries.prototype.getYRange=function(){return this.yRangeProperty},UniformHeatmapDataSeries}(a.BaseHeatmapDataSeries);t.UniformHeatmapDataSeries=l},53956:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyDataSeries=void 0;var o=r(92530),a=r(17570),s=r(24714),l=r(22099),u=r(23144),c=r(3351),d=function(e){function XyDataSeries(t,r){var i=e.call(this,t,r)||this;return i.type=c.EDataSeriesType.Xy,(null==r?void 0:r.xValues)&&(o.Guard.notNull(r.yValues,"options.yValues"),i.appendRange(r.xValues,r.yValues,r.metadata),(null==r?void 0:r.fifoCapacity)&&(null==r?void 0:r.fifoStartIndex)&&(i.xValues.notifyAppend(null==r?void 0:r.fifoStartIndex),i.yValues.notifyAppend(null==r?void 0:r.fifoStartIndex))),i}return n(XyDataSeries,e),XyDataSeries.prototype.append=function(e,t,r){if(!this.getIsDeleted()){var i=this.getNativeXValues();this.dataDistributionCalculator.onAppend(this.isSorted,this.containsNaN,i,[e],[t]),this.appendMetadata(r),i.push_back(e),this.getNativeYValues().push_back(t),this.notifyDataChanged(c.EDataChangeType.Append,null,1)}},XyDataSeries.prototype.appendRange=function(e,t,r){var i;if(!this.getIsDeleted()){var n=l.PerformanceDebugHelper.mark(l.EPerformanceMarkType.DataUpdateStart,{contextId:this.id});o.Guard.isTrue((0,a.isNumberArray)(e)||(0,a.isTypedArray)(e),"xValues must be an array of numbers"),o.Guard.isTrue((0,a.isNumberArray)(t)||(0,a.isTypedArray)(t),"yValues must be an array of numbers"),o.Guard.arraysSameLength(e,"xValues",t,"yValues"),r&&(o.Guard.isTrue(Array.isArray(r),"metadata must be an array of IPointMetadata"),o.Guard.arraysSameLength(e,"xValues",r,"metadata"));var s=this.getNativeXValues(),u=this.getNativeYValues();this.dataDistributionCalculator.onAppend(this.isSorted,this.containsNaN,s,e,t),this.appendMetadataRange(r,e.length),this.doubleVectorProvider.appendArray(this.webAssemblyContext,s,e),this.doubleVectorProvider.appendArray(this.webAssemblyContext,u,t),this.notifyDataChanged(c.EDataChangeType.Append,null,e.length),l.PerformanceDebugHelper.mark(l.EPerformanceMarkType.DataUpdateEnd,{relatedId:null===(i=null==n?void 0:n.detail)||void 0===i?void 0:i.relatedId,contextId:this.id})}},XyDataSeries.prototype.update=function(e,t,r){this.getIsDeleted()||(this.validateIndex(e),this.dataDistributionCalculator.onUpdate(this.isSorted,this.containsNaN,void 0,void 0,[t],e),this.getNativeYValues().set(e,t),this.setMetadataAt(e,r),this.notifyDataChanged(c.EDataChangeType.Update,e,1))},XyDataSeries.prototype.updateXy=function(e,t,r,i){if(!this.getIsDeleted()){this.validateIndex(e);var n=this.getNativeXValues();this.dataDistributionCalculator.onUpdate(this.isSorted,this.containsNaN,n,[t],[r],e),n.set(e,t),this.getNativeYValues().set(e,r),this.setMetadataAt(e,i),this.notifyDataChanged(c.EDataChangeType.Update,e,1)}},XyDataSeries.prototype.insert=function(e,t,r,i){if(!this.getIsDeleted()){this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("insert");var n=this.getNativeXValues(),o=this.getNativeYValues();this.dataDistributionCalculator.onInsert(this.isSorted,this.containsNaN,n,[t],[r],e),n.insertAt(e,t),o.insertAt(e,r),this.insertMetadata(e,i),this.notifyDataChanged(c.EDataChangeType.Insert,e,1)}},XyDataSeries.prototype.insertRange=function(e,t,r,i){if(!this.getIsDeleted()){o.Guard.isTrue((0,a.isNumberArray)(t)||(0,a.isTypedArray)(t),"xValues must be an array of numbers"),o.Guard.isTrue((0,a.isNumberArray)(r)||(0,a.isTypedArray)(r),"yValues must be an array of numbers"),this.validateIndex(e,"Start index is out of range"),o.Guard.arraysSameLength(t,"xValues",r,"yValues"),this.throwIfFifo("insertRange"),i&&(o.Guard.isTrue(Array.isArray(i),"metadata must be an array of IPointMetadata"),o.Guard.arraysSameLength(t,"xValues",i,"metadata"));var n=this.getNativeXValues();this.dataDistributionCalculator.onInsert(this.isSorted,this.containsNaN,n,t,r,e),(0,s.insertDoubleVectorFromJsArray)(this.webAssemblyContext,t,this.getNativeXValues(),e),(0,s.insertDoubleVectorFromJsArray)(this.webAssemblyContext,r,this.getNativeYValues(),e),this.insertMetadataRange(e,i),this.notifyDataChanged(c.EDataChangeType.Insert,e,t.length)}},XyDataSeries.prototype.removeAt=function(e){this.getIsDeleted()||(this.validateIndex(e),this.throwIfFifo("removeAt"),this.getNativeXValues().removeAt(e),this.getNativeYValues().removeAt(e),this.removeMetadataAt(e),this.notifyDataChanged(c.EDataChangeType.Remove,e,1))},XyDataSeries.prototype.removeRange=function(e,t){this.getIsDeleted()||(this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("removeRange"),this.getNativeXValues().removeRange(e,t),this.getNativeYValues().removeRange(e,t),this.removeMetadataRange(e,t),this.notifyDataChanged(c.EDataChangeType.Remove,e,t))},XyDataSeries.prototype.clear=function(){this.getIsDeleted()||(e.prototype.clear.call(this),this.getNativeXValues().clear(),this.getNativeYValues().clear(),this.setMetadata(void 0),this.notifyDataChanged(c.EDataChangeType.Clear,null,null))},XyDataSeries.prototype.getOptions=function(t){void 0===t&&(t=!1);var r=e.prototype.getOptions.call(this,t);if(!t){var i=this.count(),n=Array(i),o=Array(i);if(this.fifoCapacity&&this.fifoSweeping)for(var a=0;a<i;a++)n[a]=this.xValues.getRaw(a),o[a]=this.yValues.getRaw(a);else for(var a=0;a<i;a++)n[a]=this.xValues.get(a),o[a]=this.yValues.get(a);Object.assign(r,{xValues:n,yValues:o})}return r},XyDataSeries}(u.BaseDataSeries);t.XyDataSeries=d},1604:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.XyTextDataSeries=void 0;var a=r(92530),s=r(17570),l=r(70250),u=r(24714),c=r(23144),d=r(3351),p=function(e){function XyTextDataSeries(t,r){var i=e.call(this,t,r)||this;return i.type=d.EDataSeriesType.XyText,i.textValuesProperty=[],(null==r?void 0:r.xValues)&&(a.Guard.notNull(r.yValues,"options.yValues"),i.appendRange(r.xValues,r.yValues,r.textValues,r.metadata)),i}return n(XyTextDataSeries,e),Object.defineProperty(XyTextDataSeries.prototype,"textValues",{get:function(){return this.textValuesProperty},enumerable:!1,configurable:!0}),XyTextDataSeries.prototype.getTextValue=function(e){if(!this.fifoCapacity)return this.textValuesProperty[e];if(this.fifoSweeping)return this.fifoCapacity-e<this.fifoSweepingGap?"":this.textValuesProperty[e];var t=(this.xValues.getStartIndex()+e)%this.fifoCapacity;return this.textValuesProperty[t]},XyTextDataSeries.prototype.append=function(e,t,r,i){if(!this.getIsDeleted()){var n=this.getNativeXValues();this.dataDistributionCalculator.onAppend(this.isSorted,this.containsNaN,n,[e],[t]),this.appendMetadata(i),this.fifoCapacity&&this.count()===this.fifoCapacity?this.textValuesProperty[this.xValues.getStartIndex()]=r:this.textValuesProperty.push(r),n.push_back(e),this.getNativeYValues().push_back(t),this.notifyDataChanged(d.EDataChangeType.Append,null,1)}},XyTextDataSeries.prototype.appendRange=function(e,t,r,i){var n;if(!this.getIsDeleted()){a.Guard.isTrue((0,s.isNumberArray)(e)||(0,s.isTypedArray)(e),"xValues must be an array of numbers"),a.Guard.isTrue((0,s.isNumberArray)(t)||(0,s.isTypedArray)(t),"yValues must be an array of numbers"),a.Guard.arraysSameLength(e,"xValues",t,"yValues"),i&&(a.Guard.isTrue(Array.isArray(i),"metadata must be an array of IPointMetadata"),a.Guard.arraysSameLength(e,"xValues",i,"metadata"));var o=this.getNativeXValues(),u=this.getNativeYValues();this.dataDistributionCalculator.onAppend(this.isSorted,this.containsNaN,o,e,t),this.appendMetadataRange(i,e.length),this.fifoCapacity?(0,l.appendRangeFifo)(r,this.textValuesProperty,this.fifoCapacity,this.xValues.getStartIndex()):(n=this.textValuesProperty).push.apply(n,r),this.doubleVectorProvider.appendArray(this.webAssemblyContext,o,e),this.doubleVectorProvider.appendArray(this.webAssemblyContext,u,t),this.notifyDataChanged(d.EDataChangeType.Append,null,e.length)}},XyTextDataSeries.prototype.update=function(e,t,r,i){this.getIsDeleted()||(this.validateIndex(e),this.dataDistributionCalculator.onUpdate(this.isSorted,this.containsNaN,void 0,void 0,[t],e),this.getNativeYValues().set(e,t),this.textValuesProperty[e]=r,this.setMetadataAt(e,i),this.notifyDataChanged(d.EDataChangeType.Update,e,1))},XyTextDataSeries.prototype.updateXyText=function(e,t,r,i,n){if(!this.getIsDeleted()){this.validateIndex(e);var o=this.getNativeXValues();this.dataDistributionCalculator.onUpdate(this.isSorted,this.containsNaN,o,[t],[r],e),o.set(e,t),this.getNativeYValues().set(e,r),this.textValuesProperty[e]=i,this.setMetadataAt(e,n),this.notifyDataChanged(d.EDataChangeType.Update,e,1)}},XyTextDataSeries.prototype.insert=function(e,t,r,i,n){if(!this.getIsDeleted()){this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("insert");var o=this.getNativeXValues(),a=this.getNativeYValues();this.dataDistributionCalculator.onInsert(this.isSorted,this.containsNaN,o,[t],[r],e),o.insertAt(e,t),a.insertAt(e,r),this.textValuesProperty.splice(e,0,i),this.insertMetadata(e,n),this.notifyDataChanged(d.EDataChangeType.Insert,e,1)}},XyTextDataSeries.prototype.insertRange=function(e,t,r,i,n){var l;if(!this.getIsDeleted()){a.Guard.isTrue((0,s.isNumberArray)(t)||(0,s.isTypedArray)(t),"xValues must be an array of numbers"),a.Guard.isTrue((0,s.isNumberArray)(r)||(0,s.isTypedArray)(r),"yValues must be an array of numbers"),this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("insertRange"),a.Guard.arraysSameLength(t,"xValues",r,"yValues"),n&&(a.Guard.isTrue(Array.isArray(n),"metadata must be an array of IPointMetadata"),a.Guard.arraysSameLength(t,"xValues",n,"metadata"));var c=this.getNativeXValues();this.dataDistributionCalculator.onInsert(this.isSorted,this.containsNaN,c,t,r,e),(0,u.insertDoubleVectorFromJsArray)(this.webAssemblyContext,t,this.getNativeXValues(),e),(0,u.insertDoubleVectorFromJsArray)(this.webAssemblyContext,r,this.getNativeYValues(),e),(l=this.textValuesProperty).splice.apply(l,o([e,0],i,!1)),this.insertMetadataRange(e,n),this.notifyDataChanged(d.EDataChangeType.Insert,e,t.length)}},XyTextDataSeries.prototype.removeAt=function(e){this.getIsDeleted()||(this.validateIndex(e),this.throwIfFifo("removeAt"),this.getNativeXValues().removeAt(e),this.getNativeYValues().removeAt(e),this.textValuesProperty.splice(e,1),this.removeMetadataAt(e),this.notifyDataChanged(d.EDataChangeType.Remove,e,1))},XyTextDataSeries.prototype.removeRange=function(e,t){this.getIsDeleted()||(this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("removeRange"),this.getNativeXValues().removeRange(e,t),this.getNativeYValues().removeRange(e,t),this.textValuesProperty.splice(e,t),this.removeMetadataRange(e,t),this.notifyDataChanged(d.EDataChangeType.Remove,e,t))},XyTextDataSeries.prototype.clear=function(){this.getIsDeleted()||(e.prototype.clear.call(this),this.getNativeXValues().clear(),this.getNativeYValues().clear(),this.textValuesProperty=[],this.setMetadata(void 0),this.notifyDataChanged(d.EDataChangeType.Clear,null,null))},XyTextDataSeries.prototype.getOptions=function(t){void 0===t&&(t=!1);var r=e.prototype.getOptions.call(this);if(!t){for(var i=this.count(),n=Array(i),o=Array(i),a=0;a<i;a++)n[a]=this.xValues.get(a),o[a]=this.yValues.get(a);Object.assign(r,{xValues:n,yValues:o,textValues:this.textValuesProperty})}return r},XyTextDataSeries}(c.BaseDataSeries);t.XyTextDataSeries=p},57994:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyyDataSeries=void 0;var o=r(94694),a=r(92530),s=r(51134),l=r(17570),u=r(96565),c=r(60717),d=r(24714),p=r(51877),h=r(36072),f=r(23144),y=r(3351),g=function(e){function XyyDataSeries(t,r){var i=e.call(this,t,r)||this;return i.type=y.EDataSeriesType.Xyy,i.y1Values=i.doubleVectorProvider.getDoubleVector(t),(null==r?void 0:r.xValues)&&(a.Guard.notNull(r.yValues,"options.yValues"),a.Guard.notNull(r.y1Values,"options.y1Values"),i.appendRange(r.xValues,r.yValues,r.y1Values,r.metadata),(null==r?void 0:r.fifoCapacity)&&(null==r?void 0:r.fifoStartIndex)&&(i.xValues.notifyAppend(null==r?void 0:r.fifoStartIndex),i.yValues.notifyAppend(null==r?void 0:r.fifoStartIndex),i.y1Values.notifyAppend(null==r?void 0:r.fifoStartIndex))),i}return n(XyyDataSeries,e),XyyDataSeries.prototype.getNativeY1Values=function(){return this.y1Values},XyyDataSeries.prototype.append=function(e,t,r,i){if(!this.getIsDeleted()){var n=this.getNativeXValues();this.dataDistributionCalculator.onAppend(this.isSorted,this.containsNaN,n,[e],[t]),this.appendMetadata(i),n.push_back(e),this.getNativeYValues().push_back(t),this.getNativeY1Values().push_back(r),this.notifyDataChanged(y.EDataChangeType.Append,null,1)}},XyyDataSeries.prototype.appendRange=function(e,t,r,i){if(!this.getIsDeleted()){a.Guard.isTrue((0,l.isNumberArray)(e)||(0,l.isTypedArray)(e),"xValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(t)||(0,l.isTypedArray)(t),"yValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(r)||(0,l.isTypedArray)(r),"y1Values must be an array of numbers"),a.Guard.arraysSameLengthArr([{arg:e,name:"xValues"},{arg:t,name:"yValues"},{arg:r,name:"y1Values"}]),i&&(a.Guard.isTrue(Array.isArray(i),"metadata must be an array of IPointMetadata"),a.Guard.arraysSameLength(e,"xValues",i,"metadata"));var n=this.getNativeXValues(),o=this.getNativeYValues(),s=this.getNativeY1Values();this.dataDistributionCalculator.onAppend(this.isSorted,this.containsNaN,n,e,t),this.appendMetadataRange(i,e.length),this.doubleVectorProvider.appendArray(this.webAssemblyContext,n,e),this.doubleVectorProvider.appendArray(this.webAssemblyContext,o,t),this.doubleVectorProvider.appendArray(this.webAssemblyContext,s,r),this.notifyDataChanged(y.EDataChangeType.Append,null,e.length)}},XyyDataSeries.prototype.update=function(e,t,r,i){this.getIsDeleted()||(this.validateIndex(e),this.dataDistributionCalculator.onUpdate(this.isSorted,this.containsNaN,void 0,void 0,[t],e),this.getNativeYValues().set(e,t),this.getNativeY1Values().set(e,r),this.setMetadataAt(e,i),this.notifyDataChanged(y.EDataChangeType.Update,e,1))},XyyDataSeries.prototype.updateXyy1=function(e,t,r,i,n){if(!this.getIsDeleted()){this.validateIndex(e);var o=this.getNativeXValues();this.dataDistributionCalculator.onUpdate(this.isSorted,this.containsNaN,o,[t],[r],e),o.set(e,t),this.getNativeYValues().set(e,r),this.getNativeY1Values().set(e,i),this.setMetadataAt(e,n),this.notifyDataChanged(y.EDataChangeType.Update,e,1)}},XyyDataSeries.prototype.insert=function(e,t,r,i,n){if(!this.getIsDeleted()){this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("insert");var o=this.getNativeXValues(),a=this.getNativeYValues(),s=this.getNativeY1Values();this.dataDistributionCalculator.onInsert(this.isSorted,this.containsNaN,o,[t],[r],e),o.insertAt(e,t),a.insertAt(e,r),s.insertAt(e,i),this.insertMetadata(e,n),this.notifyDataChanged(y.EDataChangeType.Insert,e,1)}},XyyDataSeries.prototype.insertRange=function(e,t,r,i,n){if(!this.getIsDeleted()){a.Guard.isTrue((0,l.isNumberArray)(t)||(0,l.isTypedArray)(t),"xValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(r)||(0,l.isTypedArray)(r),"yValues must be an array of numbers"),a.Guard.isTrue((0,l.isNumberArray)(i)||(0,l.isTypedArray)(i),"y1Values must be an array of numbers"),this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("insertRange"),a.Guard.arraysSameLengthArr([{arg:t,name:"xValues"},{arg:r,name:"yValues"},{arg:i,name:"y1Values"}]),n&&(a.Guard.isTrue(Array.isArray(n),"metadata must be an array of IPointMetadata"),a.Guard.arraysSameLength(t,"xValues",n,"metadata"));var o=this.getNativeXValues();this.dataDistributionCalculator.onInsert(this.isSorted,this.containsNaN,o,t,r,e),(0,d.insertDoubleVectorFromJsArray)(this.webAssemblyContext,t,o,e),(0,d.insertDoubleVectorFromJsArray)(this.webAssemblyContext,r,this.getNativeYValues(),e),(0,d.insertDoubleVectorFromJsArray)(this.webAssemblyContext,i,this.getNativeY1Values(),e),this.insertMetadataRange(e,n),this.notifyDataChanged(y.EDataChangeType.Insert,e,t.length)}},XyyDataSeries.prototype.removeAt=function(e){this.getIsDeleted()||(this.validateIndex(e),this.throwIfFifo("removeAt"),this.getNativeXValues().removeAt(e),this.getNativeYValues().removeAt(e),this.getNativeY1Values().removeAt(e),this.removeMetadataAt(e),this.notifyDataChanged(y.EDataChangeType.Remove,e,1))},XyyDataSeries.prototype.removeRange=function(e,t){this.getIsDeleted()||(this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("removeRange"),this.getNativeXValues().removeRange(e,t),this.getNativeYValues().removeRange(e,t),this.getNativeY1Values().removeRange(e,t),this.removeMetadataRange(e,t),this.notifyDataChanged(y.EDataChangeType.Remove,e,t))},XyyDataSeries.prototype.clear=function(){this.getIsDeleted()||(e.prototype.clear.call(this),this.getNativeXValues().clear(),this.getNativeYValues().clear(),this.getNativeY1Values().clear(),this.setMetadata(void 0),this.notifyDataChanged(y.EDataChangeType.Clear,null,null))},XyyDataSeries.prototype.getWindowedYRange=function(e,t,r,i,n){void 0===r&&(r=!1),void 0===i&&(i=y.EDataSeriesValueType.Default),void 0===n&&(n=c.EYRangeMode.Visible);var a,l,d=this.getYY1Values(i),h=d.yValues,f=d.y1Values;if(1===this.count()){var g=Math.min(h.get(0),f.get(0)),v=Math.max(h.get(0),f.get(0));return new s.NumberRange(g,v)}var m=r?e:this.getIndicesRange(e,!1,n===c.EYRangeMode.Visible?u.ESearchMode.RoundUp:u.ESearchMode.RoundDown,n===c.EYRangeMode.Visible?u.ESearchMode.RoundDown:u.ESearchMode.RoundUp),S=Math.max(Math.floor(m.min),0),b=Math.min(Math.ceil(m.max),this.count()-1);if(!(b<S))try{if(a=this.webAssemblyContext.NumberUtil.MinMaxWithIndex(h,S,b-S+1),!(0,p.isRealNumber)(a.minD)||!(0,p.isRealNumber)(a.maxD)||(l=this.webAssemblyContext.NumberUtil.MinMaxWithIndex(f,S,b-S+1),!(0,p.isRealNumber)(l.minD)||!(0,p.isRealNumber)(l.maxD)))return;return new s.NumberRange(Math.min(a.minD,l.minD),Math.max(a.maxD,l.maxD))}finally{(0,o.deleteSafe)(a),(0,o.deleteSafe)(l)}},XyyDataSeries.prototype.delete=function(){this.y1Values=(0,o.deleteSafe)(this.y1Values),this.y1InitialAnimationValues=(0,o.deleteSafe)(this.y1InitialAnimationValues),this.y1FinalAnimationValues=(0,o.deleteSafe)(this.y1FinalAnimationValues),e.prototype.delete.call(this)},XyyDataSeries.prototype.createAnimationVectors=function(){e.prototype.createAnimationVectors.call(this),this.y1InitialAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.y1FinalAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext)},XyyDataSeries.prototype.setInitialAnimationVectors=function(t){if(e.prototype.setInitialAnimationVectors.call(this,t),!t){this.y1InitialAnimationValues.resize(0,0);return}h.animationHelpers.copyVector(t.getNativeY1Values(),this.y1InitialAnimationValues)},XyyDataSeries.prototype.setFinalAnimationVectors=function(t){if(e.prototype.setFinalAnimationVectors.call(this,t),!t){this.y1FinalAnimationValues.resize(0,0);return}h.animationHelpers.copyVector(t.getNativeY1Values(),this.y1FinalAnimationValues)},XyyDataSeries.prototype.validateAnimationVectors=function(){e.prototype.validateAnimationVectors.call(this);var t=this.xInitialAnimationValues.size();if(t!==this.y1InitialAnimationValues.size()||t!==this.y1FinalAnimationValues.size())throw Error("initialAnimationValues and finalAnimationValues must have the same length")},XyyDataSeries.prototype.updateAnimationProperties=function(t,r){e.prototype.updateAnimationProperties.call(this,t,r),r.isOnStartAnimation?r.calculateAnimationValues(this.webAssemblyContext,this.y1FinalAnimationValues,this.getNativeY1Values(),t):r.isDataSeriesAnimation&&r.calculateDataSeriesAnimationValues(this.webAssemblyContext,this.y1InitialAnimationValues,this.y1FinalAnimationValues,this.getNativeY1Values(),t)},XyyDataSeries.prototype.getOptions=function(t){void 0===t&&(t=!1);var r=e.prototype.getOptions.call(this,t);if(!t){var i=this.count(),n=Array(i),o=Array(i),a=Array(i);if(this.fifoCapacity&&this.fifoSweeping)for(var s=0;s<i;s++)n[s]=this.xValues.getRaw(s),o[s]=this.yValues.getRaw(s),a[s]=this.y1Values.getRaw(s);else for(var s=0;s<i;s++)n[s]=this.xValues.get(s),o[s]=this.yValues.get(s),a[s]=this.y1Values.get(s);Object.assign(r,{xValues:n,yValues:o,y1Values:a})}return r},XyyDataSeries.prototype.reserve=function(t){e.prototype.reserve.call(this,t),this.y1Values.reserve(t)},XyyDataSeries.prototype.getYY1Values=function(e){var t,r;switch(e){case y.EDataSeriesValueType.FinalAnimationValues:t=this.yFinalAnimationValues,r=this.y1FinalAnimationValues;break;case y.EDataSeriesValueType.InitialAnimationValues:t=this.yInitialAnimationValues,r=this.y1InitialAnimationValues;break;default:t=this.yValues,r=this.y1Values}return{yValues:t,y1Values:r}},XyyDataSeries}(f.BaseDataSeries);t.XyyDataSeries=g},90229:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyzDataSeries=void 0;var o=r(94694),a=r(92530),s=r(17570),l=r(24714),u=r(36072),c=r(23144),d=r(3351),p=function(e){function XyzDataSeries(t,r){var i=e.call(this,t,r)||this;return i.type=d.EDataSeriesType.Xyz,i.zValues=i.doubleVectorProvider.getDoubleVector(t),(null==r?void 0:r.xValues)&&(a.Guard.notNull(r.yValues,"options.yValues"),a.Guard.notNull(r.zValues,"options.zValues"),i.appendRange(r.xValues,r.yValues,r.zValues,r.metadata),(null==r?void 0:r.fifoCapacity)&&(null==r?void 0:r.fifoStartIndex)&&(i.xValues.notifyAppend(null==r?void 0:r.fifoStartIndex),i.yValues.notifyAppend(null==r?void 0:r.fifoStartIndex),i.zValues.notifyAppend(null==r?void 0:r.fifoStartIndex))),i}return n(XyzDataSeries,e),XyzDataSeries.prototype.getNativeZValues=function(){return this.zValues},XyzDataSeries.prototype.append=function(e,t,r,i){if(!this.getIsDeleted()){var n=this.getNativeXValues();this.dataDistributionCalculator.onAppend(this.isSorted,this.containsNaN,n,[e],[t]),this.appendMetadata(i),n.push_back(e),this.getNativeYValues().push_back(t),this.getNativeZValues().push_back(r),this.notifyDataChanged(d.EDataChangeType.Append,null,1)}},XyzDataSeries.prototype.appendRange=function(e,t,r,i){if(!this.getIsDeleted()){a.Guard.isTrue((0,s.isNumberArray)(e)||(0,s.isTypedArray)(e),"xValues must be an array of numbers"),a.Guard.isTrue((0,s.isNumberArray)(t)||(0,s.isTypedArray)(t),"yValues must be an array of numbers"),a.Guard.isTrue((0,s.isNumberArray)(r)||(0,s.isTypedArray)(r),"zValues must be an array of numbers"),a.Guard.arraysSameLengthArr([{arg:e,name:"xValues"},{arg:t,name:"yValues"},{arg:r,name:"zValues"}]),i&&(a.Guard.isTrue(Array.isArray(i),"metadata must be an array of IPointMetadata"),a.Guard.arraysSameLength(e,"xValues",i,"metadata"));var n=this.getNativeXValues(),o=this.getNativeYValues(),l=this.getNativeZValues();this.dataDistributionCalculator.onAppend(this.isSorted,this.containsNaN,n,e,t),this.appendMetadataRange(i,e.length),this.doubleVectorProvider.appendArray(this.webAssemblyContext,n,e),this.doubleVectorProvider.appendArray(this.webAssemblyContext,o,t),this.doubleVectorProvider.appendArray(this.webAssemblyContext,l,r),this.notifyDataChanged(d.EDataChangeType.Append,null,e.length)}},XyzDataSeries.prototype.update=function(e,t,r,i){this.getIsDeleted()||(this.validateIndex(e),this.dataDistributionCalculator.onUpdate(this.isSorted,this.containsNaN,void 0,void 0,[t],e),this.getNativeYValues().set(e,t),this.getNativeZValues().set(e,r),this.setMetadataAt(e,i),this.notifyDataChanged(d.EDataChangeType.Update,e,1))},XyzDataSeries.prototype.updateXyz=function(e,t,r,i,n){if(!this.getIsDeleted()){this.validateIndex(e);var o=this.getNativeXValues();this.dataDistributionCalculator.onUpdate(this.isSorted,this.containsNaN,o,[t],[r],e),o.set(e,t),this.getNativeYValues().set(e,r),this.getNativeZValues().set(e,i),this.setMetadataAt(e,n),this.notifyDataChanged(d.EDataChangeType.Update,e,1)}},XyzDataSeries.prototype.insert=function(e,t,r,i,n){if(!this.getIsDeleted()){this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("insert");var o=this.getNativeXValues(),a=this.getNativeYValues(),s=this.getNativeZValues();this.dataDistributionCalculator.onInsert(this.isSorted,this.containsNaN,o,[t],[r],e),o.insertAt(e,t),a.insertAt(e,r),s.insertAt(e,i),this.insertMetadata(e,n),this.notifyDataChanged(d.EDataChangeType.Insert,e,1)}},XyzDataSeries.prototype.insertRange=function(e,t,r,i,n){if(!this.getIsDeleted()){a.Guard.isTrue((0,s.isNumberArray)(t)||(0,s.isTypedArray)(t),"xValues must be an array of numbers"),a.Guard.isTrue((0,s.isNumberArray)(r)||(0,s.isTypedArray)(r),"yValues must be an array of numbers"),a.Guard.isTrue((0,s.isNumberArray)(i)||(0,s.isTypedArray)(i),"zValues must be an array of numbers"),this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("insertRange"),a.Guard.arraysSameLengthArr([{arg:t,name:"xValues"},{arg:r,name:"yValues"},{arg:i,name:"zValues"}]),n&&(a.Guard.isTrue(Array.isArray(n),"metadata must be an array of IPointMetadata"),a.Guard.arraysSameLength(t,"xValues",n,"metadata"));var o=this.getNativeXValues();this.dataDistributionCalculator.onInsert(this.isSorted,this.containsNaN,o,t,r,e),(0,l.insertDoubleVectorFromJsArray)(this.webAssemblyContext,t,o,e),(0,l.insertDoubleVectorFromJsArray)(this.webAssemblyContext,r,this.getNativeYValues(),e),(0,l.insertDoubleVectorFromJsArray)(this.webAssemblyContext,i,this.getNativeZValues(),e),this.insertMetadataRange(e,n),this.notifyDataChanged(d.EDataChangeType.Insert,e,t.length)}},XyzDataSeries.prototype.removeAt=function(e){this.getIsDeleted()||(this.validateIndex(e),this.throwIfFifo("removeAt"),this.getNativeXValues().removeAt(e),this.getNativeYValues().removeAt(e),this.getNativeZValues().removeAt(e),this.removeMetadataAt(e),this.notifyDataChanged(d.EDataChangeType.Remove,e,1))},XyzDataSeries.prototype.removeRange=function(e,t){this.getIsDeleted()||(this.validateIndex(e,"Start index is out of range"),this.throwIfFifo("removeRange"),this.getNativeXValues().removeRange(e,t),this.getNativeYValues().removeRange(e,t),this.getNativeZValues().removeRange(e,t),this.removeMetadataRange(e,t),this.notifyDataChanged(d.EDataChangeType.Remove,e,t))},XyzDataSeries.prototype.clear=function(){this.getIsDeleted()||(e.prototype.clear.call(this),this.getNativeXValues().clear(),this.getNativeYValues().clear(),this.getNativeZValues().clear(),this.setMetadata(void 0),this.notifyDataChanged(d.EDataChangeType.Clear,null,null))},XyzDataSeries.prototype.delete=function(){this.zValues=(0,o.deleteSafe)(this.zValues),this.zInitialAnimationValues=(0,o.deleteSafe)(this.zInitialAnimationValues),this.zFinalAnimationValues=(0,o.deleteSafe)(this.zFinalAnimationValues),e.prototype.delete.call(this)},XyzDataSeries.prototype.createAnimationVectors=function(){e.prototype.createAnimationVectors.call(this),this.zInitialAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext),this.zFinalAnimationValues=this.doubleVectorProvider.getDoubleVector(this.webAssemblyContext)},XyzDataSeries.prototype.setInitialAnimationVectors=function(t){if(e.prototype.setInitialAnimationVectors.call(this,t),!t){this.zInitialAnimationValues.resize(0,0);return}u.animationHelpers.copyVector(t.getNativeZValues(),this.zInitialAnimationValues)},XyzDataSeries.prototype.setFinalAnimationVectors=function(t){if(e.prototype.setFinalAnimationVectors.call(this,t),!t){this.zFinalAnimationValues.resize(0,0);return}u.animationHelpers.copyVector(t.getNativeZValues(),this.zFinalAnimationValues)},XyzDataSeries.prototype.validateAnimationVectors=function(){e.prototype.validateAnimationVectors.call(this);var t=this.xInitialAnimationValues.size();if(t!==this.zInitialAnimationValues.size()||t!==this.zFinalAnimationValues.size())throw Error("initialAnimationValues and finalAnimationValues must have the same length")},XyzDataSeries.prototype.updateAnimationProperties=function(t,r){e.prototype.updateAnimationProperties.call(this,t,r),r.isOnStartAnimation?r.calculateAnimationValues(this.webAssemblyContext,this.zFinalAnimationValues,this.getNativeZValues(),t,!0):r.isDataSeriesAnimation&&r.calculateDataSeriesAnimationValues(this.webAssemblyContext,this.zInitialAnimationValues,this.zFinalAnimationValues,this.getNativeZValues(),t)},XyzDataSeries.prototype.getOptions=function(t){void 0===t&&(t=!1);var r=e.prototype.getOptions.call(this,t);if(!t){var i=this.count(),n=Array(i),o=Array(i),a=Array(i);if(this.fifoCapacity&&this.fifoSweeping)for(var s=0;s<i;s++)n[s]=this.xValues.getRaw(s),o[s]=this.yValues.getRaw(s),a[s]=this.zValues.getRaw(s);else for(var s=0;s<i;s++)n[s]=this.xValues.get(s),o[s]=this.yValues.get(s),a[s]=this.zValues.get(s);Object.assign(r,{xValues:n,yValues:o,zValues:a})}return r},XyzDataSeries.prototype.reserve=function(t){e.prototype.reserve.call(this,t),this.zValues.reserve(t)},XyzDataSeries.prototype.getYZValues=function(e){var t,r;switch(e){case d.EDataSeriesValueType.FinalAnimationValues:t=this.yFinalAnimationValues,r=this.zFinalAnimationValues;break;case d.EDataSeriesValueType.InitialAnimationValues:t=this.yInitialAnimationValues,r=this.zInitialAnimationValues;break;default:t=this.yValues,r=this.zValues}return{yValues:t,zValues:r}},XyzDataSeries}(c.BaseDataSeries);t.XyzDataSeries=p},99102:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryCoordinateCalculator=void 0;var o=function(e){function CategoryCoordinateCalculator(t,r,i,n,o){void 0===o&&(o=0);var a=e.call(this,t,r,i,n,o,!0,!0)||this;return a.indexMin=i,a.indexMax=n,a.nativeCalculator=new t.CategoryCoordinateCalculatorDouble(a.viewportDimension,a.visibleMin,a.visibleMax,-1,a.offset,a.indexMin,a.indexMax),a}return n(CategoryCoordinateCalculator,e),CategoryCoordinateCalculator.prototype.transformIndexToData=function(e){return this.nativeCalculator.TransformIndexToData(e,this.baseXValues)},CategoryCoordinateCalculator.prototype.transformDataToIndex=function(e){return this.nativeCalculator.TransformDataToIndex(e,this.baseXValues)},CategoryCoordinateCalculator}(r(96724).CoordinateCalculatorBase);t.CategoryCoordinateCalculator=o},96724:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CoordinateCalculatorBase=void 0;var o=r(15492),a=r(51134),s=function(e){function CoordinateCalculatorBase(t,r,i,n,o,a,s){void 0===s&&(s=!1);var l=e.call(this)||this;return l.webAssemblyContext=t,l.visibleMax=n,l.visibleMin=i,l.viewportDimension=r,l.offset=o,l.hasFlippedCoordinates=a,l.isCategoryCoordinateCalculator=s,l}return n(CoordinateCalculatorBase,e),CoordinateCalculatorBase.prototype.getCoordinate=function(e){return this.nativeCalculator.GetCoordinate(e)},CoordinateCalculatorBase.prototype.getDataValue=function(e){return this.nativeCalculator.GetDataValue(e)},CoordinateCalculatorBase.prototype.translateBy=function(e,t){var r=this.getDataValue(e)-this.getDataValue(0);return this.hasFlippedCoordinates&&(r=-r),new a.NumberRange(t.min+r,t.max+r)},CoordinateCalculatorBase.prototype.zoomTranslateBy=function(e,t,r){return r.growBy(new a.NumberRange(e,t))},CoordinateCalculatorBase.prototype.delete=function(){var e;null===(e=this.nativeCalculator)||void 0===e||e.delete(),this.nativeCalculator=void 0,this.webAssemblyContext=void 0},CoordinateCalculatorBase}(o.DeletableEntity);t.CoordinateCalculatorBase=s},79453:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.FlippedCategoryCoordinateCalculator=void 0;var o=function(e){function FlippedCategoryCoordinateCalculator(t,r,i,n,o){void 0===o&&(o=0);var a=e.call(this,t,r,i,n,o,!1,!0)||this;return a.indexMin=i,a.indexMax=n,a.nativeCalculator=new t.FlippedCategoryCoordinateCalculatorDouble(a.viewportDimension,a.visibleMin,a.visibleMax,-1,a.offset,a.indexMin,a.indexMax),a}return n(FlippedCategoryCoordinateCalculator,e),FlippedCategoryCoordinateCalculator.prototype.transformIndexToData=function(e){return this.nativeCalculator.TransformIndexToData(e,this.baseXValues)},FlippedCategoryCoordinateCalculator.prototype.transformDataToIndex=function(e){return this.nativeCalculator.TransformDataToIndex(e,this.baseXValues)},FlippedCategoryCoordinateCalculator}(r(96724).CoordinateCalculatorBase);t.FlippedCategoryCoordinateCalculator=o},51295:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.FlippedNumericCoordinateCalculator=void 0;var o=function(e){function FlippedNumericCoordinateCalculator(t,r,i,n,o,a){void 0===o&&(o=0),void 0===a&&(a=!1);var s=e.call(this,t,r,i,n,o,!0)||this;return s.nativeCalculator=a?new t.FlippedLinearCoordinateCalculatorSingle(s.viewportDimension,s.visibleMin,s.visibleMax,-1,s.offset):new t.FlippedLinearCoordinateCalculatorDouble(s.viewportDimension,s.visibleMin,s.visibleMax,-1,s.offset),s}return n(FlippedNumericCoordinateCalculator,e),FlippedNumericCoordinateCalculator}(r(96724).CoordinateCalculatorBase);t.FlippedNumericCoordinateCalculator=o},10600:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LogarithmicCoordinateCalculator=void 0;var o=r(51134),a=r(24510),s=function(e){function LogarithmicCoordinateCalculator(t,r,i,n,o,s,l,u){void 0===u&&(u=0);var c=this;return a.EXyDirection.XDirection,(c=e.call(this,t,r,i,n,u,l)||this).logBaseProperty=s,c.nativeCalculator=l?new t.FlippedLogarithmicCoordinateCalculator(c.viewportDimension,c.visibleMin,c.visibleMax,-1,c.offset,c.logBase):new t.LogarithmicCoordinateCalculator(c.viewportDimension,c.visibleMin,c.visibleMax,-1,c.offset,c.logBase),c}return n(LogarithmicCoordinateCalculator,e),Object.defineProperty(LogarithmicCoordinateCalculator.prototype,"logBase",{get:function(){return this.logBaseProperty},enumerable:!1,configurable:!0}),LogarithmicCoordinateCalculator.prototype.translateBy=function(e,t){if(0===e)return t;var r=Math.abs(this.nativeCalculator.GetDataValue(0)),i=Math.abs(this.nativeCalculator.GetDataValue(e)),n=this.webAssemblyContext.NumberUtil,a=t.min<0;a&&(t=new o.NumberRange(Math.abs(t.max),Math.abs(t.min)));var s=n.Log(i,this.logBase)-n.Log(r,this.logBase);this.hasFlippedCoordinates&&(s=-s);var l=n.Log(t.min,this.logBase),u=n.Log(t.max,this.logBase),c=Math.pow(this.logBase,l+s),d=Math.pow(this.logBase,u+s);return a?new o.NumberRange(-d,-c):new o.NumberRange(c,d)},LogarithmicCoordinateCalculator.prototype.zoomTranslateBy=function(e,t,r){return r.growByLog(new o.NumberRange(e,t),this.logBase)},LogarithmicCoordinateCalculator}(r(96724).CoordinateCalculatorBase);t.LogarithmicCoordinateCalculator=s},24184:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.NumericCoordinateCalculator=void 0;var o=function(e){function NumericCoordinateCalculator(t,r,i,n,o,a){void 0===o&&(o=0),void 0===a&&(a=!1);var s=e.call(this,t,r,i,n,o,!1)||this;return s.nativeCalculator=a?new t.LinearCoordinateCalculatorSingle(s.viewportDimension,s.visibleMin,s.visibleMax,-1,s.offset):new t.LinearCoordinateCalculatorDouble(s.viewportDimension,s.visibleMin,s.visibleMax,-1,s.offset),s}return n(NumericCoordinateCalculator,e),NumericCoordinateCalculator}(r(96724).CoordinateCalculatorBase);t.NumericCoordinateCalculator=o},25145:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ExtremeResamplerHelper=void 0;var o=r(15492),a=r(94694),s=r(92530),l=r(99740),u=function(e){function ExtremeResamplerHelper(t){var r=e.call(this)||this;return r.isDeleted=!1,r.nativeMergeIndexParams=new t.SCRTDoubleResamplerMergeIndicesParams,r.wasmContext=t,r.nativeResampler=new r.wasmContext.SCRTDoubleResampler,r.xInput=new r.wasmContext.SCRTXvaluesProvider,r.nativeArgs=new r.wasmContext.ResamplingArgs,r.output=new r.wasmContext.SCRTDoubleArraysXyResampleOutput,r}return n(ExtremeResamplerHelper,e),ExtremeResamplerHelper.prototype.needsResampling=function(e,t,r,i){void 0===r&&(r=!0),void 0===i&&(i=!1),r&&this.resetAndFillBasicNativeArgs(e,t);var n=this.nativeResampler.RequiresReduction(this.nativeArgs),o=e.dataIsFifo||n;return(i&&!o||o&&!n)&&(this.nativeArgs.Resampling=this.getNativeResamplingMode(l.EResamplingMode.None)),o},ExtremeResamplerHelper.prototype.resampleIntoPointSeries=function(e,t,r,i,n,o,a,l,u){if(void 0===u&&(u=!0),this.isDeleted)throw Error("should not call resampleIntoPointSeries() if deleted");s.Guard.notNull(r,"xDataValues"),s.Guard.notNull(i,"yDataValues"),s.Guard.notNull(r,"xOriginalValues"),s.Guard.notNull(i,"yOriginalValues"),s.Guard.notNull(t,"resamplingParams"),u&&this.resetAndFillBasicNativeArgs(t,r),this.xInput.SetInput(r),this.nativeArgs.ResamplingPrecision=t.precision,this.nativeArgs.ZeroLineY=t.zeroLineY,this.nativeArgs.NewDataPointCount=-1,!0===u&&this.needsResampling(t,r,!1,!0);var c=this.nativeResampler.UpdateIndices(n,this.xInput,i,this.nativeArgs.Resampling,this.nativeArgs);o&&o.resizeFast(c+1),a.resizeFast(c+1),l.resizeFast(c+1),o?this.output.ResetWithIndices(o,a,l):this.output.Reset(a,l),this.nativeResampler.Execute(this.xInput,i,this.output,n,this.nativeArgs.Resampling,this.nativeArgs);var d=n.size();return o&&o.resizeFast(d),a.resizeFast(d),l.resizeFast(d),{OutputSplitIndex:this.output.OutputSplitIndex||this.nativeArgs.OutputSplitIndex}},ExtremeResamplerHelper.prototype.mergeIndexes=function(e,t,r,i){return this.nativeResampler.MergeIndices(e,t,r,i)},ExtremeResamplerHelper.prototype.copyValuesByIndexes=function(e,t,r,i,n,o,a,s,l,u,c,d){void 0===d&&(d=0);var p=this.nativeMergeIndexParams;p.SetIndices(e),p.SetXInput(t),p.SetYInput(r),p.SetY1Input(i),p.SetY1Offset(d),p.count=n,p.isCategoryData=o,p.isFifoSweeping=a,p.SetIndicesOut(s),p.SetXOut(l),p.SetYOut(u),p.SetY1Out(c),this.nativeResampler.CopyValuesByIndices(p)},ExtremeResamplerHelper.prototype.delete=function(){this.isDeleted||((0,a.deleteSafe)(this.nativeResampler),(0,a.deleteSafe)(this.xInput),(0,a.deleteSafe)(this.nativeArgs),(0,a.deleteSafe)(this.output),(0,a.deleteSafe)(this.nativeMergeIndexParams),this.isDeleted=!0,this.wasmContext=void 0)},ExtremeResamplerHelper.prototype.getNativeResamplingMode=function(e){switch(e){case l.EResamplingMode.Auto:return this.wasmContext.ResamplingMode.Auto;case l.EResamplingMode.Max:return this.wasmContext.ResamplingMode.Max;case l.EResamplingMode.Mid:return this.wasmContext.ResamplingMode.Mid;case l.EResamplingMode.Min:return this.wasmContext.ResamplingMode.Min;case l.EResamplingMode.MinMax:return this.wasmContext.ResamplingMode.MinMax;case l.EResamplingMode.MinOrMax:return this.wasmContext.ResamplingMode.MinOrMax;case l.EResamplingMode.None:return this.wasmContext.ResamplingMode.None;default:throw Error("Unknown resamplingMode ".concat(e))}},ExtremeResamplerHelper.prototype.resetAndFillBasicNativeArgs=function(e,t){if(this.nativeArgs.Reset(),this.nativeArgs.Data=this.getDataDistribution(e.dataEvenlySpaced,e.isCategoryAxis),this.nativeArgs.StartIndex=e.indexesRange.min,this.nativeArgs.EndIndex=e.indexesRange.max,this.nativeArgs.MaxXInclusive=e.xVisibleRange.max,this.nativeArgs.MinXInclusive=e.xVisibleRange.min,this.nativeArgs.Resampling=this.getNativeResamplingMode(e.resamplingMode),this.nativeArgs.ViewportWidth=e.viewportRect.width,this.nativeArgs.FifoCapacity=e.fifoCapacity||0,this.nativeArgs.HasNaN=e.dataHasNaN,this.nativeArgs.IsFifo=e.dataIsFifo,this.nativeArgs.InputBaseIndex=e.fifoStartIndex||0,e.isCategoryAxis)this.nativeArgs.MinXInclusive=e.indexesRange.min,this.nativeArgs.MaxXInclusive=e.indexesRange.max;else if(e.fifoCapacity&&!e.dataIsFifo){var r=t.getRaw(e.indexesRange.min),i=t.getRaw(e.indexesRange.max);this.nativeArgs.MinXInclusive=Math.max(r,e.xVisibleRange.min),this.nativeArgs.MaxXInclusive=Math.min(i,e.xVisibleRange.max)}else{var r=t.get(e.indexesRange.min),i=t.get(e.indexesRange.max);this.nativeArgs.MinXInclusive=Math.max(r,e.xVisibleRange.min),this.nativeArgs.MaxXInclusive=Math.min(i,e.xVisibleRange.max)}},ExtremeResamplerHelper.prototype.debugParameters=function(e,t){console.log(31415),console.log("ResamplingParams:"),console.log(".. zeroLineY: ".concat(e.zeroLineY)),console.log(".. resamplingPrecision: ".concat(e.precision)),console.log(".. xVisibleRange: ".concat(e.xVisibleRange)),console.log(".. indicesRange: ".concat(e.indexesRange)),console.log(".. viewportRect: ".concat(this.debugRect(e.viewportRect))),console.log(".. isCategoryAxis: ".concat(e.isCategoryAxis)),console.log(".. isXAxisAutoRanged: ".concat(e.isXAxisAutoRanged)),console.log(".. resamplingMode: ".concat(e.resamplingMode)),console.log(".. renderableSeriesHash: ".concat(e.renderableSeriesHash)),console.log(".. enableExperimentalResampling: ".concat(e.enableExperimentalResampling)),console.log(".. dataHasNan: ".concat(e.dataHasNaN)),console.log(".. dataIsFifo: ".concat(e.dataIsFifo)),console.log(".. fifoCapacity: ".concat(e.fifoCapacity)),console.log(".. dataEvenlySpaced: ".concat(e.dataEvenlySpaced)),console.log("native Resampling Args:"),console.log(".. ResamplingData: ".concat(this.debugResamplingDataEnum(t.Data))),console.log(".. StartIndex: ".concat(t.StartIndex)),console.log(".. EndIndex: ".concat(t.EndIndex)),console.log(".. FifoCapacity: ".concat(t.FifoCapacity)),console.log(".. HasNaN: ".concat(t.HasNaN)),console.log(".. IsFifo: ".concat(t.IsFifo)),console.log(".. MaxXInclusive: ".concat(t.MaxXInclusive)),console.log(".. MinXInclusive: ".concat(t.MinXInclusive)),console.log(".. ResamplingMode: ".concat(this.debugResamplingModeEnum(t.Resampling))),console.log(".. ResamplingPrecision: ".concat(t.ResamplingPrecision)),console.log(".. ViewportWidth: ".concat(t.ViewportWidth)),console.log(".. ZeroLineY: ".concat(t.ZeroLineY)),console.log(".. NewDataPointCount: ".concat(t.NewDataPointCount)),console.log(".. InputBaseIndex: ".concat(t.InputBaseIndex))},ExtremeResamplerHelper.prototype.debugRect=function(e){return"X ".concat(e.x," Y ").concat(e.y," Width ").concat(e.width," Height ").concat(e.height)},ExtremeResamplerHelper.prototype.debugResamplingDataEnum=function(e){return e===this.wasmContext.ResamplingData.LinearData?"LinearData":e===this.wasmContext.ResamplingData.CategoryData?"CategoryData":e===this.wasmContext.ResamplingData.UnsortedData?"UnsortedData":e===this.wasmContext.ResamplingData.UnevenlySpacedData?"UnevenlySpacedData":"Unknown"},ExtremeResamplerHelper.prototype.debugResamplingModeEnum=function(e){return e===this.wasmContext.ResamplingMode.MinMax?"MinMax":e===this.wasmContext.ResamplingMode.Auto?"Auto":"Unknown"},ExtremeResamplerHelper.prototype.getDataDistribution=function(e,t){return t?this.wasmContext.ResamplingData.CategoryData:e?this.wasmContext.ResamplingData.LinearData:this.wasmContext.ResamplingData.UnevenlySpacedData},ExtremeResamplerHelper}(o.DeletableEntity);t.ExtremeResamplerHelper=u},99740:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EResamplingMode=void 0,(r=t.EResamplingMode||(t.EResamplingMode={})).None="None",r.MinMax="MinMax",r.Mid="Mid",r.Max="Max",r.Min="Min",r.MinMaxWithUnevenSpacing="MinMaxWithUnevenSpacing",r.Auto="Auto",r.MinOrMax="MinOrMax"},86737:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResamplingParams=void 0;var i=r(27817),n=function(){function ResamplingParams(e,t,r){if(this.zeroLineY=0,this.precision=0,this.enableExperimentalResampling=!1,this.fifoCapacity=0,this.fifoStartIndex=0,this.viewportRect=e,t){var n=t.dataSeries;this.resamplingMode=t.resamplingMode,this.precision=t.resamplingPrecision,r&&(this.indexesRange=t.getIndicesRange(r.visibleRange,r.isCategoryAxis),this.isCategoryAxis=r.isCategoryAxis,this.isXAxisAutoRanged=r.autoRange===i.EAutoRange.Always,this.xVisibleRange=r.visibleRange),n&&(this.dataHasNaN=null==n?void 0:n.dataDistributionCalculator.containsNaN,this.dataEvenlySpaced=null==n?void 0:n.isEvenlySpaced,this.fifoCapacity=n.fifoCapacity,this.fifoStartIndex=n.fifoStartIndex,this.dataIsFifo=n.fifoCapacity>0&&!n.fifoSweeping)}}return ResamplingParams.prototype.clone=function(e){var t,r,i,n,o,a,s,l,u,c,d,p,h,f,y,g=new ResamplingParams(void 0,void 0,void 0);return g.zeroLineY=null!==(t=null==e?void 0:e.zeroLineY)&&void 0!==t?t:this.zeroLineY,g.precision=null!==(r=null==e?void 0:e.precision)&&void 0!==r?r:this.precision,g.xVisibleRange=null!==(i=null==e?void 0:e.xVisibleRange)&&void 0!==i?i:this.xVisibleRange,g.indexesRange=null!==(n=null==e?void 0:e.indicesRange)&&void 0!==n?n:this.indexesRange,g.viewportRect=null!==(o=null==e?void 0:e.viewportRect)&&void 0!==o?o:this.viewportRect,g.isCategoryAxis=null!==(a=null==e?void 0:e.isCategoryAxis)&&void 0!==a?a:this.isCategoryAxis,g.isXAxisAutoRanged=null!==(s=null==e?void 0:e.isXAxisAutoRanged)&&void 0!==s?s:this.isXAxisAutoRanged,g.resamplingMode=null!==(l=null==e?void 0:e.resamplingMode)&&void 0!==l?l:this.resamplingMode,g.renderableSeriesHash=null!==(u=null==e?void 0:e.renderableSeriesHash)&&void 0!==u?u:this.renderableSeriesHash,g.enableExperimentalResampling=null!==(c=null==e?void 0:e.enableExperimentalResampling)&&void 0!==c?c:this.enableExperimentalResampling,g.dataHasNaN=null!==(d=null==e?void 0:e.dataHasNaN)&&void 0!==d?d:this.dataHasNaN,g.dataEvenlySpaced=null!==(p=null==e?void 0:e.dataEvenlySpaced)&&void 0!==p?p:this.dataEvenlySpaced,g.fifoCapacity=null!==(h=e.fifoCapacity)&&void 0!==h?h:this.fifoCapacity,g.fifoStartIndex=null!==(f=e.fifoStartIndex)&&void 0!==f?f:this.fifoStartIndex,g.dataIsFifo=null!==(y=e.dataIsFifo)&&void 0!==y?y:this.dataIsFifo,g},ResamplingParams}();t.ResamplingParams=n},11076:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultTickCoordinatesProvider=void 0;var o=function(e){function DefaultTickCoordinatesProvider(){return null!==e&&e.apply(this,arguments)||this}return n(DefaultTickCoordinatesProvider,e),DefaultTickCoordinatesProvider.prototype.getTickCoordinates=function(e,t){if(void 0===e)return{majorTickCoords:void 0,minorTickCoords:void 0,majorTickOverrides:void 0,minorTickOverRides:void 0};var r=this.parentAxis.getCurrentCoordinateCalculator();return{majorTickCoords:e.map(function(e){return Math.round(r.getCoordinate(e))+.5}),minorTickCoords:t.map(function(e){return Math.round(r.getCoordinate(e))+.5}),majorTickOverrides:e,minorTickOverRides:t}},DefaultTickCoordinatesProvider}(r(18367).TickCoordinatesProvider);t.DefaultTickCoordinatesProvider=o},8605:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.StaticTickCoordinatesProvider=void 0;var o=function(e){function StaticTickCoordinatesProvider(){return null!==e&&e.apply(this,arguments)||this}return n(StaticTickCoordinatesProvider,e),StaticTickCoordinatesProvider.prototype.getTickCoordinates=function(e,t){var r,i,n=!this.parentAxis.visibleRange.equals(this.prevRange),o=this.parentAxis.getAxisSize()!==this.prevSize,a=this.parentAxis.getCurrentCoordinateCalculator();if(void 0===this.tickCoords||o){if(void 0===e)return{majorTickCoords:void 0,minorTickCoords:void 0,majorTickOverrides:void 0,minorTickOverRides:void 0};var s=e.map(function(e){return a.getCoordinate(e)}),l=t.map(function(e){return a.getCoordinate(e)});this.tickCoords={majorTickCoords:s,minorTickCoords:l,majorTicks:e,minorTicks:t,majorTickLabels:void 0}}else n?(this.OverrideTickValues(this.tickCoords),r=this.tickCoords.majorTicks,i=this.tickCoords.minorTicks):this.OverrideTickCoordinates(this.tickCoords);return this.prevRange=this.parentAxis.visibleRange,this.prevSize=this.parentAxis.getAxisSize(),{majorTickCoords:this.tickCoords.majorTickCoords.map(function(e){return Math.round(e+.5)}),minorTickCoords:this.tickCoords.minorTickCoords.map(function(e){return Math.round(e+.5)}),majorTickOverrides:r,minorTickOverRides:i}},StaticTickCoordinatesProvider.prototype.forceRecalculateCoords=function(){this.tickCoords=void 0},StaticTickCoordinatesProvider.prototype.OverrideTickValues=function(e){var t=this.parentAxis.getCurrentCoordinateCalculator();null!=t&&(e.minorTickCoords.forEach(function(r,i){return e.minorTicks[i]=t.getDataValue(r)}),e.majorTickCoords.forEach(function(r,i){return e.majorTicks[i]=t.getDataValue(r)}))},StaticTickCoordinatesProvider.prototype.OverrideTickCoordinates=function(e){var t=this.parentAxis.getCurrentCoordinateCalculator();null!=t&&null!=t&&(e.minorTicks.forEach(function(r,i){return e.minorTickCoords[i]=t.getCoordinate(r)}),e.majorTicks.forEach(function(r,i){return e.majorTickCoords[i]=t.getCoordinate(r)}))},StaticTickCoordinatesProvider}(r(11076).DefaultTickCoordinatesProvider);t.StaticTickCoordinatesProvider=o},18367:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TickCoordinatesProvider=void 0;var r=function(){function TickCoordinatesProvider(){}return TickCoordinatesProvider.prototype.attachedToAxis=function(e){this.parentAxis=e},TickCoordinatesProvider.prototype.detachedFromAxis=function(){this.parentAxis=void 0},TickCoordinatesProvider}();t.TickCoordinatesProvider=r},97705:function(e,t,r){"use strict";var i,n,o,a,s,l=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LogarithmicTickProvider=t.ELogarithmicMajorTickMode=t.ELogarithmicMinorTickMode=void 0;var u=r(92530),c=r(51134),d=r(51877),p=r(73513);(i=a=t.ELogarithmicMinorTickMode||(t.ELogarithmicMinorTickMode={})).Linear="Linear",i.Logarithmic="Logarithmic",i.Auto="Auto",(n=s=t.ELogarithmicMajorTickMode||(t.ELogarithmicMajorTickMode={})).EqualSpacing="EqualSpacing",n.RoundNumbers="RoundNumbers";var h=function(e){function LogarithmicTickProvider(t){var r=e.call(this)||this;return r.logarithmicBase=10,r.isHighPrecisionTicks=!0,r.majorTickModeProperty=s.EqualSpacing,r.minorTickModeProperty=a.Linear,r.wasmContext=t,r}return l(LogarithmicTickProvider,e),Object.defineProperty(LogarithmicTickProvider.prototype,"majorTickMode",{get:function(){return this.majorTickModeProperty},set:function(e){var t;this.majorTickModeProperty=e,(null===(t=this.parentAxis)||void 0===t?void 0:t.invalidateParentCallback)&&this.parentAxis.invalidateParentCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(LogarithmicTickProvider.prototype,"minorTickMode",{get:function(){return this.minorTickModeProperty},set:function(e){var t;this.minorTickModeProperty=e,(null===(t=this.parentAxis)||void 0===t?void 0:t.invalidateParentCallback)&&this.parentAxis.invalidateParentCallback()},enumerable:!1,configurable:!0}),LogarithmicTickProvider.prototype.getMajorTicks=function(e,t,r){var i=new c.NumberRange(e,t),n=this.parentAxis,o=1;if((null==n?void 0:n.isNegative)&&r.min<0&&(o=-1,r=new c.NumberRange(Math.abs(r.max),Math.abs(r.min))),!this.isParamsValid(r,i))return[];if(this.majorTickMode===s.RoundNumbers)return this.getRoundNumberMajorTicks(e,t,r);var a=[];if(0===this.logarithmicBase)return a;var l=r.min;r.min;var u=r.max,d=this.wasmContext.NumberUtil;this.isHighPrecisionTicks||d.IsPowerOf(l,this.logarithmicBase,this.logarithmicBase)||(l=d.RoundDownPower(l,this.logarithmicBase,this.logarithmicBase));var p=d.Log(l,this.logarithmicBase);p=d.RoundToDigits(p,10),d.IsDivisibleBy(p,t)||(p=d.RoundUp(p,t));var h=p;l=Math.pow(this.logarithmicBase,h);for(var f=0;l<=u;)d.IsDivisibleBy(h,t)&&a.push(o*l),h=p+ ++f*t,l=Math.pow(this.logarithmicBase,h);return -1===o?a.reverse():a},LogarithmicTickProvider.prototype.getRoundNumberMajorTicks=function(e,t,r){var i=[],n=r.min,o=r.min,a=r.max,s=Math.pow(this.logarithmicBase,t),l=this.roundNum(o*(s-1));for(n=this.roundNum(n,l),i.push(n);n<=a;){for(var u=n*(s-1),c=this.roundNum(n*s,u),d=c;c===n;)d*=s,c=this.roundNum(d,u);n=c,i.push(n)}return i},LogarithmicTickProvider.prototype.roundNum=function(e,t){if(0===e)return 0;var r=Math.floor(Math.log10(e));t&&(r=Math.min(r,Math.round(Math.log10(t))));var i=this.wasmContext.NumberUtil.RoundToDigits(e/Math.pow(10,r),1),n=Math.floor(i),o=i-n;return(n+(o<.3?0:o<.7?.5:1))*Math.pow(10,r)},LogarithmicTickProvider.prototype.getMinorTicks=function(e,t,r){var i=this.parentAxis,n=1;(null==i?void 0:i.isNegative)&&(n=-1,r=new c.NumberRange(Math.abs(r.max),Math.abs(r.min)));var o=r.min*e,s=r.min*Math.pow(this.logarithmicBase,.7*t),l=(Math.pow(this.logarithmicBase,t)-1)/e,u=this.minorTickMode===a.Logarithmic||this.minorTickMode===a.Auto&&s<o,d=[],p=this.getMajorTicks(e,t,r),h=p.length,f=Math.pow(this.logarithmicBase,t);if(h>0)for(var y=0;y<=h;y++){var g=y<h?p[y]:p[y-1]*f,v=Math.max(g/f,r.min),m=v*e;if(u)this.getMajorTicks(1,t/l,new c.NumberRange(v,g)).forEach(function(e){return d.push(n*e)});else for(var S=v+m;S<g&&m>0;)d.push(n*S),S+=m}return d},LogarithmicTickProvider.prototype.isParamsValid=function(e,t){return u.Guard.notNull(e,"visibleRange"),u.Guard.notNull(t,"deltaRange"),(0,d.isRealNumber)(e.min)&&(0,d.isRealNumber)(e.max)&&(0,d.isRealNumber)(t.min)&&(0,d.isRealNumber)(t.max)},LogarithmicTickProvider}(p.TickProvider);t.LogarithmicTickProvider=h},58807:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.NumericTickProvider=void 0;var o=r(92530),a=r(51134),s=r(51877),l=function(e){function NumericTickProvider(t){var r=e.call(this)||this;return r.minDeltaValue=1e-13,r.webAssemblyContext=t,r}return n(NumericTickProvider,e),NumericTickProvider.prototype.getMinorTicks=function(e,t,r){var i=new a.NumberRange(e,t);return this.isParamsValid(r,i)?this.calculateTicks(r,i.min,i.max):[]},NumericTickProvider.prototype.getMajorTicks=function(e,t,r){var i=new a.NumberRange(e,t);return this.isParamsValid(r,i)?this.calculateTicks(r,i.max,i.max):[]},NumericTickProvider.prototype.isParamsValid=function(e,t){return o.Guard.notNull(e,"visibleRange"),o.Guard.notNull(t,"deltaRange"),(0,s.isRealNumber)(e.min)&&(0,s.isRealNumber)(e.max)&&t.min>0&&t.max>0},NumericTickProvider.prototype.calculateTicks=function(e,t,r){for(var i=[],n=e.min,o=e.max,a=t===r,s=this.webAssemblyContext.NumberUtil,l=s.RoundUp(n,t),u=l,c=0;l<=o;)s.IsDivisibleBy(l,r)!==a||i.push(l),l=u+ ++c*t;return i},NumericTickProvider}(r(73513).TickProvider);t.NumericTickProvider=l},73513:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TickProvider=void 0;var r=function(){function TickProvider(){}return TickProvider.prototype.attachedToAxis=function(e){this.parentAxis=e},TickProvider.prototype.detachedFromAxis=function(){this.parentAxis=void 0},TickProvider}();t.TickProvider=r},38352:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ChartTitleRenderer=void 0;var a=r(36313),s=r(19313),l=r(61239),u=r(39687),c=function(e){function ChartTitleRenderer(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleOffsetProperty=a.Thickness.fromNumber(0),t}return n(ChartTitleRenderer,e),Object.defineProperty(ChartTitleRenderer.prototype,"titleOffset",{get:function(){return this.titleOffsetProperty},enumerable:!1,configurable:!0}),ChartTitleRenderer.prototype.measure=function(e,t,r){var i,n=e!==this.text||!(0,s.areEqualTextStyles)(t,this.originalTextStyle)||(null===(i=this.originalTextStyle)||void 0===i?void 0:i.position)!==t.position;e&&e.length>0&&(this.useCache&&(this.texture||t.useNativeText)&&!n?(this.textStyle.alignment=t.alignment,this.textStyle.placeWithinChart=t.placeWithinChart):(this.invalidateCache(),this.text=e,this.originalTextStyle=o({},t),this.textStyle=(0,s.adjustTextStyle)(t),this.useNativeTextProperty=t.useNativeText,this.titlePosition=t.position,this.getTextSize(e,this.textStyle,r))),this.titleOffsetProperty=this.getTitleOffset(e,this.textStyle)},ChartTitleRenderer.prototype.layout=function(e){if(!this.text||0===this.text.length){this.viewRectProperty=void 0;return}this.viewRectProperty=this.getViewRect(this.text,e,this.textStyle.position,this.textStyle.alignment)},ChartTitleRenderer.prototype.draw=function(e){if(this.text&&0!==this.text.length){l.DebugForDpi&&console.log("ChartTitleRenderer.draw fontSize: ".concat(this.textStyle.fontSize));var t=this.textStyle,r=t.useNativeText,i=t.position;t.lineSpacing,this.drawInternal(e,r,i),this.drawDebug&&this.drawTitleDebugViewRect(e)}},ChartTitleRenderer.prototype.getTitleTexture=function(){var e=this.textStyle.position,t=(0,u.getAdjustedRotation)(this.textStyle.rotation,e),r=Array.isArray(this.text)?this.text:this.text.split("\n");return this.textureManager.createTextTexture(r,this.textStyle,t,this.textStyle.lineSpacing)},ChartTitleRenderer.prototype.getTitleOffset=function(e,t){if(!this.text||0===this.text.length||t.placeWithinChart)return a.Thickness.fromNumber(0);var r=this.textHeight;switch(t.position){case s.ETitlePosition.Top:return new a.Thickness(r,0,0,0);case s.ETitlePosition.Bottom:return new a.Thickness(0,0,r,0);case s.ETitlePosition.Left:return new a.Thickness(0,0,0,r);case s.ETitlePosition.Right:return new a.Thickness(0,r,0,0);default:return(0,s.handleInvalidChartTitlePosition)(t.position)}},ChartTitleRenderer}(u.TitleRendererBase);t.ChartTitleRenderer=c},60100:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderPassData=void 0;var r=function(){function RenderPassData(e,t,r,i,n,o){this.indexRange=e,this.getxCoordinateCalculator=t,this.getyCoordinateCalculator=r,this.isVerticalChart=i,this.pointSeries=n,this.resamplingHash=o}return Object.defineProperty(RenderPassData.prototype,"xCoordinateCalculator",{get:function(){return this.getxCoordinateCalculator()},enumerable:!1,configurable:!0}),Object.defineProperty(RenderPassData.prototype,"yCoordinateCalculator",{get:function(){return this.getyCoordinateCalculator()},enumerable:!1,configurable:!0}),RenderPassData}();t.RenderPassData=r},76516:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderPassDataCollection=void 0,t.RenderPassDataCollection=function(){}},17324:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderPassInfo=void 0,t.RenderPassInfo=function(e,t){this.pointSeriesArray=[],this.renderableSeriesArray=[],this.indicesRanges=[],this.resamplingHashes=[],this.seriesViewRect=t}},23297:function(e,t,r){"use strict";var i=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartRenderer=void 0;var n=r(2003),o=r(93766),a=r(47494),s=r(27817),l=r(86599),u=r(17575),c=r(4348),d=r(21075),p=r(86737),h=r(52354),f=r(34282),y=r(61239),g=r(91462),v=r(60100),m=r(17324),S=r(96538),b=r(36108),P=r(94485),C=r(49033),x=r(48053),A=r(14464),T=r(22099),_=function(){function SciChartRenderer(e){this.isInvalidated=!1,this.sciChartSurface=e}return SciChartRenderer.resampleSeries=function(e,t,r){if(!t.supportsResampling)return{pointSeries:t.toPointSeries(),renderableSeries:t,indicesRange:t.isStacked?void 0:t.getIndicesRange(e.visibleRange,e.isCategoryAxis),resamplingHash:void 0};var i=new p.ResamplingParams(r,t,e);if(!t.needsResampling(i))return{pointSeries:t.toPointSeries(),renderableSeries:t,indicesRange:i.indexesRange,resamplingHash:void 0};var n=SciChartRenderer.calculateResamplingHash(t,i),o=t.getCurrentRenderPassData();return{pointSeries:o&&o.resamplingHash===n?o.pointSeries:t.toPointSeries(i),renderableSeries:t,indicesRange:i.indexesRange,resamplingHash:n}},SciChartRenderer.calculateResamplingHash=function(e,t){var r=[],i=c.hashUtils.generateBooleanHash(e.enableDrawingOptimisations);r.push(i);var n=e.dataSeries;if(n){var o=c.hashUtils.generateHash(n.id);r.push(o);var a=c.hashUtils.generateNumberHash(n.count());r.push(a);var s=c.hashUtils.generateBooleanHash(n.dataDistributionCalculator.isSortedAscending);r.push(s);var l=c.hashUtils.generateNumberHash(n.changeCount);r.push(l)}var u=c.hashUtils.generateObjectHash(t);return r.push(u),c.hashUtils.generateCombinedHash(r)},SciChartRenderer.prototype.render=function(e){var t,r,o=this;if(!this.sciChartSurface.isDeleted){var a=T.PerformanceDebugHelper.mark(T.EPerformanceMarkType.RenderStart,{contextId:this.sciChartSurface.id});A.Logger.debug("render start"),this.isInvalidated=!1;var s=e.getNativeContext(),l=this.sciChartSurface.webAssemblyContext2D;n.IS_TEST_ENV||(r=s.GetBlendMode(),s.SetBlendMode(l.eSCRTBlendMode.BlendAdditiveOneAlpha)),this.validate();var c=this.previousTime?Date.now()-this.previousTime:void 0;this.previousTime=Date.now(),this.sciChartSurface.onAnimate(c),e.enqueueLayeredDraw(function(){o.sciChartSurface.updateBackground()},this.getAbsoluteLayer(u.EDefaultRenderLayer.Background)),this.sciChartSurface.updateStackedCollectionAccumulatedVectors(),this.sciChartSurface.xAxes.asArray().forEach(function(e){return o.tryPerformAutoRangeOn(e,o.sciChartSurface)}),this.sciChartSurface.yAxes.asArray().forEach(function(e){return o.tryPerformAutoRangeOn(e,o.sciChartSurface)});var d=this.measureTitle(e),p=this.sciChartSurface.layoutManager.layoutChart(e.viewportSize,d),f=this.getViewportSvgRect(e.viewportSize,p);this.sciChartSurface.setCoordSvgTranslation(p.x-f.x,p.y-f.y),this.updateSvgCanvasSize(f),this.layoutTitle(p),this.scheduleTitleDraw(e);var y=this.prepareAxesRenderData(),g=y.xAxesById,v=y.yAxesById,m=this.prepareSeriesRenderData(p,g);e.enqueueLayeredDraw(function(){o.sciChartSurface.drawBorder(e)},this.getAbsoluteLayer(u.EDefaultRenderLayer.AxisBandsLayer)),this.sciChartSurface.debugRendering&&this.drawDebugAxes(this.sciChartSurface,e),this.drawAxes(this.sciChartSurface,e);var S=this.sciChartSurface.annotations.asArray(),b=this.sciChartSurface.modifierAnnotations.asArray(),P=i(i([],S,!0),b,!0),C=P.filter(function(e){return e.type===h.EAnnotationType.RenderContextBoxAnnotation||e.type===h.EAnnotationType.RenderContextLineAnnotation||e.type===h.EAnnotationType.RenderContextHorizontalLineAnnotation||e.type===h.EAnnotationType.RenderContextVerticalLineAnnotation||e.type===h.EAnnotationType.RenderContextAxisMarkerAnnotation||e.type===h.EAnnotationType.RenderContextNativeTextAnnotation}),x=this.getAbsoluteLayer(u.EDefaultRenderLayer.Background);e.enqueueLayeredDraw(function(){o.drawRenderContextAnnotations(C,g,v,h.EAnnotationLayer.Background,e,p)},x);var _=this.getAbsoluteLayer(u.EDefaultRenderLayer.AnnotationsBelowSeriesLayer);e.enqueueLayeredDraw(function(){o.drawRenderContextAnnotations(C,g,v,h.EAnnotationLayer.BelowChart,e,p)},_);var R=this.getAbsoluteLayer(u.EDefaultRenderLayer.SeriesLayer);e.enqueueLayeredDraw(function(){return o.drawSeries(o.sciChartSurface,m,e)},R);var E=this.getAbsoluteLayer(u.EDefaultRenderLayer.AnnotationsAboveSeriesLayer);e.enqueueLayeredDraw(function(){o.drawRenderContextAnnotations(C,g,v,h.EAnnotationLayer.AboveChart,e,p)},E),e.drawLayers(),e.endFonts();var w=P.filter(function(e){return e.type===h.EAnnotationType.SVG||e.type===h.EAnnotationType.SVGTextAnnotation||e.type===h.EAnnotationType.SVGCustomAnnotation});this.drawSvgAnnotations(w,g,v,this.sciChartSurface.getCoordSvgTranslation()),this.sciChartSurface.isSubSurface?e.doDraw&&this.updateWatermark(e,this.sciChartSurface.parentSurface.seriesViewRect):this.updateWatermark(e,p),T.PerformanceDebugHelper.mark(T.EPerformanceMarkType.RenderEnd,{contextId:this.sciChartSurface.id,relatedId:null===(t=null==a?void 0:a.detail)||void 0===t?void 0:t.relatedId}),this.onParentSurfaceRendered(),n.IS_TEST_ENV||s.SetBlendMode(r),this.sciChartSurface.isRunningAnimation&&setTimeout(this.sciChartSurface.invalidateElement,0),A.Logger.debug("render end")}},SciChartRenderer.prototype.drawRenderContextAnnotations=function(e,t,r,i,n,o){e.filter(function(e){return e.annotationLayer===i}).forEach(function(e){if(0===t.count||0===r.count)console.error("Cannot draw annotations before axes have been configured. Add axes first, or use suspendUpdates to pause drawing until axes are available.");else{var i=t.item(e.xAxisId)||t.values[0],a=r.item(e.yAxisId)||r.values[0];e.showWarning&&(t.count>0&&i.id!==e.xAxisId&&console.warn("Annotation looked for xAxis Id ".concat(e.xAxisId," but got ").concat(i.id,". Do you need to set xAxisId on an annotation or modifier?")),r.count>0&&a.id!==e.yAxisId&&console.warn("Annotation looked for yAxis Id ".concat(e.yAxisId," but got ").concat(a.id,". Do you need to set yAxisId on an annotation or modifier?")),e.showWarning=!1),e.isHidden||e.drawWithContext(n,i.getCurrentCoordinateCalculator(),a.getCurrentCoordinateCalculator(),o)}})},SciChartRenderer.prototype.drawSvgAnnotations=function(e,t,r,i){e.forEach(function(e){var n=t.item(e.xAxisId)||t.values[0],o=r.item(e.yAxisId)||r.values[0];e.showWarning&&(t.count>0&&n.id!==e.xAxisId&&console.warn("Annotation looked for xAxis Id ".concat(e.xAxisId," but got ").concat(n.id,". Do you need to set xAxisId on an annotation or modifier?")),r.count>0&&o.id!==e.yAxisId&&console.warn("Annotation looked for yAxis Id ".concat(e.yAxisId," but got ").concat(o.id,". Do you need to set yAxisId on an annotation or modifier?")),e.showWarning=!1),e.update(n.getCurrentCoordinateCalculator(),o.getCurrentCoordinateCalculator(),i.x/g.DpiHelper.PIXEL_RATIO,i.y/g.DpiHelper.PIXEL_RATIO)})},SciChartRenderer.prototype.validate=function(){this.sciChartSurface.xAxes.asArray().forEach(function(e){return e.isMeasured=!1}),this.sciChartSurface.yAxes.asArray().forEach(function(e){return e.isMeasured=!1});var e=[];if(this.sciChartSurface.renderableSeries.size()>0&&(0===this.sciChartSurface.xAxes.size()&&e.push("Chart must have at least one X axis"),0===this.sciChartSurface.yAxes.size()&&e.push("Chart must have at least one Y axis")),e.length>0)throw Error(e.join("\n"))},SciChartRenderer.prototype.updateSvgCanvasSize=function(e){var t=new a.Rect(e.x/g.DpiHelper.PIXEL_RATIO,e.y/g.DpiHelper.PIXEL_RATIO,e.width/g.DpiHelper.PIXEL_RATIO,e.height/g.DpiHelper.PIXEL_RATIO);if(this.prevRect){if(a.Rect.isEqual(this.prevRect,t))return}else this.prevRect=t;var r=this.sciChartSurface.domSvgContainer;r&&(r.style.marginLeft="".concat(t.x,"px"),r.style.marginTop="".concat(t.y,"px"),r.setAttribute("width",t.width.toString()),r.setAttribute("height",t.height.toString()),r.style.width=t.width+"px",r.style.height=t.height+"px",r.currentScale=1)},SciChartRenderer.prototype.prepareAxesRenderData=function(){var e=new o.Dictionary,t=new o.Dictionary;return this.sciChartSurface.xAxes.asArray().forEach(function(t){e.add(t.id,t),t.prepareRenderData()}),this.sciChartSurface.yAxes.asArray().forEach(function(e){t.add(e.id,e),e.prepareRenderData()}),{xAxesById:e,yAxesById:t}},SciChartRenderer.prototype.prepareSeriesRenderData=function(e,t){for(var r=this.sciChartSurface.renderableSeries.size(),i=new m.RenderPassInfo(r,e),n=0;n<this.sciChartSurface.renderableSeries.size();n++){var o=this.sciChartSurface.renderableSeries.get(n);if(o.isStacked||o.dataSeries){if(!o.isStacked&&o.dataSeries.getIsDeleted())throw Error("SciChartSurface.renderableSeries[index=".concat(n,"] dataSeries has been deleted. ")+"This is an invalid state for SciChart. Have you shared this DataSeries between chart surfaces?");var a=t.item(o.xAxisId),s=SciChartRenderer.resampleSeries(a,o,e);i.renderableSeriesArray.push(s.renderableSeries),i.pointSeriesArray.push(s.pointSeries),i.indicesRanges.push(s.indicesRange),i.resamplingHashes.push(s.resamplingHash)}}return i},SciChartRenderer.prototype.drawAxes=function(e,t){e.xAxes.asArray().forEach(function(e){e.draw(t)}),e.yAxes.asArray().forEach(function(e){e.draw(t)})},SciChartRenderer.prototype.drawSeries=function(e,t,r){var i=t.renderableSeriesArray,n=t.pointSeriesArray,o=t.resamplingHashes,a=t.indicesRanges,drawSeriesImpl=function(t){var s=i[t],u=n[t],c=o[t],d=a[t],p=e.xAxes.asArray().find(function(e){return e.id===s.xAxisId});if(!p)throw Error("Cannot find an X Axis with ID = "+s.xAxisId);var h=e.yAxes.asArray().find(function(e){return e.id===s.yAxisId});if(!h)throw Error("Cannot find a Y Axis with ID = "+s.yAxisId);if(p.isVerticalChart&&![l.EAxisAlignment.Top,l.EAxisAlignment.Bottom].includes(h.axisAlignment))throw Error("For vertical chart (chart with X Axis alignment Left or Right) Y Axis alignment should be Top or Bottom, X Axis ID = ".concat(p.id));if((0,l.getIsVertical)(p.axisAlignment)&&(0,l.getIsVertical)(h.axisAlignment))throw Error("Both x and y axes can't have vertical alignment");if((0,l.getIsHorizontal)(p.axisAlignment)&&(0,l.getIsHorizontal)(h.axisAlignment))throw Error("Both x and y axes can't have horizontal alignment");var f=new v.RenderPassData(d,p.getCurrentCoordinateCalculator,h.getCurrentCoordinateCalculator,p.isVerticalChart,u,c);s.draw(r,f)},s=r.getNativeContext(),u=this.sciChartSurface.seriesViewRect;s.PushMatrix(),s.PushState(),s.Translate(u.x,u.y),s.SetClipRect(u.x,u.y,u.width,u.height),i.forEach(function(e,t){!e.isVisible||e.isSelected||e.isHovered||drawSeriesImpl(t)}),i.forEach(function(e,t){e.isVisible&&e.isHovered&&drawSeriesImpl(t)}),i.forEach(function(e,t){e.isVisible&&e.isSelected&&drawSeriesImpl(t)}),this.sciChartSurface.dataLabelLayoutManager&&this.sciChartSurface.dataLabelLayoutManager.performTextLayout(this.sciChartSurface,t),i.forEach(function(e,t){e.isVisible&&e.dataLabelProvider&&e.dataLabelProvider.draw(r)}),s.PopMatrix(),s.PopState()},SciChartRenderer.prototype.drawDebugAxes=function(e,t){t.enqueueLayeredDraw(function(){e.xAxes.asArray().forEach(function(e){e.drawDebug(t)}),e.yAxes.asArray().forEach(function(e){e.drawDebug(t)})})},SciChartRenderer.prototype.tryPerformAutoRangeOn=function(e,t){var r=!e.hasValidVisibleRange()||e.hasDefaultVisibleRange();if(e.autoRange===s.EAutoRange.Always||e.autoRange===s.EAutoRange.Once&&r){var i=e.getMaximumRange();i.equals(e.visibleRange)||(e.autoRangeAnimation&&(!r||e.autoRangeAnimation.animateInitialRanging)&&(r||e.autoRangeAnimation.animateSubsequentRanging)?i.equals(e.animatedVisibleRange)||e.animateVisibleRange(i,e.autoRangeAnimation.duration,e.autoRangeAnimation.easing):e.visibleRange=i)}},SciChartRenderer.prototype.onParentSurfaceRendered=function(){var e;this.sciChartSurface.isSubSurface||this.sciChartSurface.chartModifiers.asArray().forEach(function(e){e.onParentSurfaceRendered()}),null===(e=this.sciChartSurface.subCharts)||void 0===e||e.forEach(function(e){e.chartModifiers.asArray().forEach(function(e){e.onParentSurfaceRendered()})}),(!this.sciChartSurface.isCopyCanvasSurface||this.sciChartSurface.isSubSurface)&&this.sciChartSurface.rendered.raiseEvent(this.isInvalidated)},SciChartRenderer.prototype.updateWatermark=function(e,t){var r=this.sciChartSurface.isCopyCanvasSurface?y.SciChartSurfaceBase.domMasterCanvas.height:e.viewportSize.height,i=t.x+5,n=r-(t.top+t.height)+10,o=Math.max(72,Math.min(.25*e.viewportSize.width,256)),a=42*o/256;if(this.sciChartSurface.watermarkRelativeToCanvas)switch(this.sciChartSurface.watermarkPosition){case b.EWatermarkPosition.BottomRight:i=e.viewportSize.width-o-5,n=r-e.viewportSize.height+12;break;case b.EWatermarkPosition.TopLeft:n=r-(5+a),i=5;break;case b.EWatermarkPosition.TopRight:i=e.viewportSize.width-o-5,n=r-(5+a);break;case b.EWatermarkPosition.BottomLeft:i=5,n=r-e.viewportSize.height+12}else switch(this.sciChartSurface.watermarkPosition){case b.EWatermarkPosition.BottomRight:i=t.left+t.width-o-5;break;case b.EWatermarkPosition.TopLeft:n=r-(t.top+5+a);break;case b.EWatermarkPosition.TopRight:i=t.left+t.width-o-5,n=r-(t.top+5+a);case b.EWatermarkPosition.BottomLeft:}this.sciChartSurface.updateWatermark(i,n)},SciChartRenderer.prototype.getViewportSvgRect=function(e,t){switch(this.sciChartSurface.svgClippingMode){case S.ESvgClippingMode.SeriesViewRect:return t;case S.ESvgClippingMode.Chart:return new a.Rect(0,0,e.width,e.height);case S.ESvgClippingMode.SubChart:var r=new a.Rect(0,0,e.width,e.height);return this.sciChartSurface.isSubSurface&&(r=this.sciChartSurface.getSubChartRect()),r;default:return t}},SciChartRenderer.prototype.scheduleTitleDraw=function(e){var t=this;e.enqueueLayeredDraw(function(){t.sciChartSurface.chartTitleRenderer.draw(e)},this.getAbsoluteLayer(u.EDefaultRenderLayer.AnnotationsAboveSeriesLayer))},SciChartRenderer.prototype.measureTitle=function(e){return this.sciChartSurface.chartTitleRenderer.measure(this.sciChartSurface.title,this.sciChartSurface.titleStyle,e),this.sciChartSurface.chartTitleRenderer.titleOffset},SciChartRenderer.prototype.layoutTitle=function(e){var t=this.sciChartSurface.titleStyle.placeWithinChart?e:this.getChartViewRect();this.sciChartSurface.chartTitleRenderer.layout(t)},SciChartRenderer.prototype.getChartViewRect=function(){var e=this.sciChartSurface.renderSurface.viewportSize;return f.SciChartSurface.isSubSurface(this.sciChartSurface)?(new a.Rect(0,0,e.width,e.height),this.sciChartSurface.getSubChartRect()):new a.Rect(0,0,e.width,e.height)},SciChartRenderer.prototype.getAbsoluteLayer=function(e){return(0,d.calculateAbsoluteRenderLayer)(this.sciChartSurface.layersOffset,this.sciChartSurface.stepBetweenLayers,e)},SciChartRenderer.prototype.drawDebugSurfaceRect=function(e,t,r){var i=(0,P.getVectorRectVertex)(r),n=new r.SCRTSolidBrush((0,x.parseColorToUIntArgb)("rgba(0,255,0,0.7)"),!1),o=(0,C.createNativeRect)(r,0,0,t.width,t.height);i.push_back(o),e.drawRects(i,n,t.left,t.top),n.delete()},SciChartRenderer}();t.SciChartRenderer=_},39687:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.getAdjustedRotation=t.TitleRendererBase=void 0;var o=r(2003),a=r(15492),s=r(94694),l=r(47494),u=r(7556),c=r(19313),d=r(48053),p=r(99496),h=r(49033),f=r(94485),y=r(91462),g=r(18237),v=function(e){function TitleRendererBase(t){var r=e.call(this)||this;return r.drawDebug=!1,r.useCache=!0,r.viewRectProperty=l.Rect.createZero(),r.textHeight=0,r.textWidth=0,r.desiredHeightProperty=0,r.desiredWidthProperty=0,r.useNativeTextProperty=!1,r.webAssemblyContext=t,r.textureManager=new g.TextureManager(t),r.onDpiChanged=r.onDpiChanged.bind(r),y.DpiHelper.dpiChanged.subscribe(r.onDpiChanged),r}return n(TitleRendererBase,e),Object.defineProperty(TitleRendererBase.prototype,"viewRect",{get:function(){return this.viewRectProperty},enumerable:!1,configurable:!0}),TitleRendererBase.prototype.measure=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},TitleRendererBase.prototype.layout=function(e){},TitleRendererBase.prototype.draw=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},TitleRendererBase.prototype.delete=function(){this.resetCache(),this.textureManager=(0,s.deleteSafe)(this.textureManager),this.webAssemblyContext=void 0,y.DpiHelper.dpiChanged.unsubscribe(this.onDpiChanged)},TitleRendererBase.prototype.resetCache=function(){this.invalidateCache(),this.textStyle=void 0,this.originalTextStyle=void 0},TitleRendererBase.prototype.invalidateCache=function(){var e;(0,s.deleteSafe)(null===(e=this.texture)||void 0===e?void 0:e.bitmapTexture),this.texture=void 0},TitleRendererBase.prototype.onDpiChanged=function(e){this.resetCache()},TitleRendererBase.prototype.drawInternal=function(e,t,r){this.text&&0!==this.text.length&&(t?this.drawWithNativeText(e,r):this.drawWithTexture(e,r))},TitleRendererBase.prototype.drawWithNativeText=function(e,r){var i=Array.isArray(this.text)?this.text.join("\n"):this.text,n=e.getFont(this.textStyle,!0),o=this.viewRect.left+this.nativeTextShiftX,a=this.viewRect.top+this.nativeTextShiftY,s=-((0,t.getAdjustedRotation)(this.textStyle.rotation,r)*Math.PI)/180,l=(0,u.convertMultiLineAlignment)(this.textStyle.multilineAlignment,this.webAssemblyContext),c=(0,d.parseColorToUIntArgb)(this.textStyle.color);n.DrawStringAdvanced(i,c,Math.round(o),Math.round(a),(0,f.getVector4)(this.webAssemblyContext,o,a,s,0),l,this.nativeLineSpacing)},TitleRendererBase.prototype.drawWithTexture=function(e,t){var r=this.texture,i=r.bitmapTexture,n=r.textureHeight,o=r.textureWidth;if(i)try{e.getNativeContext().DrawTexture(i,Math.round(this.viewRect.left),Math.round(this.viewRect.top),o,n),this.useCache||(i.delete(),this.texture=void 0)}catch(e){console.error("Error while drawing title: ",e),this.resetCache()}},TitleRendererBase.prototype.getTextSize=function(e,r,i){if(void 0===e&&(e=""),!e||0===e.length){this.desiredHeightProperty=0,this.desiredWidthProperty=0,this.textHeight=0,this.textWidth=0;return}var n=(0,c.getIsHorizontalPlacement)(this.titlePosition);if(this.useNativeTextProperty){var a=i.getFont(r,!n),s=Array.isArray(e)?e.join("\n"):e,l=(0,t.getAdjustedRotation)(r.rotation,this.titlePosition),u=(0,p.getNativeTextSize)(s,a,r,this.webAssemblyContext,l),d=u.textHeight,h=u.textWidth,f=u.nativeLineSpacing,y=u.deltaX,v=u.deltaY;this.textHeight=n?d:h,this.textWidth=n?h:d,this.nativeLineSpacing=f,this.nativeTextShiftX=y,this.nativeTextShiftY=v,this.desiredHeightProperty=n?this.textHeight:this.textWidth,this.desiredWidthProperty=n?this.textWidth:this.textHeight}else{var m=this.getTitleTexture();this.texture=m,this.desiredHeightProperty=m.textureHeight,this.desiredWidthProperty=m.textureWidth,this.textHeight=n?this.desiredHeightProperty:this.desiredWidthProperty,this.textWidth=n?this.desiredWidthProperty:this.desiredHeightProperty}o.IS_TEST_ENV&&(n?(this.desiredHeightProperty=(0,g.measureTextHeight)(r.fontSize)+this.textStyle.padding.top+this.textStyle.padding.bottom,this.desiredWidthProperty=0):(this.desiredHeightProperty=0,this.desiredWidthProperty=(0,g.measureTextHeight)(r.fontSize)+this.textStyle.padding.top+this.textStyle.padding.bottom))},TitleRendererBase.prototype.getTitleTexture=function(){var e=Array.isArray(this.text)?this.text:this.text.split("\n");return this.textureManager.createTextTexture(e,this.textStyle)},TitleRendererBase.prototype.getViewRect=function(e,t,r,i){if(void 0===e&&(e=""),!e||0===e.length)return l.Rect.createZero();var n=(0,c.getIsHorizontalPlacement)(r),o=this.getAlignmentAdjustmentDelta(n?t.width:t.height,r,i);switch(r){case c.ETitlePosition.Top:return new l.Rect(t.x+o,t.y,this.textWidth,this.textHeight);case c.ETitlePosition.Bottom:return new l.Rect(t.x+o,t.bottom-this.textHeight,this.textWidth,this.textHeight);case c.ETitlePosition.Left:return new l.Rect(t.x,t.y+o,this.textHeight,this.textWidth);case c.ETitlePosition.Right:return new l.Rect(t.right-this.textHeight,t.y+o,this.textHeight,this.textWidth);default:return(0,c.handleInvalidChartTitlePosition)(r)}},TitleRendererBase.prototype.drawTitleDebugViewRect=function(e){var t=this.viewRect,r=(0,f.getVectorRectVertex)(this.webAssemblyContext),i=new this.webAssemblyContext.SCRTSolidBrush((0,d.parseColorToUIntArgb)("rgba(0,255,0,0.7)"),!1),n=(0,h.createNativeRect)(this.webAssemblyContext,0,0,t.width,t.height);r.push_back(n),e.drawRects(r,i,t.left,t.top),i.delete()},TitleRendererBase.prototype.getAlignmentAdjustmentDelta=function(e,t,r){switch(r){case c.ETextAlignment.Center:return e/2-this.textWidth/2;case c.ETextAlignment.Left:return t===c.ETitlePosition.Left?e-this.textWidth:0;case c.ETextAlignment.Right:return t===c.ETitlePosition.Left?0:e-this.textWidth;default:return(0,c.handleInvalidTextAlignment)(r)}},TitleRendererBase}(a.DeletableEntity);t.TitleRendererBase=v,t.getAdjustedRotation=function(e,t){if(void 0!==e)return(e+360)%360;var r=0;return t===c.ETitlePosition.Left?r+=-90:t===c.ETitlePosition.Right&&(r+=90),(r+360)%360}},63869:function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.stripAutoColor=t.ThemeProvider=t.AUTO_COLOR=void 0;var n=r(48053),o=r(26341);t.AUTO_COLOR="auto";var a=function(){function ThemeProvider(){this.strokePalette=[],this.fillPalette=[]}return ThemeProvider.prototype.getStrokeColor=function(e,t,r){return this.getPaletteColor(e,t,r,!0)},ThemeProvider.prototype.getFillColor=function(e,t,r){return this.getPaletteColor(e,t,r,!1)},ThemeProvider.prototype.applyOverrides=function(e){this.overrides=e,Object.assign(this,e)},ThemeProvider.prototype.toJSON=function(){return i({type:this.type},this.overrides)},ThemeProvider.prototype.getPaletteColor=function(e,t,r,i){var a=i?this.strokePalette:this.fillPalette;if(!a||0===a.length)throw Error("".concat(i?"stroke":"fill","Palette must not be empty to use get").concat(i?"Stroke":"Fill","Color"));if(a.length<2)return this.toColor(a[0]);if(e>t)throw Error("index must be less than or equal to max");if(t<=a.length)return this.toColor(a[e]);var s=i?this.strokeGradient:this.fillGradient;if(!s){var l="string"==typeof a[0]?a.map(function(e,t){return{color:e,offset:t/a.length-1}}):a;s=o.PaletteFactory.createColorMap(r,l),i?this.strokeGradient=s:this.fillGradient=s}var u=r.NumberUtil.Constrain(Math.round(e/t*(s.length-1)),0,s.length-1),c=s[u];return(0,n.parseArgbToHtmlColor)(c)},ThemeProvider.prototype.toColor=function(e){return"string"==typeof e?e:e.color},ThemeProvider}();t.ThemeProvider=a,t.stripAutoColor=function(e){return e===t.AUTO_COLOR?"#00000000":e&&e.startsWith(t.AUTO_COLOR)?e.substring(t.AUTO_COLOR.length):e}},34297:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartJSDarkTheme=void 0;var o=r(64913),a=function(e){function SciChartJSDarkTheme(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=o.EThemeProviderType.Dark,t.sciChartBackground="#1C1C1EFF",t.loadingAnimationBackground="#1C1C1EFF",t.loadingAnimationForeground="#AAA",t.gridBorderBrush="#5A5B5BFF",t.axisBandsFill="#202123E1",t.axisBorder="#00000000",t.tickTextBrush="#A6A7ACFF",t.majorGridLineBrush="#323539FF",t.minorGridLineBrush="#232426FF",t.gridBackgroundBrush="TRANSPARENT",t.rolloverLineBrush="#42b64933",t.cursorLineBrush="#228B22FF",t.rubberBandFillBrush="#42b64933",t.rubberBandStrokeBrush="#42b64977",t.legendBackgroundBrush="#1D2C35FF",t.labelBackgroundBrush="#42b649AA",t.labelBorderBrush="#42b649FF",t.labelForegroundBrush="#EEEEEEFF",t.textAnnotationForeground="#EEEEEEFF",t.textAnnotationBackground="#42b649AA",t.annotationsGripsBorderBrush="#CDCDCD99",t.annotationsGripsBackroundBrush="#CDCDCD22",t.annotationSelectionStroke="#f00e0e66",t.overviewFillBrush="#262728BB",t.scrollbarBackgroundBrush="#262728FF",t.scrollbarBorderBrush="#121212FF",t.scrollbarGripsBackgroundBrush="#535353FF",t.scrollbarViewportBackgroundBrush="#222222FF",t.scrollbarViewportBorderBrush="#232323FF",t.upWickColor="#50ff50FF",t.downWickColor="#ff5050FF",t.upBodyBrush="#50ff50B2",t.downBodyBrush="#ff5050B2",t.upBandSeriesLineColor="#279B27FF",t.downBandSeriesLineColor="#FF1919FF",t.upBandSeriesFillColor="#279B2733",t.downBandSeriesFillColor="#FF191933",t.mountainAreaBrush="#4083B777",t.mountainLineColor="#C6E6FFFF",t.lineSeriesColor="#C6E6FFFF",t.columnLineColor="#FFFFFFFF",t.columnFillBrush="#FFFFFFFF",t.impulseFillBrush="#FFFFFFFF",t.defaultColorMapBrush=[{offset:0,color:"DARKBLUE"},{offset:.5,color:"CORNFLOWERBLUE"},{offset:1,color:"#FF22AAFF"}],t.axisTitleColor="#C8C7C3FF",t.chartTitleColor="#C8C7C3FF",t.shadowEffectColor="#000000FF",t.planeBorderColor="#333333FF",t.axisPlaneBackgroundFill="TRANSPARENT",t.axis3DBandsFill="#202123E1",t.isLightBackground=!1,t}return n(SciChartJSDarkTheme,e),SciChartJSDarkTheme}(r(63869).ThemeProvider);t.SciChartJSDarkTheme=a},64838:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartJSDarkv2Theme=void 0;var o=r(64913),a=function(e){function SciChartJSDarkv2Theme(){var t=e.call(this)||this;return t.type=o.EThemeProviderType.DarkV2,t.sciChartBackground="radial-gradient(circle, #3C3C3FFF 0%, #1C1C1EFF 100%)",t.loadingAnimationBackground="radial-gradient(circle, #3C3C3FFF 0%, #1C1C1EFF 100%)",t.axisBandsFill="#20212333",t.majorGridLineBrush="#AAAAAA37",t.minorGridLineBrush="#77777719",t.strokePalette=["#F48420","#AE408E","#209FD9","#264B93"],t.fillPalette=["#F4842077","#AE408E77","#209FD977","#264B9377"],t.isLightBackground=!1,t}return n(SciChartJSDarkv2Theme,e),SciChartJSDarkv2Theme}(r(34297).SciChartJSDarkTheme);t.SciChartJSDarkv2Theme=a},81539:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartJSLightTheme=void 0;var o=r(64913),a=function(e){function SciChartJSLightTheme(){var t=null!==e&&e.apply(this,arguments)||this;return t.strokePalette=["#F48420","#AE408E","#30BC9A","#209FD9","#264B93"],t.fillPalette=["#F4842077","#AE408E77","#30BC9A77","#209FD977","#264B9377"],t.type=o.EThemeProviderType.Light,t.sciChartBackground="#F9F9F9FF",t.loadingAnimationBackground="#F9F9F9FF",t.loadingAnimationForeground="#777777FF",t.gridBorderBrush="#33333399",t.axisBandsFill="#AAAAAA09",t.axisBorder="#00000000",t.tickTextBrush="#333333FF",t.majorGridLineBrush="#CFCFCFFF",t.minorGridLineBrush="#CFCFCF77",t.gridBackgroundBrush="#05333377",t.rolloverLineBrush="#33333333",t.cursorLineBrush="#33333355",t.rubberBandFillBrush="#33333333",t.rubberBandStrokeBrush="#33333377",t.legendBackgroundBrush="#33333333",t.labelBackgroundBrush="#D0D0D0BB",t.labelBorderBrush="#33333377",t.labelForegroundBrush="#555555FF",t.textAnnotationForeground="#000000FF",t.textAnnotationBackground="#FFFFFFFF",t.annotationsGripsBorderBrush="#232323FF",t.annotationsGripsBackroundBrush="#FFFFFF33",t.annotationSelectionStroke="#f00e0e66",t.overviewFillBrush="#33333322",t.scrollbarBackgroundBrush="#33333322",t.scrollbarBorderBrush="#12121255",t.scrollbarGripsBackgroundBrush="#FFFFFF66",t.scrollbarViewportBackgroundBrush="#FFFFFF44",t.scrollbarViewportBorderBrush="#12121255",t.upWickColor="#52CC54FF",t.downWickColor="#E26565FF",t.upBodyBrush="#52CC54A0",t.downBodyBrush="#E26565D0",t.upBandSeriesLineColor="#52CC54FF",t.downBandSeriesLineColor="#E26565FF",t.upBandSeriesFillColor="#52CC5490",t.downBandSeriesFillColor="#E26565A0",t.mountainAreaBrush="#76B7E2B4",t.mountainLineColor="#777777FF",t.lineSeriesColor="#777777FF",t.columnLineColor="#777777FF",t.columnFillBrush="#777777FF",t.impulseFillBrush="#777777FF",t.defaultColorMapBrush=[{offset:0,color:"DARKBLUE"},{offset:.5,color:"CORNFLOWERBLUE"},{offset:1,color:"#FF22AAFF"}],t.axisTitleColor="#777777FF",t.chartTitleColor="#777777FF",t.shadowEffectColor="#A0AABAFA",t.planeBorderColor="#EEEEEEFF",t.axisPlaneBackgroundFill="TRANSPARENT",t.axis3DBandsFill="#33333333",t.isLightBackground=!0,t}return n(SciChartJSLightTheme,e),SciChartJSLightTheme}(r(63869).ThemeProvider);t.SciChartJSLightTheme=a},12682:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartJsNavyTheme=void 0;var o=r(64913),a=r(63869),s=function(e){function SciChartJsNavyTheme(){var t=e.call(this)||this;return t.type=o.EThemeProviderType.Navy,t.background1="#22365B",t.background2="#17243d",t.loadingBackground1="#21253D",t.loadingBackground2="#09090F",t.sciChartBackground="radial-gradient(circle, ".concat(t.background1," 0%, ").concat(t.background2," 100%)"),t.loadingAnimationBackground="radial-gradient(circle, ".concat(t.loadingBackground1," 0%, ").concat(t.loadingBackground2," 100%)"),t.loadingAnimationForeground="#2A2F4C",t.axisBandsFill="#52469503",t.majorGridLineBrush="#191C6D77",t.minorGridLineBrush="#2B2D7077",t.tickTextBrush="#8398ba",t.strokePalette=["#274b92","#47bde6","#ae418d","#e97064","#68bcae","#634e96"],t.fillPalette=["#274b9288","#47bde688","#ae418d88","#e9706488","#68bcae88","#634e9688"],t.lineSeriesColor=a.AUTO_COLOR,t.planeBorderColor="#191C6D77",t.axisPlaneBackgroundFill="TRANSPARENT",t.axis3DBandsFill="#52469503",t.isLightBackground=!1,t}return n(SciChartJsNavyTheme,e),SciChartJsNavyTheme}(r(64838).SciChartJSDarkv2Theme);t.SciChartJsNavyTheme=s},56548:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdornerLayer=void 0;var r=function(){function AdornerLayer(e){this.parentSurface=e}return AdornerLayer.prototype.selectAnnotation=function(e){var t,r=this.parentSurface,selectAnnotationHelper=function(r){for(var i=r.length-1;i>=0;i--){var n=r[i];n.click(e,!t&&n.isEditable)&&(t=n)}};return selectAnnotationHelper(r.annotations.asArray()),selectAnnotationHelper(r.modifierAnnotations.asArray()),this.selectedAnnotationProperty=t,!!t},AdornerLayer.prototype.deselectAnnotation=function(e){this.selectedAnnotationProperty===e&&(this.selectedAnnotationProperty=void 0)},Object.defineProperty(AdornerLayer.prototype,"selectedAnnotation",{get:function(){return this.selectedAnnotationProperty},set:function(e){this.selectedAnnotationProperty=e},enumerable:!1,configurable:!0}),Object.defineProperty(AdornerLayer.prototype,"isAnnotationSelected",{get:function(){return!!this.selectedAnnotationProperty},enumerable:!1,configurable:!0}),AdornerLayer}();t.AdornerLayer=r},22148:function(e,t,r){"use strict";var i,n,o,a,s,l=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationBase=t.ECoordinateMode=t.EDraggingGripPoint=void 0;var u=r(53247),c=r(15492),d=r(35855),p=r(92530),h=r(48484),f=r(51894),y=r(24510),g=r(92200),v=r(79361),m=r(87994),S=r(61239),b=r(91462),P=r(94805),C=r(82412),x=r(61670),A=r(52354);(i=a=t.EDraggingGripPoint||(t.EDraggingGripPoint={})).x1y1="x1y1",i.x2y2="x2y2",i.x2y1="x2y1",i.x1y2="x1y2",i.Body="Body",(n=s=t.ECoordinateMode||(t.ECoordinateMode={})).DataValue="DataValue",n.Pixel="Pixel",n.Relative="Relative";var T=function(e){function AnnotationBase(t){var r,i,n,o,l,c,p,h,v,b,P,C,T,_,R,E,w,D,O,I,M,L,k=this;return(k=e.call(this)||this).showWarning=!0,k.prevIsSelected=!0,k.annotationBorders={x1:0,x2:0,y1:0,y2:0},k.typeMap=new Map,k.isHiddenProperty=!1,k.annotationsGripsStrokeProperty=S.SciChartSurfaceBase.DEFAULT_THEME.annotationsGripsBorderBrush,k.annotationsGripsFillProperty=S.SciChartSurfaceBase.DEFAULT_THEME.annotationsGripsBackroundBrush,k.annotationsGripsRadiusProperty=x.ADORNER_GRIP_RADIUS,k.selectionBoxStrokeProperty=S.SciChartSurfaceBase.DEFAULT_THEME.annotationSelectionStroke,k.selectionBoxDeltaProperty=1.5,k.selectionBoxThicknessProperty=6,k.dragPointsProperty=[a.Body,a.x1y1,a.x2y2,a.x2y1,a.x1y2],k.annotationLayerProperty=A.EAnnotationLayer.AboveChart,k.isEditableProperty=!1,k.xAxisIdProperty=m.AxisCore.DEFAULT_AXIS_ID,k.yAxisIdProperty=m.AxisCore.DEFAULT_AXIS_ID,k.xCoordinateModeProperty=s.DataValue,k.yCoordinateModeProperty=s.DataValue,k.isSelectedProperty=!1,k.resizeDirectionsProperty=y.EXyDirection.XyDirection,k.id=null!==(r=null==t?void 0:t.id)&&void 0!==r?r:(0,g.generateGuid)(),k.dragStarted=new d.EventHandler,k.dragEnded=new d.EventHandler,k.dragDelta=new d.EventHandler,k.selectedChanged=new d.EventHandler,k.clicked=new d.EventHandler,k.annotationLayerProperty=null!==(i=null==t?void 0:t.annotationLayer)&&void 0!==i?i:k.annotationLayerProperty,k.resizeDirectionsProperty=null!==(n=null==t?void 0:t.resizeDirections)&&void 0!==n?n:k.resizeDirectionsProperty,k.isEditableProperty=null!==(o=null==t?void 0:t.isEditable)&&void 0!==o?o:k.isEditableProperty,k.isHiddenProperty=null!==(l=null==t?void 0:t.isHidden)&&void 0!==l?l:k.isHiddenProperty,k.x1Property=null!==(c=null==t?void 0:t.x1)&&void 0!==c?c:k.x1Property,k.y1Property=null!==(p=null==t?void 0:t.y1)&&void 0!==p?p:k.y1Property,k.x2Property=null!==(h=null==t?void 0:t.x2)&&void 0!==h?h:k.x2Property,k.y2Property=null!==(v=null==t?void 0:t.y2)&&void 0!==v?v:k.y2Property,k.xAxisIdProperty=null!==(b=null==t?void 0:t.xAxisId)&&void 0!==b?b:k.xAxisIdProperty,k.yAxisIdProperty=null!==(P=null==t?void 0:t.yAxisId)&&void 0!==P?P:k.yAxisIdProperty,k.xCoordinateModeProperty=null!==(C=null==t?void 0:t.xCoordinateMode)&&void 0!==C?C:k.xCoordinateModeProperty,k.yCoordinateModeProperty=null!==(T=null==t?void 0:t.yCoordinateMode)&&void 0!==T?T:k.yCoordinateModeProperty,k.isSelectedProperty=null!==(_=null==t?void 0:t.isSelected)&&void 0!==_?_:k.isSelectedProperty,k.opacityProperty=null!==(R=null==t?void 0:t.opacity)&&void 0!==R?R:1,k.annotationsGripsStrokeProperty=null!==(E=null==t?void 0:t.annotationsGripsStroke)&&void 0!==E?E:k.annotationsGripsStrokeProperty,k.annotationsGripsFillProperty=null!==(w=null==t?void 0:t.annotationsGripsFill)&&void 0!==w?w:k.annotationsGripsFillProperty,k.annotationsGripsRadiusProperty=null!==(D=null==t?void 0:t.annotationsGripsRadius)&&void 0!==D?D:k.annotationsGripsRadius,k.selectionBoxStroke=null!==(O=null==t?void 0:t.selectionBoxStroke)&&void 0!==O?O:k.selectionBoxStrokeProperty,k.selectionBoxDelta=null!==(I=null==t?void 0:t.selectionBoxDelta)&&void 0!==I?I:k.selectionBoxDeltaProperty,k.selectionBoxThickness=null!==(M=null==t?void 0:t.selectionBoxThickness)&&void 0!==M?M:k.selectionBoxThicknessProperty,k.dragPointsProperty=null!==(L=null==t?void 0:t.dragPoints)&&void 0!==L?L:k.dragPointsProperty,(null==t?void 0:t.onDragStarted)&&("string"==typeof t.onDragStarted?(k.typeMap.set("onDragStarted",t.onDragStarted),k.dragStarted.subscribe((0,u.getFunction)(f.EBaseType.OptionFunction,t.onDragStarted))):k.dragStarted.subscribe(t.onDragStarted)),(null==t?void 0:t.onDragEnded)&&("string"==typeof t.onDragEnded?(k.typeMap.set("onDragEnded",t.onDragEnded),k.dragEnded.subscribe((0,u.getFunction)(f.EBaseType.OptionFunction,t.onDragEnded))):k.dragEnded.subscribe(t.onDragEnded)),(null==t?void 0:t.onDrag)&&("string"==typeof t.onDrag?(k.typeMap.set("onDrag",t.onDrag),k.dragDelta.subscribe((0,u.getFunction)(f.EBaseType.OptionFunction,t.onDrag))):k.dragDelta.subscribe(t.onDrag)),(null==t?void 0:t.onClick)&&("string"==typeof t.onClick?(k.typeMap.set("onClick",t.onClick),k.clicked.subscribe((0,u.getFunction)(f.EBaseType.OptionFunction,t.onClick))):k.clicked.subscribe(t.onClick)),k}return l(AnnotationBase,e),Object.defineProperty(AnnotationBase.prototype,"annotationLayer",{get:function(){return this.annotationLayerProperty},set:function(e){this.annotationLayerProperty!==e&&(this.annotationLayerProperty=e,this.notifyPropertyChanged(x.PROPERTY.ANNOTATION_CANVAS))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"adornerDraggingPoint",{get:function(){return this.adornerDraggingPointProperty},set:function(e){var t;this.adornerDraggingPointProperty!==e&&(this.adornerDraggingPointProperty=e,e&&(null===(t=this.dragStarted)||void 0===t||t.raiseEvent()))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"parentSurface",{get:function(){return this.parentSurfaceProperty},set:function(e){this.parentSurfaceProperty!==e&&(this.parentSurfaceProperty=e,this.notifyPropertyChanged(x.PROPERTY.PARENT_SURFACE))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"isEditable",{get:function(){return this.isEditableProperty},set:function(e){this.isEditableProperty!==e&&(this.isEditableProperty=e,this.notifyPropertyChanged(x.PROPERTY.IS_EDITABLE))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"isHidden",{get:function(){return this.isHiddenProperty},set:function(e){this.isHiddenProperty!==e&&(this.isHiddenProperty=e,this.notifyPropertyChanged(x.PROPERTY.IS_HIDDEN))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"xCoordinateMode",{get:function(){return this.xCoordinateModeProperty},set:function(e){this.xCoordinateModeProperty!==e&&(this.xCoordinateModeProperty=e,this.notifyPropertyChanged(x.PROPERTY.X_COORDINATE_MODE))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"yCoordinateMode",{get:function(){return this.yCoordinateModeProperty},set:function(e){this.yCoordinateModeProperty!==e&&(this.yCoordinateModeProperty=e,this.notifyPropertyChanged(x.PROPERTY.Y_COORDINATE_MODE))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"x1",{get:function(){return this.x1Property},set:function(e){this.x1Property!==e&&(this.x1Property=e,this.notifyPropertyChanged(x.PROPERTY.X1))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"x2",{get:function(){return this.x2Property},set:function(e){this.x2Property!==e&&(this.x2Property=e,this.notifyPropertyChanged(x.PROPERTY.X2))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"y1",{get:function(){return this.y1Property},set:function(e){this.y1Property!==e&&(this.y1Property=e,this.notifyPropertyChanged(x.PROPERTY.Y1))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"y2",{get:function(){return this.y2Property},set:function(e){this.y2Property!==e&&(this.y2Property=e,this.notifyPropertyChanged(x.PROPERTY.Y2))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"xAxisId",{get:function(){return this.xAxisIdProperty},set:function(e){this.xAxisIdProperty!==e&&(this.xAxisIdProperty=e,this.notifyPropertyChanged(x.PROPERTY.XAXIS_ID))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"yAxisId",{get:function(){return this.yAxisIdProperty},set:function(e){this.yAxisIdProperty!==e&&(this.yAxisIdProperty=e,this.notifyPropertyChanged(x.PROPERTY.YAXIS_ID))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"isVerticalChart",{get:function(){var e=this.parentSurface.getXAxisById(this.xAxisId);return null==e?void 0:e.isVerticalChart},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"resizeDirections",{get:function(){return this.resizeDirectionsProperty},set:function(e){this.resizeDirectionsProperty!==e&&(this.resizeDirectionsProperty=e,this.notifyPropertyChanged(x.PROPERTY.RESIZE_DIRECTIONS))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"isSelected",{get:function(){return this.isSelectedProperty},set:function(e){this.isSelectedProperty!==e&&(this.isSelectedProperty=e,this.selectedChanged.raiseEvent(this.isSelectedProperty),this.notifyPropertyChanged(x.PROPERTY.IS_SELECTED))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"annotationsGripsStroke",{get:function(){return this.annotationsGripsStrokeProperty},set:function(e){this.annotationsGripsStrokeProperty!==e&&(this.annotationsGripsStrokeProperty=e,this.notifyPropertyChanged(x.PROPERTY.ADORNER_STROKE))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"annotationsGripsFill",{get:function(){return this.annotationsGripsFillProperty},set:function(e){this.annotationsGripsFillProperty!==e&&(this.annotationsGripsFillProperty=e,this.notifyPropertyChanged(x.PROPERTY.ADORNER_FILL))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"annotationsGripsRadius",{get:function(){return this.annotationsGripsRadiusProperty},set:function(e){this.annotationsGripsRadiusProperty!==e&&(this.annotationsGripsRadiusProperty=e,this.notifyPropertyChanged(x.PROPERTY.ADORNER_RADIUS))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"selectionBoxStroke",{get:function(){return this.selectionBoxStrokeProperty},set:function(e){this.selectionBoxStrokeProperty!==e&&(this.selectionBoxStrokeProperty=e,this.notifyPropertyChanged(x.PROPERTY.SELECTION_STROKE))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"selectionBoxDelta",{get:function(){return this.selectionBoxDeltaProperty},set:function(e){this.selectionBoxDeltaProperty!==e&&(this.selectionBoxDeltaProperty=e,this.notifyPropertyChanged(x.PROPERTY.SELECTION_DELTA))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"selectionBoxThickness",{get:function(){return this.selectionBoxThicknessProperty},set:function(e){this.selectionBoxThicknessProperty!==e&&(this.selectionBoxThicknessProperty=e,this.notifyPropertyChanged(x.PROPERTY.SELECTION_DELTA))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"isDraggingStarted",{get:function(){return!!this.adornerDraggingPoint},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"opacity",{get:function(){return this.opacityProperty},set:function(e){this.opacityProperty!==e&&(this.opacityProperty=e,this.notifyPropertyChanged(x.PROPERTY.OPACITY))},enumerable:!1,configurable:!0}),Object.defineProperty(AnnotationBase.prototype,"svgAdornerRoot",{get:function(){return this.svgAdornerRootProperty},enumerable:!1,configurable:!0}),AnnotationBase.prototype.onAttach=function(e){this.svgAdornerRootProperty=e.domSvgAdornerLayer,this.isSelected&&(this.parentSurface.adornerLayer.selectedAnnotation=this)},AnnotationBase.prototype.onDetach=function(){this.isSelected&&(this.isSelected=!1,this.parentSurface.adornerLayer.deselectAnnotation(this)),this.selectedChanged.unsubscribeAll(),this.deleteAdorner(),this.svgAdornerRootProperty=void 0},Object.defineProperty(AnnotationBase.prototype,"dragPoints",{get:function(){return this.dragPointsProperty},set:function(e){this.dragPointsProperty=e,this.notifyPropertyChanged(x.PROPERTY.DRAGPOINTS)},enumerable:!1,configurable:!0}),AnnotationBase.prototype.click=function(e,t){var r=(0,v.translateFromCanvasToSeriesViewRect)(e.mousePoint,this.parentSurface.seriesViewRect,!0);if(!r)return!1;if(this.checkIsClickedOnAnnotationInternal(r.x,r.y)){var i=this.getAdornerAnnotationBorders(!0),n=e.mousePoint.x/b.DpiHelper.PIXEL_RATIO,o=e.mousePoint.y/b.DpiHelper.PIXEL_RATIO,a=new h.Point(n-i.x1,o-i.y1);this.isSelected=t,this.clicked.raiseEvent(new P.AnnotationClickEventArgs(this,e,a))}else this.isSelected=!1;return this.isSelected},AnnotationBase.prototype.clickToSelect=function(e){var t=(0,v.translateFromCanvasToSeriesViewRect)(e.mousePoint,this.parentSurface.seriesViewRect,!0);return!!t&&(this.isSelected=this.checkIsClickedOnAnnotationInternal(t.x,t.y),this.isSelected)},AnnotationBase.prototype.calcDragDistance=function(e){},AnnotationBase.prototype.onDragStarted=function(e){return!1},AnnotationBase.prototype.checkIsClickedOnAnnotation=function(e,t){var r=(0,v.translateFromCanvasToSeriesViewRect)(new h.Point(e*b.DpiHelper.PIXEL_RATIO,t*b.DpiHelper.PIXEL_RATIO),this.parentSurface.seriesViewRect,!0);return!!r&&this.checkIsClickedOnAnnotationInternal(r.x,r.y)},AnnotationBase.prototype.onDragAdorner=function(e){var t=this.getValuesFromCoordinates(e.mousePoint,!0);t&&this.calcDragDistance(t),this.dragDelta.raiseEvent(new C.AnnotationDragDeltaEventArgs)},AnnotationBase.prototype.onDragEnded=function(){var e;null===(e=this.dragEnded)||void 0===e||e.raiseEvent(),this.adornerDraggingPoint=void 0,this.prevValue=void 0},AnnotationBase.prototype.onDpiChanged=function(e){},AnnotationBase.prototype.suspendInvalidate=function(){this.invalidateState={isHidden:this.isHidden,x1:this.x1,y1:this.y1}},AnnotationBase.prototype.resumeInvalidate=function(){this.invalidateState&&((this.isHidden!==this.invalidateState.isHidden||this.x1!==this.invalidateState.x1||this.y1!==this.invalidateState.y1)&&this.invalidateParentCallback&&this.invalidateParentCallback(),this.invalidateState=void 0)},AnnotationBase.prototype.toJSON=function(){var e={id:this.id,annotationLayer:this.annotationLayer,isEditable:this.isEditable,isHidden:this.isHidden,isSelected:this.isSelected,onDrag:this.typeMap.get("onDrag"),onDragEnded:this.typeMap.get("onDragEnded"),onDragStarted:this.typeMap.get("onDragStarted"),onClick:this.typeMap.get("onClick"),opacity:this.opacity,resizeDirections:this.resizeDirections,x1:this.x1Property,x2:this.x2Property,y1:this.y1Property,y2:this.y2Property,xAxisId:this.xAxisId,yAxisId:this.yAxisId,xCoordinateMode:this.xCoordinateMode,yCoordinateMode:this.yCoordinateMode,annotationsGripsStroke:this.annotationsGripsStroke,annotationsGripsFill:this.annotationsGripsFill,annotationsGripsRadius:this.annotationsGripsRadius,selectionBoxStroke:this.selectionBoxStroke,selectionBoxDelta:this.selectionBoxDelta,selectionBoxThickness:this.selectionBoxThickness,dragPoints:this.dragPointsProperty};return{type:this.type,options:e}},AnnotationBase.prototype.getAnnotationBorders=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),!e&&!t)return this.annotationBorders;var r,i,n=this.annotationBorders,o=n.x1,a=n.x2,s=n.y1,l=n.y2,u=t?this.selectionBoxDelta:0;return e?(a<o?(o=(r=[a-u,o+u])[0],a=r[1]):(o-=u,a+=u),l<s?(s=(i=[l-u,s+u])[0],l=i[1]):(s-=u,l+=u)):(a<o?(o+=u,a-=u):(o-=u,a+=u),l<s?(s+=u,l-=u):(s-=u,l+=u)),{x1:o,x2:a,y1:s,y2:l}},AnnotationBase.prototype.getAdornerAnnotationBorders=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=this.getAnnotationBorders(e,t),i=this.isSvgAnnotation?r.x1*b.DpiHelper.PIXEL_RATIO:r.x1,n=this.isSvgAnnotation?r.x2*b.DpiHelper.PIXEL_RATIO:r.x2,o=this.isSvgAnnotation?r.y1*b.DpiHelper.PIXEL_RATIO:r.y1,a=this.isSvgAnnotation?r.y2*b.DpiHelper.PIXEL_RATIO:r.y2,s=(0,v.translateFromSeriesViewRectToCanvas)(new h.Point(i,o),this.parentSurface.seriesViewRect,!0),l=(0,v.translateFromSeriesViewRectToCanvas)(new h.Point(n,a),this.parentSurface.seriesViewRect,!0);return{x1:s.x/b.DpiHelper.PIXEL_RATIO,x2:l.x/b.DpiHelper.PIXEL_RATIO,y1:s.y/b.DpiHelper.PIXEL_RATIO,y2:l.y/b.DpiHelper.PIXEL_RATIO}},AnnotationBase.prototype.getAnnotationGripSvg=function(e,t){return'<circle cx="'.concat(e,'" cy="').concat(t,'" r="').concat(this.annotationsGripsRadius,'" fill="').concat(this.annotationsGripsFill,'" stroke="').concat(this.annotationsGripsStroke,'"/>')},AnnotationBase.prototype.canDragPoint=function(e){return this.dragPointsProperty.includes(e)},AnnotationBase.prototype.svgStringAdornerTemplate=function(e,t,r,i){return'<svg xmlns="http://www.w3.org/2000/svg"></svg>'},AnnotationBase.prototype.notifyPropertyChanged=function(e){this.invalidateParentCallback&&!this.invalidateState&&this.invalidateParentCallback()},AnnotationBase.prototype.getCoordinate=function(e,t,r){if(p.Guard.notNull(r,"coordinateMode"),p.Guard.notNull(t,"calculator"),void 0!==e)switch(r){case s.Pixel:return this.isSvgAnnotation?e:e*b.DpiHelper.PIXEL_RATIO;case s.DataValue:var i=null!=e?t.getCoordinate(e):void 0;return this.isSvgAnnotation?i/b.DpiHelper.PIXEL_RATIO:i;case s.Relative:return this.isSvgAnnotation?(e*t.viewportDimension+t.offset)/b.DpiHelper.PIXEL_RATIO:e*t.viewportDimension+t.offset;default:throw Error("AnnotationBase.getCoordinate with CoordinateMode.".concat(r," is not implemented"))}},AnnotationBase.prototype.getX1Coordinate=function(e,t){var r,i;return this.isVerticalChart?this.getCoordinate(null!==(r=this.y1)&&void 0!==r?r:0,t,this.yCoordinateMode):this.getCoordinate(null!==(i=this.x1)&&void 0!==i?i:0,e,this.xCoordinateMode)},AnnotationBase.prototype.getX2Coordinate=function(e,t){var r,i;return this.isVerticalChart?this.getCoordinate(null!==(r=this.y2)&&void 0!==r?r:0,t,this.yCoordinateMode):this.getCoordinate(null!==(i=this.x2)&&void 0!==i?i:0,e,this.xCoordinateMode)},AnnotationBase.prototype.getY1Coordinate=function(e,t){var r,i;return this.isVerticalChart?this.getCoordinate(null!==(r=this.x1)&&void 0!==r?r:0,e,this.xCoordinateMode):this.getCoordinate(null!==(i=this.y1)&&void 0!==i?i:0,t,this.yCoordinateMode)},AnnotationBase.prototype.getY2Coordinate=function(e,t){var r,i;return this.isVerticalChart?this.getCoordinate(null!==(r=this.x2)&&void 0!==r?r:0,e,this.xCoordinateMode):this.getCoordinate(null!==(i=this.y2)&&void 0!==i?i:0,t,this.yCoordinateMode)},AnnotationBase.prototype.getValue=function(e,t,r){switch(r){case s.Pixel:return this.isSvgAnnotation?t.getDataValue(e*b.DpiHelper.PIXEL_RATIO):t.getDataValue(e);case s.DataValue:return e;case s.Relative:return(t.visibleMax-t.visibleMin)*e+t.visibleMin;default:throw Error("Not implemented")}},AnnotationBase.prototype.checkIsClickedOnAnnotationInternal=function(e,t){return!1},AnnotationBase.prototype.deleteAdorner=function(){this.svgAdorner&&this.parentSurface&&!this.parentSurface.isDeleted&&(this.svgAdornerRoot.removeChild(this.svgAdorner),this.svgAdorner=void 0)},AnnotationBase.prototype.getValuesFromCoordinates=function(e,t){var r=this.parentSurface.seriesViewRect,i=t?(0,v.translateFromCanvasToSeriesViewRect)(e,r,!0):e;if(i){var n=this.parentSurface.getXAxisById(this.xAxisId),o=n.getCurrentCoordinateCalculator(),a=this.parentSurface.getYAxisById(this.yAxisId),s=a.getCurrentCoordinateCalculator(),l=this.convertFromCoordinate(n.isHorizontalAxis?i.x:i.y,o,this.xCoordinateMode),u=this.convertFromCoordinate(a.isHorizontalAxis?i.x:i.y,s,this.yCoordinateMode);return new h.Point(l,u)}},AnnotationBase.prototype.getXYCoordinatesFromValues=function(e){var t=this.parentSurface.seriesViewRect,r=this.getAbsoluteCoordinates(e),i=(0,v.translateFromSeriesViewRectToCanvas)(r,t,!0);if(i)return new h.Point(i.x,i.y)},AnnotationBase.prototype.convertFromCoordinate=function(e,t,r){switch(r){case s.Pixel:return e/b.DpiHelper.PIXEL_RATIO;case s.DataValue:return null!=e?t.getDataValue(e):void 0;case s.Relative:return(e-t.offset)/t.viewportDimension;default:throw Error("Not implemented")}},AnnotationBase.prototype.getAbsoluteCoordinates=function(e){var t=this.parentSurface.getXAxisById(this.xAxisId).getCurrentCoordinateCalculator(),r=this.parentSurface.getYAxisById(this.yAxisId).getCurrentCoordinateCalculator(),i=this.getCoordinate(e.x,t,this.xCoordinateMode),n=this.getCoordinate(e.y,r,this.yCoordinateMode);return this.isVerticalChart?new h.Point(n,i):new h.Point(i,n)},AnnotationBase.prototype.getAbsoluteHorizontalCoordinate=function(e){var t=this.parentSurface.getXAxisById(this.xAxisId).getCurrentCoordinateCalculator(),r=this.parentSurface.getYAxisById(this.yAxisId).getCurrentCoordinateCalculator();return this.isVerticalChart?this.getCoordinate(e,r,this.yCoordinateMode):this.getCoordinate(e,t,this.xCoordinateMode)},AnnotationBase.prototype.getAbsoluteVerticalCoordinate=function(e){var t=this.parentSurface.getXAxisById(this.xAxisId).getCurrentCoordinateCalculator(),r=this.parentSurface.getYAxisById(this.yAxisId).getCurrentCoordinateCalculator();return this.isVerticalChart?this.getCoordinate(e,t,this.xCoordinateMode):this.getCoordinate(e,r,this.yCoordinateMode)},AnnotationBase.prototype.setAnnotationBorders=function(e,t,r,i){this.annotationBorders={x1:e,x2:t,y1:r,y2:i}},AnnotationBase}(c.DeletableEntity);t.AnnotationBase=T},94805:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationClickEventArgs=void 0,t.AnnotationClickEventArgs=function(e,t,r){this.sender=e,this.mouseArgs=t,this.relativeCoords=r}},82412:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationDragDeltaEventArgs=void 0,t.AnnotationDragDeltaEventArgs=function(){}},5613:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.AxisMarkerAnnotation=void 0;var o=r(92530),a=r(48484),s=r(93343),l=r(79361),u=r(48861),c=r(91462),d=r(22148),p=r(78501),h=r(61670),f=r(52354),y=function(e){function AxisMarkerAnnotation(t){var r,i,n,o,a,s,l,u,c,d,p,h=this;return(h=e.call(this,t)||this).type=f.EAnnotationType.RenderContextAxisMarkerAnnotation,h.fontSizeProperty=14,h.fontFamilyProperty="Arial",h.fontWeightProperty="Normal",h.fontStyleProperty="Normal",h.colorProperty="#FFFFFF",h.backgroundColorProperty="#b36200",h.fontSizeProperty=null!==(r=null==t?void 0:t.fontSize)&&void 0!==r?r:h.fontSizeProperty,h.fontFamilyProperty=null!==(i=null==t?void 0:t.fontFamily)&&void 0!==i?i:h.fontFamilyProperty,h.fontWeightProperty=null!==(n=null==t?void 0:t.fontWeight)&&void 0!==n?n:h.fontWeightProperty,h.fontStyleProperty=null!==(o=null==t?void 0:t.fontStyle)&&void 0!==o?o:h.fontStyleProperty,h.colorProperty=null!==(a=null==t?void 0:t.color)&&void 0!==a?a:h.colorProperty,h.paddingProperty=null!==(s=null==t?void 0:t.padding)&&void 0!==s?s:h.paddingProperty,h.backgroundColorProperty=null!==(l=null==t?void 0:t.backgroundColor)&&void 0!==l?l:h.backgroundColorProperty,h.formattedValueProperty=null!==(u=null==t?void 0:t.formattedValue)&&void 0!==u?u:h.formattedValueProperty,h.imageProperty=null!==(c=null==t?void 0:t.image)&&void 0!==c?c:h.imageProperty,h.imageWidthProperty=null!==(d=null==t?void 0:t.imageWidth)&&void 0!==d?d:h.imageWidthProperty,h.imageHeightProperty=null!==(p=null==t?void 0:t.imageHeight)&&void 0!==p?p:h.imageHeightProperty,(null==t?void 0:t.x1)&&(h.x1=t.x1),(null==t?void 0:t.x2)&&(h.x2=t.x2),(null==t?void 0:t.y2)&&(h.y2=t.y2),h}return n(AxisMarkerAnnotation,e),AxisMarkerAnnotation.prototype.delete=function(){},Object.defineProperty(AxisMarkerAnnotation.prototype,"y2",{get:function(){throw Error("y2 property is not supported for AxisMarkerAnnotation")},set:function(e){throw Error("y2 property is not supported for AxisMarkerAnnotation")},enumerable:!1,configurable:!0}),Object.defineProperty(AxisMarkerAnnotation.prototype,"x2",{get:function(){throw Error("x2 property is not supported for AxisMarkerAnnotation")},set:function(e){throw Error("x2 property is not supported for AxisMarkerAnnotation")},enumerable:!1,configurable:!0}),Object.defineProperty(AxisMarkerAnnotation.prototype,"backgroundColor",{get:function(){return this.backgroundColorProperty},set:function(e){this.backgroundColorProperty=e,this.notifyPropertyChanged(h.PROPERTY.BACKGROUND_COLOR)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisMarkerAnnotation.prototype,"color",{get:function(){return this.colorProperty},set:function(e){this.colorProperty=e,this.notifyPropertyChanged(h.PROPERTY.COLOR)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisMarkerAnnotation.prototype,"fontSize",{get:function(){return this.fontSizeProperty},set:function(e){this.fontSizeProperty=e,this.notifyPropertyChanged(h.PROPERTY.FONT_SIZE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisMarkerAnnotation.prototype,"fontFamily",{get:function(){return this.fontFamilyProperty},set:function(e){this.fontFamilyProperty=e,this.notifyPropertyChanged(h.PROPERTY.FONT_FAMILY)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisMarkerAnnotation.prototype,"fontWeight",{get:function(){return this.fontWeightProperty},set:function(e){this.fontWeightProperty=e,this.notifyPropertyChanged(h.PROPERTY.FONT_WEIGHT)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisMarkerAnnotation.prototype,"fontStyle",{get:function(){return this.fontStyleProperty},set:function(e){this.fontStyleProperty=e,this.notifyPropertyChanged(h.PROPERTY.FONT_STYLE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisMarkerAnnotation.prototype,"padding",{get:function(){return this.paddingProperty},set:function(e){this.paddingProperty=e,this.notifyPropertyChanged(h.PROPERTY.PADDING)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisMarkerAnnotation.prototype,"formattedValue",{get:function(){return this.formattedValueProperty},set:function(e){this.formattedValueProperty=e,this.notifyPropertyChanged(h.PROPERTY.FORMATTED_VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisMarkerAnnotation.prototype,"image",{get:function(){return this.imageProperty},set:function(e){this.imageProperty=e,this.notifyPropertyChanged(h.PROPERTY.IMAGE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisMarkerAnnotation.prototype,"imageWidth",{get:function(){return this.imageWidthProperty},set:function(e){this.imageWidthProperty=e,this.notifyPropertyChanged(h.PROPERTY.IMAGE_WIDTH)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisMarkerAnnotation.prototype,"imageHeight",{get:function(){return this.imageHeightProperty},set:function(e){this.imageHeightProperty=e,this.notifyPropertyChanged(h.PROPERTY.IMAGE_HEIGHT)},enumerable:!1,configurable:!0}),AxisMarkerAnnotation.prototype.drawWithContext=function(e,t,r,i){o.Guard.notNull(e,"renderContext"),o.Guard.notNull(t,"xCalc"),o.Guard.notNull(r,"yCalc");var n=this.getX1Coordinate(t,r),s=this.getY1Coordinate(t,r),d=null==this.x1,p=d?this.y1:this.x1;o.Guard.argumentIsRealNumber(p,"x1 or y1");var h=this.xAxisId,f=this.parentSurface.getXAxisById(h),y=this.yAxisId,g=this.parentSurface.getYAxisById(y),v=d?g:f;if(v&&!1!==v.isVisible){var m=d?this.yCoordinateMode:this.xCoordinateMode,S=d?r:t,b=this.getCoordinate(p,S,m);if(v.isHorizontalAxis?b>=0&&b<=v.parentSurface.seriesViewRect.width:b>=0&&b<=v.parentSurface.seriesViewRect.height){var P={fontFamily:this.fontFamilyProperty,fontSize:this.fontSizeProperty*c.DpiHelper.PIXEL_RATIO,fontStyle:this.fontStyleProperty,color:this.colorProperty},C=(0,u.drawAxisMarkerAnnotation)(v,e,this.formattedValueProperty,b,n,s,P,this.backgroundColorProperty,this.opacity,this.image,this.imageWidth,this.imageHeight),x=(0,l.translateFromCanvasToSeriesViewRect)(new a.Point(C.xPosition,C.yPosition),i,!0),A=(0,l.translateFromCanvasToSeriesViewRect)(new a.Point(C.xPosition+C.textureWidth,C.yPosition+C.textureHeight),i,!0);this.setAnnotationBorders(x.x,A.x,x.y,A.y),this.updateAdornerInner()}else this.deleteAdorner()}},AxisMarkerAnnotation.prototype.onDragStarted=function(t){e.prototype.onDragStarted.call(this,t);var r=this.calculateAdornerCenter(),i=r.x,n=r.y,o=(0,l.translateFromCanvasToSeriesViewRect)(new a.Point(t.mousePoint.x,t.mousePoint.y),this.parentSurface.seriesViewRect,!0),u=(0,l.translateFromCanvasToSeriesViewRect)(new a.Point(i*c.DpiHelper.PIXEL_RATIO,n*c.DpiHelper.PIXEL_RATIO),this.parentSurface.seriesViewRect,!0);if(o){if(u&&(0,s.calcDistance)(u.x,u.y,o.x,o.y)<this.annotationsGripsRadius*c.DpiHelper.PIXEL_RATIO)return this.adornerDraggingPoint=d.EDraggingGripPoint.x1y1,!0;if(this.clickToSelect(t))return this.adornerDraggingPoint=d.EDraggingGripPoint.Body,!0}return!1},AxisMarkerAnnotation.prototype.calcDragDistance=function(e){if(!this.prevValue){this.prevValue=e;return}void 0!==this.x1?this.x1-=this.prevValue.x-e.x:void 0!==this.y1&&(this.y1-=this.prevValue.y-e.y),this.prevValue=e},AxisMarkerAnnotation.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={backgroundColor:this.backgroundColor,color:this.color,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontWeight:this.fontWeight,formattedValue:this.formattedValue,padding:this.padding};return Object.assign(t.options,r),t},AxisMarkerAnnotation.prototype.checkIsClickedOnAnnotationInternal=function(e,t){var r=this.getAnnotationBorders(!0),i=r.x1,n=r.x2,o=r.y1,a=r.y2;return(0,s.testIsInBounds)(e,t,i,a,n,o)},AxisMarkerAnnotation.prototype.updateAdornerInner=function(){if(this.deleteAdorner(),this.isSelected){var e=this.getAdornerAnnotationBorders(!0,!0),t=e.x1,r=e.x2,i=e.y1,n=e.y2,o=this.svgStringAdornerTemplate(t,i,r,n);this.svgAdorner=p.annotationHelpers.createSvg(o,this.svgAdornerRoot)}},AxisMarkerAnnotation.prototype.svgStringAdornerTemplate=function(e,t,r,i){var n=this.selectionBoxStroke,o=this.calculateAdornerCenter(),a=o.x,s=o.y,l=i-t;return'<svg xmlns="http://www.w3.org/2000/svg">\n        <rect x="'.concat(e,'" y="').concat(t,'" width="').concat(r-e,'" height="').concat(l,'" stroke="').concat(n,'" stroke-width="').concat(this.selectionBoxThickness,'px" fill="none" />\n        ').concat(this.getAnnotationGripSvg(a,s),"\n        </svg>")},AxisMarkerAnnotation.prototype.calculateAdornerCenter=function(){var e=this.getAdornerAnnotationBorders();return{x:Math.abs((e.x1+e.x2)/2),y:Math.abs((e.y1+e.y2)/2)}},AxisMarkerAnnotation}(r(89489).RenderContextAnnotationBase);t.AxisMarkerAnnotation=y},56806:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BoxAnnotation=void 0;var o=r(2003),a=r(94694),s=r(92530),l=r(48484),u=r(47494),c=r(24510),d=r(93343),p=r(79361),h=r(12840),f=r(8355),y=r(91462),g=r(22148),v=r(78501),m=r(61670),S=r(52354),b=function(e){function BoxAnnotation(t){var r,i,n,o=this;return(o=e.call(this,t)||this).type=S.EAnnotationType.RenderContextBoxAnnotation,o.strokeThicknessProperty=1,o.stroke=null!==(r=null==t?void 0:t.stroke)&&void 0!==r?r:"#ffffff",o.strokeThickness=null!==(i=null==t?void 0:t.strokeThickness)&&void 0!==i?i:1,o.fill=null!==(n=null==t?void 0:t.fill)&&void 0!==n?n:"#777777",o}return n(BoxAnnotation,e),Object.defineProperty(BoxAnnotation.prototype,"stroke",{get:function(){return this.strokeProperty},set:function(e){this.strokeProperty=e,this.notifyPropertyChanged(m.PROPERTY.STROKE)},enumerable:!1,configurable:!0}),Object.defineProperty(BoxAnnotation.prototype,"strokeThickness",{get:function(){return this.strokeThicknessProperty},set:function(e){this.strokeThicknessProperty=e,this.notifyPropertyChanged(m.PROPERTY.STROKE_THICKNESS)},enumerable:!1,configurable:!0}),Object.defineProperty(BoxAnnotation.prototype,"fill",{get:function(){return this.fillProperty},set:function(e){this.fillProperty=e,this.notifyPropertyChanged(m.PROPERTY.FILL)},enumerable:!1,configurable:!0}),BoxAnnotation.prototype.delete=function(){this.strokePenCache=(0,a.deleteSafe)(this.strokePenCache),this.fillBrushCache=(0,a.deleteSafe)(this.fillBrushCache),this.nativeDrawingProvider=(0,a.deleteSafe)(this.nativeDrawingProvider)},BoxAnnotation.prototype.drawWithContext=function(e,t,r,i){s.Guard.notNull(e,"renderContext"),s.Guard.notNull(t,"xCalc"),s.Guard.notNull(r,"yCalc");var n=this.stroke&&this.strokeThickness?(0,f.getWebGlPenFromCache)(this.strokePenCache):void 0;null==n||n.setOpacity(this.opacity);var a=this.fill?(0,h.getWebGlBrushFromCache)(this.fillBrushCache):void 0;null==a||a.setOpacity(this.opacity);var c=this.getX1Coordinate(t,r),d=this.getX2Coordinate(t,r),p=this.getY1Coordinate(t,r),y=this.getY2Coordinate(t,r);this.setAnnotationBorders(c,d,p,y);var g=u.Rect.createWithPoints(new l.Point(c,p),new l.Point(d,y));o.IS_TEST_ENV||(this.strokeThickness>3?this.drawWithProvider(e,n.scrtPen,a.scrtBrush,t,r,g,i):e.drawRect(g,i,n,a)),this.updateAdornerInner()},BoxAnnotation.prototype.onAttach=function(t){e.prototype.onAttach.call(this,t),this.nativeDrawingProvider=new t.webAssemblyContext2D.SCRTColumnSeriesDrawingProvider,this.strokePenCache||(this.strokePenCache=new f.Pen2DCache(t.webAssemblyContext2D)),(0,f.createPenInCache)(this.strokePenCache,this.stroke,this.strokeThickness,this.opacity),this.fillBrushCache||(this.fillBrushCache=new h.BrushCache(t.webAssemblyContext2D)),(0,h.createBrushInCache)(this.fillBrushCache,this.fill,this.opacity)},BoxAnnotation.prototype.onDragStarted=function(t){e.prototype.onDragStarted.call(this,t);var r=this.getAnnotationBorders(!1,!0),i=r.x1,n=r.x2,o=r.y1,a=r.y2,s=v.annotationHelpers.calcNewApex(i,o,n,a,this.isVerticalChart),u=s.x1y1,c=s.x2y1,h=s.x1y2,f=s.x2y2,m=(0,p.translateFromCanvasToSeriesViewRect)(new l.Point(t.mousePoint.x,t.mousePoint.y),this.parentSurface.seriesViewRect,!0);if(u&&this.canDragPoint(g.EDraggingGripPoint.x1y1)){var S=(0,d.calcDistance)(u.x,u.y,m.x,m.y);if(S<this.annotationsGripsRadius*y.DpiHelper.PIXEL_RATIO)return this.adornerDraggingPoint=g.EDraggingGripPoint.x1y1,!0}if(c&&this.canDragPoint(g.EDraggingGripPoint.x2y1)){var S=(0,d.calcDistance)(c.x,c.y,m.x,m.y);if(S<this.annotationsGripsRadius*y.DpiHelper.PIXEL_RATIO)return this.adornerDraggingPoint=g.EDraggingGripPoint.x2y1,!0}if(h&&this.canDragPoint(g.EDraggingGripPoint.x1y2)){var S=(0,d.calcDistance)(h.x,h.y,m.x,m.y);if(S<this.annotationsGripsRadius*y.DpiHelper.PIXEL_RATIO)return this.adornerDraggingPoint=g.EDraggingGripPoint.x1y2,!0}if(f&&this.canDragPoint(g.EDraggingGripPoint.x2y2)){var S=(0,d.calcDistance)(f.x,f.y,m.x,m.y);if(S<this.annotationsGripsRadius*y.DpiHelper.PIXEL_RATIO)return this.adornerDraggingPoint=g.EDraggingGripPoint.x2y2,!0}return!!(m&&this.canDragPoint(g.EDraggingGripPoint.Body)&&this.clickToSelect(t))&&(this.adornerDraggingPoint=g.EDraggingGripPoint.Body,!0)},BoxAnnotation.prototype.calcDragDistance=function(e){if(!this.prevValue){this.prevValue=e;return}this.adornerDraggingPoint===g.EDraggingGripPoint.Body?(this.x1=this.x1-(this.prevValue.x-e.x),this.x2=this.x2-(this.prevValue.x-e.x),this.y1=this.y1-(this.prevValue.y-e.y),this.y2=this.y2-(this.prevValue.y-e.y)):this.adornerDraggingPoint===g.EDraggingGripPoint.x1y1?this.resizeDirections===c.EXyDirection.XDirection?this.x1-=this.prevValue.x-e.x:(this.resizeDirections===c.EXyDirection.YDirection||(this.x1-=this.prevValue.x-e.x),this.y1-=this.prevValue.y-e.y):this.adornerDraggingPoint===g.EDraggingGripPoint.x2y2?this.resizeDirections===c.EXyDirection.XDirection?this.x2-=this.prevValue.x-e.x:(this.resizeDirections===c.EXyDirection.YDirection||(this.x2-=this.prevValue.x-e.x),this.y2-=this.prevValue.y-e.y):this.adornerDraggingPoint===g.EDraggingGripPoint.x2y1?this.resizeDirections===c.EXyDirection.XDirection?this.x2-=this.prevValue.x-e.x:(this.resizeDirections===c.EXyDirection.YDirection||(this.x2-=this.prevValue.x-e.x),this.y1-=this.prevValue.y-e.y):this.adornerDraggingPoint===g.EDraggingGripPoint.x1y2&&(this.resizeDirections===c.EXyDirection.XDirection?this.x1-=this.prevValue.x-e.x:(this.resizeDirections===c.EXyDirection.YDirection||(this.x1-=this.prevValue.x-e.x),this.y2-=this.prevValue.y-e.y)),this.prevValue=e},BoxAnnotation.prototype.onDpiChanged=function(t){e.prototype.onDpiChanged.call(this,t),this.notifyPropertyChanged(m.PROPERTY.STROKE)},BoxAnnotation.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={fill:this.fill,stroke:this.stroke,strokeThickness:this.strokeThickness};return Object.assign(t.options,r),t},BoxAnnotation.prototype.checkIsClickedOnAnnotationInternal=function(e,t){var r=this.getAnnotationBorders(!0),i=r.x1,n=r.x2,o=r.y1,a=r.y2;return(0,d.testIsInBounds)(e,t,i,a,n,o)},BoxAnnotation.prototype.notifyPropertyChanged=function(t){e.prototype.notifyPropertyChanged.call(this,t);var r=[m.PROPERTY.STROKE,m.PROPERTY.STROKE_THICKNESS,m.PROPERTY.STROKE_DASH_ARRAY,m.PROPERTY.OPACITY];this.strokePenCache&&r.includes(t)&&(0,f.createPenInCache)(this.strokePenCache,this.stroke,this.strokeThickness,this.opacity);var i=[m.PROPERTY.FILL,m.PROPERTY.OPACITY];this.fillBrushCache&&i.includes(t)&&(0,h.createBrushInCache)(this.fillBrushCache,this.fill,this.opacity)},BoxAnnotation.prototype.updateAdornerInner=function(){if(this.deleteAdorner(),this.isSelected){var e=this.getAdornerAnnotationBorders(!0,!0),t=e.x1,r=e.x2,i=e.y1,n=e.y2,o=this.svgStringAdornerTemplate(t,i,r,n);this.svgAdorner=v.annotationHelpers.createSvg(o,this.svgAdornerRoot)}},BoxAnnotation.prototype.svgStringAdornerTemplate=function(e,t,r,i){var n=this.selectionBoxStroke,o=i-t,a='<svg xmlns="http://www.w3.org/2000/svg">\n        <rect x="'.concat(e,'" y="').concat(t,'" width="').concat(r-e,'" height="').concat(o,'" stroke="').concat(n,'" stroke-width="').concat(this.selectionBoxThickness,'px" fill="none" />\n        '),s=this.getAdornerAnnotationBorders(!1,!0);return this.canDragPoint(g.EDraggingGripPoint.x1y1)&&(a+=this.getAnnotationGripSvg(s.x1,s.y1)),this.canDragPoint(g.EDraggingGripPoint.x2y2)&&(a+=this.getAnnotationGripSvg(s.x2,s.y2)),this.canDragPoint(g.EDraggingGripPoint.x2y1)&&(a+=this.getAnnotationGripSvg(s.x2,s.y1)),this.canDragPoint(g.EDraggingGripPoint.x1y2)&&(a+=this.getAnnotationGripSvg(s.x1,s.y2)),a+="</svg>"},BoxAnnotation.prototype.drawWithProvider=function(e,t,r,i,n,o,a){var s=this.parentSurface.webAssemblyContext2D,l=new s.SCRTColumnDrawingParams;l.forceShaderMethod=!0,l.verticalChart=this.isVerticalChart,l.zeroLineY=this.isVerticalChart?n.getDataValue(o.left):n.getDataValue(o.bottom),l.columnWidth=this.isVerticalChart?o.height:o.width,t&&l.SetLinesPen(t),r&&l.SetFillBrush(r),l.viewportWidth=a.width,l.viewportHeight=a.height;var u=this.isVerticalChart?(o.top+o.bottom)/2:(o.left+o.right)/2,c=i.getDataValue(u),d=new s.SCRTDoubleVector;d.push_back(c);var p=this.isVerticalChart?n.getDataValue(o.right):n.getDataValue(o.top),h=new s.SCRTDoubleVector;h.push_back(p),l.count=h.size();var f=e.getNativeContext();f.PushMatrix(),f.PushState(),f.Translate(a.x,a.y),f.SetClipRect(a.x,a.y,a.width,a.height),this.nativeDrawingProvider.DrawPointsVec(f,d,h,i.nativeCalculator,n.nativeCalculator,l),f.PopMatrix(),f.PopState(),d.delete(),h.delete(),l.delete()},BoxAnnotation}(r(89489).RenderContextAnnotationBase);t.BoxAnnotation=b},60894:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CursorTooltipSvgAnnotation=void 0;var o=r(55617),a=r(78501),s=r(61670),l=r(52354),u=function(e){function CursorTooltipSvgAnnotation(t){var r,i,n,o,a,s,u,c,d,p=this;if((p=e.call(this,t)||this).type=l.EAnnotationType.SVG,p.seriesInfosProperty=[],p.isHidden=!0,p.titleProperty=null!==(r=null==t?void 0:t.title)&&void 0!==r?r:p.titleProperty,p.tooltipSvgTemplateProperty=null!==(i=null==t?void 0:t.tooltipSvgTemplate)&&void 0!==i?i:p.tooltipSvgTemplateProperty,p.tooltipLegendTemplateProperty=null!==(n=null==t?void 0:t.tooltipLegendTemplate)&&void 0!==n?n:p.tooltipLegendTemplateProperty,p.seriesInfosProperty=null!==(o=null==t?void 0:t.seriesInfos)&&void 0!==o?o:p.seriesInfosProperty,p.containerBackgroundProperty=null!==(a=null==t?void 0:t.containerBackground)&&void 0!==a?a:p.containerBackgroundProperty,p.textStrokeProperty=null!==(s=null==t?void 0:t.textStroke)&&void 0!==s?s:p.textStrokeProperty,p.tooltipLegendOffsetXProperty=null!==(u=null==t?void 0:t.tooltipLegendOffsetX)&&void 0!==u?u:p.tooltipLegendOffsetXProperty,p.tooltipLegendOffsetYProperty=null!==(c=null==t?void 0:t.tooltipLegendOffsetY)&&void 0!==c?c:p.tooltipLegendOffsetYProperty,p.cursorModifier=t.cursorModifier,p.placementDivId=null!==(d=null==t?void 0:t.placementDivId)&&void 0!==d?d:p.placementDivId,p.placementDivId){var h=document.querySelector("[id='".concat(p.placementDivId,"']"));p.svgDivRoot=h}return p}return n(CursorTooltipSvgAnnotation,e),Object.defineProperty(CursorTooltipSvgAnnotation.prototype,"seriesInfos",{get:function(){return this.seriesInfosProperty},set:function(e){this.seriesInfosProperty&&e&&(this.seriesInfosProperty=e,(e.length!==this.seriesInfosProperty.length||this.seriesInfosProperty.map(function(t){return t.equals(e.find(function(e){return e.renderableSeries.id===t.renderableSeries.id}))}).some(function(e){return!1===e}))&&this.notifyPropertyChanged(s.PROPERTY.SERIES_INFOS))},enumerable:!1,configurable:!0}),Object.defineProperty(CursorTooltipSvgAnnotation.prototype,"title",{get:function(){return this.titleProperty},set:function(e){this.titleProperty!==e&&(this.titleProperty=e,this.notifyPropertyChanged(s.PROPERTY.TITLE))},enumerable:!1,configurable:!0}),Object.defineProperty(CursorTooltipSvgAnnotation.prototype,"tooltipSvgTemplate",{get:function(){return this.tooltipSvgTemplateProperty},set:function(e){this.tooltipSvgTemplateProperty=e,this.notifyPropertyChanged(s.PROPERTY.TOOLTIP_SVG_TEMPLATE)},enumerable:!1,configurable:!0}),Object.defineProperty(CursorTooltipSvgAnnotation.prototype,"tooltipLegendTemplate",{get:function(){return this.tooltipLegendTemplateProperty},set:function(e){this.tooltipLegendTemplateProperty=e,this.notifyPropertyChanged(s.PROPERTY.TOOLTIP_LEGEND_TEMPLATE)},enumerable:!1,configurable:!0}),Object.defineProperty(CursorTooltipSvgAnnotation.prototype,"containerBackground",{get:function(){return this.containerBackgroundProperty},set:function(e){this.containerBackgroundProperty!==e&&(this.containerBackgroundProperty=e,this.notifyPropertyChanged(s.PROPERTY.CONTAINER_BACKGROUND))},enumerable:!1,configurable:!0}),Object.defineProperty(CursorTooltipSvgAnnotation.prototype,"tooltipLegendOffsetX",{get:function(){return this.tooltipLegendOffsetXProperty},set:function(e){this.tooltipLegendOffsetXProperty!==e&&(this.tooltipLegendOffsetXProperty=e,this.notifyPropertyChanged(s.PROPERTY.TOOLTIP_LEGEND_OFFSET_X))},enumerable:!1,configurable:!0}),Object.defineProperty(CursorTooltipSvgAnnotation.prototype,"tooltipLegendOffsetY",{get:function(){return this.tooltipLegendOffsetYProperty},set:function(e){this.tooltipLegendOffsetYProperty!==e&&(this.tooltipLegendOffsetYProperty=e,this.notifyPropertyChanged(s.PROPERTY.TOOLTIP_LEGEND_OFFSET_Y))},enumerable:!1,configurable:!0}),Object.defineProperty(CursorTooltipSvgAnnotation.prototype,"textStroke",{get:function(){return this.textStrokeProperty},set:function(e){this.textStrokeProperty!==e&&(this.textStrokeProperty=e,this.notifyPropertyChanged(s.PROPERTY.TEXT_STROKE))},enumerable:!1,configurable:!0}),CursorTooltipSvgAnnotation.prototype.update=function(e,t,r,i){var n=this.cursorModifier.getMousePosition();(this.previousMousePosition!==n||n===o.EMousePosition.SeriesArea)&&(this.previousMousePosition=this.cursorModifier.getMousePosition(),this.svg&&this.clear(),this.create(e,t,r,i),this.placementDivId?this.updateExternalLegendTooltip():(this.updateTooltip(r,i),this.updateLegendTooltip()))},CursorTooltipSvgAnnotation.prototype.clear=function(){this.parentSurface&&!this.parentSurface.isDeleted&&this.svg&&(this.placementDivId?this.svgDivRoot.removeChild(this.svg):this.svgRoot.removeChild(this.svg),this.setSvg(void 0),this.svgLegend&&(this.svgRoot.removeChild(this.svgLegend),this.svgLegend=void 0))},CursorTooltipSvgAnnotation.prototype.create=function(e,t,r,i){if(!this.tooltipSvgTemplate)throw Error("Please provide a tooltipSvgTemplate for CursorTooltipSvgAnnotation");var n=this.tooltipSvgTemplate(this.seriesInfos,this);if(this.placementDivId){var o=a.annotationHelpers.createSvg(n,this.svgDivRoot);this.setSvg(o)}else{var o=a.annotationHelpers.createSvg(n,this.svgRoot);this.setSvg(o)}},CursorTooltipSvgAnnotation.prototype.updateTooltip=function(e,t){var r,i,n,o,a=null!==(r=this.xCoordShift)&&void 0!==r?r:0,s=null!==(i=this.yCoordShift)&&void 0!==i?i:0;this.svg.style.display=this.isHidden?"none":"block";var l=null!==(n=this.x1)&&void 0!==n?n:0,u=null!==(o=this.y1)&&void 0!==o?o:0,c=a+l+e,d=s+u+t;isNaN(c)||isNaN(d)?this.svg.style.display="none":(this.setSvgAttribute("x",c),this.setSvgAttribute("y",d))},CursorTooltipSvgAnnotation.prototype.updateLegendTooltip=function(){if(this.tooltipLegendTemplate){var e=this.seriesInfos?this.tooltipLegendTemplate(this.seriesInfos,this):"<svg></svg>";this.svgLegend&&this.svgRoot.removeChild(this.svgLegend);var t=a.annotationHelpers.createSvg(e,this.svgRoot);this.svgLegend=t,this.svgLegend.setAttribute("x",this.tooltipLegendOffsetX.toString()),this.svgLegend.setAttribute("y",this.tooltipLegendOffsetY.toString())}},CursorTooltipSvgAnnotation.prototype.updateExternalLegendTooltip=function(){if(this.tooltipLegendTemplate){var e=this.seriesInfos?this.tooltipLegendTemplate(this.seriesInfos,this):"<svg style='display: none'></svg>";this.svgLegend&&this.svgLegend.removeChild(this.svgLegend);var t=a.annotationHelpers.createSvg(e,this.svgRoot);this.svgLegend=t}},CursorTooltipSvgAnnotation}(r(38437).SvgAnnotationBase);t.CursorTooltipSvgAnnotation=u},7267:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CustomAnnotation=void 0;var o=r(78501),a=r(52354),s=function(e){function CustomAnnotation(t){var r,i=this;return(i=e.call(this,t)||this).type=a.EAnnotationType.SVGCustomAnnotation,i.svgStringProperty=null!==(r=null==t?void 0:t.svgString)&&void 0!==r?r:void 0,i}return n(CustomAnnotation,e),Object.defineProperty(CustomAnnotation.prototype,"svgString",{get:function(){return this.svgStringProperty},set:function(e){this.svgStringProperty!==e&&(this.clear(),this.svgStringProperty=e,this.notifyPropertyChanged("svgString"))},enumerable:!1,configurable:!0}),CustomAnnotation.prototype.getSvgString=function(e){return e.svgString},CustomAnnotation.prototype.updateSvg=function(e,t){return t},CustomAnnotation.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={svgString:this.svgString};return Object.assign(t.options,r),t},CustomAnnotation.prototype.create=function(e,t,r,i){if(this.svg&&!this.isEditable){this.calcAndSetAnnotationBorders(e,t);return}if(!this.svg||this.svg&&(this.isSelected||this.prevX1Coordinate!==this.getX1Coordinate(e,t)||this.prevY1Coordinate!==this.getY1Coordinate(e,t))){this.prevX1Coordinate=this.getX1Coordinate(e,t),this.prevY1Coordinate=this.getY1Coordinate(e,t),this.svg&&this.clear();var n=o.annotationHelpers.createSvg(this.getSvgString(this),this.svgRoot);this.setSvg(this.updateSvg(this,n)),this.calcAndSetAnnotationBorders(e,t),this.updateAdornerInner(),this.prevIsSelected=this.isSelected}else this.calcAndSetAnnotationBorders(e,t);this.prevIsSelected!==this.isSelected&&this.svg&&this.isEditable&&(this.updateAdornerInner(),this.prevIsSelected=this.isSelected)},CustomAnnotation}(r(38437).SvgAnnotationBase);t.CustomAnnotation=s},99802:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.HorizontalLineAnnotation=void 0;var a=r(92530),s=r(48484),l=r(47494),u=r(86599),c=r(93343),d=r(79361),p=r(8355),h=r(48861),f=r(91462),y=r(22148),g=r(52354),v=function(e){function HorizontalLineAnnotation(t){var r,i,n,o=this;return(o=e.call(this,t)||this).type=g.EAnnotationType.RenderContextHorizontalLineAnnotation,o.dragOnLine=!0,o.dragOnLabel=!0,(null==t?void 0:t.x2)&&(o.x2=t.x2),(null==t?void 0:t.y2)&&(o.y2=t.y2),o.dragOnLine=null!==(r=null==t?void 0:t.dragOnLine)&&void 0!==r?r:o.dragOnLine,o.dragOnLabel=null!==(i=null==t?void 0:t.dragOnLabel)&&void 0!==i?i:o.dragOnLabel,o.horizontalAlignment=null!==(n=null==t?void 0:t.horizontalAlignment)&&void 0!==n?n:o.horizontalAlignment,o}return n(HorizontalLineAnnotation,e),Object.defineProperty(HorizontalLineAnnotation.prototype,"y2",{get:function(){throw Error("y2 property is not supported for HorizontalLineAnnotation")},set:function(e){throw Error("y2 property is not supported for HorizontalLineAnnotation")},enumerable:!1,configurable:!0}),Object.defineProperty(HorizontalLineAnnotation.prototype,"x2",{get:function(){throw Error("x2 property is not supported for HorizontalLineAnnotation")},set:function(e){throw Error("x2 property is not supported for HorizontalLineAnnotation")},enumerable:!1,configurable:!0}),HorizontalLineAnnotation.prototype.drawWithContext=function(e,t,r,i){a.Guard.notNull(e,"renderContext"),a.Guard.notNull(t,"xCalc"),a.Guard.notNull(r,"yCalc");var n=this.stroke&&this.strokeThickness?(0,p.getWebGlPenFromCache)(this.strokePenCache):void 0,u=this.getDrawConfig(t,r),c=u.annotationCoord,y=u.lineAnnotationEdgeCoord,g=u.horizontalAxis,v=u.verticalAxis,m=u.horizontalAxisCoordinateMode,S=u.verticalAxisCoordinateMode,b=u.horizontalCoordinateCalculator,P=u.verticalCoordinateCalculator,C=u.isAlignmentRight;if(g&&v){var x=0,A=i.width;C&&(x=i.width,A=0);var T=this.getValue(y,b,m),_=T||0===T;_&&(A=A=this.getX1Coordinate(t,r));var R=this.getY1Coordinate(t,r);this.setAnnotationBorders(x,A,R,R);var E=this.getCoordinate(y,b,m),w=this.getCoordinate(c,P,S),D=w>=0&&w<=v.parentSurface.seriesViewRect.height,O=C?E<=g.parentSurface.seriesViewRect.width:E>=0;if(D&&(!_||O)){var I=o(o({},v.labelStyle),{color:this.axisLabelStroke,fontSize:this.axisFontSize*f.DpiHelper.PIXEL_RATIO,fontFamily:this.axisFontFamily}),M=(0,h.drawLineAnnotation)(v,e,this.labelPlacement,this.labelValue,x,A,R,R,I,this.axisLabelFill,n,i,this.showLabel,this.opacity,this.horizontalAlignment);if(M){var L=(0,d.translateFromCanvasToSeriesViewRect)(new s.Point(M.left,M.top),i,!0),k=(0,d.translateFromCanvasToSeriesViewRect)(new s.Point(M.right,M.bottom),i,!0);this.labelRect=l.Rect.createWithPoints(L,k)}}this.dragOnLine&&this.updateAdornerInner()}},HorizontalLineAnnotation.prototype.onDragStarted=function(t){return this.dragOnLine?e.prototype.onDragStarted.call(this,t):!!(this.dragOnLabel&&this.labelRect&&this.clickToSelect(t))&&(this.adornerDraggingPoint=y.EDraggingGripPoint.Body,!0)},HorizontalLineAnnotation.prototype.checkIsClickedOnAnnotationInternal=function(t,r){if(this.dragOnLine&&e.prototype.checkIsClickedOnAnnotationInternal.call(this,t,r))return!0;if(this.dragOnLabel&&this.labelRect){var i=this.labelRect,n=i.left,o=i.top,a=i.right,s=i.bottom;if((0,c.testIsInBounds)(t,r,n,s,a,o))return!0}return!1},HorizontalLineAnnotation.prototype.getDrawConfig=function(e,t){var r=this.xAxisId,i=this.parentSurface.getXAxisById(r),n=this.yAxisId,o=this.parentSurface.getYAxisById(n),a={annotationCoord:this.y1,lineAnnotationEdgeCoord:this.x1,horizontalAxis:i,verticalAxis:o,horizontalAxisCoordinateMode:this.xCoordinateMode,verticalAxisCoordinateMode:this.yCoordinateMode,horizontalCoordinateCalculator:e,verticalCoordinateCalculator:t,isAlignmentRight:(null==o?void 0:o.axisAlignment)===u.EAxisAlignment.Right},s={annotationCoord:this.x1,lineAnnotationEdgeCoord:this.y1,horizontalAxis:o,verticalAxis:i,horizontalAxisCoordinateMode:this.yCoordinateMode,verticalAxisCoordinateMode:this.xCoordinateMode,horizontalCoordinateCalculator:t,verticalCoordinateCalculator:e,isAlignmentRight:(null==i?void 0:i.axisAlignment)===u.EAxisAlignment.Right};return this.isVerticalChart?s:a},HorizontalLineAnnotation}(r(67356).LineAnnotation);t.HorizontalLineAnnotation=v},52354:function(e,t){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.EAnnotationType=t.EAnnotationLayer=void 0,(r=t.EAnnotationLayer||(t.EAnnotationLayer={})).AboveChart="AboveChart",r.BelowChart="BelowChart",r.Background="Background",(i=t.EAnnotationType||(t.EAnnotationType={})).SVG="SVG",i.RenderContextBoxAnnotation="RenderContextBoxAnnotation",i.RenderContextLineAnnotation="RenderContextLineAnnotation",i.RenderContextHorizontalLineAnnotation="RenderContextHorizontalLineAnnotation",i.RenderContextVerticalLineAnnotation="RenderContextVerticalLineAnnotation",i.RenderContextAxisMarkerAnnotation="RenderContextAxisMarkerAnnotation",i.RenderContextNativeTextAnnotation="RenderContextNativeTextAnnotation",i.SVGTextAnnotation="SVGTextAnnotation",i.SVGCustomAnnotation="SVGCustomAnnotation"},67356:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.LineAnnotation=void 0;var a=r(94694),s=r(92530),l=r(48484),u=r(87706),c=r(24510),d=r(93343),p=r(8355),h=r(48861),f=r(91462),y=r(22148),g=r(78501),v=r(61670),m=r(52354),S=function(e){function LineAnnotation(t){var r,i,n,o,a,s,l,c,d,p,h=this;return(h=e.call(this,t)||this).type=m.EAnnotationType.RenderContextLineAnnotation,h.axisFontSizeProperty=14,h.axisFontFamilyProperty="Arial",h.strokeThicknessProperty=1,h.strokeDashArrayProperty=[],h.strokeProperty="#FFFFFF",h.showLabelProperty=!1,h.axisLabelStrokeProperty="#ffffff",h.axisLabelFillProperty="#b36200",h.labelPlacementProperty=u.ELabelPlacement.Auto,h.labelValueProperty="",h.stroke=null!==(r=null==t?void 0:t.stroke)&&void 0!==r?r:h.strokeProperty,h.strokeThickness=null!==(i=null==t?void 0:t.strokeThickness)&&void 0!==i?i:h.strokeThicknessProperty,h.strokeDashArray=null!==(n=null==t?void 0:t.strokeDashArray)&&void 0!==n?n:h.strokeDashArrayProperty,h.showLabelProperty=null!==(o=null==t?void 0:t.showLabel)&&void 0!==o?o:h.showLabelProperty,h.axisLabelStrokeProperty=null!==(a=null==t?void 0:t.axisLabelStroke)&&void 0!==a?a:h.axisLabelStrokeProperty,h.axisLabelFillProperty=null!==(s=null==t?void 0:t.axisLabelFill)&&void 0!==s?s:h.axisLabelFillProperty,h.axisFontSizeProperty=null!==(l=null==t?void 0:t.axisFontSize)&&void 0!==l?l:h.axisFontSizeProperty,h.axisFontFamilyProperty=null!==(c=null==t?void 0:t.axisFontFamily)&&void 0!==c?c:h.axisFontFamilyProperty,h.labelPlacementProperty=null!==(d=null==t?void 0:t.labelPlacement)&&void 0!==d?d:h.labelPlacementProperty,h.labelValueProperty=null!==(p=null==t?void 0:t.labelValue)&&void 0!==p?p:h.labelValueProperty,h}return n(LineAnnotation,e),Object.defineProperty(LineAnnotation.prototype,"stroke",{get:function(){return this.strokeProperty},set:function(e){this.strokeProperty=e,this.notifyPropertyChanged(v.PROPERTY.STROKE)},enumerable:!1,configurable:!0}),Object.defineProperty(LineAnnotation.prototype,"strokeThickness",{get:function(){return this.strokeThicknessProperty},set:function(e){this.strokeThicknessProperty=e,this.notifyPropertyChanged(v.PROPERTY.STROKE_THICKNESS)},enumerable:!1,configurable:!0}),Object.defineProperty(LineAnnotation.prototype,"strokeDashArray",{get:function(){return this.strokeDashArrayProperty},set:function(e){this.strokeDashArrayProperty=e,this.notifyPropertyChanged(v.PROPERTY.STROKE_DASH_ARRAY)},enumerable:!1,configurable:!0}),Object.defineProperty(LineAnnotation.prototype,"showLabel",{get:function(){return this.showLabelProperty},set:function(e){this.showLabelProperty=e,this.notifyPropertyChanged(v.PROPERTY.SHOW_LABEL)},enumerable:!1,configurable:!0}),Object.defineProperty(LineAnnotation.prototype,"axisLabelStroke",{get:function(){return this.axisLabelStrokeProperty},set:function(e){this.axisLabelStrokeProperty=e,this.notifyPropertyChanged(v.PROPERTY.AXIS_LABELS_STROKE)},enumerable:!1,configurable:!0}),Object.defineProperty(LineAnnotation.prototype,"axisLabelFill",{get:function(){return this.axisLabelFillProperty},set:function(e){this.axisLabelFillProperty=e,this.notifyPropertyChanged(v.PROPERTY.AXIS_LABELS_FILL)},enumerable:!1,configurable:!0}),Object.defineProperty(LineAnnotation.prototype,"axisFontSize",{get:function(){return this.axisFontSizeProperty},set:function(e){this.axisFontSizeProperty=e,this.notifyPropertyChanged(v.PROPERTY.AXIS_FONT_SIZE)},enumerable:!1,configurable:!0}),Object.defineProperty(LineAnnotation.prototype,"axisFontFamily",{get:function(){return this.axisFontFamilyProperty},set:function(e){this.axisFontFamilyProperty=e,this.notifyPropertyChanged(v.PROPERTY.AXIS_FONT_FAMILY)},enumerable:!1,configurable:!0}),Object.defineProperty(LineAnnotation.prototype,"labelPlacement",{get:function(){return this.labelPlacementProperty},set:function(e){this.labelPlacementProperty=e,this.notifyPropertyChanged(v.PROPERTY.LABEL_PLACEMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(LineAnnotation.prototype,"labelValue",{get:function(){return this.labelValueProperty},set:function(e){this.labelValueProperty=e,this.notifyPropertyChanged(v.PROPERTY.LABEL_VALUE)},enumerable:!1,configurable:!0}),LineAnnotation.prototype.delete=function(){this.strokePenCache=(0,a.deleteSafe)(this.strokePenCache)},LineAnnotation.prototype.onAttach=function(t){e.prototype.onAttach.call(this,t),this.strokePenCache||(this.strokePenCache=new p.Pen2DCache(t.webAssemblyContext2D)),(0,p.createPenInCache)(this.strokePenCache,this.stroke,this.strokeThickness,this.opacity,this.strokeDashArray)},LineAnnotation.prototype.drawWithContext=function(e,t,r,i){var n=this;s.Guard.notNull(e,"renderContext"),s.Guard.notNull(t,"xCalc"),s.Guard.notNull(r,"yCalc");var a=this.stroke&&this.strokeThickness?(0,p.getWebGlPenFromCache)(this.strokePenCache):void 0,l=this.getX1Coordinate(t,r),u=this.getX2Coordinate(t,r),c=this.getY1Coordinate(t,r),d=this.getY2Coordinate(t,r);if(this.setAnnotationBorders(l,u,c,d),a&&e.drawLine(l,c,u,d,a,i),this.showLabel){var f,y=[],g=[];l===u?(y=this.parentSurface.xAxes.asArray().filter(function(e){return!e.isVerticalChart}),g=this.parentSurface.yAxes.asArray().filter(function(e){return e.isVerticalChart}),f=l):c===d&&(y=this.parentSurface.yAxes.asArray().filter(function(e){return!e.isVerticalChart}),g=this.parentSurface.xAxes.asArray().filter(function(e){return e.isVerticalChart}),f=c),(y.length>0||g.length>0)&&o(o([],y,!0),g,!0).forEach(function(t){return(0,h.drawModifiersAxisLabel)(t,e,f,n.axisLabelFill,n.axisLabelStroke)})}this.updateAdornerInner()},LineAnnotation.prototype.onDragStarted=function(t){e.prototype.onDragStarted.call(this,t);var r=this.x1,i=this.type===m.EAnnotationType.RenderContextHorizontalLineAnnotation||this.type===m.EAnnotationType.RenderContextVerticalLineAnnotation?this.x1:this.x2,n=this.y1,o=this.type===m.EAnnotationType.RenderContextHorizontalLineAnnotation||this.type===m.EAnnotationType.RenderContextVerticalLineAnnotation?this.y1:this.y2,a=this.getXYCoordinatesFromValues(new l.Point(r,n)),s=this.getXYCoordinatesFromValues(new l.Point(i,o)),u=new l.Point(t.mousePoint.x,t.mousePoint.y);if(a&&this.canDragPoint(y.EDraggingGripPoint.x1y1)){var c=(0,d.calcDistance)(a.x,a.y,t.mousePoint.x,t.mousePoint.y);if(c<this.annotationsGripsRadius*f.DpiHelper.PIXEL_RATIO)return this.adornerDraggingPoint=y.EDraggingGripPoint.x1y1,!0}if(s&&this.canDragPoint(y.EDraggingGripPoint.x2y2)){var c=(0,d.calcDistance)(s.x,s.y,t.mousePoint.x,t.mousePoint.y);if(c<this.annotationsGripsRadius*f.DpiHelper.PIXEL_RATIO)return this.adornerDraggingPoint=y.EDraggingGripPoint.x2y2,!0}return!!(u&&this.canDragPoint(y.EDraggingGripPoint.Body)&&this.clickToSelect(t))&&(this.adornerDraggingPoint=y.EDraggingGripPoint.Body,!0)},LineAnnotation.prototype.calcDragDistance=function(e){if(!this.prevValue){this.prevValue=e;return}var t=this.parentSurface.getYAxisById(this.yAxisId).isVerticalChart;this.adornerDraggingPoint===y.EDraggingGripPoint.Body?this.type===m.EAnnotationType.RenderContextHorizontalLineAnnotation?t?this.x1=this.x1-(this.prevValue.x-e.x):this.y1=this.y1-(this.prevValue.y-e.y):this.type===m.EAnnotationType.RenderContextVerticalLineAnnotation?t?this.y1=this.y1-(this.prevValue.y-e.y):this.x1=this.x1-(this.prevValue.x-e.x):this.type===m.EAnnotationType.RenderContextLineAnnotation&&(this.x1=this.x1-(this.prevValue.x-e.x),this.x2=this.x2-(this.prevValue.x-e.x),this.y1=this.y1-(this.prevValue.y-e.y),this.y2=this.y2-(this.prevValue.y-e.y)):this.adornerDraggingPoint===y.EDraggingGripPoint.x1y1?this.resizeDirections===c.EXyDirection.XDirection?this.x1-=this.prevValue.x-e.x:(this.resizeDirections===c.EXyDirection.YDirection||(this.x1-=this.prevValue.x-e.x),this.y1-=this.prevValue.y-e.y):this.adornerDraggingPoint===y.EDraggingGripPoint.x2y2&&(this.resizeDirections===c.EXyDirection.XDirection?this.x2-=this.prevValue.x-e.x:(this.resizeDirections===c.EXyDirection.YDirection||(this.x2-=this.prevValue.x-e.x),this.y2-=this.prevValue.y-e.y)),this.prevValue=e},LineAnnotation.prototype.onDpiChanged=function(t){e.prototype.onDpiChanged.call(this,t),this.notifyPropertyChanged(v.PROPERTY.STROKE)},LineAnnotation.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={axisFontFamily:this.axisFontFamily,axisFontSize:this.axisFontSize,axisLabelFill:this.axisLabelFill,axisLabelStroke:this.axisLabelStroke,labelPlacement:this.labelPlacement,labelValue:this.labelValue,showLabel:this.showLabel,stroke:this.stroke,strokeDashArray:this.strokeDashArray,strokeThickness:this.strokeThickness};return Object.assign(t.options,r),t},LineAnnotation.prototype.checkIsClickedOnAnnotationInternal=function(e,t){var r=this.getAnnotationBorders(),i=r.x1,n=r.x2,o=r.y1,a=r.y2;return(0,d.calcDistanceFromLineSegment)(e,t,i,o,n,a)<=v.DISTANCE_TO_LINE*f.DpiHelper.PIXEL_RATIO},LineAnnotation.prototype.notifyPropertyChanged=function(t){e.prototype.notifyPropertyChanged.call(this,t),[v.PROPERTY.STROKE,v.PROPERTY.STROKE_THICKNESS,v.PROPERTY.STROKE_DASH_ARRAY,v.PROPERTY.OPACITY].includes(t)&&this.strokePenCache&&(0,p.createPenInCache)(this.strokePenCache,this.stroke,this.strokeThickness,this.opacity,this.strokeDashArray)},LineAnnotation.prototype.updateAdornerInner=function(){if(this.deleteAdorner(),this.isSelected){var e=this.getAdornerAnnotationBorders(),t=e.x1,r=e.x2,i=e.y1,n=e.y2,o=this.svgStringAdornerTemplate(t,i,r,n);this.svgAdorner=g.annotationHelpers.createSvg(o,this.svgAdornerRoot)}},LineAnnotation.prototype.svgStringAdornerTemplate=function(e,t,r,i){var n=this.selectionBoxStroke;return'<svg xmlns="http://www.w3.org/2000/svg">\n    <line x1="'.concat(e,'" y1="').concat(t,'" x2="').concat(r,'" y2="').concat(i,'" stroke="').concat(n,'" stroke-width="6" />\n    ').concat(this.canDragPoint(y.EDraggingGripPoint.x1y1)?this.getAnnotationGripSvg(e,t):"","\n    ").concat(this.canDragPoint(y.EDraggingGripPoint.x2y2)?this.getAnnotationGripSvg(r,i):"","\n    </svg>")},LineAnnotation}(r(89489).RenderContextAnnotationBase);t.LineAnnotation=S},84867:function(e,t,r){"use strict";var i,n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.NativeTextAnnotation=t.EWrapTo=void 0;var s=r(92530),l=r(48484),u=r(51859),c=r(7556),d=r(24510),p=r(13973),h=r(48053),f=r(93343),y=r(99496),g=r(79361),v=r(94485),m=r(91462),S=r(22148),b=r(78501),P=r(61670),C=r(52354),x=r(89489);(i=o=t.EWrapTo||(t.EWrapTo={})).ViewRect="ViewRect",i.Annotation="Annotation";var A=function(e){function NativeTextAnnotation(t){var r,i,n,o,a,s,l,d,p,h,f,y,g=this;return(g=e.call(this,t)||this).type=C.EAnnotationType.RenderContextNativeTextAnnotation,g.scaleOnResize=!1,g.fontSizeProperty=14,g.fontFamilyProperty="Arial",g.textColorProperty="#ffffff",g.rotationProperty=0,g.textProperty="",g.verticalAnchorPointProperty=u.EVerticalAnchorPoint.Top,g.horizontalAnchorPointProperty=u.EHorizontalAnchorPoint.Left,g.multiLineAlignmentProperty=c.EMultiLineAlignment.Center,g.lineSpacingProperty=3,g.scaleProperty=1,g.textColorProperty=null!==(r=null==t?void 0:t.textColor)&&void 0!==r?r:g.textColorProperty,g.fontSizeProperty=null!==(i=null==t?void 0:t.fontSize)&&void 0!==i?i:g.fontSizeProperty,g.fontFamilyProperty=null!==(n=null==t?void 0:t.fontFamily)&&void 0!==n?n:g.fontFamilyProperty,g.rotationProperty=null!==(o=null==t?void 0:t.rotation)&&void 0!==o?o:g.rotationProperty,g.textProperty=null!==(a=null==t?void 0:t.text)&&void 0!==a?a:g.textProperty,g.verticalAnchorPointProperty=null!==(s=null==t?void 0:t.verticalAnchorPoint)&&void 0!==s?s:g.verticalAnchorPointProperty,g.horizontalAnchorPointProperty=null!==(l=null==t?void 0:t.horizontalAnchorPoint)&&void 0!==l?l:g.horizontalAnchorPointProperty,g.multiLineAlignmentProperty=null!==(d=null==t?void 0:t.multiLineAlignment)&&void 0!==d?d:g.multiLineAlignmentProperty,g.wrapToProperty=null!==(p=null==t?void 0:t.wrapTo)&&void 0!==p?p:g.wrapToProperty,g.lineSpacingProperty=null!==(h=null==t?void 0:t.lineSpacing)&&void 0!==h?h:g.lineSpacingProperty,g.scaleProperty=null!==(f=null==t?void 0:t.scale)&&void 0!==f?f:g.scaleProperty,g.initialWidth=Math.abs(g.x2-g.x1),g.scaleOnResize=null!==(y=null==t?void 0:t.scaleOnResize)&&void 0!==y?y:g.scaleOnResize,g}return a(NativeTextAnnotation,e),Object.defineProperty(NativeTextAnnotation.prototype,"textColor",{get:function(){return this.textColorProperty},set:function(e){this.textColorProperty=e,this.notifyPropertyChanged(P.PROPERTY.COLOR)},enumerable:!1,configurable:!0}),Object.defineProperty(NativeTextAnnotation.prototype,"fontSize",{get:function(){return this.fontSizeProperty},set:function(e){this.fontSizeProperty=e,this.notifyPropertyChanged(P.PROPERTY.AXIS_FONT_SIZE)},enumerable:!1,configurable:!0}),Object.defineProperty(NativeTextAnnotation.prototype,"fontFamily",{get:function(){return this.fontFamilyProperty},set:function(e){this.fontFamilyProperty=e,this.notifyPropertyChanged(P.PROPERTY.AXIS_FONT_FAMILY)},enumerable:!1,configurable:!0}),Object.defineProperty(NativeTextAnnotation.prototype,"rotation",{get:function(){return this.rotationProperty},set:function(e){this.rotationProperty=e,this.notifyPropertyChanged(P.PROPERTY.ROTATION)},enumerable:!1,configurable:!0}),Object.defineProperty(NativeTextAnnotation.prototype,"text",{get:function(){return this.textProperty},set:function(e){this.textProperty=e,this.notifyPropertyChanged(P.PROPERTY.TEXT)},enumerable:!1,configurable:!0}),Object.defineProperty(NativeTextAnnotation.prototype,"verticalAnchorPoint",{get:function(){return this.verticalAnchorPointProperty},set:function(e){this.verticalAnchorPointProperty!==e&&(this.verticalAnchorPointProperty=e,this.notifyPropertyChanged(P.PROPERTY.VERTICAL_ANCHOR_POINT))},enumerable:!1,configurable:!0}),Object.defineProperty(NativeTextAnnotation.prototype,"horizontalAnchorPoint",{get:function(){return this.horizontalAnchorPointProperty},set:function(e){this.horizontalAnchorPointProperty!==e&&(this.horizontalAnchorPointProperty=e,this.notifyPropertyChanged(P.PROPERTY.HORIZONTAL_ANCHOR_POINT))},enumerable:!1,configurable:!0}),Object.defineProperty(NativeTextAnnotation.prototype,"multiLineAlignment",{get:function(){return this.multiLineAlignmentProperty},set:function(e){this.multiLineAlignmentProperty!==e&&(this.multiLineAlignmentProperty=e,this.notifyPropertyChanged(P.PROPERTY.MULTILINE_ALIGNMENT))},enumerable:!1,configurable:!0}),Object.defineProperty(NativeTextAnnotation.prototype,"wrapTo",{get:function(){return this.wrapToProperty},set:function(e){this.wrapToProperty!==e&&(this.wrapToProperty=e,this.notifyPropertyChanged(P.PROPERTY.WRAP_TO))},enumerable:!1,configurable:!0}),Object.defineProperty(NativeTextAnnotation.prototype,"lineSpacing",{get:function(){return this.lineSpacingProperty},set:function(e){this.lineSpacingProperty=e,this.notifyPropertyChanged(P.PROPERTY.LINE_SPACING)},enumerable:!1,configurable:!0}),Object.defineProperty(NativeTextAnnotation.prototype,"scale",{get:function(){return this.scaleProperty},set:function(e){e!==this.scaleProperty&&(this.scaleProperty=e,this.notifyPropertyChanged(P.PROPERTY.SCALE))},enumerable:!1,configurable:!0}),NativeTextAnnotation.prototype.delete=function(){},NativeTextAnnotation.prototype.onAttach=function(t){e.prototype.onAttach.call(this,t)},NativeTextAnnotation.prototype.getRotationCenter=function(e,t,r){return new l.Point(e,t)},NativeTextAnnotation.prototype.drawWithContext=function(e,t,r,i){s.Guard.notNull(e,"renderContext"),s.Guard.notNull(t,"xCalc"),s.Guard.notNull(r,"yCalc");var n,a,l=this.getX1Coordinate(t,r),d=this.getY1Coordinate(t,r),f={fontFamily:this.fontFamily,fontSize:Math.round(this.fontSize*m.DpiHelper.PIXEL_RATIO)},g=(0,h.parseColorToUIntArgb)(this.textColor);g=(0,p.uintArgbColorOverrideOpacity)(g,this.opacity);var S=-(this.rotation*Math.PI)/180,b=0!==this.rotation||1!==this.scale;n=e.getFont(f,b,!1);var P=(0,v.getTextBounds)(this.parentSurface.webAssemblyContext2D),x=this.text;if(this.wrapTo){var A=1/0;if("number"==typeof this.wrapTo)A=this.wrapTo;else if(this.wrapTo===o.ViewRect)this.horizontalAnchorPoint===u.EHorizontalAnchorPoint.Left?A=this.parentSurface.seriesViewRect.width-l:this.horizontalAnchorPoint===u.EHorizontalAnchorPoint.Center?A=2*Math.min(l,this.parentSurface.seriesViewRect.width-l):this.horizontalAnchorPoint===u.EHorizontalAnchorPoint.Right&&(A=l);else if(this.wrapTo===o.Annotation){var T=this.getX2Coordinate(t,r);T>l&&(A=T-l)}x=(0,y.wrapNativeText)(this.text,A,n,P)}var _=this.lineSpacing;n.CalculateStringBounds(null!=x?x:"",P,_),_<1&&(_=this.lineSpacing*(P.GetLineBounds(0).m_fHeight-P.GetLineBounds(0).m_fOffsetY),n.CalculateStringBounds(null!=x?x:"",P,_));var R=this.getRotationCenter(l+i.x,d+i.y,P);a=(0,v.getVector4)(this.parentSurface.webAssemblyContext2D,R.x,R.y,S,0),this.horizontalAnchorPointProperty===u.EHorizontalAnchorPoint.Center?l-=P.m_fWidth/2:this.horizontalAnchorPointProperty===u.EHorizontalAnchorPoint.Right&&(l-=P.m_fWidth),this.verticalAnchorPointProperty===u.EVerticalAnchorPoint.Center?d-=P.m_fHeight/2-P.GetLineBounds(0).m_fHeight:this.verticalAnchorPointProperty===u.EVerticalAnchorPoint.Top?d+=P.GetLineBounds(0).m_fHeight:P.GetLinesCount()>1&&(d+=P.GetLineBounds(0).m_fOffsetY,d-=(P.GetLineBounds(0).m_fHeight-P.GetLineBounds(0).m_fOffsetY)*(P.GetLinesCount()-1));var E=l+i.x,w=d+i.y,D=l,O=d-P.GetLineBounds(0).m_fHeight,I=l+P.m_fWidth,M=O+P.m_fHeight;if(0!==this.rotation){var L=Math.sin(S),k=Math.cos(S),N=this.getRotationCenter(l,d,P),transform=function(e,t){return{x:(e-N.x)*k+(t-N.y)*L,y:(t-N.y)*k-(e-N.x)*L}},B=transform(D,O),V=transform(I,O),F=transform(D,M),j=transform(I,M);D=Math.min(B.x,V.x,F.x,j.x)+N.x,I=Math.max(B.x,V.x,F.x,j.x)+N.x,O=Math.min(B.y,V.y,F.y,j.y)+N.y,M=Math.max(B.y,V.y,F.y,j.y)+N.y}var H=(0,c.convertMultiLineAlignment)(this.multiLineAlignment,this.parentSurface.webAssemblyContext2D),z=n.GetScale(),G=!1;z!==this.scale&&(n.SetScale(this.scale),G=!0),this.setAnnotationBorders(D,D+(I-D)*this.scale,O,O+(M-O)*this.scale),n.DrawStringAdvanced(x,g,Math.round(E),Math.round(w),a,H,_),G&&n.SetScale(z),this.annotationLayer!==C.EAnnotationLayer.AboveChart&&n.End(),this.updateAdornerInner()},NativeTextAnnotation.prototype.onDragStarted=function(t){e.prototype.onDragStarted.call(this,t);var r=this.getAnnotationBorders(!1,!0),i=r.x1,n=r.x2,o=r.y1,a=r.y2,s=b.annotationHelpers.calcNewApex(i,o,n,a,this.isVerticalChart),u=s.x1y1,c=s.x2y1,d=s.x1y2,p=s.x2y2,h=(0,g.translateFromCanvasToSeriesViewRect)(new l.Point(t.mousePoint.x,t.mousePoint.y),this.parentSurface.seriesViewRect,!0);if(u&&this.canDragPoint(S.EDraggingGripPoint.x1y1)){var y=(0,f.calcDistance)(u.x,u.y,h.x,h.y);if(y<this.annotationsGripsRadius*m.DpiHelper.PIXEL_RATIO)return this.adornerDraggingPoint=S.EDraggingGripPoint.x1y1,!0}if(c&&this.canDragPoint(S.EDraggingGripPoint.x2y1)){var y=(0,f.calcDistance)(c.x,c.y,h.x,h.y);if(y<this.annotationsGripsRadius*m.DpiHelper.PIXEL_RATIO)return this.adornerDraggingPoint=S.EDraggingGripPoint.x2y1,!0}if(d&&this.canDragPoint(S.EDraggingGripPoint.x1y2)){var y=(0,f.calcDistance)(d.x,d.y,h.x,h.y);if(y<this.annotationsGripsRadius*m.DpiHelper.PIXEL_RATIO)return this.adornerDraggingPoint=S.EDraggingGripPoint.x1y2,!0}if(p&&this.canDragPoint(S.EDraggingGripPoint.x2y2)){var y=(0,f.calcDistance)(p.x,p.y,h.x,h.y);if(y<this.annotationsGripsRadius*m.DpiHelper.PIXEL_RATIO)return this.adornerDraggingPoint=S.EDraggingGripPoint.x2y2,!0}return!!(h&&this.canDragPoint(S.EDraggingGripPoint.Body)&&this.clickToSelect(t))&&(this.adornerDraggingPoint=S.EDraggingGripPoint.Body,!0)},NativeTextAnnotation.prototype.calcDragDistance=function(e){if(!this.prevValue){this.prevValue=e;return}this.adornerDraggingPoint===S.EDraggingGripPoint.Body?(this.x1=this.x1-(this.prevValue.x-e.x),this.x2=this.x2-(this.prevValue.x-e.x),this.y1=this.y1-(this.prevValue.y-e.y),this.y2=this.y2-(this.prevValue.y-e.y)):this.adornerDraggingPoint===S.EDraggingGripPoint.x1y1?this.resizeDirections===d.EXyDirection.XDirection?this.x1-=this.prevValue.x-e.x:(this.resizeDirections===d.EXyDirection.YDirection||(this.x1-=this.prevValue.x-e.x),this.y1-=this.prevValue.y-e.y):this.adornerDraggingPoint===S.EDraggingGripPoint.x2y2?this.resizeDirections===d.EXyDirection.XDirection?this.x2-=this.prevValue.x-e.x:(this.resizeDirections===d.EXyDirection.YDirection||(this.x2-=this.prevValue.x-e.x),this.y2-=this.prevValue.y-e.y):this.adornerDraggingPoint===S.EDraggingGripPoint.x2y1?this.resizeDirections===d.EXyDirection.XDirection?this.x2-=this.prevValue.x-e.x:(this.resizeDirections===d.EXyDirection.YDirection||(this.x2-=this.prevValue.x-e.x),this.y1-=this.prevValue.y-e.y):this.adornerDraggingPoint===S.EDraggingGripPoint.x1y2&&(this.resizeDirections===d.EXyDirection.XDirection?this.x1-=this.prevValue.x-e.x:(this.resizeDirections===d.EXyDirection.YDirection||(this.x1-=this.prevValue.x-e.x),this.y2-=this.prevValue.y-e.y));var t=Math.abs(this.x2-this.x1)/this.initialWidth;this.scaleOnResize&&t&&(this.scale=t),this.prevValue=e},NativeTextAnnotation.prototype.onDpiChanged=function(t){e.prototype.onDpiChanged.call(this,t),this.notifyPropertyChanged(P.PROPERTY.STROKE)},NativeTextAnnotation.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={fontFamily:this.fontFamily,fontSize:this.fontSize,textColor:this.textColor,rotation:this.rotation,text:this.text};return Object.assign(t.options,r),t},NativeTextAnnotation.prototype.checkIsClickedOnAnnotationInternal=function(e,t){var r=this.getAnnotationBorders(!0),i=r.x1,n=r.x2,o=r.y1,a=r.y2;return(0,f.testIsInBounds)(e,t,i,a,n,o)},NativeTextAnnotation.prototype.updateAdornerInner=function(){if(this.deleteAdorner(),this.isSelected){var e=this.getAdornerAnnotationBorders(),t=e.x1,r=e.x2,i=e.y1,n=e.y2,o=this.svgStringAdornerTemplate(t,i,r,n);this.svgAdorner=b.annotationHelpers.createSvg(o,this.svgAdornerRoot)}},NativeTextAnnotation.prototype.svgStringAdornerTemplate=function(e,t,r,i){var n=this.selectionBoxStroke,o=i-t,a='<svg xmlns="http://www.w3.org/2000/svg">\n        <rect x="'.concat(e,'" y="').concat(t,'" width="').concat(r-e,'" height="').concat(o,'" stroke="').concat(n,'" stroke-width="').concat(this.selectionBoxThickness,'px" fill="none" />\n        '),s=this.getAdornerAnnotationBorders(!1,!0);return this.canDragPoint(S.EDraggingGripPoint.x1y1)&&(a+=this.getAnnotationGripSvg(s.x1,s.y1)),this.canDragPoint(S.EDraggingGripPoint.x2y2)&&(a+=this.getAnnotationGripSvg(s.x2,s.y2)),this.canDragPoint(S.EDraggingGripPoint.x2y1)&&(a+=this.getAnnotationGripSvg(s.x2,s.y1)),this.canDragPoint(S.EDraggingGripPoint.x1y2)&&(a+=this.getAnnotationGripSvg(s.x1,s.y2)),a+="</svg>"},NativeTextAnnotation}(x.RenderContextAnnotationBase);t.NativeTextAnnotation=A},57670:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewCustomResizableAnnotation=void 0;var o=r(48484),a=r(24510),s=r(93343),l=r(79361),u=r(91462),c=r(22148),d=r(78501),p=r(61670),h=function(e){function OverviewCustomResizableAnnotation(t){var r,i,n,o=this;return(o=e.call(this,t)||this).minWidthProperty=10,o.minHeightProperty=10,o.adornerSvgStringTemplateProperty=null!==(r=null==t?void 0:t.adornerSvgStringTemplate)&&void 0!==r?r:o.adornerSvgStringTemplateProperty,o.minWidthProperty=null!==(i=null==t?void 0:t.minWidth)&&void 0!==i?i:o.minWidthProperty,o.minHeightProperty=null!==(n=null==t?void 0:t.minHeight)&&void 0!==n?n:o.minHeightProperty,o}return n(OverviewCustomResizableAnnotation,e),Object.defineProperty(OverviewCustomResizableAnnotation.prototype,"minWidth",{get:function(){return this.minWidthProperty},set:function(e){this.minWidthProperty=e,this.notifyPropertyChanged(p.PROPERTY.MINIMUM_WIDTH)},enumerable:!1,configurable:!0}),Object.defineProperty(OverviewCustomResizableAnnotation.prototype,"minHeight",{get:function(){return this.minHeightProperty},set:function(e){this.minHeightProperty=e,this.notifyPropertyChanged(p.PROPERTY.MINIMUM_HEIGHT)},enumerable:!1,configurable:!0}),Object.defineProperty(OverviewCustomResizableAnnotation.prototype,"adornerSvgStringTemplate",{get:function(){return this.adornerSvgStringTemplateProperty},set:function(e){this.adornerSvgStringTemplateProperty=e,this.notifyPropertyChanged(p.PROPERTY.ADORNER_TEMPLATE)},enumerable:!1,configurable:!0}),OverviewCustomResizableAnnotation.prototype.setCoordinates=function(e){if(this.parentSurface){var t=e.x1,r=void 0===t?this.x1:t,i=e.x2,n=void 0===i?this.x2:i,a=e.y1,s=void 0===a?this.y1:a,l=e.y2,u=void 0===l?this.y2:l,c=this.getAbsoluteCoordinates(new o.Point(r,s)),d=this.getAbsoluteCoordinates(new o.Point(n,u)),p=this.parentSurface.getXAxisById(this.xAxisId),h=p.getCurrentCoordinateCalculator(),f=this.parentSurface.getYAxisById(this.yAxisId),y=f.getCurrentCoordinateCalculator(),g=p.isHorizontalAxis?h:y,v=f.isHorizontalAxis?h:y,m=g.hasFlippedCoordinates?r:n,S=g.hasFlippedCoordinates?n:r,b=v.hasFlippedCoordinates?r:n,P=v.hasFlippedCoordinates?n:r,C=this.isVerticalChart?new o.Point(b,m):new o.Point(m,b),x=this.isVerticalChart?new o.Point(P,S):new o.Point(S,P);p.isHorizontalAxis?r-this.x1>=this.x2-n?(this.x2=null!=n?n:this.x2,h.hasFlippedCoordinates?this.adjustLeftSideToLimits(d.x,C,h):this.adjustRightSideToLimits(d.x,x,h)):(this.x1=null!=r?r:this.x1,h.hasFlippedCoordinates?this.adjustRightSideToLimits(c.x,x,h):this.adjustLeftSideToLimits(c.x,C,h)):r-this.x1>=this.x2-n?(this.x2=null!=n?n:this.x2,h.hasFlippedCoordinates?this.adjustTopSideToLimits(d.y,C,h):this.adjustBottomSideToLimits(d.y,x,h)):(this.x1=null!=r?r:this.x1,h.hasFlippedCoordinates?this.adjustBottomSideToLimits(c.y,x,h):this.adjustTopSideToLimits(c.y,C,h))}},OverviewCustomResizableAnnotation.prototype.onDragStarted=function(e){e.nativeEvent.preventDefault(),null===(t=this.dragStarted)||void 0===t||t.raiseEvent();var t,r=this.getAnnotationBorders(!0),i=r.x1,n=r.x2,u=r.y1,d=r.y2,h=(0,l.translateFromCanvasToSeriesViewRect)(new o.Point(e.mousePoint.x,e.mousePoint.y),this.parentSurface.seriesViewRect,!0);if(!h)return!1;var f=(0,l.translateToNotScaled)(h.x),y=(0,l.translateToNotScaled)(h.y),g=this.isVerticalChart?this.resizeDirections!==a.EXyDirection.XDirection:this.resizeDirections!==a.EXyDirection.YDirection,v=this.isVerticalChart?this.resizeDirections!==a.EXyDirection.YDirection:this.resizeDirections!==a.EXyDirection.XDirection;if(g){if((0,s.testIsInBounds)(f,y,i-p.ADORNER_GRIP_RADIUS,d,i+p.ADORNER_GRIP_RADIUS,u))return this.adornerDraggingPoint=c.EDraggingGripPoint.x1y1,!0;if((0,s.testIsInBounds)(f,y,n-p.ADORNER_GRIP_RADIUS,d,n+p.ADORNER_GRIP_RADIUS,u))return this.adornerDraggingPoint=c.EDraggingGripPoint.x2y2,!0}if(v){if((0,s.testIsInBounds)(f,y,i,u+p.ADORNER_GRIP_RADIUS,n,u-p.ADORNER_GRIP_RADIUS))return this.adornerDraggingPoint=c.EDraggingGripPoint.x2y1,!0;if((0,s.testIsInBounds)(f,y,i,d+p.ADORNER_GRIP_RADIUS,n,d-p.ADORNER_GRIP_RADIUS))return this.adornerDraggingPoint=c.EDraggingGripPoint.x1y2,!0}return!!this.clickToSelect(e)&&(this.adornerDraggingPoint=c.EDraggingGripPoint.Body,!0)},OverviewCustomResizableAnnotation.prototype.update=function(e,t,r,i){this.create(e,t,r,i),this.svg.style.display=this.isHidden?"none":"block",this.svg.style.opacity=this.opacity.toString();var n=this.getX1Coordinate(e,t),o=this.getY1Coordinate(e,t),a=this.getX2Coordinate(e,t),s=this.getY2Coordinate(e,t);if(this.setAnnotationBorders(n,a,o,s),isNaN(n)||isNaN(o)||!isFinite(n)||!isFinite(o)||isNaN(a)||isNaN(s)||!isFinite(a)||!isFinite(s))this.svg.style.display="none";else{var l=Math.abs(a-n),u=Math.abs(s-o),c=(n<a?n:a)+r,d=(o<s?o:s)+i;this.setSvgAttribute("x",c),this.setSvgAttribute("y",d),this.setSvgAttribute("width",l),this.setSvgAttribute("height",u),this.svgDOMRect=this.svg.getBoundingClientRect()}this.updateAdornerInner()},OverviewCustomResizableAnnotation.prototype.calcDragDistance=function(e){var t=this.parentSurface.getXAxisById(this.xAxisId),r=t.getCurrentCoordinateCalculator(),i=this.parentSurface.getYAxisById(this.yAxisId),n=i.getCurrentCoordinateCalculator(),o=t.isHorizontalAxis?r:n,s=i.isHorizontalAxis?r:n,l=this.getX1Coordinate(r,n),u=this.getY1Coordinate(r,n),d=this.getX2Coordinate(r,n),p=this.getY2Coordinate(r,n),h=this.isVerticalChart?this.resizeDirections!==a.EXyDirection.XDirection:this.resizeDirections!==a.EXyDirection.YDirection,f=this.isVerticalChart?this.resizeDirections!==a.EXyDirection.YDirection:this.resizeDirections!==a.EXyDirection.XDirection;switch(this.adornerDraggingPoint){case c.EDraggingGripPoint.Body:if(!this.prevValue){this.prevValue=e;return}var y=this.x1-(this.prevValue.x-e.x),g=this.x2-(this.prevValue.x-e.x),v=this.y1-(this.prevValue.y-e.y),m=this.y2-(this.prevValue.y-e.y);if(this.resizeDirections!==a.EXyDirection.YDirection){if(y<t.visibleRange.min){var S=this.x1-t.visibleRange.min;this.x1=t.visibleRange.min,this.x2=this.x2-S}else if(g>t.visibleRange.max){var S=t.visibleRange.max-this.x2;this.x1=this.x1+S,this.x2=t.visibleRange.max}else this.x1=y,this.x2=g}if(this.resizeDirections!==a.EXyDirection.XDirection){if(m>i.visibleRange.max){var S=this.y2-i.visibleRange.max;this.y2=i.visibleRange.max,this.y1=this.y1+S}else if(v<i.visibleRange.min){var S=this.y1-i.visibleRange.min;this.y2=this.y2-S,this.y1=i.visibleRange.min}else this.y1=v,this.y2=m}this.prevValue=e;break;case c.EDraggingGripPoint.x1y1:h&&(o.hasFlippedCoordinates?this.adjustLeftSideToLimits(d,e,o):this.adjustLeftSideToLimits(l,e,o));break;case c.EDraggingGripPoint.x2y2:h&&(o.hasFlippedCoordinates?this.adjustRightSideToLimits(l,e,o):this.adjustRightSideToLimits(d,e,o));break;case c.EDraggingGripPoint.x2y1:f&&(s.hasFlippedCoordinates?this.adjustTopSideToLimits(p,e,s):this.adjustTopSideToLimits(u,e,s));break;case c.EDraggingGripPoint.x1y2:f&&(s.hasFlippedCoordinates?this.adjustBottomSideToLimits(u,e,s):this.adjustBottomSideToLimits(p,e,s));break;default:throw Error("Unexpected adornerDraggingPoint value ".concat(this.adornerDraggingPoint))}},OverviewCustomResizableAnnotation.prototype.create=function(e,t,r,i){if(!this.svg){this.setSvg(d.annotationHelpers.createSvg(this.svgString,this.svgRoot));var n=this.svg.getBBox(),o=this.getX1Coordinate(e,t),a=this.getY1Coordinate(e,t);this.isVerticalChart?(void 0===this.x2&&(this.x2=this.getValue(o+n.width,e,c.ECoordinateMode.Pixel)),void 0===this.y2&&(this.y2=this.getValue(a+n.height,t,c.ECoordinateMode.Pixel))):(void 0===this.x2&&(this.x2=this.getValue(a+n.height,e,c.ECoordinateMode.Pixel)),void 0===this.y2&&(this.y2=this.getValue(o+n.width,t,c.ECoordinateMode.Pixel)));var s=this.getX2Coordinate(e,t),l=this.getY2Coordinate(e,t),u=Math.abs(s-o),p=Math.abs(l-a);if(this.isVerticalChart){if(u<this.minWidth){var h=this.isVerticalChart?t:e;this.y2=this.getValue(o+this.minWidth,h,c.ECoordinateMode.Pixel)}if(p<this.minHeight){var f=this.isVerticalChart?e:t;this.x2=this.getValue(a+this.minHeight,f,c.ECoordinateMode.Pixel)}}else{if(u<this.minWidth){var h=this.isVerticalChart?t:e;this.x2=this.getValue(o+this.minWidth,h,c.ECoordinateMode.Pixel)}if(p<this.minHeight){var f=this.isVerticalChart?e:t;this.y2=this.getValue(a+this.minHeight,f,c.ECoordinateMode.Pixel)}}}},OverviewCustomResizableAnnotation.prototype.updateAdornerInner=function(){if(this.deleteAdorner(),this.adornerSvgStringTemplate){var e=this.getAdornerAnnotationBorders(!0),t=e.x1,r=e.x2,i=e.y1,n=e.y2,o=this.adornerSvgStringTemplate(t,i,r,n);this.svgAdorner=d.annotationHelpers.createSvg(o,this.svgAdornerRoot)}},OverviewCustomResizableAnnotation.prototype.checkIsClickedOnAnnotationInternal=function(e,t){var r=this.getAnnotationBorders(!0),i=r.x1,n=r.x2,o=r.y1,u=r.y2,c=(0,l.translateToNotScaled)(e),d=(0,l.translateToNotScaled)(t);if((0,s.testIsInBounds)(c,d,i,u,n,o))return!0;var h=this.isVerticalChart?this.resizeDirections!==a.EXyDirection.XDirection:this.resizeDirections!==a.EXyDirection.YDirection,f=this.isVerticalChart?this.resizeDirections!==a.EXyDirection.YDirection:this.resizeDirections!==a.EXyDirection.XDirection;return!!(h&&((0,s.testIsInBounds)(c,d,i-p.ADORNER_GRIP_RADIUS,u,i+p.ADORNER_GRIP_RADIUS,o)||(0,s.testIsInBounds)(c,d,n-p.ADORNER_GRIP_RADIUS,u,n+p.ADORNER_GRIP_RADIUS,o))||f&&((0,s.testIsInBounds)(c,d,i,o+p.ADORNER_GRIP_RADIUS,n,o-p.ADORNER_GRIP_RADIUS)||(0,s.testIsInBounds)(c,d,i,u+p.ADORNER_GRIP_RADIUS,n,u-p.ADORNER_GRIP_RADIUS)))},OverviewCustomResizableAnnotation.prototype.adjustLeftSideToLimits=function(e,t,r){var i=adjustToViewport(this.getAbsoluteHorizontalCoordinate(this.isVerticalChart?t.y:t.x),r),n=e-i>=this.minWidth?i:e-this.minWidth,o=this.convertFromCoordinate(n*u.DpiHelper.PIXEL_RATIO,r,this.isVerticalChart?this.yCoordinateMode:this.xCoordinateMode);this.isVerticalChart?r.hasFlippedCoordinates?this.y1=o:this.y2=o:r.hasFlippedCoordinates?this.x1=o:this.x2=o},OverviewCustomResizableAnnotation.prototype.adjustRightSideToLimits=function(e,t,r){var i=adjustToViewport(this.getAbsoluteHorizontalCoordinate(this.isVerticalChart?t.y:t.x),r),n=i-e>=this.minWidth?i:e+this.minWidth,o=this.convertFromCoordinate(n*u.DpiHelper.PIXEL_RATIO,r,this.isVerticalChart?this.yCoordinateMode:this.xCoordinateMode);this.isVerticalChart?r.hasFlippedCoordinates?this.y2=o:this.y1=o:r.hasFlippedCoordinates?this.x2=o:this.x1=o},OverviewCustomResizableAnnotation.prototype.adjustTopSideToLimits=function(e,t,r){var i=adjustToViewport(this.getAbsoluteVerticalCoordinate(this.isVerticalChart?t.x:t.y),r),n=e-i>=this.minHeight?i:e-this.minHeight,o=this.convertFromCoordinate(n*u.DpiHelper.PIXEL_RATIO,r,this.isVerticalChart?this.xCoordinateMode:this.yCoordinateMode);this.isVerticalChart?r.hasFlippedCoordinates?this.x1=o:this.x2=o:r.hasFlippedCoordinates?this.y1=o:this.y2=o},OverviewCustomResizableAnnotation.prototype.adjustBottomSideToLimits=function(e,t,r){var i=adjustToViewport(this.getAbsoluteVerticalCoordinate(this.isVerticalChart?t.x:t.y),r),n=i-e>=this.minHeight?i:e+this.minHeight,o=this.convertFromCoordinate(n*u.DpiHelper.PIXEL_RATIO,r,this.isVerticalChart?this.xCoordinateMode:this.yCoordinateMode);this.isVerticalChart?r.hasFlippedCoordinates?this.x2=o:this.x1=o:r.hasFlippedCoordinates?this.y2=o:this.y1=o},OverviewCustomResizableAnnotation}(r(7267).CustomAnnotation);t.OverviewCustomResizableAnnotation=h;var adjustToViewport=function(e,t){return e<=0?0:e>=t.viewportDimension/u.DpiHelper.PIXEL_RATIO?t.viewportDimension/u.DpiHelper.PIXEL_RATIO:e}},89489:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.RenderContextAnnotationBase=void 0;var o=r(22148),a=r(61670),s=function(e){function RenderContextAnnotationBase(t){var r=e.call(this,t)||this;return r.isSvgAnnotation=!1,r}return n(RenderContextAnnotationBase,e),Object.defineProperty(RenderContextAnnotationBase.prototype,"parentSurface",{get:function(){return this.parentSurfaceProperty},set:function(e){this.parentSurfaceProperty!==e&&(this.parentSurfaceProperty=e,this.notifyPropertyChanged(a.PROPERTY.PARENT_SURFACE))},enumerable:!1,configurable:!0}),RenderContextAnnotationBase}(o.AnnotationBase);t.RenderContextAnnotationBase=s},50324:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.RolloverLegendSvgAnnotation=void 0;var o=r(78501),a=r(61670),s=r(52354),l=function(e){function RolloverLegendSvgAnnotation(t){var r,i,n,o=this;return(o=e.call(this,t)||this).type=s.EAnnotationType.SVG,o.seriesInfosProperty=[],o.isHidden=!0,o.tooltipLegendTemplateProperty=null!==(r=null==t?void 0:t.tooltipLegendTemplate)&&void 0!==r?r:o.tooltipLegendTemplateProperty,o.tooltipLegendOffsetXProperty=null!==(i=null==t?void 0:t.tooltipLegendOffsetX)&&void 0!==i?i:o.tooltipLegendOffsetXProperty,o.tooltipLegendOffsetYProperty=null!==(n=null==t?void 0:t.tooltipLegendOffsetY)&&void 0!==n?n:o.tooltipLegendOffsetYProperty,o}return n(RolloverLegendSvgAnnotation,e),Object.defineProperty(RolloverLegendSvgAnnotation.prototype,"seriesInfos",{get:function(){return this.seriesInfosProperty},set:function(e){this.seriesInfosProperty&&e&&(e.length!==this.seriesInfosProperty.length||this.seriesInfosProperty.map(function(t){return t.equals(e.find(function(e){return e.renderableSeries.id===t.renderableSeries.id}))}).some(function(e){return!1===e}))&&(this.seriesInfosProperty=e,this.notifyPropertyChanged(a.PROPERTY.SERIES_INFOS))},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverLegendSvgAnnotation.prototype,"tooltipLegendTemplate",{get:function(){return this.tooltipLegendTemplateProperty},set:function(e){this.tooltipLegendTemplateProperty=e,this.notifyPropertyChanged(a.PROPERTY.TOOLTIP_LEGEND_TEMPLATE)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverLegendSvgAnnotation.prototype,"tooltipLegendOffsetX",{get:function(){return this.tooltipLegendOffsetXProperty},set:function(e){this.tooltipLegendOffsetXProperty=e,this.notifyPropertyChanged(a.PROPERTY.TOOLTIP_LEGEND_OFFSET_X)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverLegendSvgAnnotation.prototype,"tooltipLegendOffsetY",{get:function(){return this.tooltipLegendOffsetYProperty},set:function(e){this.tooltipLegendOffsetYProperty=e,this.notifyPropertyChanged(a.PROPERTY.TOOLTIP_LEGEND_OFFSET_Y)},enumerable:!1,configurable:!0}),RolloverLegendSvgAnnotation.prototype.update=function(e,t,r,i){this.tooltipLegendTemplate&&(this.svg&&this.delete(),this.create(e,t,r,i))},RolloverLegendSvgAnnotation.prototype.create=function(e,t,r,i){var n=this.tooltipLegendTemplate(this.seriesInfos,this);o.annotationHelpers.createSvg(n,this.svgRoot),this.setSvg(this.svgRoot.lastChild),this.setSvgAttribute("x",this.tooltipLegendOffsetX+r),this.setSvgAttribute("y",this.tooltipLegendOffsetY+i)},RolloverLegendSvgAnnotation}(r(38437).SvgAnnotationBase);t.RolloverLegendSvgAnnotation=l},83363:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.RolloverMarkerSvgAnnotation=void 0;var o=r(55617),a=r(78501),s=r(52354),l=function(e){function RolloverMarkerSvgAnnotation(t){var r=e.call(this)||this;return r.type=s.EAnnotationType.SVG,r.tooltipProps=t,r.isHiddenProperty=!0,r.x1=0,r.y1=0,r.xCoordShift=-4,r.yCoordShift=-4,r}return n(RolloverMarkerSvgAnnotation,e),RolloverMarkerSvgAnnotation.prototype.update=function(t,r,i,n){var a=this.tooltipProps.rolloverModifier.getMousePosition();(this.previousMousePosition!==a||a===o.EMousePosition.SeriesArea)&&(this.previousMousePosition=this.tooltipProps.rolloverModifier.getMousePosition(),e.prototype.update.call(this,t,r,i,n))},RolloverMarkerSvgAnnotation.prototype.create=function(e,t,r,i){var n=this.tooltipProps,o=n.tooltipColor,s=n.markerColor,l=null!=s?s:o;if(this.svg&&this.currentColor!==l&&this.clear(),!this.svg){this.currentColor;var u=tooltipSvgTemplate(l),c=a.annotationHelpers.createSvg(u,this.svgRoot);this.setSvg(c)}},RolloverMarkerSvgAnnotation}(r(38437).SvgAnnotationBase);t.RolloverMarkerSvgAnnotation=l;var tooltipSvgTemplate=function(e){return'<svg width="8" height="8"><circle cx="50%" cy="50%" r="4" fill="'.concat(e,'"/></svg>')}},58395:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.RolloverTooltipSvgAnnotation=void 0;var o=r(55617),a=r(3351),s=r(22148),l=r(78501),u=r(61670),c=r(52354),d=r(38437),p=r(48053),h=function(e){function RolloverTooltipSvgAnnotation(t,r){var i,n,o=this;return(o=e.call(this,r)||this).type=c.EAnnotationType.SVG,o.width=0,o.height=0,o.tooltipProps=t,o.height=null!==(i=null==r?void 0:r.height)&&void 0!==i?i:o.height,o.xCoordinateMode=s.ECoordinateMode.DataValue,o.yCoordinateMode=s.ECoordinateMode.DataValue,o.isHidden=!0,o.updateSize=o.updateSize.bind(o),o.placementDivIdProperty=null!==(n=null==r?void 0:r.placementDivId)&&void 0!==n?n:o.placementDivIdProperty,o}return n(RolloverTooltipSvgAnnotation,e),Object.defineProperty(RolloverTooltipSvgAnnotation.prototype,"seriesInfo",{get:function(){return this.seriesInfoProperty},set:function(e){(!e||this.seriesInfoProperty)&&this.seriesInfoProperty.equals(e)||(this.seriesInfoProperty=e,this.notifyPropertyChanged(u.PROPERTY.SERIES_INFO))},enumerable:!1,configurable:!0}),RolloverTooltipSvgAnnotation.prototype.update=function(t,r,i,n){var a=this.tooltipProps.rolloverModifier.getMousePosition();(this.previousMousePosition!==a||a===o.EMousePosition.SeriesArea)&&(this.previousMousePosition=this.tooltipProps.rolloverModifier.getMousePosition(),this.svg&&this.clear(),this.placementDivId?this.updateExternalLegendTooltip():(e.prototype.update.call(this,t,r,i,n),this.updateLegendTooltip(i,n)))},RolloverTooltipSvgAnnotation.prototype.updateSize=function(e,t){this.width=e,this.height=t},RolloverTooltipSvgAnnotation.prototype.clear=function(){var e,t,r,i;if(this.parentSurface&&!this.parentSurface.isDeleted){if(this.svg){if(this.placementDivId){null===(t=null===(e=this.svg)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(this.svg);return}null===(r=this.svgRoot)||void 0===r||r.removeChild(this.svg)}this.svgLegend&&(null===(i=this.svgLegend.parentNode)||void 0===i||i.removeChild(this.svgLegend))}},RolloverTooltipSvgAnnotation.prototype.create=function(e,t,r,i){n=this.seriesInfo?this.generateSvgString():"<svg></svg>";var n,o=l.annotationHelpers.createSvg(n,this.svgRoot);this.setSvg(o)},RolloverTooltipSvgAnnotation.prototype.generateSvgString=function(){var e,t=(""+this.tooltipProps.tooltipTitle).replace(/\s/g,""),r="id".concat(Math.floor(this.y1),"_").concat(t,"_").concat(Date.now());return(null!==(e=this.tooltipProps.tooltipTemplate)&&void 0!==e?e:defaultTooltipTemplate)(r,this.seriesInfo,this)},RolloverTooltipSvgAnnotation.prototype.updateLegendTooltip=function(e,t){if(this.tooltipProps.tooltipLegendTemplate){var r=this.seriesInfo?this.tooltipProps.tooltipLegendTemplate(this.tooltipProps,this.seriesInfo):"<svg></svg>",i=l.annotationHelpers.createSvg(r,this.svgRoot);this.svgLegend=i,this.svgLegend.setAttribute("x",this.tooltipProps.tooltipLegendOffsetX.toString()+e),this.svgLegend.setAttribute("y",this.tooltipProps.tooltipLegendOffsetY.toString()+t)}},RolloverTooltipSvgAnnotation.prototype.updateExternalLegendTooltip=function(){e=this.seriesInfo?this.generateSvgString():"<svg style='display: none;'></svg>",this.svgDivRoot=document.querySelector("[id='".concat(this.placementDivId,"']"));var e,t=l.annotationHelpers.createSvg(e,this.svgDivRoot);this.setSvg(t)},Object.defineProperty(RolloverTooltipSvgAnnotation.prototype,"placementDivId",{get:function(){return this.placementDivIdProperty},set:function(e){this.placementDivIdProperty!==e&&(this.placementDivIdProperty=e,this.notifyPropertyChanged(u.PROPERTY.PLACEMENT_DIV_ID))},enumerable:!1,configurable:!0}),RolloverTooltipSvgAnnotation}(d.SvgAnnotationBase);t.RolloverTooltipSvgAnnotation=h;var defaultTooltipDataTemplate=function(e,t,r,i){var n=[];return t&&n.push(t),e.dataSeriesType===a.EDataSeriesType.Ohlc?(r&&n.push("".concat(r,": ").concat(e.formattedXValue)),n.push("Open: ".concat(e.formattedOpenValue)),n.push("Highest: ".concat(e.formattedHighValue)),n.push("Lowest: ".concat(e.formattedLowValue)),n.push("Close: ".concat(e.formattedCloseValue))):e.dataSeriesType===a.EDataSeriesType.Hlc?(r&&n.push("".concat(r,": ").concat(e.formattedXValue)),n.push("High: ".concat(e.formattedHighValue)),n.push("Low: ".concat(e.formattedLowValue))):e.dataSeriesType===a.EDataSeriesType.Xyy?e.isFirstSeries?addValueWithLabel(n,e.formattedXValue,e.formattedYValue,r,i):addValueWithLabel(n,e.formattedXValue,e.formattedY1Value,r,i):e.dataSeriesType===a.EDataSeriesType.HeatmapUniform?(r&&n.push("".concat(r,": ").concat(e.formattedXValue)),i&&n.push("".concat(i,": ").concat(e.formattedYValue)),n.push("Z: ".concat(e.formattedZValue))):e.dataSeriesType===a.EDataSeriesType.Xyz?(addValueWithLabel(n,e.formattedXValue,e.formattedYValue,r,i),n.push("Z: ".concat(e.formattedZValue))):addValueWithLabel(n,e.formattedXValue,e.formattedYValue,r,i),n},defaultTooltipTemplate=function(e,t,r){var i,n,o,a,s,l="",u=r.tooltipProps,c=u.tooltipTitle,d=u.tooltipColor,h=u.tooltipTextColor,f=u.tooltipLabelX,y=u.tooltipLabelY,g=u.shadowColor,v=(null!==(o=null!==(i=r.tooltipProps.tooltipDataTemplate)&&void 0!==i?i:null===(n=r.tooltipProps.rolloverModifier)||void 0===n?void 0:n.tooltipDataTemplate)&&void 0!==o?o:defaultTooltipDataTemplate)(t,c,f,y),m=null!==(a=u.width)&&void 0!==a?a:calcTooltipWidth(v.reduce(function(e,t){return t.length>e?t.length:e},0)),S=null!==(s=u.height)&&void 0!==s?s:calcTooltipHeight(v.length);r.updateSize(m,S),v.forEach(function(e,t){l+='<tspan x="8" dy="1.2em">'.concat(e,"</tspan>")});var b='<feGaussianBlur result="blurOut" in="offOut" stdDeviation="3" />';if(void 0!==g){var P=(0,p.parseColorToTArgb)(g);b='<feColorMatrix result="matrixOut" in="offOut" type="matrix"\n        values="0 0 0 0 '.concat(P.red/255,"\n                0 0 0 0 ").concat(P.green/255,"\n                0 0 0 0 ").concat(P.blue/255,"\n                0 0 0 ").concat(P.opacity/255,' 0" />\n        <feGaussianBlur result="blurOut" in="matrixOut" stdDeviation="3" />')}return'<svg class="scichart__rollover-tooltip" width="'.concat(m,'" height="').concat(S,'">\n        <defs>\n            <filter id="').concat(e,'" x="0" y="0" width="200%" height="200%">\n                <feOffset result="offOut" in="SourceAlpha" dx="3" dy="3" />\n                ').concat(b,'\n                <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />\n            </filter>\n        </defs>\n        <rect rx="4" ry="4" width="90%" height="90%" fill="').concat(d,'" filter="url(#').concat(e,')" />\n        <svg width="100%">\n            <text x="8" y="3" font-size="13" font-family="Verdana" dy="0" fill="').concat(h,'">').concat(l,"</text>\n        </svg>\n    </svg>")},calcTooltipWidth=function(e,t){return void 0===e&&(e=20),void 0===t&&(t=13),8*e+20},calcTooltipHeight=function(e,t){return void 0===e&&(e=2),void 0===t&&(t=13),17*e+16},addValueWithLabel=function(e,t,r,i,n){if(i){var o=null!=n?n:"Y";e.push("".concat(i,": ").concat(t," ").concat(o,": ").concat(r))}else{var o=n?"".concat(n,": "):"";e.push("".concat(o).concat(r))}}},38437:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SvgAnnotationBase=void 0;var o=r(48484),a=r(51859),s=r(93343),l=r(79361),u=r(91462),c=r(22148),d=r(78501),p=r(61670),h=function(e){function SvgAnnotationBase(t){var r,i,n,o,s=this;return(s=e.call(this,t)||this).isSvgAnnotation=!0,s.isDeleted=!1,s.xCoordShiftProperty=0,s.yCoordShiftProperty=0,s.verticalAnchorPointProperty=a.EVerticalAnchorPoint.Top,s.horizontalAnchorPointProperty=a.EHorizontalAnchorPoint.Left,s.prevX1Coordinate=0,s.prevY1Coordinate=0,s.xCoordShiftProperty=null!==(r=null==t?void 0:t.xCoordShift)&&void 0!==r?r:s.xCoordShiftProperty,s.yCoordShiftProperty=null!==(i=null==t?void 0:t.yCoordShift)&&void 0!==i?i:s.yCoordShiftProperty,s.verticalAnchorPointProperty=null!==(n=null==t?void 0:t.verticalAnchorPoint)&&void 0!==n?n:s.verticalAnchorPointProperty,s.horizontalAnchorPointProperty=null!==(o=null==t?void 0:t.horizontalAnchorPoint)&&void 0!==o?o:s.horizontalAnchorPointProperty,s}return n(SvgAnnotationBase,e),SvgAnnotationBase.prototype.onAttach=function(t){e.prototype.onAttach.call(this,t),this.svgRootProperty=t.domSvgContainer},SvgAnnotationBase.prototype.onDetach=function(){e.prototype.onDetach.call(this),this.delete()},Object.defineProperty(SvgAnnotationBase.prototype,"xCoordShift",{get:function(){return this.xCoordShiftProperty},set:function(e){this.xCoordShiftProperty!==e&&(this.xCoordShiftProperty=e,this.notifyPropertyChanged(p.PROPERTY.X_COORD_SHIFT))},enumerable:!1,configurable:!0}),Object.defineProperty(SvgAnnotationBase.prototype,"yCoordShift",{get:function(){return this.yCoordShiftProperty},set:function(e){this.yCoordShiftProperty!==e&&(this.yCoordShiftProperty=e,this.notifyPropertyChanged(p.PROPERTY.Y_COORD_SHIFT))},enumerable:!1,configurable:!0}),Object.defineProperty(SvgAnnotationBase.prototype,"verticalAnchorPoint",{get:function(){return this.verticalAnchorPointProperty},set:function(e){this.verticalAnchorPointProperty!==e&&(this.verticalAnchorPointProperty=e,this.notifyPropertyChanged(p.PROPERTY.VERTICAL_ANCHOR_POINT))},enumerable:!1,configurable:!0}),Object.defineProperty(SvgAnnotationBase.prototype,"horizontalAnchorPoint",{get:function(){return this.horizontalAnchorPointProperty},set:function(e){this.horizontalAnchorPointProperty!==e&&(this.horizontalAnchorPointProperty=e,this.notifyPropertyChanged(p.PROPERTY.HORIZONTAL_ANCHOR_POINT))},enumerable:!1,configurable:!0}),SvgAnnotationBase.prototype.suspendInvalidate=function(){e.prototype.suspendInvalidate.call(this),this.invalidateState.xCoordShift=this.xCoordShift,this.invalidateState.yCoordShift=this.yCoordShift},SvgAnnotationBase.prototype.resumeInvalidate=function(){this.invalidateState&&((this.xCoordShift!==this.invalidateState.xCoordShift||this.yCoordShift!==this.invalidateState.yCoordShift)&&this.invalidateParentCallback&&this.invalidateParentCallback(),e.prototype.resumeInvalidate.call(this))},SvgAnnotationBase.prototype.update=function(e,t,r,i){this.create(e,t,r,i);var n,o,s=null!==(n=this.xCoordShift)&&void 0!==n?n:0,l=null!==(o=this.yCoordShift)&&void 0!==o?o:0,u=this.svg.getBBox(),c=u.width,d=u.height;this.horizontalAnchorPointProperty===a.EHorizontalAnchorPoint.Center?s-=c/2:this.horizontalAnchorPointProperty===a.EHorizontalAnchorPoint.Right&&(s-=c),this.verticalAnchorPointProperty===a.EVerticalAnchorPoint.Center?l-=d/2:this.verticalAnchorPointProperty===a.EVerticalAnchorPoint.Bottom&&(l-=d),this.svg.style.visibility=this.isHidden?"hidden":"visible",this.svg.style.opacity=this.opacity.toString();var p=s+this.getX1Coordinate(e,t)+r,h=l+this.getY1Coordinate(e,t)+i;isNaN(p)||isNaN(h)||!isFinite(p)||!isFinite(h)?this.svg.style.display="none":(this.setSvgAttribute("x",p),this.setSvgAttribute("y",h))},SvgAnnotationBase.prototype.calcDragDistance=function(e){if(!this.prevValue){this.prevValue=e;return}var t=this.getAnnotationBorders(),r=t.x1,i=t.x2,n=t.y1,o=t.y2;(this.adornerDraggingPoint===c.EDraggingGripPoint.Body||this.adornerDraggingPoint===c.EDraggingGripPoint.x1y1)&&(r=this.x1-(this.prevValue.x-e.x),n=this.y1-(this.prevValue.y-e.y),this.x1=r,this.y1=n,i-=this.prevValue.x-e.x,o-=this.prevValue.y-e.y),this.prevValue=e,this.setAnnotationBorders(r,i,n,o)},SvgAnnotationBase.prototype.onDragStarted=function(t){e.prototype.onDragStarted.call(this,t);var r=this.getAnnotationBorders(),i=r.x1,n=r.x2,u=r.y1,d=r.y2,p=new o.Point(i,u),h=i,f=u,y=Math.abs((u-d)/2),g=Math.abs((i-n)/2);this.verticalAnchorPoint===a.EVerticalAnchorPoint.Center&&(f+=y),this.horizontalAnchorPoint===a.EHorizontalAnchorPoint.Center&&(h+=g);var v=(0,l.translateFromCanvasToSeriesViewRect)(new o.Point(t.mousePoint.x,t.mousePoint.y),this.parentSurface.seriesViewRect);return!!v&&(p&&this.canDragPoint(c.EDraggingGripPoint.x1y1)&&(0,s.calcDistance)(h,f,(0,l.translateToNotScaled)(v.x),(0,l.translateToNotScaled)(v.y))<this.annotationsGripsRadius?(this.adornerDraggingPoint=c.EDraggingGripPoint.x1y1,!0):!!(this.canDragPoint(c.EDraggingGripPoint.Body)&&this.clickToSelect(t))&&(this.adornerDraggingPoint=c.EDraggingGripPoint.Body,!0))},SvgAnnotationBase.prototype.delete=function(){this.clear(),this.isDeleted=!0},SvgAnnotationBase.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={xCoordShift:this.xCoordShift,yCoordShift:this.yCoordShift,verticalAnchorPoint:this.verticalAnchorPoint,horizontalAnchorPoint:this.horizontalAnchorPoint};return Object.assign(t.options,r),t},Object.defineProperty(SvgAnnotationBase.prototype,"svg",{get:function(){return this.svgProperty},enumerable:!1,configurable:!0}),SvgAnnotationBase.prototype.clear=function(){this.parentSurface&&!this.parentSurface.isDeleted&&this.svg&&(this.svgRoot.removeChild(this.svg),this.setSvg(void 0))},SvgAnnotationBase.prototype.checkIsClickedOnAnnotationInternal=function(e,t){var r=this.getAnnotationBorders(!0),i=r.x1,n=r.x2,o=r.y1,a=r.y2,l=e/u.DpiHelper.PIXEL_RATIO,c=t/u.DpiHelper.PIXEL_RATIO;return(0,s.testIsInBounds)(l,c,i,a,n,o)},SvgAnnotationBase.prototype.updateAdornerInner=function(){if(this.deleteAdorner(),this.isSelected){var e=this.getAdornerAnnotationBorders(!0,!0),t=e.x1,r=e.x2,i=e.y1,n=e.y2,o=this.svgStringAdornerTemplate(t,i,r,n);this.svgAdorner=d.annotationHelpers.createSvg(o,this.svgAdornerRoot)}},Object.defineProperty(SvgAnnotationBase.prototype,"svgRoot",{get:function(){return this.svgRootProperty},enumerable:!1,configurable:!0}),SvgAnnotationBase.prototype.setSvgAttribute=function(e,t){var r=t.toString(10);this.svg.setAttribute(e,r)},SvgAnnotationBase.prototype.setSvg=function(e){this.svgProperty=e},SvgAnnotationBase.prototype.calcAndSetAnnotationBorders=function(e,t){if(this.svg){var r=this.getX1Coordinate(e,t)+this.xCoordShift,i=this.getY1Coordinate(e,t)+this.yCoordShift;this.svgDOMRect=this.svg.getBBox();var n=r+this.svgDOMRect.width,o=i+this.svgDOMRect.height;this.verticalAnchorPoint===a.EVerticalAnchorPoint.Bottom&&(o=i-this.svgDOMRect.height),this.verticalAnchorPoint===a.EVerticalAnchorPoint.Center&&(o=i+this.svgDOMRect.height/2,i-=this.svgDOMRect.height/2),this.horizontalAnchorPoint===a.EHorizontalAnchorPoint.Right&&(n=r-this.svgDOMRect.width),this.horizontalAnchorPoint===a.EHorizontalAnchorPoint.Center&&(n=r+this.svgDOMRect.width/2,r-=this.svgDOMRect.width/2),this.setAnnotationBorders(r,n,i,o)}},SvgAnnotationBase.prototype.svgStringAdornerTemplate=function(e,t,r,i){var n=e,o=t,s=Math.abs((t-i)/2),l=Math.abs((e-r)/2);return this.verticalAnchorPoint===a.EVerticalAnchorPoint.Center&&(o+=s),this.horizontalAnchorPoint===a.EHorizontalAnchorPoint.Center&&(n+=l),'<svg xmlns="http://www.w3.org/2000/svg">\n        <rect x="'.concat(e,'" y="').concat(t,'" width="').concat(Math.abs(e-r),'" height="').concat(Math.abs(t-i),'" stroke="').concat(this.selectionBoxStroke,'" stroke-width="').concat(this.selectionBoxThickness,'px" fill="none" />\n        ').concat(this.canDragPoint(c.EDraggingGripPoint.x1y1)?this.getAnnotationGripSvg(n,o):"","\n      </svg>")},SvgAnnotationBase}(c.AnnotationBase);t.SvgAnnotationBase=h},68784:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.TextAnnotation=void 0;var o=r(36313),a=r(78501),s=r(61670),l=r(52354),u=function(e){function TextAnnotation(t){var r,i,n,a,s,u,c,d,p=this;return(p=e.call(this,t)||this).type=l.EAnnotationType.SVGTextAnnotation,p.textProperty="DEFAULT TEXT",p.textColorProperty="#ffffff",p.fontSizeProperty=14,p.fontFamilyProperty="Arial",p.fontWeightProperty="Normal",p.paddingProperty=o.Thickness.fromNumber(0),p.classNameProperty="scichart__text-annotation",p.isDirty=!0,p.textProperty=null!==(r=null==t?void 0:t.text)&&void 0!==r?r:p.textProperty,p.textColorProperty=null!==(i=null==t?void 0:t.textColor)&&void 0!==i?i:p.textColorProperty,p.fontSizeProperty=null!==(n=null==t?void 0:t.fontSize)&&void 0!==n?n:p.fontSizeProperty,p.fontFamilyProperty=null!==(a=null==t?void 0:t.fontFamily)&&void 0!==a?a:p.fontFamilyProperty,p.backgroundProperty=null!==(s=null==t?void 0:t.background)&&void 0!==s?s:p.backgroundProperty,p.paddingProperty=null!==(u=null==t?void 0:t.padding)&&void 0!==u?u:p.paddingProperty,p.classNameProperty=null!==(c=null==t?void 0:t.className)&&void 0!==c?c:p.classNameProperty,p.fontWeight=null!==(d=null==t?void 0:t.fontWeight)&&void 0!==d?d:p.fontWeight,p}return n(TextAnnotation,e),Object.defineProperty(TextAnnotation.prototype,"text",{get:function(){return this.textProperty},set:function(e){this.textProperty!==e&&(this.textProperty=e,this.notifyPropertyChanged(s.PROPERTY.TEXT))},enumerable:!1,configurable:!0}),Object.defineProperty(TextAnnotation.prototype,"background",{get:function(){return this.backgroundProperty},set:function(e){this.backgroundProperty!==e&&(this.backgroundProperty=e,this.notifyPropertyChanged(s.PROPERTY.BACKGROUND_COLOR))},enumerable:!1,configurable:!0}),Object.defineProperty(TextAnnotation.prototype,"padding",{get:function(){return this.paddingProperty},set:function(e){this.paddingProperty!==e&&(this.paddingProperty=e,this.notifyPropertyChanged(s.PROPERTY.PADDING))},enumerable:!1,configurable:!0}),Object.defineProperty(TextAnnotation.prototype,"className",{get:function(){return this.classNameProperty},set:function(e){this.classNameProperty!==e&&(this.classNameProperty=e,this.notifyPropertyChanged(s.PROPERTY.CLASS_NAME))},enumerable:!1,configurable:!0}),Object.defineProperty(TextAnnotation.prototype,"textColor",{get:function(){return this.textColorProperty},set:function(e){this.textColorProperty!==e&&(this.textColorProperty=e,this.notifyPropertyChanged(s.PROPERTY.TEXT_STROKE))},enumerable:!1,configurable:!0}),Object.defineProperty(TextAnnotation.prototype,"fontSize",{get:function(){return this.fontSizeProperty},set:function(e){this.fontSizeProperty!==e&&(this.fontSizeProperty=e,this.notifyPropertyChanged(s.PROPERTY.FONT_SIZE))},enumerable:!1,configurable:!0}),Object.defineProperty(TextAnnotation.prototype,"fontFamily",{get:function(){return this.fontFamilyProperty},set:function(e){this.fontFamilyProperty!==e&&(this.fontFamilyProperty=e,this.notifyPropertyChanged(s.PROPERTY.FONT_FAMILY))},enumerable:!1,configurable:!0}),Object.defineProperty(TextAnnotation.prototype,"fontWeight",{get:function(){return this.fontWeightProperty},set:function(e){this.fontWeightProperty!==e&&(this.fontWeightProperty=e,this.notifyPropertyChanged(s.PROPERTY.FONT_WEIGHT))},enumerable:!1,configurable:!0}),TextAnnotation.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={fontFamily:this.fontFamily,fontSize:this.fontSize,fontWeight:this.fontWeight,text:this.text,textColor:this.textColor};return Object.assign(t.options,r),t},TextAnnotation.prototype.notifyPropertyChanged=function(e){e!==s.PROPERTY.IS_HIDDEN&&e!==s.PROPERTY.X_COORD_SHIFT&&e!==s.PROPERTY.Y_COORD_SHIFT&&e!==s.PROPERTY.HORIZONTAL_ANCHOR_POINT&&e!==s.PROPERTY.VERTICAL_ANCHOR_POINT&&e!==s.PROPERTY.X1&&e!==s.PROPERTY.X2&&e!==s.PROPERTY.Y1&&e!==s.PROPERTY.Y2&&(this.isDirty=!0),this.invalidateParentCallback&&this.invalidateParentCallback()},TextAnnotation.prototype.create=function(e,t,r,i){if(!this.isDirty&&!this.isSelected){this.calcAndSetAnnotationBorders(e,t);return}this.svg&&this.clear(),this.setSvg(this.createSvg()),this.calcAndSetAnnotationBorders(e,t),this.updateAdornerInner(),this.isDirty=!1},TextAnnotation.prototype.createSvg=function(){var e=this.padding.left,t=this.fontSize+this.padding.top,r='<svg id="scichart__text-annotation-'.concat(this.id,'" class="').concat(this.className,'">\n            <text x="').concat(e,'" y="').concat(t,'" fill="').concat(this.textColor,'"  font-size="').concat(this.fontSize,'" font-family="').concat(this.fontFamily,'" font-weight="').concat(this.fontWeight,'">').concat(this.text,"</text>\n        </svg>"),i=a.annotationHelpers.createSvg(r,this.svgRoot);return this.background&&this.attachSvgBackgroundRect(i,this.background,this.padding),i},TextAnnotation.prototype.attachSvgBackgroundRect=function(e,t,r){var i=e.getBoundingClientRect(),n=i.width+r.left+r.right,o=i.height+r.top+r.bottom,a=document.createElementNS("http://www.w3.org/2000/svg","rect");a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("width","".concat(n)),a.setAttribute("height","".concat(o)),a.setAttribute("fill","".concat(t)),e.insertBefore(a,e.firstChild)},TextAnnotation}(r(38437).SvgAnnotationBase);t.TextAnnotation=u},58623:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalLineAnnotation=void 0;var a=r(92530),s=r(48484),l=r(47494),u=r(86599),c=r(93343),d=r(79361),p=r(8355),h=r(48861),f=r(91462),y=r(22148),g=r(52354),v=function(e){function VerticalLineAnnotation(t){var r,i,n,o=this;return(o=e.call(this,t)||this).type=g.EAnnotationType.RenderContextVerticalLineAnnotation,o.dragOnLine=!0,o.dragOnLabel=!0,(null==t?void 0:t.x2)&&(o.x2=t.x2),(null==t?void 0:t.y2)&&(o.y2=t.y2),o.dragOnLine=null!==(r=null==t?void 0:t.dragOnLine)&&void 0!==r?r:o.dragOnLine,o.dragOnLabel=null!==(i=null==t?void 0:t.dragOnLabel)&&void 0!==i?i:o.dragOnLabel,o.verticalAlignment=null!==(n=null==t?void 0:t.verticalAlignment)&&void 0!==n?n:o.verticalAlignment,o}return n(VerticalLineAnnotation,e),Object.defineProperty(VerticalLineAnnotation.prototype,"y2",{get:function(){throw Error("y2 property is not supported for VerticalLineAnnotation")},set:function(e){throw Error("y2 property is not supported for VerticalLineAnnotation")},enumerable:!1,configurable:!0}),Object.defineProperty(VerticalLineAnnotation.prototype,"x2",{get:function(){throw Error("x2 property is not supported for VerticalLineAnnotation")},set:function(e){throw Error("x2 property is not supported for VerticalLineAnnotation")},enumerable:!1,configurable:!0}),VerticalLineAnnotation.prototype.drawWithContext=function(e,t,r,i){a.Guard.notNull(e,"renderContext"),a.Guard.notNull(t,"xCalc"),a.Guard.notNull(r,"yCalc");var n=(0,p.getWebGlPenFromCache)(this.strokePenCache),u=this.getDrawConfig(t,r),c=u.annotationCoord,y=u.lineAnnotationEdgeCoord,g=u.horizontalAxis,v=u.verticalAxis,m=u.horizontalAxisCoordinateMode,S=u.verticalAxisCoordinateMode,b=u.horizontalCoordinateCalculator,P=u.verticalCoordinateCalculator,C=u.isAlignmentTop;if(g&&v){var x=i.height,A=0;C&&(x=x=0,A=A=i.height);var T=this.getValue(y,P,S),_=T||0===T;_&&(A=A=this.getY1Coordinate(t,r));var R=this.getX1Coordinate(t,r);this.setAnnotationBorders(R,R,x,A);var E=this.getCoordinate(y,P,S),w=this.getCoordinate(c,b,m),D=w>=0&&w<=g.parentSurface.seriesViewRect.width,O=C?E>=0:E<=v.parentSurface.seriesViewRect.height;if(D&&(!_||O)){var I=o(o({},v.labelStyle),{color:this.axisLabelStroke,fontSize:this.axisFontSize*f.DpiHelper.PIXEL_RATIO,fontFamily:this.axisFontFamily}),M=(0,h.drawLineAnnotation)(g,e,this.labelPlacement,this.labelValue,R,R,x,A,I,this.axisLabelFill,n,i,this.showLabel,this.opacity,null,this.verticalAlignment);if(M){var L=(0,d.translateFromCanvasToSeriesViewRect)(new s.Point(M.left,M.top),i,!0),k=(0,d.translateFromCanvasToSeriesViewRect)(new s.Point(M.right,M.bottom),i,!0);this.labelRect=l.Rect.createWithPoints(L,k)}}this.dragOnLine&&this.updateAdornerInner()}},VerticalLineAnnotation.prototype.onDragStarted=function(t){return this.dragOnLine?e.prototype.onDragStarted.call(this,t):!!(this.dragOnLabel&&this.labelRect&&this.clickToSelect(t))&&(this.adornerDraggingPoint=y.EDraggingGripPoint.Body,!0)},VerticalLineAnnotation.prototype.checkIsClickedOnAnnotationInternal=function(t,r){if(this.dragOnLine&&e.prototype.checkIsClickedOnAnnotationInternal.call(this,t,r))return!0;if(this.dragOnLabel&&this.labelRect){var i=this.labelRect,n=i.left,o=i.top,a=i.right,s=i.bottom;if((0,c.testIsInBounds)(t,r,n,s,a,o))return!0}return!1},VerticalLineAnnotation.prototype.getDrawConfig=function(e,t){var r=this.xAxisId,i=this.parentSurface.getXAxisById(r),n=this.yAxisId,o=this.parentSurface.getYAxisById(n),a={annotationCoord:this.x1,lineAnnotationEdgeCoord:this.y1,horizontalAxis:i,verticalAxis:o,horizontalAxisCoordinateMode:this.xCoordinateMode,verticalAxisCoordinateMode:this.yCoordinateMode,horizontalCoordinateCalculator:e,verticalCoordinateCalculator:t,isAlignmentTop:(null==i?void 0:i.axisAlignment)===u.EAxisAlignment.Top},s={annotationCoord:this.y1,lineAnnotationEdgeCoord:this.x1,horizontalAxis:o,verticalAxis:i,horizontalAxisCoordinateMode:this.yCoordinateMode,verticalAxisCoordinateMode:this.xCoordinateMode,horizontalCoordinateCalculator:t,verticalCoordinateCalculator:e,isAlignmentTop:(null==o?void 0:o.axisAlignment)===u.EAxisAlignment.Top};return this.isVerticalChart?s:a},VerticalLineAnnotation}(r(67356).LineAnnotation);t.VerticalLineAnnotation=v},78501:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.annotationHelpers=void 0,t.annotationHelpers={createSvg:function(e,t){var r=document.createRange().createContextualFragment(e);return t.appendChild(r),t.lastChild},calcNewApex:function(e,t,r,i,n){return{x1y1:{x:e,y:t},x2y1:n?{x:e,y:i}:{x:r,y:t},x1y2:n?{x:r,y:t}:{x:e,y:i},x2y2:{x:r,y:i}}}}},61670:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DISTANCE_TO_LINE=t.ADORNER_GRIP_RADIUS=t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).ADORNER_TEMPLATE="ADORNER_TEMPLATE",r.ANNOTATION_CANVAS="ANNOTATION_CANVAS",r.RESIZE_DIRECTIONS="RESIZE_DIRECTIONS",r.AXIS_LABELS_FILL="AXIS_LABELS_FILL",r.AXIS_LABELS_STROKE="AXIS_LABELS_STROKE",r.AXIS_FONT_FAMILY="AXIS_FONT_FAMILY",r.AXIS_FONT_SIZE="AXIS_FONT_SIZE",r.BACKGROUND_COLOR="BACKGROUND_COLOR",r.CLASS_NAME="CLASS_NAME",r.COLOR="COLOR",r.CONTAINER_BACKGROUND="CONTAINER_BACKGROUND",r.FILL="FILL",r.FONT_FAMILY="FONT_FAMILY",r.FONT_SIZE="FONT_SIZE",r.FONT_STYLE="FONT_STYLE",r.FONT_WEIGHT="FONT_WEIGHT",r.FORMATTED_VALUE="FORMATTED_VALUE",r.HORIZONTAL_ANCHOR_POINT="HORIZONTAL_ANCHOR_POINT",r.IMAGE="IMAGE",r.IMAGE_HEIGHT="IMAGE_HEIGHT",r.IMAGE_WIDTH="IMAGE_WIDTH",r.IS_EDITABLE="IS_EDITABLE",r.IS_HIDDEN="IS_HIDDEN",r.IS_SELECTED="IS_SELECTED",r.LABEL_PLACEMENT="LABEL_PLACEMENT",r.LABEL_VALUE="LABEL_VALUE",r.MINIMUM_WIDTH="MINIMUM_WIDTH",r.MINIMUM_HEIGHT="MINIMUM_HEIGHT",r.OPACITY="OPACITY",r.PADDING="PADDING",r.PARENT_SURFACE="PARENT_SURFACE",r.SERIES_INFO="SERIES_INFO",r.SERIES_INFOS="SERIES_INFOS",r.STROKE="STROKE",r.STROKE_THICKNESS="STROKE_THICKNESS",r.STROKE_DASH_ARRAY="STROKE_DASH_ARRAY",r.SHOW_LABEL="SHOW_LABEL",r.TEXT="TEXT",r.TEXT_STROKE="TEXT_STROKE",r.TITLE="TITLE",r.TOOLTIP_LEGEND_OFFSET_X="TOOLTIP_LEGEND_OFFSET_X",r.TOOLTIP_LEGEND_OFFSET_Y="TOOLTIP_LEGEND_OFFSET_Y",r.TOOLTIP_LEGEND_TEMPLATE="TOOLTIP_LEGEND_TEMPLATE",r.TOOLTIP_DATA_TEMPLATE="TOOLTIP_DATA_TEMPLATE",r.TOOLTIP_SVG_TEMPLATE="TOOLTIP_SVG_TEMPLATE",r.VERTICAL_ANCHOR_POINT="VERTICAL_ANCHOR_POINT",r.X1="X1",r.X2="X2",r.XAXIS_ID="XAXIS_ID",r.X_COORDINATE_MODE="X_COORDINATE_MODE",r.X_COORD_SHIFT="X_COORD_SHIFT",r.Y1="Y1",r.Y2="Y2",r.YAXIS_ID="YAXIS_ID",r.Y_COORDINATE_MODE="Y_COORDINATE_MODE",r.Y_COORD_SHIFT="Y_COORD_SHIFT",r.PLACEMENT_DIV_ID="PLACEMENT_DIV_ID",r.ROTATION="ROTATION",r.ADORNER_STROKE="ADORNER_STROKE",r.ADORNER_FILL="ADORNER_FILL",r.ADORNER_RADIUS="ADORNER_RADIUS",r.SELECTION_STROKE="SELECTION_STROKE",r.SELECTION_DELTA="SELECTION_DELTA",r.SELECTION_THICKNESS="SELECTION_THICKNESS",r.DRAGPOINTS="DRAGPOINTS",r.MULTILINE_ALIGNMENT="MULTILINE_ALIGNMENT",r.WRAP_TO="WRAP_TO",r.LINE_SPACING="LINE_SPACING",r.SCALE="SCALE",r.OUTLINE="OUTLINE",t.ADORNER_GRIP_RADIUS=10,t.DISTANCE_TO_LINE=10},73336:function(e,t,r){"use strict";var i,n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AxisBase2D=t.EClipMode=void 0;var s=r(53247),l=r(19513),u=r(56529),c=r(94694),d=r(51134),p=r(36313),h=r(86599),f=r(51894),y=r(17575),g=r(90531),v=r(24510),m=r(48053),S=r(8355),b=r(92346),P=r(21075),C=r(11076),x=r(8605),A=r(49033),T=r(68289),_=r(94485),R=r(61239),E=r(91462),w=r(87994),D=r(29752),O=r(18864),I=r(48888),M=r(87217);(i=t.EClipMode||(t.EClipMode={}))[i.None=0]="None",i[i.StretchAtExtents=1]="StretchAtExtents",i[i.ClipAtMin=2]="ClipAtMin",i[i.ClipAtMax=3]="ClipAtMax",i[i.ClipAtExtents=4]="ClipAtExtents";var L=function(e){function AxisBase2D(t,r){var i,n,o,l,u,c,d,h,y,v,m,P,C=this;return(C=e.call(this,r)||this).axisLayoutState=new D.AxisLayoutState,C.getlabelStyleProxy=function(e){return new Proxy(e,{set:function(e,t,r){return e[t]=r,C.notifyPropertyChanged(M.PROPERTY.TEXT_STYLE),C.dpiAdjustedLabelStyleCache=void 0,!0}})},C.labelStyleProperty=C.getlabelStyleProxy({fontSize:14,fontFamily:"Arial",color:R.SciChartSurfaceBase.DEFAULT_THEME.tickTextBrush,fontWeight:"normal",fontStyle:"normal",padding:p.Thickness.fromString("2 4 2 4"),alignment:g.ELabelAlignment.Auto}),C.isInnerAxisProperty=!1,C.isPrimaryAxisProperty=!1,C.axisBorderProperty={borderBottom:0,borderLeft:0,borderRight:0,borderTop:0,color:R.SciChartSurfaceBase.DEFAULT_THEME.axisBorder,border:0},C.offsetProperty=0,C.offsetOverrideProperty=void 0,C.tickCache=void 0,C.clipToXRangeProperty=!0,C.isStaticAxisProperty=!1,C.webAssemblyContext2D=t,C.penCacheForMajorGridLines=new S.Pen2DCache(t),C.penCacheForMinorGridLines=new S.Pen2DCache(t),C.penCacheForMajorTickLines=new S.Pen2DCache(t),C.penCacheForMinorTickLines=new S.Pen2DCache(t),C.solidBrushCacheAxisBands=new b.SolidBrushCache(t),C.solidBrushCacheAxisBackground=new b.SolidBrushCache(t),C.axisRenderer=new O.AxisRenderer(t),C.axisRenderer.keepLabelsWithinAxis=null!==(i=null==r?void 0:r.keepLabelsWithinAxis)&&void 0!==i?i:C.axisRenderer.keepLabelsWithinAxis,C.axisRenderer.hideOverlappingLabels=null!==(n=null==r?void 0:r.hideOverlappingLabels)&&void 0!==n?n:C.axisRenderer.hideOverlappingLabels,C.axisRenderer.axisThickness=null!==(o=null==r?void 0:r.axisThickness)&&void 0!==o?o:C.axisRenderer.axisThickness,C.axisTitleRenderer=new I.AxisTitleRenderer(t),C.isStaticAxis=null!==(l=null==r?void 0:r.isStaticAxis)&&void 0!==l?l:C.isStaticAxisProperty,C.visibleRangeLimit=null!==(u=null==r?void 0:r.visibleRangeLimit)&&void 0!==u?u:C.visibleRangeLimit,C.visibleRangeSizeLimit=null!==(c=null==r?void 0:r.visibleRangeSizeLimit)&&void 0!==c?c:C.visibleRangeSizeLimit,C.zoomExtentsRange=(null==r?void 0:r.zoomExtentsToInitialRange)?C.visibleRange:null==r?void 0:r.zoomExtentsRange,C.axisAlignment=null!==(d=null==r?void 0:r.axisAlignment)&&void 0!==d?d:C.axisAlignment,C.axisTitle=null!==(h=null==r?void 0:r.axisTitle)&&void 0!==h?h:C.axisTitle,C.labelStyle=C.getlabelStyleProxy(a(a({},C.labelStyle),null==r?void 0:r.labelStyle)),C.axisBorder=a(a({},C.axisBorder),null==r?void 0:r.axisBorder),C.isInnerAxis=null!==(y=null==r?void 0:r.isInnerAxis)&&void 0!==y?y:C.isInnerAxis,C.stackedAxisLength=null!==(v=null==r?void 0:r.stackedAxisLength)&&void 0!==v?v:C.stackedAxisLength,C.solidBrushCacheBorder=new b.SolidBrushCache(t),null==r||!r.labelProvider||"getLabels"in(null==r?void 0:r.labelProvider)||(r.labelProvider=(0,s.createType)(f.EBaseType.LabelProvider,r.labelProvider.type,t,r.labelProvider.options)),C.autoRangeAnimationProperty=null==r?void 0:r.autoRangeAnimation,C.backgroundColor=null!==(m=null==r?void 0:r.backgroundColor)&&void 0!==m?m:C.backgroundColor,C.offsetOverrideProperty=null==r?void 0:r.overrideOffset,C.clipToXRangeProperty=null!==(P=null==r?void 0:r.clipToXRange)&&void 0!==P?P:C.clipToXRange,C}return o(AxisBase2D,e),Object.defineProperty(AxisBase2D.prototype,"labelProvider",{get:function(){return this.labelProviderProperty},set:function(e){var t;null===(t=this.labelProviderProperty)||void 0===t||t.detachedFromAxis(),this.labelProviderProperty=e,this.notifyPropertyChanged(M.PROPERTY.LABEL_PROVIDER)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"axisRenderer",{get:function(){return this.axisRendererProperty},set:function(e){this.axisRendererProperty=e,this.notifyPropertyChanged(M.PROPERTY.AXIS_RENDERER)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"isHorizontalAxis",{get:function(){return(0,h.getIsHorizontal)(this.axisAlignment)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"isAxisFlipped",{get:function(){return!this.isXAxis},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"axisAlignment",{get:function(){return this.axisAlignmentProperty},set:function(e){this.axisAlignmentProperty!==e&&(this.axisAlignmentProperty=e,this.notifyPropertyChanged(M.PROPERTY.AXIS_ALIGNMENT))},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"visibleRangeLimit",{get:function(){return this.visibleRangeLimitProperty},set:function(e){d.NumberRange.areEqual(this.visibleRangeLimitProperty,e)||(this.visibleRangeLimitProperty=e,this.notifyPropertyChanged(M.PROPERTY.VISIBLE_RANGE_LIMIT))},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"visibleRangeSizeLimit",{get:function(){return this.visibleRangeSizeLimitProperty},set:function(e){if(!d.NumberRange.areEqual(this.visibleRangeSizeLimitProperty,e)){if(e.min<0)throw Error("visibleRangeSizeLimit min value must be more or equal 0");if(e.min>=e.max)throw Error("visibleRangeSizeLimit min value must be less than max value");this.visibleRangeSizeLimitProperty=e,this.notifyPropertyChanged(M.PROPERTY.VISIBLE_RANGE_SIZE_LIMIT)}},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"zoomExtentsRange",{get:function(){return this.zoomExtentsRangeProperty},set:function(e){d.NumberRange.areEqual(this.zoomExtentsRangeProperty,e)||(this.zoomExtentsRangeProperty=e,this.notifyPropertyChanged(M.PROPERTY.ZOOMEXTENTS_RANGE))},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"isInnerAxis",{get:function(){return this.isInnerAxisProperty},set:function(e){this.isInnerAxisProperty!==e&&(this.isInnerAxisProperty=e,this.notifyPropertyChanged(M.PROPERTY.IS_INNER_AXIS))},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"isPrimaryAxis",{get:function(){return this.isPrimaryAxisProperty},set:function(e){var t=this;this.isPrimaryAxisProperty!==e&&(this.isPrimaryAxisProperty=e,this.notifyPropertyChanged(M.PROPERTY.IS_PRIMARY_AXIS)),e&&!this.isStackedAxis&&(this.isXAxis?this.parentSurface.xAxes:this.parentSurface.yAxes).asArray().forEach(function(e){e===t||e.isStackedAxis||(e.isPrimaryAxis=!1)})},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"isStackedAxis",{get:function(){return this.parentSurface.layoutManager.getAxisLayoutStrategy(this.axisAlignment,this.isInnerAxis).isStacked},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"backgroundColor",{get:function(){return this.backgroundColorProperty},set:function(e){this.backgroundColorProperty=e,this.invalidateParentCallback&&this.invalidateParentCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"stackedAxisLength",{get:function(){return this.stackedAxisLengthProperty},set:function(e){this.stackedAxisLengthProperty!==e&&(this.stackedAxisLengthProperty=e,this.notifyPropertyChanged(M.PROPERTY.AXIS_LENGTH))},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"axisLength",{get:function(){var e,t,r=this.parentSurface.seriesViewRect;if(!r)return null!==(e=this.axisLengthProperty)&&void 0!==e?e:0;var i=this.isHorizontalAxis?r.width:r.height;return null!==(t=this.axisLengthProperty)&&void 0!==t?t:i},set:function(e){this.axisLengthProperty!==e&&(this.axisLengthProperty=e,this.notifyPropertyChanged(M.PROPERTY.AXIS_LENGTH))},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"offset",{get:function(){var e;return null!==(e=this.offsetOverrideProperty)&&void 0!==e?e:this.offsetProperty},set:function(e){this.offsetProperty!==e&&(this.offsetProperty=e,void 0===this.offsetOverrideProperty&&(this.clearCoordCalcCache(),this.notifyPropertyChanged(M.PROPERTY.OFFSET)))},enumerable:!1,configurable:!0}),AxisBase2D.prototype.overrideOffset=function(e){this.offsetOverrideProperty!==e&&(this.offsetOverrideProperty=e,this.clearCoordCalcCache(),this.notifyPropertyChanged(M.PROPERTY.OFFSET))},Object.defineProperty(AxisBase2D.prototype,"isVerticalChart",{get:function(){return this.isXAxis?!![h.EAxisAlignment.Left,h.EAxisAlignment.Right].includes(this.axisAlignment):!![h.EAxisAlignment.Top,h.EAxisAlignment.Bottom].includes(this.axisAlignment)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"dpiAdjustedLabelStyle",{get:function(){return this.dpiAdjustedLabelStyleCache||(this.dpiAdjustedLabelStyleCache=E.DpiHelper.adjustTextStyle(this.labelStyleProperty)),this.dpiAdjustedLabelStyleCache},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"labelStyle",{get:function(){return this.labelStyleProperty},set:function(e){var t=a(a({},this.labelStyle),e);this.labelStyleProperty=this.getlabelStyleProxy(t),this.notifyPropertyChanged(M.PROPERTY.TEXT_STYLE),this.dpiAdjustedLabelStyleCache=void 0},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"axisBorder",{get:function(){return this.axisBorderProperty},set:function(e){var t,r,i,n,o,a;this.axisBorder.borderTop=null!==(t=e.borderTop)&&void 0!==t?t:this.axisBorder.borderTop,this.axisBorder.borderLeft=null!==(r=e.borderLeft)&&void 0!==r?r:this.axisBorder.borderLeft,this.axisBorder.borderBottom=null!==(i=e.borderBottom)&&void 0!==i?i:this.axisBorder.borderBottom,this.axisBorder.borderRight=null!==(n=e.borderRight)&&void 0!==n?n:this.axisBorder.borderRight,this.axisBorder.border=null!==(o=e.border)&&void 0!==o?o:this.axisBorder.border,this.axisBorder.color=null!==(a=e.color)&&void 0!==a?a:this.axisBorder.color,this.notifyPropertyChanged(M.PROPERTY.BORDER)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"autoRangeAnimation",{get:function(){return this.autoRangeAnimationProperty},set:function(e){this.autoRangeAnimationProperty=a(a({},this.autoRangeAnimation),e)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"clipToXRange",{get:function(){return this.clipToXRangeProperty},set:function(e){this.clipToXRangeProperty!==e&&(this.clipToXRangeProperty=e,this.notifyPropertyChanged(M.PROPERTY.DRAW_ONLY_WITHIN_XRANGE))},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase2D.prototype,"isStaticAxis",{get:function(){return this.isStaticAxisProperty},set:function(e){this.isStaticAxisProperty=e,e?this.tickCoordinatesProvider=new x.StaticTickCoordinatesProvider:this.tickCoordinatesProvider=new C.DefaultTickCoordinatesProvider},enumerable:!1,configurable:!0}),AxisBase2D.prototype.applyTheme=function(e){var t=this.parentSurface.previousThemeProvider;this.axisBandsFill===t.axisBandsFill&&(this.axisBandsFill=e.axisBandsFill),this.labelStyle.color===t.tickTextBrush&&(this.labelStyle={color:e.tickTextBrush}),this.minorGridLineStyle.color===t.minorGridLineBrush&&(this.minorGridLineStyle={color:e.minorGridLineBrush}),this.majorGridLineStyle.color===t.majorGridLineBrush&&(this.majorGridLineStyle={color:e.majorGridLineBrush}),this.minorTickLineStyle.color===t.minorGridLineBrush&&(this.minorTickLineStyle={color:e.minorGridLineBrush}),this.majorTickLineStyle.color===t.majorGridLineBrush&&(this.majorTickLineStyle={color:e.majorGridLineBrush}),this.axisTitleStyle.color===t.axisTitleColor&&(this.axisTitleStyle={color:e.axisTitleColor})},AxisBase2D.prototype.onAttach=function(e,t,r){this.parentSurface=e,this.axisTitleRenderer.parentSurface=e,this.setIsXAxis(t),this.isPrimaryAxisProperty=r},AxisBase2D.prototype.onDetach=function(){this.parentSurface=void 0,this.isPrimaryAxisProperty=!1,this.invalidateParentCallback=void 0},AxisBase2D.prototype.measure=function(){if(this.isVisible){var e=this.getTicks(!0).majorTickLabels,t=this.drawMinorTickLines||this.drawMajorTickLines;R.DebugForDpi&&console.log("Measure. fontSize: ".concat(this.labelStyle.fontSize,", dpiAdjusted: ").concat(this.dpiAdjustedLabelStyle.fontSize)),this.axisRenderer.measure(this.isHorizontalAxis,this.dpiAdjustedLabelStyle,e,this.getTicksMaxSize(),this.labelProvider,this.drawLabels,t),this.axisTitleRenderer.measure(this.axisTitle,this.dpiAdjustedAxisTitleStyle,this.axisAlignment)}else this.axisRenderer.desiredHeight=0,this.axisRenderer.desiredWidth=0,this.axisTitleRenderer.desiredHeight=0,this.axisTitleRenderer.desiredWidth=0;this.isMeasured=!0},AxisBase2D.prototype.onDpiChanged=function(){this.dpiAdjustedLabelStyleCache=void 0},AxisBase2D.prototype.prepareRenderData=function(){this.getCurrentCoordinateCalculator()},AxisBase2D.prototype.getCurrentCoordinateCalculator=function(){return e.prototype.getCurrentCoordinateCalculator.call(this)},AxisBase2D.prototype.draw=function(e){var t=this;if(this.getIsValidForDrawing()){var r=(0,P.calculateAbsoluteRenderLayer)(this.parentSurface.layersOffset,this.parentSurface.stepBetweenLayers,y.EDefaultRenderLayer.AxisBordersLayer);e.enqueueLayeredDraw(function(){(0,T.drawBorder)(e,t.webAssemblyContext2D,t.solidBrushCacheBorder,t.viewRect,t.axisBorder.borderLeft,t.axisBorder.borderTop,t.axisBorder.borderRight,t.axisBorder.borderBottom,t.axisBorder.color)},r);var i=this.getTicksWithCoords(),n=this.minorGridLineStyle,o=this.majorGridLineStyle,a=this.minorTickLineStyle,s=this.majorTickLineStyle,l=getPenForLines(this.penCacheForMinorGridLines,n.color,n.strokeThickness,n.strokeDashArray),u=getPenForLines(this.penCacheForMajorGridLines,o.color,o.strokeThickness,o.strokeDashArray),c=getPenForLines(this.penCacheForMinorTickLines,a.color,a.strokeThickness),d=getPenForLines(this.penCacheForMajorTickLines,s.color,s.strokeThickness);this.isPrimaryAxis&&this.drawAxisBandsAndGridLines(e,i,l,u);var p=(0,P.calculateAbsoluteRenderLayer)(this.parentSurface.layersOffset,this.parentSurface.stepBetweenLayers,y.EDefaultRenderLayer.AxesLayer);e.enqueueLayeredDraw(function(){if(t.backgroundColorProperty){t.axisRenderer.viewRect,t.axisTitleRenderer.viewRect;var r=t.solidBrushCacheAxisBackground.newBrush(t.backgroundColorProperty,!1),n=void 0;if(n=(0,A.createNativeRect)(t.webAssemblyContext2D,0,0,t.viewRect.width,t.viewRect.height)){var o=(0,_.getVectorRectVertex)(t.webAssemblyContext2D);o.push_back(n),e.drawRects(o,r,t.viewRect.x,t.viewRect.y)}}t.drawLabels&&(R.DebugForDpi&&console.log("Draw. fontSize: ".concat(t.labelStyle.fontSize,", dpiAdjusted: ").concat(t.dpiAdjustedLabelStyle.fontSize)),t.axisRenderer.drawLabels(e,t.axisAlignment,t.isInnerAxis,i.majorTickLabels,i.majorTickCoords,t.offset,t.dpiAdjustedLabelStyle,t.isVerticalChart,t.flippedCoordinates,t.labelProvider)),t.drawMinorTickLines&&t.axisRenderer.drawTicks(e,t.axisAlignment,t.isInnerAxis,i.minorTickCoords,t.offset,c,a),t.drawMajorTickLines&&t.axisRenderer.drawTicks(e,t.axisAlignment,t.isInnerAxis,i.majorTickCoords,t.offset,d,s),t.axisTitleRenderer.draw(e),t.labelProvider.useNativeText&&t.parentSurface.renderNativeAxisLabelsImmediately&&e.endFonts(!0)},p)}},AxisBase2D.prototype.drawDebug=function(e){var t,r,i,n,o,a,s,l;this.axisRenderer.drawDebug=!0,t=this.axisRenderer.viewRect,r=(0,_.getVectorRectVertex)(this.webAssemblyContext2D),i=new this.webAssemblyContext2D.SCRTSolidBrush((0,m.parseColorToUIntArgb)("rgba(255,0,0,0.7)"),!1),n=(0,A.createNativeRect)(this.webAssemblyContext2D,0,0,t.width,t.height),r.push_back(n),e.drawRects(r,i,t.left,t.top),i.delete(),o=this.axisTitleRenderer.viewRect,a=(0,_.getVectorRectVertex)(this.webAssemblyContext2D),s=new this.webAssemblyContext2D.SCRTSolidBrush((0,m.parseColorToUIntArgb)("rgba(0,255,0,0.7)"),!1),l=(0,A.createNativeRect)(this.webAssemblyContext2D,0,0,o.width,o.height),a.push_back(l),e.drawRects(a,s,o.left,o.top),s.delete()},AxisBase2D.prototype.getDefaultNonZeroRange=function(){return new d.NumberRange(0,10)},AxisBase2D.prototype.getMaximumRange=function(){if(this.zoomExtentsRange)return this.zoomExtentsRange;this.parentSurface&&this.parentSurface.renderableSeries.size()>0&&(e=this.isXAxis?this.getMaxXRange():this.getWindowedYRange(void 0));var e,t=this.visibleRange||this.getDefaultNonZeroRange();return e||t},AxisBase2D.prototype.getWindowedYRange=function(e){var t,r=this;return this.zoomExtentsRange?this.zoomExtentsRange:(this.parentSurface&&this.parentSurface.renderableSeries.asArray().filter(function(e){return e.yAxisId===r.id&&e.isVisible&&e.hasDataSeriesValues()}).forEach(function(i){var n=(null==e?void 0:e.containsKey(i.xAxisId))?e.item(i.xAxisId):r.getXVisibleRange(i.xAxisId),o=r.getIsXCategoryAxis(i.xAxisId);if(n){var a=i.getYRange(n,o);a&&(t=t?t.union(a):a)}}),(null==t?void 0:t.isZero())&&(t=this.coerceZeroVisibleRange(t)),this.growBy&&t&&(t=t.growBy(this.growBy)),t=this.applyVisibleRangeLimit(t),(t=this.applyVisibleRangeSizeLimit(t))||new d.NumberRange)},AxisBase2D.prototype.scroll=function(e,t){var r=this.visibleRange;if(void 0===r)return!1;var i=this.getCurrentCoordinateCalculator().translateBy(e,r);if(this.visibleRangeLimit){var n=0;i.min<this.visibleRangeLimit.min?n=this.visibleRangeLimit.min-i.min:this.visibleRangeLimit.max<i.max&&(n=this.visibleRangeLimit.max-i.max),n&&(i=new d.NumberRange(i.min+n,i.max+n))}return this.visibleRange=this.applyVisibleRangeSizeLimit(i),!0},AxisBase2D.prototype.zoomBy=function(e,t){var r=this.getCurrentCoordinateCalculator().zoomTranslateBy(e,t,this.visibleRange);if(!(r.max<r.min)){var i=this.applyVisibleRangeLimit(r);this.visibleRange=this.applyVisibleRangeSizeLimit(i)}},AxisBase2D.prototype.zoom=function(e,t,r,i){void 0===r&&(r=0),void 0===i&&(i=l.easing.outExpo);var n=this.getCurrentCoordinateCalculator(),o=n.getDataValue(e),a=n.getDataValue(t),s=this.applyVisibleRangeSizeLimit(new d.NumberRange(o<a?o:a,o<a?a:o));this.animateVisibleRange(s,r,i)},AxisBase2D.prototype.scale=function(e,t,r){var i,n,o=e.max-e.min,a=this.flippedCoordinates?!r:r,s=this.flippedCoordinates?-t:t;a?(i=e.min,n=s>0?i+o/(1+s):i+o*(1+Math.abs(s))):(n=e.max,i=s>0?n-o*(1+s):n-o/(1+Math.abs(s))),this.visibleRange=new d.NumberRange(i,n)},AxisBase2D.prototype.animateVisibleRange=function(e,t,r,i){var n,o=this;if(void 0===r&&(r=l.easing.outCubic),void 0===i&&(i=function(){}),t<=0){this.visibleRange=e||this.visibleRange,i();return}return null===(n=this.visibleRangeAnimationToken)||void 0===n||n.cancel(),this.visibleRangeAnimationToken=u.NumberRangeAnimator.animate(this.visibleRange,e,t,function(e){o.visibleRange=e},function(){o.visibleRangeAnimationToken=void 0,i()},r),this.parentSurface.addAnimation(this.visibleRangeAnimationToken),this.visibleRangeAnimationToken},AxisBase2D.prototype.delete=function(){this.penCacheForMajorGridLines=(0,c.deleteSafe)(this.penCacheForMajorGridLines),this.penCacheForMinorGridLines=(0,c.deleteSafe)(this.penCacheForMinorGridLines),this.penCacheForMajorTickLines=(0,c.deleteSafe)(this.penCacheForMajorTickLines),this.penCacheForMinorTickLines=(0,c.deleteSafe)(this.penCacheForMinorTickLines),this.solidBrushCacheBorder=(0,c.deleteSafe)(this.solidBrushCacheBorder),this.solidBrushCacheAxisBands=(0,c.deleteSafe)(this.solidBrushCacheAxisBands),this.solidBrushCacheAxisBackground=(0,c.deleteSafe)(this.solidBrushCacheAxisBackground),this.axisRendererProperty=(0,c.deleteSafe)(this.axisRenderer),this.axisTitleRenderer=(0,c.deleteSafe)(this.axisTitleRenderer),this.webAssemblyContext2D=void 0,this.parentSurface=void 0,e.prototype.delete.call(this)},AxisBase2D.prototype.toJSON=function(){var e={autoRange:this.autoRange,autoTicks:this.autoTicks,axisAlignment:this.axisAlignment,axisBandsFill:this.axisBandsFill,axisBorder:this.axisBorder,axisTitle:this.axisTitle,axisTitleStyle:this.axisTitleStyle,drawLabels:this.drawLabels,drawMajorBands:this.drawMajorBands,drawMajorGridLines:this.drawMajorGridLines,drawMajorTickLines:this.drawMajorTickLines,drawMinorGridLines:this.drawMinorGridLines,drawMinorTickLines:this.drawMinorTickLines,flippedCoordinates:this.flippedCoordinates,growBy:this.growBy,id:this.id,isInnerAxis:this.isInnerAxis,isVisible:this.isVisible,labelStyle:this.labelStyle,majorGridLineStyle:this.majorGridLineStyle,majorTickLineStyle:this.majorTickLineStyle,maxAutoTicks:this.maxAutoTicks,minorGridLineStyle:this.minorGridLineStyle,minorTickLineStyle:this.minorTickLineStyle,visibleRange:this.hasDefaultVisibleRange()?void 0:this.visibleRange,visibleRangeLimit:this.visibleRangeLimit,zoomExtentsRange:this.zoomExtentsRange,minorsPerMajor:this.minorsPerMajor,majorDelta:this.majorDelta,minorDelta:this.minorDelta,labelProvider:this.labelProvider.toJSON(),keepLabelsWithinAxis:this.axisRenderer.keepLabelsWithinAxis,clipToXRange:this.clipToXRange,isStaticAxis:this.isStaticAxis};return{type:this.type,options:e}},AxisBase2D.prototype.getTicksMaxSize=function(){var e,t,r,i;return Math.max((null===(e=this.majorTickLineStyle)||void 0===e?void 0:e.tickSize)*E.DpiHelper.PIXEL_RATIO,(null===(r=this.minorTickLineStyle)||void 0===r?void 0:r.tickSize)*E.DpiHelper.PIXEL_RATIO)},AxisBase2D.prototype.getIsValidForDrawing=function(){return this.isVisible},AxisBase2D.prototype.drawAxisBandsAndGridLines=function(e,t,r,i){var n=this;if(this.drawMajorBands){var o=this.solidBrushCacheAxisBands.newBrush(this.axisBandsFill,!0),a=(0,P.calculateAbsoluteRenderLayer)(this.parentSurface.layersOffset,this.parentSurface.stepBetweenLayers,y.EDefaultRenderLayer.AxisBandsLayer);e.enqueueLayeredDraw(function(){n.drawAxisBands(e,t.majorTicks,t.majorTickCoords,o)},a)}if(this.drawMinorGridLines){var s=(0,P.calculateAbsoluteRenderLayer)(this.parentSurface.layersOffset,this.parentSurface.stepBetweenLayers,y.EDefaultRenderLayer.MinorGridLinesLayer);e.enqueueLayeredDraw(function(){n.drawGridLines(e,t.minorTickCoords,r)},s)}if(this.drawMajorGridLines){var l=(0,P.calculateAbsoluteRenderLayer)(this.parentSurface.layersOffset,this.parentSurface.stepBetweenLayers,y.EDefaultRenderLayer.MajorGridLinesLayer);e.enqueueLayeredDraw(function(){n.drawGridLines(e,t.majorTickCoords,i)},l)}},AxisBase2D.prototype.drawAxisBands=function(e,t,r,i){var n=this;if(t&&0!==t.length){var o=this.parentSurface.seriesViewRect,a=this.isHorizontalAxis?v.EXyDirection.XDirection:v.EXyDirection.YDirection,s=this.offset,l=this.axisLength+this.offset;if(this.isAxisFlipped!==this.flippedCoordinates){var u=l;l=s,s=u}var c=this.getMajorTickIndex(t[0])%2==0,d=(0,_.getVectorRectVertex)(this.webAssemblyContext2D),drawBand=function(e,t,r){if(r){var i=(0,A.createNativeRect)(n.webAssemblyContext2D,a===v.EXyDirection.YDirection?0:e,a===v.EXyDirection.YDirection?e:0,a===v.EXyDirection.YDirection?o.width:t,a===v.EXyDirection.YDirection?t:o.height);d.push_back(i)}};t.forEach(function(e,t){drawBand(0===t?s:r[t-1],r[t],c),c=!c}),drawBand(l,r[t.length-1],c),e.drawRects(d,i,o.left,o.top)}},AxisBase2D.prototype.drawGridLines=function(e,t,r){var i=this;if(t&&0!==t.length){var n=this.parentSurface.seriesViewRect,o=(0,_.getVectorColorVertex)(this.webAssemblyContext2D);t.forEach(function(e){var t=i.isHorizontalAxis?e:0,r=i.isHorizontalAxis?e:n.width,a=i.isHorizontalAxis?0:e,s=i.isHorizontalAxis?n.height:e,l=(0,_.getVertex)(i.webAssemblyContext2D,t,a);o.push_back(l);var u=(0,_.getVertex)(i.webAssemblyContext2D,r,s);o.push_back(u)}),e.drawLinesNative(o,r,P.ELineDrawMode.DiscontinuousLine,n.left,n.top)}},AxisBase2D.prototype.getXVisibleRange=function(e){return this.parentSurface.getXAxisById(e).visibleRange},AxisBase2D.prototype.getIsXCategoryAxis=function(e){return this.parentSurface.getXAxisById(e).isCategoryAxis},AxisBase2D.prototype.getLabels=function(e){return this.labelProvider.getLabels(e)},AxisBase2D.prototype.getXDataRange=function(){var e,t=this;return this.parentSurface&&this.parentSurface.renderableSeries.asArray().filter(function(e){return e.xAxisId===t.id&&e.isVisible&&e.hasDataSeriesValues()}).forEach(function(t){var r=t.getXRange();r&&(e=e?e.union(r):r)}),e},AxisBase2D.prototype.notifyPropertyChanged=function(t){t===M.PROPERTY.IS_XAXIS&&void 0===this.axisAlignmentProperty&&(this.axisAlignmentProperty=this.isXAxisProperty?h.EAxisAlignment.Bottom:h.EAxisAlignment.Right),t===M.PROPERTY.AXIS_RENDERER&&this.axisRendererProperty.attachedToAxis(this),e.prototype.notifyPropertyChanged.call(this,t)},AxisBase2D.prototype.getMaxXRange=function(){var e=this.getXDataRange();if(e)return this.growBy&&(e=e.growBy(this.growBy)),e=this.applyVisibleRangeLimit(null!=e?e:this.visibleRange),e=this.applyVisibleRangeSizeLimit(e)},AxisBase2D.prototype.getAxisSize=function(){return this.axisLength},AxisBase2D.prototype.getMajorTickIndex=function(e){return Math.round(e/this.majorDeltaProperty)},AxisBase2D.prototype.getTicks=function(e){var t,r;if(e||!this.tickCache){var i=this.getMaxAutoTicks();if(this.autoTicks){var n=this.deltaCalculator.getDeltaFromRange(this.visibleRange.min,this.visibleRange.max,this.minorsPerMajor,i);this.minorDeltaProperty=n.min,this.majorDeltaProperty=n.max}var o=this.tickCoordinatesProvider.getTickCoordinates(void 0,void 0),a=o.majorTickCoords,s=o.minorTickCoords,l=o.majorTickOverrides,u=o.minorTickOverRides,c=this.drawLabels||this.drawMajorGridLines||this.drawMajorTickLines?null!=l?l:this.tickProvider.getMajorTicks(null!==(t=this.minorDeltaProperty)&&void 0!==t?t:this.majorDeltaProperty/this.minorsPerMajor,this.majorDeltaProperty,this.visibleRange):[],d=this.drawMinorGridLines||this.drawMinorTickLines?null!=u?u:this.tickProvider.getMinorTicks(null!==(r=this.minorDeltaProperty)&&void 0!==r?r:this.majorDeltaProperty/this.minorsPerMajor,this.majorDeltaProperty,this.visibleRange):[],p=this.visibleRange,h=p.min,f=p.max;c=c.filter(function(e){return e>=h&&e<=f}),d=d.filter(function(e){return e>=h&&e<=f});var y=[];c.length>1e3&&this.drawLabels?console.warn("Axis settings result in more than 1000 labels.  Label drawing is disabled.  If using autoTicks: false, check that you have set sensible deltas."):y=this.drawLabels?this.getLabels(c):[],this.tickCache={majorTicks:c,majorTickLabels:y,majorTickCoords:a,minorTicks:d,minorTickCoords:s}}return this.tickCache},AxisBase2D.prototype.getTicksWithCoords=function(){if(this.tickCache||this.getTicks(!0),void 0===this.tickCache.majorTickCoords){var e=this.tickCoordinatesProvider.getTickCoordinates(this.tickCache.majorTicks,this.tickCache.minorTicks),t=e.majorTickCoords,r=e.minorTickCoords;this.tickCache.majorTickCoords=t,this.tickCache.minorTickCoords=r}return this.tickCache},AxisBase2D.prototype.applyVisibleRangeLimit=function(e){if(e){if(!this.visibleRangeLimit)return e;var t=e.clip(this.visibleRangeLimit);return t.min>=t.max?(console.warn("Can not apply visibleRangeLimit for the ".concat(this.isXAxis?"xAxis":"yAxis"," with ID ").concat(this.id)),e):t}},AxisBase2D.prototype.applyVisibleRangeSizeLimit=function(e){if(e){var t=Math.abs(e.min)/1e14,r=e.diff;if(r<t){var i=e.min+r/2;return new d.NumberRange(i-t/2,i+t/2)}if(!this.visibleRangeSizeLimit)return e;if(r<0)return console.warn("Can not apply visibleRangeSizeLimit for the ".concat(this.isXAxis?"xAxis":"yAxis"," with ID ").concat(this.id)),e;var n=e,o=this.visibleRangeSizeLimit,a=o.min,s=o.max,i=e.min+r/2;return r<a?n=new d.NumberRange(i-a/2,i+a/2):r>s&&(n=new d.NumberRange(i-s/2,i+s/2)),n}},AxisBase2D}(w.AxisCore);t.AxisBase2D=L;var getPenForLines=function(e,t,r,i){return(0,S.createPenInCache)(e,t,r,1,i,!1)}},87994:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.AxisCore=void 0;var a=r(15492),s=r(94694),l=r(35855),u=r(92530),c=r(51134),d=r(36313),p=r(27817),h=r(90531),f=r(51877),y=r(61239),g=r(91462),v=r(87217),m=r(52168),S=function(e){function AxisCore(t){var r,i,n,o,a,s,u,f,g,v,m,S,b,P,C,x,A,T,_,R,E,w,D,O,I=this;return(I=e.call(this)||this).visibleRangeChanged=new l.EventHandler,I.isMeasured=!1,I.ZeroRangeGrowBy=.01,I.idProperty=AxisCore.DEFAULT_AXIS_ID,I.isXAxisProperty=!0,I.minorsPerMajorProperty=5,I.drawMajorGridLinesProperty=!0,I.drawMinorGridLinesProperty=!0,I.drawMajorTickLinesProperty=!0,I.drawMinorTickLinesProperty=!0,I.drawMajorBandsProperty=!0,I.drawLabelsProperty=!0,I.flippedCoordinatesProperty=!1,I.tickTextBrushProperty=y.SciChartSurfaceBase.DEFAULT_THEME.tickTextBrush,I.axisBandsFillProperty=y.SciChartSurfaceBase.DEFAULT_THEME.axisBandsFill,I.autoRangeProperty=p.EAutoRange.Once,I.majorTickLineStyleProperty={tickSize:5,strokeThickness:1,color:y.SciChartSurfaceBase.DEFAULT_THEME.majorGridLineBrush},I.minorTickLineStyleProperty={tickSize:3,strokeThickness:1,color:y.SciChartSurfaceBase.DEFAULT_THEME.minorGridLineBrush},I.majorGridLineStyleProperty={strokeThickness:1,color:y.SciChartSurfaceBase.DEFAULT_THEME.majorGridLineBrush,strokeDashArray:void 0},I.minorGridLineStyleProperty={strokeThickness:1,color:y.SciChartSurfaceBase.DEFAULT_THEME.minorGridLineBrush,strokeDashArray:void 0},I.axisTitleStyleProperty={fontSize:24,fontFamily:"Arial",color:y.SciChartSurfaceBase.DEFAULT_THEME.axisTitleColor,fontStyle:"normal",fontWeight:"normal",padding:d.Thickness.fromNumber(6),alignment:h.ELabelAlignment.Center},I.isVisibleProperty=!0,I.autoTicksProperty=!0,I.maxAutoTicksProperty=10,I.defaultVisibleRange=new c.NumberRange(0,10),I.allowFastMathProperty=!1,I.visibleRange=(null==t?void 0:t.visibleRange)||I.defaultVisibleRange,I.id=null!==(r=null==t?void 0:t.id)&&void 0!==r?r:I.id,I.growBy=null!==(i=null==t?void 0:t.growBy)&&void 0!==i?i:I.growBy,I.autoRange=null!==(n=null==t?void 0:t.autoRange)&&void 0!==n?n:I.autoRange,I.isVisible=null!==(o=null==t?void 0:t.isVisible)&&void 0!==o?o:I.isVisible,I.axisTitle=null!==(a=null==t?void 0:t.axisTitle)&&void 0!==a?a:I.axisTitle,I.axisTitleStyle=null!==(s=null==t?void 0:t.axisTitleStyle)&&void 0!==s?s:I.axisTitleStyle,I.allowFastMath=null!==(u=null==t?void 0:t.allowFastMath)&&void 0!==u?u:I.allowFastMathProperty,I.autoTicksProperty=null!==(f=null==t?void 0:t.autoTicks)&&void 0!==f?f:I.autoTicksProperty,I.maxAutoTicksProperty=null!==(g=null==t?void 0:t.maxAutoTicks)&&void 0!==g?g:I.maxAutoTicksProperty,I.minorsPerMajorProperty=null!==(v=null==t?void 0:t.minorsPerMajor)&&void 0!==v?v:I.minorsPerMajorProperty,I.majorDeltaProperty=null!==(m=null==t?void 0:t.majorDelta)&&void 0!==m?m:I.majorDeltaProperty,I.minorDeltaProperty=null!==(S=null==t?void 0:t.minorDelta)&&void 0!==S?S:I.minorDeltaProperty,I.drawLabelsProperty=null!==(b=null==t?void 0:t.drawLabels)&&void 0!==b?b:I.drawLabelsProperty,I.drawMajorTickLinesProperty=null!==(P=null==t?void 0:t.drawMajorTickLines)&&void 0!==P?P:I.drawMajorTickLinesProperty,I.drawMinorTickLinesProperty=null!==(C=null==t?void 0:t.drawMinorTickLines)&&void 0!==C?C:I.drawMinorTickLinesProperty,I.drawMinorGridLinesProperty=null!==(x=null==t?void 0:t.drawMinorGridLines)&&void 0!==x?x:I.drawMinorGridLinesProperty,I.drawMajorGridLinesProperty=null!==(A=null==t?void 0:t.drawMajorGridLines)&&void 0!==A?A:I.drawMajorGridLinesProperty,I.majorGridLineStyleProperty=null!==(T=null==t?void 0:t.majorGridLineStyle)&&void 0!==T?T:I.majorGridLineStyleProperty,I.minorGridLineStyleProperty=null!==(_=null==t?void 0:t.minorGridLineStyle)&&void 0!==_?_:I.minorGridLineStyleProperty,I.majorTickLineStyleProperty=null!==(R=null==t?void 0:t.majorTickLineStyle)&&void 0!==R?R:I.majorTickLineStyleProperty,I.minorTickLineStyleProperty=null!==(E=null==t?void 0:t.minorTickLineStyle)&&void 0!==E?E:I.minorTickLineStyleProperty,I.drawMajorBandsProperty=null!==(w=null==t?void 0:t.drawMajorBands)&&void 0!==w?w:I.drawMajorBandsProperty,I.axisBandsFillProperty=null!==(D=null==t?void 0:t.axisBandsFill)&&void 0!==D?D:I.axisBandsFillProperty,I.flippedCoordinatesProperty=null!==(O=null==t?void 0:t.flippedCoordinates)&&void 0!==O?O:I.flippedCoordinatesProperty,I.getCurrentCoordinateCalculator=I.getCurrentCoordinateCalculator.bind(I),I}return n(AxisCore,e),Object.defineProperty(AxisCore.prototype,"isCategoryAxis",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"isXAxis",{get:function(){return this.isXAxisProperty},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"allowFastMath",{get:function(){return this.allowFastMathProperty},set:function(e){this.allowFastMathProperty=e,this.notifyPropertyChanged(v.PROPERTY.ALLOW_FAST_MATH)},enumerable:!1,configurable:!0}),AxisCore.prototype.hasValidVisibleRange=function(){return void 0!==this.visibleRange&&0!==this.visibleRange.diff&&(0,f.isRealNumber)(this.visibleRange.max)&&(0,f.isRealNumber)(this.visibleRange.min)},AxisCore.prototype.hasDefaultVisibleRange=function(){return this.visibleRange.equals(this.getDefaultNonZeroRange())},Object.defineProperty(AxisCore.prototype,"id",{get:function(){return this.idProperty},set:function(e){this.idProperty=e,this.notifyPropertyChanged(v.PROPERTY.ID)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"isVisible",{get:function(){return this.isVisibleProperty},set:function(e){this.isVisibleProperty=e,this.notifyPropertyChanged(v.PROPERTY.IS_VISIBLE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"growBy",{get:function(){return this.growByProperty},set:function(e){this.growByProperty=e,this.notifyPropertyChanged(v.PROPERTY.GROW_BY)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"visibleRange",{get:function(){return this.visibleRangeProperty},set:function(e){var t;(null===(t=this.visibleRangeProperty)||void 0===t?void 0:t.equals(e))||(this.visibleRangeProperty=e,this.clearCoordCalcCache(),this.visibleRangeChanged.raiseEvent(new m.VisibleRangeChangedArgs(e)),this.notifyPropertyChanged(v.PROPERTY.VISIBLE_RANGE))},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"animatedVisibleRange",{get:function(){return this.visibleRangeAnimationToken?this.visibleRangeAnimationToken.to:this.visibleRange},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"majorDelta",{get:function(){return this.majorDeltaProperty},set:function(e){this.majorDeltaProperty=e,this.notifyPropertyChanged(v.PROPERTY.MAJOR_DELTA)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"minorDelta",{get:function(){return this.minorDeltaProperty},set:function(e){this.minorDeltaProperty=e,this.notifyPropertyChanged(v.PROPERTY.MINOR_DELTA)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"minorsPerMajor",{get:function(){return this.minorsPerMajorProperty},set:function(e){this.minorsPerMajorProperty=e,this.notifyPropertyChanged(v.PROPERTY.MINORS_PER_MAJOR)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"textFormatting",{get:function(){return this.textFormattingProperty},set:function(e){this.textFormattingProperty=e,this.notifyPropertyChanged(v.PROPERTY.TEXT_FORMATTING)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"cursorTextFormatting",{get:function(){return this.cursorTextFormattingProperty},set:function(e){this.cursorTextFormattingProperty=e,this.notifyPropertyChanged(v.PROPERTY.CURSOR_TEXT_FORMATTING)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"drawMajorGridLines",{get:function(){return this.drawMajorGridLinesProperty},set:function(e){this.drawMajorGridLinesProperty=e,this.notifyPropertyChanged(v.PROPERTY.DRAW_MAJOR_GRID_LINES)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"drawMinorGridLines",{get:function(){return this.drawMinorGridLinesProperty},set:function(e){this.drawMinorGridLinesProperty=e,this.notifyPropertyChanged(v.PROPERTY.DRAW_MINOR_GRID_LINES)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"drawMajorTickLines",{get:function(){return this.drawMajorTickLinesProperty},set:function(e){this.drawMajorTickLinesProperty=e,this.notifyPropertyChanged(v.PROPERTY.DRAW_MAJOR_TICK_LINES)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"drawMinorTickLines",{get:function(){return this.drawMinorTickLinesProperty},set:function(e){this.drawMinorTickLinesProperty=e,this.notifyPropertyChanged(v.PROPERTY.DRAW_MINOR_TICK_LINES)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"drawMajorBands",{get:function(){return this.drawMajorBandsProperty},set:function(e){this.drawMajorBandsProperty=e,this.notifyPropertyChanged(v.PROPERTY.DRAW_MAJOR_BANDS)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"drawLabels",{get:function(){return this.drawLabelsProperty},set:function(e){this.drawLabelsProperty=e,this.notifyPropertyChanged(v.PROPERTY.DRAW_LABELS)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"flippedCoordinates",{get:function(){return this.flippedCoordinatesProperty},set:function(e){this.flippedCoordinatesProperty!==e&&(this.flippedCoordinatesProperty=e,this.clearCoordCalcCache(),this.notifyPropertyChanged(v.PROPERTY.FLIPPED_COORDINATES))},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"axisBandsFill",{get:function(){return this.axisBandsFillProperty},set:function(e){this.axisBandsFillProperty=e,this.notifyPropertyChanged(v.PROPERTY.AXIS_BANDS_FILL)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"autoRange",{get:function(){return this.autoRangeProperty},set:function(e){this.autoRangeProperty=e,this.notifyPropertyChanged(v.PROPERTY.AUTO_RANGE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"majorTickLineStyle",{get:function(){return this.majorTickLineStyleProperty},set:function(e){this.majorTickLineStyleProperty=o(o({},this.majorTickLineStyle),e),this.notifyPropertyChanged(v.PROPERTY.MAJOR_TICK_LINE_STYLE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"minorTickLineStyle",{get:function(){return this.minorTickLineStyleProperty},set:function(e){this.minorTickLineStyleProperty=o(o({},this.minorTickLineStyle),e),this.notifyPropertyChanged(v.PROPERTY.MINOR_TICK_LINE_STYLE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"majorGridLineStyle",{get:function(){return this.majorGridLineStyleProperty},set:function(e){this.majorGridLineStyleProperty=o(o({},this.majorGridLineStyle),e),this.notifyPropertyChanged(v.PROPERTY.MAJOR_GRID_LINE_STYLE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"minorGridLineStyle",{get:function(){return this.minorGridLineStyleProperty},set:function(e){this.minorGridLineStyleProperty=o(o({},this.minorGridLineStyle),e),this.notifyPropertyChanged(v.PROPERTY.MINOR_GRID_LINE_STYLE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"dpiAdjustedAxisTitleStyle",{get:function(){return g.DpiHelper.adjustTextStyle(this.axisTitleStyleProperty)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"axisTitleStyle",{get:function(){return this.axisTitleStyleProperty},set:function(e){this.axisTitleStyleProperty=o(o({},this.axisTitleStyle),e),this.notifyPropertyChanged(v.PROPERTY.TEXT_STYLE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"axisTitle",{get:function(){return this.axisTitleProperty},set:function(e){this.axisTitleProperty=e,this.notifyPropertyChanged(v.PROPERTY.AXIS_TITLE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"tickProvider",{get:function(){return this.tickProviderProperty},set:function(e){var t;null===(t=this.tickProviderProperty)||void 0===t||t.detachedFromAxis(),this.tickProviderProperty=e,this.notifyPropertyChanged(v.PROPERTY.TICK_PROVIDER)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"labelProvider",{get:function(){return this.labelProviderProperty},set:function(e){var t;null===(t=this.labelProviderProperty)||void 0===t||t.detachedFromAxis(),this.labelProviderProperty=e,this.notifyPropertyChanged(v.PROPERTY.LABEL_PROVIDER)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"deltaCalculator",{get:function(){return this.deltaCalculatorProperty},set:function(e){var t;null===(t=this.deltaCalculator)||void 0===t||t.detachedFromAxis(),this.deltaCalculatorProperty=e,this.notifyPropertyChanged(v.PROPERTY.DELTA_CALCULATOR)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"tickCoordinatesProvider",{get:function(){return this.tickCoordinatesProviderProperty},set:function(e){var t;null===(t=this.tickCoordinatesProviderProperty)||void 0===t||t.detachedFromAxis(),this.tickCoordinatesProviderProperty=e,this.notifyPropertyChanged(v.PROPERTY.TICK_COORDINATES_CALCULATOR)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"maxAutoTicks",{get:function(){return this.maxAutoTicksProperty},set:function(e){this.maxAutoTicksProperty=e,this.notifyPropertyChanged(v.PROPERTY.MAX_AUTO_TICKS)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"autoTicks",{get:function(){return this.autoTicksProperty},set:function(e){this.autoTicksProperty=e,this.notifyPropertyChanged(v.PROPERTY.AUTO_TICKS)},enumerable:!1,configurable:!0}),AxisCore.prototype.getCurrentCoordinateCalculator=function(){return this.coordCalcCache&&this.coordCalcCache.viewportDimension!==this.getAxisSize()&&this.clearCoordCalcCache(),this.coordCalcCache||(this.coordCalcCache=this.getCurrentCoordinateCalculatorInternal()),this.coordCalcCache},AxisCore.prototype.clearCoordCalcCache=function(){this.coordCalcCache=(0,s.deleteSafe)(this.coordCalcCache)},AxisCore.prototype.delete=function(){this.deltaCalculator=void 0,this.tickProvider=void 0,this.tickCoordinatesProvider=void 0,this.labelProviderProperty=(0,s.deleteSafe)(this.labelProvider),this.coordCalcCache=(0,s.deleteSafe)(this.coordCalcCache)},AxisCore.prototype.isValidRange=function(e){return!(!e||!e.isDefined()||e.min>e.max)},Object.defineProperty(AxisCore.prototype,"isVerticalChart",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(AxisCore.prototype,"isHorizontalAxis",{get:function(){return this.isXAxis},enumerable:!1,configurable:!0}),AxisCore.prototype.setIsXAxis=function(e){this.isXAxisProperty=e,this.notifyPropertyChanged(v.PROPERTY.IS_XAXIS)},AxisCore.prototype.coerceZeroVisibleRange=function(e){return(u.Guard.notNull(e,"range"),e.isZero())?0===e.min?new c.NumberRange(-1,1):e.growBy(new c.NumberRange(this.ZeroRangeGrowBy,this.ZeroRangeGrowBy)):e},AxisCore.prototype.notifyPropertyChanged=function(e){var t,r,i,n;e===v.PROPERTY.DELTA_CALCULATOR&&(null===(t=this.deltaCalculator)||void 0===t||t.attachedToAxis(this)),e===v.PROPERTY.TICK_PROVIDER&&(null===(r=this.tickProvider)||void 0===r||r.attachedToAxis(this)),e===v.PROPERTY.LABEL_PROVIDER&&(null===(i=this.labelProvider)||void 0===i||i.attachedToAxis(this)),e===v.PROPERTY.TICK_COORDINATES_CALCULATOR&&(null===(n=this.tickCoordinatesProvider)||void 0===n||n.attachedToAxis(this)),this.isMeasured&&this.invalidateParentCallback&&this.invalidateParentCallback()},AxisCore.prototype.getMaxAutoTicks=function(){return Math.max(1,this.maxAutoTicks)},AxisCore.DEFAULT_AXIS_ID="DefaultAxisId",AxisCore}(a.DeletableEntity);t.AxisCore=S},29752:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AxisLayoutState=void 0;var r=function(){function AxisLayoutState(){this.axisSize=0,this.additionalLeftSize=0,this.additionalRightSize=0,this.additionalTopSize=0,this.additionalBottomSize=0}return AxisLayoutState.prototype.clear=function(){this.axisSize=0,this.additionalLeftSize=0,this.additionalRightSize=0,this.additionalTopSize=0,this.additionalBottomSize=0},AxisLayoutState}();t.AxisLayoutState=r},18864:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.layoutLabelsHelper=t.AxisRenderer=void 0;var a=r(2003),s=r(15492),l=r(94694),u=r(47494),c=r(36313),d=r(86599),p=r(90531),h=r(14464),f=r(48053),y=r(21075),g=r(49033),v=r(94485),m=r(61239),S=r(91462),b=r(18237),P=function(e){function AxisRenderer(t){var r=e.call(this)||this;return r.viewRect=u.Rect.createZero(),r.drawDebug=!1,r.desiredLabelsSize=0,r.desiredTicksSize=0,r.desiredHeightProperty=0,r.desiredWidthProperty=0,r.axisThicknessProperty=0,r.keepLabelsWithinAxisProperty=!0,r.hideOverlappingLabelsProperty=!0,r.webAssemblyContext=t,r.textureManager=new b.TextureManager(t),a.IS_TEST_ENV||(r.measureTextCanvas=document.createElement("canvas"),r.measureTextCanvas.width=1,r.measureTextCanvas.height=1),r}return n(AxisRenderer,e),AxisRenderer.prototype.delete=function(){this.webAssemblyContext=void 0,this.measureTextCanvas=void 0,this.parentAxis=void 0,this.textureManager=(0,l.deleteSafe)(this.textureManager)},AxisRenderer.prototype.attachedToAxis=function(e){this.parentAxis=e},AxisRenderer.prototype.measure=function(e,t,r,i,n,o,a){m.DebugForDpi&&console.log("AxisRenderer.measure. fontSize: ".concat(t.fontSize)),this.desiredLabelsSize=o?this.calcDesiredLabelsSize(e,n,t,r):0,this.desiredTicksSize=a?i:0;var s=Math.max(this.desiredLabelsSize,this.axisThicknessProperty*S.DpiHelper.PIXEL_RATIO)+this.desiredTicksSize;e?this.desiredHeightProperty=s:this.desiredWidthProperty=s},AxisRenderer.prototype.calcDesiredLabelsSize=function(e,t,r,i){if(a.IS_TEST_ENV)return 0;var n=this.measureTextCanvas.getContext("2d");return e?t.getMaxLabelHeightForHorizontalAxis(i,n,r):t.getMaxLabelWidthForVerticalAxis(i,n,r)},Object.defineProperty(AxisRenderer.prototype,"desiredHeight",{get:function(){return this.desiredHeightProperty},set:function(e){this.desiredHeightProperty=e},enumerable:!1,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"desiredWidth",{get:function(){return this.desiredWidthProperty},set:function(e){this.desiredWidthProperty=e},enumerable:!1,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"keepLabelsWithinAxis",{get:function(){return this.keepLabelsWithinAxisProperty},set:function(e){this.keepLabelsWithinAxisProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"hideOverlappingLabels",{get:function(){return this.hideOverlappingLabelsProperty},set:function(e){this.hideOverlappingLabelsProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(AxisRenderer.prototype,"axisThickness",{get:function(){return this.axisThicknessProperty},set:function(e){this.axisThicknessProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),AxisRenderer.prototype.layout=function(e){this.viewRect=e},AxisRenderer.prototype.drawLabels=function(e,t,r,i,n,o,a,s,l,c){m.DebugForDpi&&console.log("AxisRenderer.drawLabels. fontSize: ".concat(a.fontSize));var p,y=this.viewRect,g=this.textureManager,S=e.getNativeContext(),b=s?(0,d.getIsHorizontal)(t):(0,d.getIsVertical)(t),P=Math.floor(y.width),C=Math.floor(y.height),x=this.desiredTicksSize,A=a.padding,T=a.alignment;b&&(n=n.reverse(),i=i.reverse());var _=[],R=(0,f.parseColorToUIntArgb)(a.color),E=c.useNativeText?e.getFont(a,0!==c.rotation):null,w=c.useNativeText?(0,v.getTextBounds)(this.webAssemblyContext):null;E||(p=g.getTextureContext(P,C));var D=c.rotation;D>90?D-=180:D<-90&&(D+=180);var O=-(D*Math.PI)/180;n=n.map(function(e){return e-o});var I=convertMultiLineAlignment(T,this.webAssemblyContext),M=c.lineSpacing,L=0;if(E&&(E.CalculateStringBounds("Ag",w,0),L=w.GetLineBounds(0).m_fHeight),(0,d.getIsHorizontal)(t)){var k=[],N=[];if(!c.useCache&&c.useNativeText)for(var B=0;B<i.length;B++){var V=i[B];E.CalculateStringBounds(null!=V?V:"",w,2),k.push(w.m_fHeight+a.padding.top+a.padding.bottom),N.push(w.m_fWidth+a.padding.left+a.padding.right)}else k=i.map(function(e){return c.getLabelHeight(p,e,a)}),N=i.map(function(e){return c.getLabelWidth(p,e,a)});for(var F=this.layoutLabels(P,n,N,l,null==A?void 0:A.top,null==A?void 0:A.bottom),j=F.labelCoords,H=F.labelIndexes,z=0;z<H.length;z++){var G=j[z],U=i[H[z]],W=k[H[z]],X=0;t===d.EAxisAlignment.Bottom&&!r||t===d.EAxisAlignment.Top&&r?X+=x:X+=C-W-x,this.drawDebug&&_.push(u.Rect.create(G,X,N[H[z]],W));try{if(E){var Y=G+y.left+A.left,$=X+y.top+L+A.top,K=Y,q=$-L;if(0!==O){var Z=c.getNativeLabelInfo(U),J=Z.textWidth,Q=Z.textHeight;K=Y=n[H[z]]+y.left-Q*Math.sin(O)/2,O>0&&(Y-=J)}E.DrawStringAdvanced(null!=U?U:"",R,Math.round(Y),Math.round($),(0,v.getVector4)(this.webAssemblyContext,K,q,O,0),I,M)}else{var ee=c.getCachedLabelTexture(U,g,a),et=ee.bitmapTexture,er=ee.textureHeight,ei=ee.textureWidth;et&&(S.DrawTexture(et,Math.round(G+y.left),Math.round(X+y.top),ei,er),c.useCache||et.delete())}}catch(e){h.Logger.debug(e),c.delete()}}}else{var k=[],N=[];if(!c.useCache&&c.useNativeText)for(var en=0;en<i.length;en++){var V=i[en];E.CalculateStringBounds(null!=V?V:"",w,2),k.push(w.m_fHeight+a.padding.top+a.padding.bottom),N.push(w.m_fWidth+a.padding.left+a.padding.right)}else k=i.map(function(e){return c.getLabelHeight(p,e,a)}),N=i.map(function(e){return c.getLabelWidth(p,e,a)});for(var eo=this.layoutLabels(C,n,k,l,null==A?void 0:A.left,null==A?void 0:A.right),j=eo.labelCoords,H=eo.labelIndexes,z=0;z<H.length;z++){var G=0,U=i[H[z]],ea=N[H[z]];G=this.adjustForLabelAlignment(G,ea,T,t,r,P,x);var X=j[z];this.drawDebug&&_.push(u.Rect.create(G,X,ea,k[H[z]]));try{if(E){var Y=G+y.left+A.left,$=X+y.top+L+A.top;E.DrawStringAdvanced(null!=U?U:"",R,Math.round(Y),Math.round($),(0,v.getVector4)(this.webAssemblyContext,Y,$,O,0),I,M)}else{var es=c.getCachedLabelTexture(U,g,a),et=es.bitmapTexture,er=es.textureHeight,ei=es.textureWidth;et&&(S.DrawTexture(et,Math.round(G+y.left),Math.round(X+y.top),ei,er),c.useCache||et.delete())}}catch(e){h.Logger.debug(e),c.delete()}}}this.drawDebug&&this.drawLabelViewRects(e,y,_)},AxisRenderer.prototype.adjustForLabelAlignment=function(e,t,r,i,n,o,a){var s=o-a-t;return i===d.EAxisAlignment.Left&&!n||i===d.EAxisAlignment.Right&&n?r===p.ELabelAlignment.Right||r===p.ELabelAlignment.Auto?e+=s:r===p.ELabelAlignment.Center&&(e+=s/2):r===p.ELabelAlignment.Left||r===p.ELabelAlignment.Auto?e+=a:r===p.ELabelAlignment.Center?e+=a+s/2:e+=o-t,e},AxisRenderer.prototype.layoutLabels=function(e,r,i,n,o,a){return(0,t.layoutLabelsHelper)(this.keepLabelsWithinAxis,this.hideOverlappingLabels,e,r,i,n)},AxisRenderer.prototype.drawTicks=function(e,t,r,i,n,o,a){var s=this;if(i&&0!==i.length){var l=this.viewRect,u=a.tickSize,c=(0,v.getVectorColorVertex)(this.webAssemblyContext);c.clear();var p=(0,d.getIsHorizontal)(t);if(void 0===p)return;i.forEach(function(e){r?p?(i=e,n=e,o=t===d.EAxisAlignment.Top?0:l.height,a=t===d.EAxisAlignment.Top?u:l.height-u):(i=t===d.EAxisAlignment.Left?0:l.width,n=t===d.EAxisAlignment.Left?u:l.width-u,o=e,a=e):p?(i=e,n=e,o=t===d.EAxisAlignment.Bottom?0:l.height,a=t===d.EAxisAlignment.Bottom?u:l.height-u):(i=t===d.EAxisAlignment.Right?0:l.width,n=t===d.EAxisAlignment.Right?u:l.width-u,o=e,a=e);var i,n,o,a,h=(0,v.getVertex)(s.webAssemblyContext,i,o);c.push_back(h);var f=(0,v.getVertex)(s.webAssemblyContext,n,a);c.push_back(f)});var h=l.left-(p?n:0),f=l.top-(p?0:n);e.drawLinesNative(c,o,y.ELineDrawMode.DiscontinuousLine,h,f)}},AxisRenderer.prototype.drawModifiersAxisLabel=function(e,t,r,i,n,a){if(t){var s,l,p=e.getNativeContext(),h=this.textureManager.createSimpleTextTexture(t,o(o({},n),{padding:new c.Thickness(2,2,2,2)}),a),f=h.bitmapTexture,y=h.textureHeight,g=h.textureWidth,v={height:this.parentAxis.parentSurface.domCanvas2D.height,width:this.parentAxis.parentSurface.domCanvas2D.width},getPosition=function(e,t,r,i){return e+t<i/2?0:e+t>r-i/2?r-i:e+t-i/2};return i===d.EAxisAlignment.Bottom?(s=getPosition(this.viewRect.x,r,v.width,g),l=this.viewRect.y,v.height-l<y&&(l=v.height-y)):i===d.EAxisAlignment.Top?(s=getPosition(this.viewRect.x,r,v.width,g),l=this.viewRect.y+this.viewRect.height-y,this.parentAxis.axisLayoutState.axisSize<y&&(l=0)):i===d.EAxisAlignment.Left?(s=this.viewRect.x+this.viewRect.width-g,l=getPosition(this.viewRect.y,r,v.height,y),this.parentAxis.axisLayoutState.axisSize<g&&(s=0)):i===d.EAxisAlignment.Right&&(s=this.viewRect.x,l=getPosition(this.viewRect.y,r,v.height,y),v.width-s<g&&(s=v.width-g)),p.DrawTexture(f,Math.round(s),Math.round(l),g,y),f.delete(),new u.Rect(s,l,g,y)}},AxisRenderer.prototype.createAxisMarker=function(e,t,r,i,n){var o=r.fontStyle,a=r.fontWeight,s=r.fontSize,l=r.fontFamily,u=r.color;return this.textureManager.createAxisMarkerTexture(e,t,o,a,s,l,u,2*S.DpiHelper.PIXEL_RATIO,i,n)},AxisRenderer.prototype.createAxisMarkerFromImage=function(e,t,r){return this.textureManager.createTextureFromImage(e,t,r)},AxisRenderer.prototype.createAnnotationLabelTexture=function(e,t,r,i,n,a){return this.textureManager.createSimpleTextTexture(e,o(o({},t),{padding:new c.Thickness(2,2,2,2)}),r,i,n,a)},AxisRenderer.prototype.invalidateParent=function(){this.parentAxis&&this.parentAxis.invalidateParentCallback&&this.parentAxis.invalidateParentCallback()},AxisRenderer.prototype.drawLabelViewRects=function(e,t,r){for(var i=(0,v.getVectorRectVertex)(this.webAssemblyContext),n=new this.webAssemblyContext.SCRTSolidBrush((0,f.parseColorToUIntArgb)("rgba(30,30,255,0.3)"),!1),o=0;o<r.length;o++){var a=r[o],s=(0,g.createNativeRect)(this.webAssemblyContext,a.left,a.top,a.right,a.bottom);i.push_back(s)}e.drawRects(i,n,t.left,t.top),n.delete()},AxisRenderer}(s.DeletableEntity);t.AxisRenderer=P,t.layoutLabelsHelper=function(e,t,r,i,n,o){for(var a=[],s=[],l=n.length,getTickCoord=function(e){return o?i[l-1-e]:i[e]},getlabelSize=function(e){return o?n[l-1-e]:n[e]},u=0,c=0;c<l;c++){var d,p=0===c,h=c===l-1,f=getlabelSize(c),y=Math.ceil(f/2),g=getTickCoord(c),v=0;if(e&&p){g>y?(v=g+y,g-=y):v=(g=0)+f;var m=getTickCoord(1),S=getlabelSize(1)/2;if(t&&v>=m-S-0)continue}else e&&h?g=g+y<r?g-y:r-f:(v=g+y,g-=y);t&&c>0&&g<u+0||(u=v,a.push(g),d=c,o?s.push(l-1-d):s.push(d))}return{labelCoords:a,labelIndexes:s}};var convertMultiLineAlignment=function(e,t){var r=t.eTSRTextAlignMode.Left;switch(e){case p.ELabelAlignment.Left:r=t.eTSRTextAlignMode.Left;break;case p.ELabelAlignment.Right:r=t.eTSRTextAlignMode.Right;break;case p.ELabelAlignment.Center:r=t.eTSRTextAlignMode.Center;break;default:r=t.eTSRTextAlignMode.Left}return r}},48888:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.AxisTitleRenderer=void 0;var o=r(90531),a=r(19313),s=r(39687),l=function(e){function AxisTitleRenderer(){var t=null!==e&&e.apply(this,arguments)||this;return t.lineSpacing=1.1,t}return n(AxisTitleRenderer,e),AxisTitleRenderer.prototype.measure=function(e,t,r){if(void 0===e&&(e=""),this.text=e,!this.useCache||!this.texture&&!this.useNativeText||this.text!==this.previousText||this.lineSpacing!==this.previousLineSpacing||r!==this.previousAxisAlignment||this.previousNativeTextMode!==this.useNativeText||!checkAreEqualTextStyles(t,this.textStyle)){this.invalidateCache(),this.previousLineSpacing=this.lineSpacing,this.previousNativeTextMode=this.useNativeText,this.previousAxisAlignment=r,this.previousText=e,this.textStyle=t,this.titlePosition=a.ETitlePosition[r],this.textStyle=t,this.textStyle.lineSpacing=this.lineSpacing;var i=this.parentSurface.currentWebGlRenderContext;this.getTextSize(e,this.textStyle,i)}},Object.defineProperty(AxisTitleRenderer.prototype,"useNativeText",{get:function(){return this.useNativeTextProperty},set:function(e){this.useNativeTextProperty=e},enumerable:!1,configurable:!0}),Object.defineProperty(AxisTitleRenderer.prototype,"desiredHeight",{get:function(){return this.desiredHeightProperty},set:function(e){this.desiredWidthProperty!==e&&this.invalidateCache(),this.desiredHeightProperty=e},enumerable:!1,configurable:!0}),Object.defineProperty(AxisTitleRenderer.prototype,"desiredWidth",{get:function(){return this.desiredWidthProperty},set:function(e){this.desiredWidthProperty!==e&&this.invalidateCache(),this.desiredWidthProperty=e},enumerable:!1,configurable:!0}),AxisTitleRenderer.prototype.layout=function(e){if(!this.text){this.viewRectProperty=e;return}var t=convertLabelAlignmentToTextAlignment(this.textStyle.alignment);this.viewRectProperty=this.getViewRect(this.text,e,this.titlePosition,t)},AxisTitleRenderer.prototype.getTitleTexture=function(){var e=this.titlePosition,t=(0,s.getAdjustedRotation)(this.textStyle.rotation,e),r=Array.isArray(this.text)?this.text:this.text.split("\n");return this.textureManager.createTextTexture(r,this.textStyle,t,this.lineSpacing)},AxisTitleRenderer.prototype.draw=function(e){return this.drawInternal(e,this.useNativeText,this.titlePosition)},AxisTitleRenderer.prototype.delete=function(){this.parentSurface=void 0,e.prototype.delete.call(this)},AxisTitleRenderer}(s.TitleRendererBase);t.AxisTitleRenderer=l;var checkAreEqualTextStyles=function(e,t){return!!e&&!!t&&e.color===t.color&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontStyle===t.fontStyle&&e.fontWeight===t.fontWeight&&e.alignment===t.alignment&&e.rotation===t.rotation&&e.multilineAlignment===t.multilineAlignment&&(void 0===e.padding&&void 0===t.padding||e.padding.equals(t.padding))},convertLabelAlignmentToTextAlignment=function(e){return e===o.ELabelAlignment.Auto?a.ETextAlignment.Center:a.ETextAlignment[e]}},36943:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryAxis=void 0;var o=r(18157),a=r(86678),s=r(77405),l=function(e){function CategoryAxis(t,r){var i,n=this;return(n=e.call(this,t,r)||this).type=o.EAxisType.CategoryAxis,n.labelProvider=null!==(i=null==r?void 0:r.labelProvider)&&void 0!==i?i:new s.DateLabelProvider(r),n}return n(CategoryAxis,e),CategoryAxis}(a.CategoryAxisBase);t.CategoryAxis=l},86678:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryAxisBase=void 0;var o=r(94694),a=r(51134),s=r(55687),l=r(24714),u=r(99102),c=r(79453),d=r(58807),p=r(73336),h=r(62911),f=function(e){function CategoryAxisBase(t,r){var i,n,o,a=this;return(a=e.call(this,t,r)||this).defaultXValuesProperty=[],a.defaultXStartProperty=0,a.defaultXStepProperty=1,a.defaultXValuesProperty=null!==(i=null==r?void 0:r.defaultXValues)&&void 0!==i?i:a.defaultXValuesProperty,a.defaultXStartProperty=null!==(n=null==r?void 0:r.defaultXStart)&&void 0!==n?n:a.defaultXStartProperty,a.defaultXStepProperty=null!==(o=null==r?void 0:r.defaultXStep)&&void 0!==o?o:a.defaultXStepProperty,a.tickProvider=new d.NumericTickProvider(a.webAssemblyContext2D),a.deltaCalculator=new h.CategoryDeltaCalculator(a.webAssemblyContext2D),a.defaultBaseXValues=new a.webAssemblyContext2D.SCRTDoubleVector,a}return n(CategoryAxisBase,e),Object.defineProperty(CategoryAxisBase.prototype,"isCategoryAxis",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(CategoryAxisBase.prototype,"defaultXValues",{get:function(){return this.defaultXValuesProperty},set:function(e){this.defaultXValuesProperty=e,this.invalidateParentCallback&&this.invalidateParentCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(CategoryAxisBase.prototype,"defaultXStart",{get:function(){return this.defaultXStartProperty},set:function(e){this.defaultXStartProperty=e,this.invalidateParentCallback&&this.invalidateParentCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(CategoryAxisBase.prototype,"defaultXStep",{get:function(){return this.defaultXStepProperty},set:function(e){this.defaultXStepProperty=e,this.invalidateParentCallback&&this.invalidateParentCallback()},enumerable:!1,configurable:!0}),CategoryAxisBase.prototype.prepareRenderData=function(){var e=this;(0,o.deleteSafe)(this.coordCalcCache);var t=this.getCurrentCoordinateCalculatorInternal(),r=this.parentSurface.renderableSeries.asArray().find(function(t){return t.xAxisId===e.id});this.setBaseXValues(t,r),this.coordCalcCache=t},CategoryAxisBase.prototype.delete=function(){this.defaultBaseXValues=(0,o.deleteSafe)(this.defaultBaseXValues),e.prototype.delete.call(this)},CategoryAxisBase.prototype.getCurrentCoordinateCalculatorInternal=function(){var e=this,t=this.visibleRange.min,r=this.visibleRange.max,i=this.axisLength,n=this.parentSurface.renderableSeries.asArray().find(function(t){return t.xAxisId===e.id}),o=this.isXAxis!==this.flippedCoordinates?new u.CategoryCoordinateCalculator(this.webAssemblyContext2D,i,t,r,this.offset):new c.FlippedCategoryCoordinateCalculator(this.webAssemblyContext2D,i,t,r,this.offset);return this.setBaseXValues(o,n),o},CategoryAxisBase.prototype.getXDataRange=function(){var e,t=this;return this.parentSurface&&this.parentSurface.renderableSeries.asArray().filter(function(e){return e.xAxisId===t.id&&e.isVisible&&e.hasDataSeriesValues()}).forEach(function(t){var r=t.getDataSeriesValuesCount(),i=new a.NumberRange(-.5,r-1+.5);i&&(e=e?e.union(i):i)}),e},CategoryAxisBase.prototype.getMaxAutoTicks=function(){var e=this.getCurrentCoordinateCalculator();return Math.min(Math.max(1,this.maxAutoTicks),e.baseXValues.size())},CategoryAxisBase.prototype.generateDefaultXValuesForCategoryAxis=function(){if(this.defaultBaseXValues.clear(),this.defaultXValues&&this.defaultXValues.length>0)(0,l.appendDoubleVectorFromJsArray)(this.webAssemblyContext2D,this.defaultBaseXValues,this.defaultXValues);else{for(var e=[],t=0;t<10;t++)e.push(this.defaultXStart+t*this.defaultXStep);(0,l.appendDoubleVectorFromJsArray)(this.webAssemblyContext2D,this.defaultBaseXValues,e)}return this.defaultBaseXValues},CategoryAxisBase.prototype.setBaseXValues=function(e,t){if((null==t?void 0:t.type)===s.ESeriesType.UniformHeatmapSeries)throw Error("Category Axis is not supported for UniformHeatmapRenderableSeries");if(null==t?void 0:t.isStacked){if(0===t.size())throw Error("BaseStackedCollection should have at least one BaseStackedRenderableSeries");var r=t.get(0);if(!(null==r?void 0:r.dataSeries)){e.baseXValues||(e.baseXValues=this.generateDefaultXValuesForCategoryAxis());return}e.baseXValues=r.dataSeries.getNativeXValues()}else{if(!(null==t?void 0:t.dataSeries)||10>t.dataSeries.count()){e.baseXValues||(e.baseXValues=this.generateDefaultXValuesForCategoryAxis());return}e.baseXValues=t.dataSeries.getNativeXValues()}},CategoryAxisBase}(p.AxisBase2D);t.CategoryAxisBase=f},19599:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeNumericAxis=void 0;var o=r(71997),a=r(52812),s=function(e){function DateTimeNumericAxis(t,r){var i,n=this;return(n=e.call(this,t,r)||this).labelProvider=null!==(i=null==r?void 0:r.labelProvider)&&void 0!==i?i:new a.SmartDateLabelProvider,n.deltaCalculator=new o.DateTimeDeltaCalculator(t,{possibleDeltas:null==r?void 0:r.possibleDeltas,minTicks:null==r?void 0:r.minTicks}),n}return n(DateTimeNumericAxis,e),DateTimeNumericAxis}(r(48307).NumericAxis);t.DateTimeNumericAxis=s},62911:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CategoryDeltaCalculator=void 0;var o=r(92530),a=r(51134),s=function(e){function CategoryDeltaCalculator(t){return e.call(this,t)||this}return n(CategoryDeltaCalculator,e),CategoryDeltaCalculator.prototype.getDeltaFromRange=function(t,r,i,n){return(o.Guard.argumentIsRealNumber(t,"min"),o.Guard.argumentIsRealNumber(r,"max"),r<=n)?new a.NumberRange(1/i,1):e.prototype.getDeltaFromRange.call(this,t,r,i,n)},CategoryDeltaCalculator}(r(34993).NumericDeltaCalculator);t.CategoryDeltaCalculator=s},71997:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimeDeltaCalculator=void 0;var o=r(93940),a=r(51134),s=function(e){function DateTimeDeltaCalculator(t,r){var i,n=this;return(n=e.call(this,t)||this).possibleDeltasProperty=[1,2,5,10,15,30,60,120,300,600,900,1800,3600,7200,10800,21600,43200,86400,172800,259200,432e3,864e3,1296e3,1728e3,2592e3,5184e3,10368e3,15552e3,31557600],n.currIndex=1,n.possibleDeltasProperty=null!==(i=null==r?void 0:r.possibleDeltas)&&void 0!==i?i:n.possibleDeltasProperty,n.minTicks=null==r?void 0:r.minTicks,n.currIndex=Math.floor(n.possibleDeltas.length/2),n}return n(DateTimeDeltaCalculator,e),Object.defineProperty(DateTimeDeltaCalculator.prototype,"possibleDeltas",{get:function(){return this.possibleDeltasProperty},set:function(e){this.possibleDeltasProperty!==e&&(this.possibleDeltasProperty=e,this.currIndex=Math.floor(this.possibleDeltas.length/2))},enumerable:!1,configurable:!0}),Object.defineProperty(DateTimeDeltaCalculator.prototype,"minTicks",{get:function(){return this.minTicksProperty},set:function(e){this.minTicksProperty!==e&&(this.minTicksProperty=e)},enumerable:!1,configurable:!0}),DateTimeDeltaCalculator.prototype.getDeltaFromRange=function(t,r,i,n){var s=this,l=r-t;this.prevIndex=void 0,this.currIndex>=this.possibleDeltas.length&&(this.currIndex=Math.floor(this.possibleDeltas.length/2));var u=0,calculateDelta=function(a){var c,d,p=s.possibleDeltasProperty[a];if(++u>s.possibleDeltas.length+1)return o.performanceWarnings.dateTimeDeltaCalculatorBadDelta.warn(),p;var h=Math.floor(l/p);return h<(null!==(c=s.minTicks)&&void 0!==c?c:n/3)&&0===a&&a!==s.prevIndex?(s.prevIndex||(s.prevIndex=a),e.prototype.getDeltaFromRange.call(s,t,r,i,n).max):h<(null!==(d=s.minTicks)&&void 0!==d?d:n/3)&&a>0&&a!==s.prevIndex?(s.prevIndex||(s.prevIndex=a),calculateDelta(a-1)):h>n&&a<s.possibleDeltasProperty.length-1&&a!==s.prevIndex?(s.prevIndex||(s.prevIndex=a),calculateDelta(a+1)):h>n&&a===s.possibleDeltasProperty.length-1?e.prototype.getDeltaFromRange.call(s,t/p,r/p,i,n).max*p:(s.currIndex!==a&&(s.currIndex=a),p)},c=calculateDelta(this.currIndex);return new a.NumberRange(c/i,c)},DateTimeDeltaCalculator}(r(34993).NumericDeltaCalculator);t.DateTimeDeltaCalculator=s},98478:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeltaCalculator=void 0;var r=function(){function DeltaCalculator(){}return DeltaCalculator.prototype.attachedToAxis=function(e){this.parentAxis=e},DeltaCalculator.prototype.detachedFromAxis=function(){this.parentAxis=void 0},DeltaCalculator}();t.DeltaCalculator=r},14850:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LogarithmicDeltaCalculator=void 0;var o=r(92530),a=r(51134),s=function(e){function LogarithmicDeltaCalculator(t){var r=e.call(this)||this;return r.logarithmicBase=10,r.isHighPrecisionTicks=!0,r.webAssemblyContext=t,r}return n(LogarithmicDeltaCalculator,e),LogarithmicDeltaCalculator.prototype.getDeltaFromRange=function(e,t,r,i){if(o.Guard.argumentIsRealNumber(e,"min"),o.Guard.argumentIsRealNumber(t,"max"),(e=Math.abs(e))>(t=Math.abs(t))){var n=e;e=t,t=n}if(this.isHighPrecisionTicks){var s=this.webAssemblyContext.NiceLogScale.CalculateTickSpacing(e,t,this.logarithmicBase,r,i),l=new a.NumberRange(s.minD,s.maxD);return s.delete(),l}var s=this.webAssemblyContext.NiceLogScale.CalculateLowPrecisionTickSpacing(e,t,this.logarithmicBase,r,i),l=new a.NumberRange(s.minD,s.maxD);return s.delete(),l},LogarithmicDeltaCalculator}(r(98478).DeltaCalculator);t.LogarithmicDeltaCalculator=s},34993:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.NumericDeltaCalculator=void 0;var o=r(92530),a=r(51134),s=function(e){function NumericDeltaCalculator(t){var r=e.call(this)||this;return r.webAssemblyContext=t,r}return n(NumericDeltaCalculator,e),NumericDeltaCalculator.prototype.getDeltaFromRange=function(e,t,r,i){o.Guard.argumentIsRealNumber(e,"min"),o.Guard.argumentIsRealNumber(t,"max");var n=this.webAssemblyContext.NiceDoubleScale.CalculateTickSpacing(e,t,r,i),s=new a.NumberRange(n.minD,n.maxD);return n.delete(),s},NumericDeltaCalculator}(r(98478).DeltaCalculator);t.NumericDeltaCalculator=s},77405:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.DateLabelProvider=void 0;var a=r(73326),s=r(44841),l=r(1411),u=function(e){function DateLabelProvider(t){var r,i,n=this;return(n=e.call(this,o({labelFormat:null!==(r=null==t?void 0:t.labelFormat)&&void 0!==r?r:s.ENumericFormat.Date_DDMMYYYY,cursorLabelFormat:null!==(i=null==t?void 0:t.cursorLabelFormat)&&void 0!==i?i:s.ENumericFormat.Date_DDMMYYYY},t))||this).type=a.ELabelProviderType.Date,n.formatLabelProperty=function(e){return n.applyFormat((0,l.formatNumber)(e,n.numericFormat,n.precision))},n.formatCursorLabelProperty=function(e){var t,r;return n.applyFormat((0,l.formatNumber)(e,null!==(t=n.cursorNumericFormat)&&void 0!==t?t:n.numericFormat,null!==(r=n.cursorPrecision)&&void 0!==r?r:n.precision))},n}return n(DateLabelProvider,e),DateLabelProvider.prototype.onBeginAxisDraw=function(){},DateLabelProvider}(r(69286).LabelProviderBase2D);t.DateLabelProvider=u},35911:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.labelCache=void 0;var i=r(94694),n=r(14464),o=new Map,a={},s=0,makeCacheKey=function(e,t){return"".concat(e,"|:|").concat(t)},parseCacheKey=function(e){var t=e.indexOf("|:|");return{text:e.substring(0,t-1),styleId:e.substring(t+3)}},clearCacheByStyle=function(e){for(var t=0,r=Array.from(o.keys());t<r.length;t++){var a=r[t],s=parseCacheKey(a);if(s.text,s.styleId===e){var l=o.get(a);o.delete(a);try{(0,i.deleteSafe)(l.bitmapTexture)}catch(e){n.Logger.debug(e)}}}},l=200,u=6e4,c=0,checkTextStyleEqual=function(e,t){return e.alignment===t.alignment&&e.multilineAlignment===t.multilineAlignment&&e.color===t.color&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontStyle===t.fontStyle&&e.fontWeight===t.fontWeight&&(void 0===e.padding&&void 0===t.padding||e.padding.equals(t.padding))&&e.extras===t.extras&&e.rotation===t.rotation&&e.providerId===t.providerId};t.labelCache={getStyleId:function(e){for(var t in a)if(a.hasOwnProperty(t)){var r=a[t];if(r&&checkTextStyleEqual(e,r.style))return r.uses++,t}s++;var i=s.toString();return a[i]={style:e,uses:1},i},freeStyle:function(e){var t=a[e];t&&(t.uses--,setTimeout(function(){var t=a[e];t&&0===t.uses&&clearCacheByStyle(e)},u))},getLabel:function(e,t){var r=makeCacheKey(e,t),i=o.get(r);return i&&(i.lastUsed=Date.now()),i},setLabel:function(e,t,r){var i=makeCacheKey(e,t);o.set(i,r)},checkStyle:function(e,t){var r=a[e.toString()];return!!r&&checkTextStyleEqual(r.style,t)},getMaxSize:function(){return l},setMaxSize:function(e){l=e},getMinAge:function(){return u},setMinAge:function(e){u=e},pruneCache:function(){var e=Date.now()-u;if(o.size>l&&c<e)try{var t=Math.min(Math.floor(o.size/2),(o.size-l)*2),r=Array.from(o.entries());r.sort(function(e,t){return e[1].lastUsed-t[1].lastUsed});for(var n=0;n<t;n++){var a=r[n],s=a[0],d=a[1];d.lastUsed<e?(d.bitmapTexture=(0,i.deleteSafe)(d.bitmapTexture),o.delete(s)):0===n&&(c=d.lastUsed)}}catch(e){console.warn(e)}},resetCache:function(){for(var e in o.clear(),a)delete a[e]}}},4609:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LabelProvider=void 0;var o=function(e){function LabelProvider(t){var r=e.call(this)||this;return r.numericFormatProperty=null==t?void 0:t.labelFormat,r.precisionProperty=null==t?void 0:t.labelPrecision,r.cursorNumericFormatProperty=null==t?void 0:t.cursorLabelFormat,r.cursorPrecisionProperty=null==t?void 0:t.cursorLabelPrecision,r.prefixProperty=null==t?void 0:t.labelPrefix,r.postfixProperty=null==t?void 0:t.labelPostfix,r}return n(LabelProvider,e),LabelProvider.prototype.attachedToAxis=function(e){this.parentAxis=e},LabelProvider.prototype.detachedFromAxis=function(){this.parentAxis=void 0},Object.defineProperty(LabelProvider.prototype,"numericFormat",{get:function(){return this.numericFormatProperty},set:function(e){this.numericFormatProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(LabelProvider.prototype,"precision",{get:function(){return this.precisionProperty},set:function(e){this.precisionProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(LabelProvider.prototype,"cursorNumericFormat",{get:function(){return this.cursorNumericFormatProperty},set:function(e){this.cursorNumericFormatProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(LabelProvider.prototype,"cursorPrecision",{get:function(){return this.cursorPrecisionProperty},set:function(e){this.cursorPrecisionProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(LabelProvider.prototype,"prefix",{get:function(){return this.prefixProperty},set:function(e){this.prefixProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(LabelProvider.prototype,"postfix",{get:function(){return this.postfixProperty},set:function(e){this.postfixProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(LabelProvider.prototype,"formatLabel",{get:function(){return this.formatLabelProperty},set:function(e){this.formatLabelProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(LabelProvider.prototype,"formatCursorLabel",{get:function(){return this.formatCursorLabelProperty},set:function(e){this.formatCursorLabelProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),LabelProvider.prototype.applyFormat=function(e){var t,r;return(null!==(t=this.prefix)&&void 0!==t?t:"")+e+(null!==(r=this.postfix)&&void 0!==r?r:"")},LabelProvider.prototype.toJSON=function(){var e={cursorLabelFormat:this.cursorNumericFormat,cursorLabelPrecision:this.cursorPrecision,labelFormat:this.numericFormat,labelPrecision:this.precision,labelPrefix:this.prefix,labelPostfix:this.postfix};return{type:this.type,options:e}},LabelProvider.prototype.invalidateParent=function(){this.parentAxis&&this.parentAxis.invalidateParentCallback&&this.parentAxis.invalidateParentCallback()},LabelProvider}(r(15492).DeletableEntity);t.LabelProvider=o},69286:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.LabelProviderBase2D=t.LabelInfo=void 0;var l=r(2003),u=r(92200),c=r(94485),d=r(3192),p=r(18237),h=r(35911),f=r(4609),LabelInfo=function(e,t,r,i,n){this.tick=e,this.text=t,this.bitmapTexture=r,this.textureHeight=i,this.textureWidth=n,this.lastUsed=Date.now()};t.LabelInfo=LabelInfo;var y=function(e){function LabelProviderBase2D(t){var r,i,n,o,a=this;return(a=e.call(this,t)||this).useCache=!l.IS_TEST_ENV,a.useNativeText=!1,a.tickToText=new Map,a.textVariesForSameTick=!1,a.rotationProperty=0,a.lineSpacingProperty=1.1,a.providerId=(0,u.generateGuid)(),a.rotationProperty=null!==(r=null==t?void 0:t.rotation)&&void 0!==r?r:a.rotationProperty,a.lineSpacing=null!==(i=null==t?void 0:t.lineSpacing)&&void 0!==i?i:a.lineSpacing,a.useSharedCache=null!==(n=null==t?void 0:t.useSharedCache)&&void 0!==n?n:d.SciChartDefaults.useSharedCache,a.useNativeText=null!==(o=null==t?void 0:t.useNativeText)&&void 0!==o?o:d.SciChartDefaults.useNativeText,a}return n(LabelProviderBase2D,e),Object.defineProperty(LabelProviderBase2D.prototype,"rotation",{get:function(){return this.rotationProperty},set:function(e){this.rotationProperty!==e&&(this.rotationProperty=e,this.invalidateParent())},enumerable:!1,configurable:!0}),Object.defineProperty(LabelProviderBase2D.prototype,"lineSpacing",{get:function(){return this.useNativeText&&1.1===this.lineSpacingProperty?2:this.lineSpacingProperty},set:function(e){this.lineSpacingProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),LabelProviderBase2D.prototype.getLabels=function(e){var t=this,r=this.parentAxis;this.useCache&&(this.styleId?h.labelCache.checkStyle(this.styleId,this.getCachedStyle())||(this.resetCache(),this.styleId=h.labelCache.getStyleId(this.getCachedStyle())):this.styleId=h.labelCache.getStyleId(this.getCachedStyle()));var i=e;if(this.parentAxis.isCategoryAxis){var n=this.parentAxis.getCurrentCoordinateCalculator();i=e.map(function(e){return n.transformIndexToData(e)})}var o=[];if(this.useCache){if(this.useNativeText){for(var a=[],s=0,l=i;s<l.length;s++){var u=l[s],c=this.tickToText.get(u);if(this.textVariesForSameTick){var d=this.formatLabel(u);c&&c===d?o.push(c):(this.tickToText.set(u,d),a.push(d),o.push(d))}else if(c)o.push(c);else{var d=this.formatLabel(u);this.tickToText.set(u,d),a.push(d),o.push(d)}}this.getLabelSizesNative(a,r.dpiAdjustedLabelStyle)}else{for(var p=0,f=i;p<f.length;p++){var u=f[p],y=void 0,d=void 0,c=this.tickToText.get(u);if(this.textVariesForSameTick?(d=this.formatLabel(u),c&&c===d?(y=h.labelCache.getLabel(c,this.styleId))&&o.push(c):this.tickToText.set(u,d)):c?(d=c,(y=h.labelCache.getLabel(c,this.styleId))&&o.push(c)):(d=this.formatLabel(u),this.tickToText.set(u,d)),!y){var g=this.getCachedLabelTexture(d,r.axisRenderer.textureManager,r.dpiAdjustedLabelStyle);null!==g.textureWidth&&(y=new LabelInfo(u,d,g.bitmapTexture,g.textureHeight,g.textureWidth),h.labelCache.setLabel(d,this.styleId,y)),o.push(d)}}h.labelCache.pruneCache()}}else o=i.map(function(e){return t.formatLabel(e)});return o},LabelProviderBase2D.prototype.getLabelHeight=function(e,t,r){if(this.rotationProperty%90!=0&&!this.parentAxis.isHorizontalAxis)return r.fontSize+r.padding.top+r.padding.bottom;var i=this.useCache?h.labelCache.getLabel(t,this.styleId):void 0;if(!i||!i.textureHeight){var n=r.fontSize,o=r.padding;return(0,p.measureTextHeight)(n)+(null==o?void 0:o.top)+(null==o?void 0:o.bottom)}return i.textureHeight},LabelProviderBase2D.prototype.getLabelWidth=function(e,t,r){if(this.rotationProperty%90!=0&&this.parentAxis.isHorizontalAxis)return r.fontSize+r.padding.left+r.padding.right;var i=this.useCache?h.labelCache.getLabel(t,this.styleId):void 0;if(!i||!i.textureWidth){var n=r.padding;return(0,p.measureTextWidth)(e,t)+n.left+n.right}return i.textureWidth},LabelProviderBase2D.prototype.getMaxLabelHeightForHorizontalAxis=function(e,t,r){var i=this,n=0;return e.forEach(function(e){var o=i.getLabelHeight(t,e,r);n=o>n?o:n}),n},LabelProviderBase2D.prototype.getMaxLabelWidthForVerticalAxis=function(e,t,r){var i=this,n=0;return e.forEach(function(e){var o=i.getLabelWidth(t,e,r);n=o>n?o:n}),n},LabelProviderBase2D.prototype.getCachedLabelTexture=function(e,t,r){var i,n=h.labelCache.getLabel(e,this.styleId);return n?{textureWidth:null!==(i=n.textureWidth)&&void 0!==i?i:null,textureHeight:n.textureHeight,bitmapTexture:n.bitmapTexture}:this.getLabelTexture(e,t,r)},LabelProviderBase2D.prototype.getLabelTextureAsync=function(e,t,r){return a(this,void 0,void 0,function(){return s(this,function(i){return[2,this.getLabelTexture(e,t,r)]})})},LabelProviderBase2D.prototype.getLabelTexture=function(e,t,r){return t.createTextTexture([e],r,this.rotationProperty)},LabelProviderBase2D.prototype.getNativeLabelInfo=function(e){return h.labelCache.getLabel(e,this.styleId)},LabelProviderBase2D.prototype.invalidateCache=function(){this.styleId&&h.labelCache.freeStyle(this.styleId),this.tickToText.clear(),this.styleId=null},LabelProviderBase2D.prototype.resetCache=function(){this.invalidateCache()},LabelProviderBase2D.prototype.delete=function(){this.resetCache()},LabelProviderBase2D.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={rotation:this.rotation,lineSpacing:this.lineSpacing,asyncLabels:!1,useSharedCache:this.useSharedCache,useNativeText:this.useNativeText};return Object.assign(t.options,r),t},LabelProviderBase2D.prototype.getLabelSizesNative=function(e,t){var r=this;if(e&&0!==e.length&&!l.IS_TEST_ENV){var i="",n=[],o=this.parentAxis.parentSurface.webAssemblyContext2D,a=(0,c.getTextBounds)(o),s=o.SCRTGetMainRenderContext2D(),u=(0,c.getFontKey)(o,this.getCachedStyle(),!1),d=s.AquireFont(u),p=this.rotation*(Math.PI/180),f=Math.abs(Math.sin(p)),y=Math.abs(Math.cos(p)),makeCacheEntry=function(e,i,n){var o,a,s=e,l=i;0!==r.rotation&&(l=e*f+i*y,s=e*y+i*f);var u=new LabelInfo(void 0,n,void 0,l+(null===(o=t.padding)||void 0===o?void 0:o.top)+(null==t?void 0:t.padding.bottom),s+(null===(a=t.padding)||void 0===a?void 0:a.left)+(null==t?void 0:t.padding.right));u.textWidth=e,u.textHeight=i,h.labelCache.setLabel(n,r.styleId,u)};if(e.forEach(function(e){e&&!e.includes("\n")?(n.push(e),i+=e+"\n"):(d.CalculateStringBounds(null!=e?e:"",a,0),makeCacheEntry(a.m_fWidth,a.m_fHeight,e))}),n.length>0){d.CalculateStringBounds(null!=i?i:"",a,2);for(var g=0;g<n.length;g++){var v=n[g],m=a.GetLineBounds(g);makeCacheEntry(m.m_fWidth,m.m_fHeight-m.m_fOffsetY,v)}}}},LabelProviderBase2D.prototype.getCachedStyle=function(){var e=this.parentAxis;return o(o({},e.dpiAdjustedLabelStyle),{rotation:this.rotation,providerId:this.useSharedCache?this.useNativeText?"native":void 0:this.providerId})},LabelProviderBase2D.prototype.clearCache=function(){this.useCache&&this.styleId&&(h.labelCache.freeStyle(this.styleId),this.styleId=void 0),this.tickToText.clear()},LabelProviderBase2D.prototype.invalidateParent=function(){this.clearCache(),e.prototype.invalidateParent.call(this)},LabelProviderBase2D}(f.LabelProvider);t.LabelProviderBase2D=y},65202:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.LogarithmicLabelProvider=void 0;var a=r(44841),s=r(1411),l=function(e){function LogarithmicLabelProvider(t){var r,i,n=this;return(n=e.call(this,o({labelFormat:null!==(r=null==t?void 0:t.labelFormat)&&void 0!==r?r:a.ENumericFormat.Scientific,labelPrecision:null!==(i=null==t?void 0:t.labelPrecision)&&void 0!==i?i:1},t))||this).formatLabelProperty=function(e){return n.numericFormat===a.ENumericFormat.Scientific?n.applyFormat((0,s.toScientific)(e,n.precision,n.logarithmicBase)):n.applyFormat((0,s.formatNumber)(e,n.numericFormat,n.precision))},n}return n(LogarithmicLabelProvider,e),LogarithmicLabelProvider}(r(3274).NumericLabelProvider);t.LogarithmicLabelProvider=l},3274:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.NumericLabelProvider=void 0;var a=r(73326),s=r(44841),l=r(1411),u=function(e){function NumericLabelProvider(t){var r,i,n=this;return(n=e.call(this,o({labelFormat:null!==(r=null==t?void 0:t.labelFormat)&&void 0!==r?r:s.ENumericFormat.Decimal,labelPrecision:null!==(i=null==t?void 0:t.labelPrecision)&&void 0!==i?i:1},t))||this).type=a.ELabelProviderType.Numeric,n.formatLabelProperty=function(e){return n.applyFormat((0,l.formatNumber)(e,n.numericFormat,n.precision))},n.formatCursorLabelProperty=function(e){var t,r;return n.applyFormat((0,l.formatNumber)(e,null!==(t=n.cursorNumericFormat)&&void 0!==t?t:n.numericFormat,null!==(r=n.cursorPrecision)&&void 0!==r?r:n.precision))},n}return n(NumericLabelProvider,e),NumericLabelProvider.prototype.onBeginAxisDraw=function(){},NumericLabelProvider}(r(69286).LabelProviderBase2D);t.NumericLabelProvider=u},12344:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.PieLabelProvider=void 0;var a=r(73326),s=r(44841),l=r(1411),u=r(18397),c=function(e){function PieLabelProvider(t){var r,i,n=this;return(n=e.call(this,o({labelFormat:null!==(r=null==t?void 0:t.labelFormat)&&void 0!==r?r:s.ENumericFormat.Decimal,labelPrecision:null!==(i=null==t?void 0:t.labelPrecision)&&void 0!==i?i:2},t))||this).type=a.ELabelProviderType.Pie,n.formatLabelProperty=function(e){return n.applyFormat((0,l.formatNumber)(e,n.numericFormat,n.precision))+(n.parentSurface.valueMode===u.EPieValueMode.Percentage?" %":"")},n}return n(PieLabelProvider,e),PieLabelProvider.prototype.delete=function(){},PieLabelProvider.prototype.getSegmentText=function(e,t){var r=this.parentSurface.valueMode===u.EPieValueMode.Percentage?e.getPercentage(t):e.value;return this.formatLabel(r)},PieLabelProvider.prototype.attachedToSurface=function(e){this.parentSurface=e},PieLabelProvider.prototype.onBeginAxisDraw=function(){},PieLabelProvider.prototype.invalidateParent=function(){this.parentSurface&&this.parentSurface.invalidateElement&&this.parentSurface.invalidateElement()},PieLabelProvider}(r(4609).LabelProvider);t.PieLabelProvider=c},52812:function(e,t,r){"use strict";var i,n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.SmartDateLabelProvider=t.ETradeChartLabelFormat=void 0;var l=r(73326),u=r(44841),c=r(28615),d=r(1411),p=r(69286);(i=o=t.ETradeChartLabelFormat||(t.ETradeChartLabelFormat={})).Seconds="Seconds",i.Minutes="Minutes",i.Days="Days",i.Months="Months";var h=function(e){function SmartDateLabelProvider(t){var r,i,n,o=this;return(o=e.call(this,s({labelFormat:null!==(r=null==t?void 0:t.labelFormat)&&void 0!==r?r:u.ENumericFormat.Date_DDMMYYYY,cursorLabelFormat:null!==(i=null==t?void 0:t.cursorLabelFormat)&&void 0!==i?i:u.ENumericFormat.Date_DDMMYYYY},t))||this).type=l.ELabelProviderType.SmartDate,o.textVariesForSameTick=!0,o.showWiderDateOnFirstLabelProperty=!0,o.firstLabel=!0,o.showWiderDateOnFirstLabelProperty=null!==(n=null==t?void 0:t.showWiderDateOnFirstLabel)&&void 0!==n?n:o.showWiderDateOnFirstLabel,o.formatCursorLabelProperty=function(e){var t,r;return o.applyFormat((0,d.formatNumber)(e,null!==(t=o.cursorNumericFormat)&&void 0!==t?t:o.numericFormat,null!==(r=o.cursorPrecision)&&void 0!==r?r:o.precision))},o.doFormat=o.doFormat.bind(o),o.formatLabelProperty=o.doFormat,o}return a(SmartDateLabelProvider,e),Object.defineProperty(SmartDateLabelProvider.prototype,"showWiderDateOnFirstLabel",{get:function(){return this.showWiderDateOnFirstLabelProperty},set:function(e){this.showWiderDateOnFirstLabelProperty!==e&&(this.showWiderDateOnFirstLabelProperty=e,this.invalidateParent())},enumerable:!1,configurable:!0}),SmartDateLabelProvider.prototype.onBeginAxisDraw=function(){},SmartDateLabelProvider.prototype.getLabels=function(t){var r=t[0],i=t.length,n=t[i-1];if(this.parentAxis.isCategoryAxis){var o=this.parentAxis.getCurrentCoordinateCalculator();r=o.transformIndexToData(r),n=o.transformIndexToData(n)}this.prevPrevValue=void 0,this.prevValue=void 0;var a=n-r;this.firstLabel=!0,this.format=this.getTradeChartLabelFormat(a,i);var s=e.prototype.getLabels.call(this,t);return this.format=void 0,s},Object.defineProperty(SmartDateLabelProvider.prototype,"numericFormat",{get:function(){},set:function(e){},enumerable:!1,configurable:!0}),SmartDateLabelProvider.prototype.doFormat=function(e){if(!this.format)return this.applyFormat((0,d.formatNumber)(e,null!==(t=this.cursorNumericFormat)&&void 0!==t?t:this.numericFormat,null!==(r=this.cursorPrecision)&&void 0!==r?r:this.precision));var t,r,i=this.formatTradeChartLabel(this.format,e,this.prevValue,this.prevPrevValue);return this.prevPrevValue=this.prevValue,this.prevValue=e,i},SmartDateLabelProvider.prototype.getTradeChartLabelFormat=function(e,t){return e<=3600?o.Seconds:e<=432e3?o.Minutes:e<=432e4?o.Days:o.Months},SmartDateLabelProvider.prototype.formatTradeChartLabel=function(e,t,r,i){var n=!this.firstLabel||this.showWiderDateOnFirstLabel;if(this.firstLabel=!1,e===o.Seconds){var a=void 0===r||(0,c.formatUnixDateToHumanStringMMMDD)(t)!==(0,c.formatUnixDateToHumanStringMMMDD)(r);return a&&n?(0,c.formatUnixDateToHumanStringMMMDD)(t):(0,c.formatUnixDateToHumanStringHHMMSS)(t)}if(e===o.Minutes){var a=void 0===r||(0,c.formatUnixDateToHumanStringMMMDD)(t)!==(0,c.formatUnixDateToHumanStringMMMDD)(r);return a&&n?(0,c.formatUnixDateToHumanStringMMMDD)(t):(0,c.formatUnixDateToHumanStringHHMM)(t)}if(e===o.Days){var s=void 0===r||(0,c.formatUnixDateToHumanStringMMM)(t)!==(0,c.formatUnixDateToHumanStringMMM)(r);return s&&n?(0,c.formatUnixDateToHumanStringMMM)(t):(0,c.formatUnixDateToHumanStringDD)(t)}if(e===o.Months){if((void 0===r||(0,c.formatUnixDateToHumanStringYYYY)(t)!==(0,c.formatUnixDateToHumanStringYYYY)(r))&&n)return(0,c.formatUnixDateToHumanStringYYYY)(t);var s=void 0===i||(0,c.formatUnixDateToHumanStringYYYY)(r)!==(0,c.formatUnixDateToHumanStringYYYY)(i)||(0,c.formatUnixDateToHumanStringMMM)(t)!==(0,c.formatUnixDateToHumanStringMMM)(r);return s?(0,c.formatUnixDateToHumanStringMMM)(t):(0,c.formatUnixDateToHumanStringDD)(t)}return(0,d.formatNumber)(t,u.ENumericFormat.Date_DDMMYYYY,0)},SmartDateLabelProvider}(p.LabelProviderBase2D);t.SmartDateLabelProvider=h},72896:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.wrapText=t.TextLabelProvider=void 0;var a=r(73326),s=r(18237),l=r(35911),u=function(e){function TextLabelProvider(t){var r,i,n=this;return(n=e.call(this,t)||this).type=a.ELabelProviderType.Text,n.maxLengthProperty=0,n.labelsProperty=null!==(r=null==t?void 0:t.labels)&&void 0!==r?r:[],n.maxLength=null!==(i=null==t?void 0:t.maxLength)&&void 0!==i?i:n.maxLength,n.formatLabelProperty=function(e){var t,r;if(n.parentAxis.isCategoryAxis&&Array.isArray(n.labels)){var i=n.parentAxis.getCurrentCoordinateCalculator().transformDataToIndex(e);return n.wrapText(null!==(t=n.labels[i])&&void 0!==t?t:"")}return n.wrapText(null!==(r=n.labels[e])&&void 0!==r?r:"")},n.formatCursorLabelProperty=n.formatLabelProperty,n}return n(TextLabelProvider,e),Object.defineProperty(TextLabelProvider.prototype,"labels",{get:function(){return this.labelsProperty},set:function(e){this.labelsProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(TextLabelProvider.prototype,"maxLength",{get:function(){return this.maxLengthProperty},set:function(e){this.maxLengthProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),TextLabelProvider.prototype.onBeginAxisDraw=function(){},TextLabelProvider.prototype.getLabelWidth=function(e,t,r){if(!this.useNativeText&&this.rotation%90!=0&&this.parentAxis.isHorizontalAxis)return(Array.isArray(t)?t:t.split("\n")).length*this.lineSpacing*r.fontSize+r.padding.left+r.padding.right;var i=l.labelCache.getLabel(t,this.styleId);if(!i){var n=r.padding;return(0,s.measureTextWidth)(e,t)+n.left+n.right}return i.textureWidth},TextLabelProvider.prototype.getLabelTexture=function(e,t,r){var i=e.split("\n");return t.createTextTexture(i,r,this.rotation,this.lineSpacing)},TextLabelProvider.prototype.wrapText=function(e){return e&&Array.isArray(e)?e.join("\n"):(0,t.wrapText)(e,this.maxLength).join("\n")},TextLabelProvider.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={labels:this.labels,maxLength:this.maxLength};return Object.assign(t.options,r),t},TextLabelProvider.prototype.getCachedStyle=function(){var e=this.parentAxis;return o(o({},e.dpiAdjustedLabelStyle),{rotation:this.rotation,extras:"ls".concat(this.lineSpacing,",ml").concat(this.maxLength),providerId:this.useSharedCache?void 0:this.providerId})},TextLabelProvider}(r(69286).LabelProviderBase2D);t.TextLabelProvider=u,t.wrapText=function(e,t){if(0===t)return[e];var r=[];if(!e)return r;for(var i=e.split(" "),n="",o=0;o<i.length;o++){var a=i[o],s=n+(""!==n?" ":"")+a;s.length>t?""===n?r.push(a):(r.push(n),n=a):n=s}return r.push(n),r}},28670:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LogarithmicAxis=t.MIN_LOG_AXIS_VALUE=void 0;var o=r(19513),a=r(56529),s=r(51134),l=r(18157),u=r(24510),c=r(10600),d=r(97705),p=r(73336),h=r(87217),f=r(14850),y=r(65202);t.MIN_LOG_AXIS_VALUE=1e-10;var g=function(e){function LogarithmicAxis(r,i){var n,o,a,u,c=this;return(c=e.call(this,r,i)||this).type=l.EAxisType.LogarithmicAxis,c.logBaseProperty=10,c.isHighPrecisionTicksProperty=!0,c.tickProvider=new d.LogarithmicTickProvider(r),c.deltaCalculator=new f.LogarithmicDeltaCalculator(r),c.labelProvider=null!==(n=null==i?void 0:i.labelProvider)&&void 0!==n?n:new y.LogarithmicLabelProvider(i),c.logBase=null!==(o=null==i?void 0:i.logBase)&&void 0!==o?o:c.logBaseProperty,c.isNegativeProperty=null!==(a=null==i?void 0:i.isNegative)&&void 0!==a&&a,c.visibleRange=(null==i?void 0:i.visibleRange)||c.getDefaultNonZeroRange(),c.majorTickMode=(null==i?void 0:i.majorTickMode)||c.majorTickMode,c.minorTickMode=(null==i?void 0:i.minorTickMode)||c.minorTickMode,c.isHighPrecisionTicks=null!==(u=null==i?void 0:i.isHighPrecisionTicks)&&void 0!==u?u:c.isHighPrecisionTicksProperty,(null==i?void 0:i.visibleRangeLimit)?c.visibleRangeLimit=i.visibleRangeLimit:c.isNegativeProperty?c.visibleRangeLimit=new s.NumberRange(-1/0,-t.MIN_LOG_AXIS_VALUE):c.visibleRangeLimit=new s.NumberRange(t.MIN_LOG_AXIS_VALUE,1/0),c}return n(LogarithmicAxis,e),Object.defineProperty(LogarithmicAxis.prototype,"logBase",{get:function(){return this.logBaseProperty},set:function(e){this.logBaseProperty!==e&&(this.logBaseProperty=e,this.clearCoordCalcCache(),this.updateProviders(),this.notifyPropertyChanged(h.PROPERTY.LOG_BASE))},enumerable:!1,configurable:!0}),Object.defineProperty(LogarithmicAxis.prototype,"isNegative",{get:function(){return this.isNegativeProperty},set:function(e){this.isNegativeProperty=e,this.isNegativeProperty?this.visibleRangeLimit=new s.NumberRange(-1/0,-.0000000001):this.visibleRangeLimit=new s.NumberRange(1e-10,1/0),this.notifyPropertyChanged(h.PROPERTY.IS_NEGATIVE)},enumerable:!1,configurable:!0}),Object.defineProperty(LogarithmicAxis.prototype,"isHighPrecisionTicks",{get:function(){return this.isHighPrecisionTicksProperty},set:function(e){this.isHighPrecisionTicksProperty=e,this.updateProviders(),this.notifyPropertyChanged(h.PROPERTY.HIGH_PRECISION_TICKS)},enumerable:!1,configurable:!0}),LogarithmicAxis.prototype.getDefaultNonZeroRange=function(){var e=this.isNegativeProperty?-1:1;return new s.NumberRange(e*Math.pow(this.logBase,-1),e*Math.pow(this.logBase,2))},LogarithmicAxis.prototype.hasValidVisibleRange=function(){return e.prototype.hasValidVisibleRange.call(this)&&this.visibleRange.min*this.visibleRange.max>0},Object.defineProperty(LogarithmicAxis.prototype,"tickProvider",{get:function(){return this.tickProviderProperty},set:function(e){this.tickProviderProperty=e,this.updateProviders(),this.notifyPropertyChanged(h.PROPERTY.TICK_PROVIDER)},enumerable:!1,configurable:!0}),Object.defineProperty(LogarithmicAxis.prototype,"deltaCalculator",{get:function(){return this.deltaCalculatorProperty},set:function(e){this.deltaCalculatorProperty=e,this.updateProviders(),this.notifyPropertyChanged(h.PROPERTY.DELTA_CALCULATOR)},enumerable:!1,configurable:!0}),Object.defineProperty(LogarithmicAxis.prototype,"labelProvider",{get:function(){return this.labelProviderProperty},set:function(e){this.labelProviderProperty=e,this.updateProviders(),this.notifyPropertyChanged(h.PROPERTY.LABEL_PROVIDER)},enumerable:!1,configurable:!0}),Object.defineProperty(LogarithmicAxis.prototype,"majorTickMode",{get:function(){return this.logTickProvider.majorTickMode},set:function(e){this.logTickProvider.majorTickMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(LogarithmicAxis.prototype,"minorTickMode",{get:function(){return this.logTickProvider.minorTickMode},set:function(e){this.logTickProvider.minorTickMode=e},enumerable:!1,configurable:!0}),LogarithmicAxis.prototype.getWindowedYRange=function(e){var t,r=this;return this.parentSurface&&this.parentSurface.renderableSeries.asArray().filter(function(e){return e.yAxisId===r.id&&e.isVisible&&e.hasDataSeriesValues()}).forEach(function(i){var n=(null==e?void 0:e.containsKey(i.xAxisId))?e.item(i.xAxisId):r.getXVisibleRange(i.xAxisId),o=r.getIsXCategoryAxis(i.xAxisId);if(n){var a=i.getYRange(n,o);a&&(t=t?t.union(a):a)}}),(null==t?void 0:t.isZero())&&(t=this.coerceZeroVisibleRange(t)),this.growBy&&t&&(t=t.growByLog(this.growBy,this.logBase)),this.visibleRangeLimit&&t&&(t=t.clip(this.visibleRangeLimit)),t},LogarithmicAxis.prototype.animateVisibleRange=function(e,t,r,i){var n,s=this;if(void 0===r&&(r=o.easing.outCubic),void 0===i&&(i=function(){}),t<=0){this.visibleRange=e||this.visibleRange,i();return}return null===(n=this.visibleRangeAnimationToken)||void 0===n||n.cancel(),this.visibleRangeAnimationToken=a.NumberRangeAnimator.animate(this.visibleRange,e,t,function(e){s.visibleRange=e},i,r,!0),this.parentSurface.addAnimation(this.visibleRangeAnimationToken),this.visibleRangeAnimationToken},LogarithmicAxis.prototype.scale=function(e,t,r){var i,n,o=e.max/e.min,a=this.flippedCoordinates?!r:r,l=this.flippedCoordinates?-t:t;if(a){i=e.min;var u=l>0?Math.pow(o,1-l):Math.pow(o,1+Math.abs(l));n=u*i}else{n=e.max;var u=Math.pow(o,1+l);i=n/u}this.visibleRange=new s.NumberRange(i,n)},LogarithmicAxis.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={logBase:this.logBase,isNegative:this.isNegative,majorTickMode:this.majorTickMode,minorTickMode:this.minorTickMode,isHighPrecisionTicks:this.isHighPrecisionTicks};return Object.assign(t.options,r),t},LogarithmicAxis.prototype.getCurrentCoordinateCalculatorInternal=function(){var e=this.visibleRange.min,t=this.visibleRange.max,r=this.axisLength,i=this.isXAxis?u.EXyDirection.XDirection:u.EXyDirection.YDirection;return new c.LogarithmicCoordinateCalculator(this.webAssemblyContext2D,r,e,t,i,this.logBase,this.isXAxis!==this.flippedCoordinates,this.offset)},LogarithmicAxis.prototype.getMaxXRange=function(){var e=this.getXDataRange();if(e)return this.growBy&&e&&(e=e.growByLog(this.growBy,this.logBase)),this.visibleRangeLimit&&e&&(e=e.clip(this.visibleRangeLimit)),e},Object.defineProperty(LogarithmicAxis.prototype,"logTickProvider",{get:function(){return this.tickProvider},enumerable:!1,configurable:!0}),LogarithmicAxis.prototype.updateProviders=function(){var e=this.tickProvider;e&&(e.logarithmicBase=this.logBase,e.isHighPrecisionTicks=this.isHighPrecisionTicks);var t=this.deltaCalculator;t&&(t.logarithmicBase=this.logBase,t.isHighPrecisionTicks=this.isHighPrecisionTicks);var r=this.labelProvider;r&&(r.logarithmicBase=this.logBase)},LogarithmicAxis}(p.AxisBase2D);t.LogarithmicAxis=g},48307:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.NumericAxis=void 0;var o=r(18157),a=r(51295),s=r(24184),l=r(58807),u=r(73336),c=r(34993),d=r(3274),p=function(e){function NumericAxis(t,r){var i,n=this;return(n=e.call(this,t,r)||this).type=o.EAxisType.NumericAxis,n.tickProvider=new l.NumericTickProvider(n.webAssemblyContext2D),n.labelProvider=null!==(i=null==r?void 0:r.labelProvider)&&void 0!==i?i:new d.NumericLabelProvider(r),n.deltaCalculator=new c.NumericDeltaCalculator(n.webAssemblyContext2D),n}return n(NumericAxis,e),NumericAxis.prototype.getCurrentCoordinateCalculatorInternal=function(){var e=this.visibleRange.min,t=this.visibleRange.max,r=this.offset,i=this.axisLength;return this.isXAxis!==this.flippedCoordinates?new a.FlippedNumericCoordinateCalculator(this.webAssemblyContext2D,i,e,t,r,this.allowFastMath):new s.NumericCoordinateCalculator(this.webAssemblyContext2D,i,e,t,r,this.allowFastMath)},NumericAxis}(u.AxisBase2D);t.NumericAxis=p},52168:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VisibleRangeChangedArgs=void 0,t.VisibleRangeChangedArgs=function(e){this.visibleRange=e}},87217:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).ALLOW_FAST_MATH="ALLOW_FAST_MATH",r.AUTO_RANGE="AUTO_RANGE",r.AUTO_TICKS="AUTO_TICKS",r.AXIS_ALIGNMENT="AXIS_ALIGNMENT",r.AXIS_BANDS_FILL="AXIS_BANDS_FILL",r.AXIS_TITLE="AXIS_TITLE",r.AXIS_LENGTH="AXIS_LENGTH",r.BORDER="BORDER",r.CURSOR_TEXT_FORMATTING="CURSOR_TEXT_FORMATTING",r.DELTA_CALCULATOR="DELTA_CALCULATOR",r.TICK_COORDINATES_CALCULATOR="TICK_COORDINATES_CALCULATOR",r.DRAW_MAJOR_GRID_LINES="DRAW_MAJOR_GRID_LINES",r.DRAW_MINOR_GRID_LINES="DRAW_MINOR_GRID_LINES",r.DRAW_MAJOR_TICK_LINES="DRAW_MAJOR_TICK_LINES",r.DRAW_MINOR_TICK_LINES="DRAW_MINOR_TICK_LINES",r.DRAW_MAJOR_BANDS="DRAW_MAJOR_BANDS",r.DRAW_LABELS="DRAW_LABELS",r.FLIPPED_COORDINATES="FLIPPED_COORDINATES",r.GROW_BY="GROW_BY",r.ID="ID",r.IS_AXIS_FLIPPED="IS_AXIS_FLIPPED",r.IS_NEGATIVE="IS_NEGATIVE",r.IS_INNER_AXIS="IS_INNER_AXIS",r.IS_PRIMARY_AXIS="IS_PRIMARY_AXIS",r.IS_VISIBLE="IS_VISIBLE",r.IS_XAXIS="IS_XAXIS",r.LABEL_PROVIDER="LABEL_PROVIDER",r.AXIS_RENDERER="LABEL_PROVIDER",r.LOG_BASE="LOG_BASE",r.MAJOR_DELTA="MAJOR_DELTA",r.MAJOR_GRID_LINE_STYLE="MAJOR_GRID_LINE_STYLE",r.MAJOR_TICK_LINE_STYLE="MAJOR_TICK_LINE_STYLE",r.MAX_AUTO_TICKS="MAX_AUTO_TICKS",r.MINOR_DELTA="MINOR_DELTA",r.MINOR_GRID_LINE_STYLE="MINOR_GRID_LINE_STYLE",r.MINOR_TICK_LINE_STYLE="MINOR_TICK_LINE_STYLE",r.MINORS_PER_MAJOR="MINORS_PER_MAJOR",r.OFFSET="OFFSET",r.TEXT_FORMATTING="TEXT_FORMATTING",r.TEXT_STYLE="TEXT_STYLE",r.TICK_TEXT_BRUSH="TICK_TEXT_BRUSH",r.VISIBLE_RANGE="VISIBLE_RANGE",r.VISIBLE_RANGE_LIMIT="VISIBLE_RANGE_LIMIT",r.VISIBLE_RANGE_SIZE_LIMIT="VISIBLE_RANGE_SIZE_LIMIT",r.TICK_PROVIDER="TICK_PROVIDER",r.VIEW_RECT="VIEW_RECT",r.ZOOMEXTENTS_RANGE="ZOOMEXTENTS_RANGE",r.DRAW_ONLY_WITHIN_XRANGE="DRAW_ONLY_WITHIN_XRANGE",r.HIGH_PRECISION_TICKS="HIGH_PRECISION_TICKS"},66900:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAxis3dById=t.getAxisById=void 0;var i=r(92530);function getAxisGeneric(e,t){i.Guard.notNull(e,"axes");for(var r=0;r<e.size();r++){var n=e.get(r);if(n.id===t)return n}console.warn("scichart getAxisGeneric(): Axis with Id '".concat(t,"' was not found"))}t.getAxisById=function(e,t){return getAxisGeneric(e,t)},t.getAxis3dById=function(e,t){return getAxisGeneric(e,t)}},21243:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HeatmapLegend=void 0;var l=r(92530),u=r(51134),c=r(45833),d=r(98174),p=r(48307),h=r(6763),f=r(50758),y=r(34282),g=r(94694),v=function(e){function HeatmapLegend(t,r){var i,n,a,s,c,y,g,v=this;(v=e.call(this)||this).SIZE=100,l.Guard.notNull(t,"sciChartSurface"),v.sciChartSurface=t,v.wasmContext=t.webAssemblyContext2D;var m=null!==(n=null===(i=null==r?void 0:r.colorMap)||void 0===i?void 0:i.minimum)&&void 0!==n?n:0,S=null!==(s=null===(a=null==r?void 0:r.colorMap)||void 0===a?void 0:a.maximum)&&void 0!==s?s:100,b=null!==(y=null===(c=null==r?void 0:r.colorMap)||void 0===c?void 0:c.gradientStops)&&void 0!==y?y:v.getDefaultGradientStops();t.xAxes.add(new p.NumericAxis(v.wasmContext,o({},v.getDefaultXAxisOptions()))),t.yAxes.add(new p.NumericAxis(v.wasmContext,o(o(o({},v.getDefaultYAxisOptions()),null==r?void 0:r.yAxisOptions),{visibleRange:new u.NumberRange(m,S)})));var P=v.getZValues(m,S);return t.renderableSeries.add(new f.UniformHeatmapRenderableSeries(v.wasmContext,{dataSeries:new d.UniformHeatmapDataSeries(v.wasmContext,{xStart:0,xStep:1,yStart:m,yStep:(S-m)/v.SIZE,zValues:P}),useLinearTextureFiltering:!0,colorMap:null!==(g=null==r?void 0:r.colorMap)&&void 0!==g?g:new h.HeatmapColorMap({minimum:m,maximum:S,gradientStops:b})})),v}return n(HeatmapLegend,e),HeatmapLegend.create=function(e,t){return a(this,void 0,void 0,function(){var r,i;return s(this,function(n){switch(n.label){case 0:return[4,y.SciChartSurface.create(e,{theme:null==t?void 0:t.theme})];case 1:return i=(r=n.sent()).sciChartSurface,[2,{wasmContext:r.wasmContext,heatmapLegend:new HeatmapLegend(i,t)}]}})})},HeatmapLegend.prototype.delete=function(){this.sciChartSurface=(0,g.deleteSafe)(this.sciChartSurface),this.wasmContext=void 0},Object.defineProperty(HeatmapLegend.prototype,"innerSciChartSurface",{get:function(){return{sciChartSurface:this.sciChartSurface,wasmContext:this.wasmContext}},enumerable:!1,configurable:!0}),HeatmapLegend.prototype.getDefaultGradientStops=function(){return[{offset:1,color:"Red"},{offset:0,color:"Blue"}]},HeatmapLegend.prototype.getDefaultXAxisOptions=function(){return{drawMajorGridLines:!1,drawMinorGridLines:!1,drawMajorTickLines:!1,drawMinorTickLines:!1,drawLabels:!1}},HeatmapLegend.prototype.getDefaultYAxisOptions=function(){return{maxAutoTicks:5,drawMajorGridLines:!1,drawMinorGridLines:!1,drawLabels:!0,drawMajorTickLines:!0,drawMinorTickLines:!0}},HeatmapLegend.prototype.getZValues=function(e,t){for(var r=(0,c.zeroArray2D)([this.SIZE,1]),i=(t-e)/(this.SIZE-1),n=0,o=e;n<this.SIZE;n++,o+=i)r[n][0]=o;return r},HeatmapLegend}(r(15492).DeletableEntity);t.HeatmapLegend=v},94485:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.getAllFontKeys=t.getFontKey=t.getVector4=t.getNativeRect=t.getTextBounds=t.getVertex=t.getVectorColorVertex=t.getVectorRectVertex=t.freeCache=t.deleteCache=t.FontKey=void 0;var o=r(15492),a=r(94694),s=r(35911),l=r(3192),u=function(e){function FontKey(t){var r=e.call(this)||this;return r.firstLoadTime=Date.now(),r.nativeKey=t,r}return n(FontKey,e),FontKey.prototype.delete=function(){(0,a.deleteSafe)(this.nativeKey)},FontKey}(o.DeletableEntity);t.FontKey=u;var c=new Map,getCache=function(e){var t,r,i=null!==(r=null===(t=null==e?void 0:e.canvas)||void 0===t?void 0:t.id)&&void 0!==r?r:"TEST";return c.has(i)||c.set(i,{vecRects:void 0,vecColorVertex:void 0,vertex:void 0,rect:void 0,vector4:void 0,textBounds:void 0,keyCache:new Map}),c.get(i)};t.deleteCache=function(e){if(e.canvas){var t=e.canvas.id,r=c.get(t);r&&((0,a.deleteSafe)(r.vecRects),(0,a.deleteSafe)(r.vecColorVertex),(0,a.deleteSafe)(r.vertex),(0,a.deleteSafe)(r.rect),(0,a.deleteSafe)(r.vector4),(0,a.deleteSafe)(r.textBounds),r.keyCache.forEach(function(e){return(0,a.deleteSafe)(e)})),c.delete(t)}},t.freeCache=function(e){return{delete:function(){return(0,t.deleteCache)(e)}}},t.getVectorRectVertex=function(e,t){void 0===t&&(t=100);var r=getCache(e);if(r){var i=r.vecRects;return i||((i=new e.VectorRectVertex).reserve(t),r.vecRects=i),i.clear(),i}},t.getVectorColorVertex=function(e,t){void 0===t&&(t=100);var r=getCache(e);if(r){var i=r.vecColorVertex;return i||((i=new e.VectorColorVertex).reserve(t),r.vecColorVertex=i),i.clear(),i}},t.getVertex=function(e,t,r,i){var n=getCache(e);if(n){var o=n.vertex;return o?(o.SetPosition(t,r),o.m_uiColor=null!=i?i:4294967295):(o=new e.SCRTColorVertex(t,r),n.vertex=o),o}},t.getTextBounds=function(e){var t=getCache(e);if(t){var r=t.textBounds;return r||(r=new e.TSRTextBounds,t.textBounds=r),r}},t.getNativeRect=function(e,t,r,i,n){var o=getCache(e),a=o.rect;return a?a.Assign(t,r,i-t,n-r):(a=new e.SCRTRectVertex(t,r,i-t,n-r),o.rect=a),a},t.getVector4=function(e,t,r,i,n){var o=getCache(e),a=o.vector4;return a?a.Assign(t,r,i,n):(a=new e.TSRVector4(t,r,i,n),o.vector4=a),a},t.getFontKey=function(e,t,r,i){void 0===r&&(r=!1),void 0===i&&(i=!1);var n=getCache(e);if(n){var o=n.keyCache,a={fontFamily:t.fontFamily,fontSize:t.fontSize,extras:(r?"advanced":"")+(i?"transformed":""),providerId:void 0},c=s.labelCache.getStyleId(a);if(!o.has(c)){var d=new u(new e.SCRTFontKey(t.fontFamily,t.fontSize,i,r));o.set(c,d)}var p=o.get(c);return Date.now()-p.firstLoadTime>l.SciChartDefaults.nativeFontTimeout&&(p.nativeKey.m_reload=!1),p.nativeKey}},t.getAllFontKeys=function(e){return Array.from(getCache(e).keyCache.values()).map(function(e){return e.nativeKey})}},49033:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNativeRect=void 0;var i=r(94485);t.createNativeRect=function(e,t,r,n,o){return(0,i.getNativeRect)(e,t,r,n,o)}},42277:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSCRTPen=void 0;var i=r(2003);r(29502);var n=r(13973),o=r(48053);t.createSCRTPen=function(e,t,r,a,s,l){if(void 0===l&&(l=!0),!i.IS_TEST_ENV&&t){var u=(0,n.uintArgbColorMultiplyOpacity)((0,o.parseColorToUIntArgb)(t),a);if(isNaN(u))throw Error("Color code ".concat(t," cannot be converted to an ARGB integer"));if(s&&s.length){var c=new e.FloatVector;return s.forEach(function(e){return c.push_back(e)}),e.SCRTCreateDahedPen(u,r,l,c)}return new e.SCRTPen(u,r,l)}}},6680:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSolidBrush=void 0;var i=r(2003),n=r(13973),o=r(48053);t.createSolidBrush=function(e,t,r){if(!i.IS_TEST_ENV&&t){var a=(0,n.uintArgbColorMultiplyOpacity)((0,o.parseColorToUIntArgb)(t),r),s=(0,n.uintArgbColorIsTransparent)(a);if(isNaN(a))throw Error("Color code ".concat(t," cannot be converted to an ARGB integer"));return new e.SCRTSolidBrush(a,s)}}},68289:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawBorder=void 0;var i=r(49033),n=r(94485);t.drawBorder=function(e,t,r,o,a,s,l,u,c){if(0!==u||0!==s||0!==a||0!==l){var d=r.newBrush(c,!0),p=(0,n.getVectorRectVertex)(t);p.push_back((0,i.createNativeRect)(t,o.x,o.y-s,o.x+o.width+l,o.y)),p.push_back((0,i.createNativeRect)(t,o.x+o.width,o.y,o.x+o.width+l,o.y+o.height+u)),p.push_back((0,i.createNativeRect)(t,o.x-a,o.y+o.height,o.x+o.width,o.y+o.height+u)),p.push_back((0,i.createNativeRect)(t,o.x-a,o.y-s,o.x,o.y+o.height)),e.drawRects(p,d,0,0)}}},48861:function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getLabelCoordinates=t.drawAxisMarkerAnnotation=t.drawLineAnnotation=t.drawModifiersAxisLabel=void 0;var n=r(47494),o=r(86599),a=r(87706);t.drawModifiersAxisLabel=function(e,t,r,n,o){if(e.isVisible){var a=getLabelValue(e,r),s=i(i({},e.dpiAdjustedLabelStyle),{color:o});return e.axisRenderer.drawModifiersAxisLabel(t,a,r,e.axisAlignment,s,n)}},t.drawLineAnnotation=function(e,r,s,l,u,c,d,p,h,f,y,g,v,m,S,b){var P,C=r.getNativeContext(),x=e.axisAlignment,A=(x===o.EAxisAlignment.Top||x===o.EAxisAlignment.Bottom)&&![a.ELabelPlacement.Top,a.ELabelPlacement.Bottom,a.ELabelPlacement.Auto,a.ELabelPlacement.Axis].includes(s),T=[a.ELabelPlacement.Right,a.ELabelPlacement.TopRight,a.ELabelPlacement.BottomRight].includes(s),_=x===o.EAxisAlignment.Top||x===o.EAxisAlignment.Bottom?u:d,R=l||getLabelValue(e,_),E=s===a.ELabelPlacement.Auto||s===a.ELabelPlacement.Axis,w=E?h:i(i({},h),{color:f}),D=getLineCoordinates(u,d,c,p,0,0,s,e),O=D.x1LineCoord,I=D.y1LineCoord,M=D.x2LineCoord,L=D.y2LineCoord;if(y&&r.drawLine(O,I,M,L,y,g),v){var k=e.axisRenderer.createAnnotationLabelTexture(R,w,E?f:null,A,T,m),N=k.bitmapTexture,B=k.textureHeight,V=k.textureWidth,F=(0,t.getLabelCoordinates)(e,s,u,c,d,p,B,V,S,b),j=F.xPosition,H=F.yPosition;P=new n.Rect(j,H,V,B),C.DrawTexture(N,Math.round(j),Math.round(H),V,B),N.delete()}return P},t.drawAxisMarkerAnnotation=function(e,r,i,n,o,s,l,u,c,d,p,h){var f=r.getNativeContext(),y=e.axisAlignment,g=i||getLabelValue(e,n),v=d?e.axisRenderer.createAxisMarkerFromImage(d,p,h):e.axisRenderer.createAxisMarker(y,g,l,u,c),m=v.bitmapTexture,S=v.textureHeight,b=v.textureWidth,P=(0,t.getLabelCoordinates)(e,a.ELabelPlacement.Axis,o,o,s,s,S,b),C=P.xPosition,x=P.yPosition;return m&&(f.DrawTexture(m,Math.round(C),Math.round(x),b,S),m.delete()),{xPosition:C,yPosition:x,textureWidth:b,textureHeight:S}},t.getLabelCoordinates=function(e,t,r,i,n,s,l,u,c,d){var p=e.axisAlignment,h=e.parentSurface.seriesViewRect,f=e.viewRect,y=0,g=0,centerVertically=function(){switch(p){case o.EAxisAlignment.Right:case o.EAxisAlignment.Left:g=h.top+n-l/2;break;case o.EAxisAlignment.Top:g=h.top+s/2-l/2;break;case o.EAxisAlignment.Bottom:g=h.top+n+(s-n)/2-l/2}},centerHorizontally=function(){switch(p){case o.EAxisAlignment.Right:y=h.left+i+(r-i)/2-u/2;break;case o.EAxisAlignment.Left:y=h.left+i/2-u/2;break;case o.EAxisAlignment.Top:case o.EAxisAlignment.Bottom:y=h.left+i-u/2}},alignRight=function(){switch(p){case o.EAxisAlignment.Right:y=h.left+r-u;break;case o.EAxisAlignment.Left:y=h.left+i-u;break;case o.EAxisAlignment.Top:case o.EAxisAlignment.Bottom:y=h.left+r}},alignLeft=function(){switch(p){case o.EAxisAlignment.Right:y=h.left+i;break;case o.EAxisAlignment.Left:y=h.left;break;case o.EAxisAlignment.Top:case o.EAxisAlignment.Bottom:y=h.left+r-u}},alignTop=function(){switch(p){case o.EAxisAlignment.Right:case o.EAxisAlignment.Left:g=h.top+n-l;break;case o.EAxisAlignment.Top:g=h.top;break;case o.EAxisAlignment.Bottom:g=h.top+s}},alignBottom=function(){switch(p){case o.EAxisAlignment.Right:case o.EAxisAlignment.Left:g=h.top+n;break;case o.EAxisAlignment.Top:g=h.top+s-l;break;case o.EAxisAlignment.Bottom:g=h.top+n-l}};switch(t){case a.ELabelPlacement.Right:centerVertically(),alignRight();break;case a.ELabelPlacement.TopRight:alignTop(),alignRight();break;case a.ELabelPlacement.BottomRight:alignBottom(),alignRight();break;case a.ELabelPlacement.Bottom:alignBottom(),centerHorizontally();break;case a.ELabelPlacement.Left:centerVertically(),alignLeft();break;case a.ELabelPlacement.TopLeft:alignTop(),alignLeft();break;case a.ELabelPlacement.BottomLeft:alignBottom(),alignLeft();break;case a.ELabelPlacement.Top:alignTop(),centerHorizontally();break;case a.ELabelPlacement.Axis:case a.ELabelPlacement.Auto:!function(){switch(p){case o.EAxisAlignment.Right:centerVertically(),y=c===a.EHorizontalAlignment.Left?h.left:f.width<u?y=f.right-u:f.left;break;case o.EAxisAlignment.Left:centerVertically(),y=c===a.EHorizontalAlignment.Right?h.left+h.width-u:f.width<u?y=f.left:f.right-u;break;case o.EAxisAlignment.Top:g=d===a.EVerticalAlignment.Bottom?h.top+h.height-l:f.height<l?f.top:f.bottom-l,centerHorizontally();break;case o.EAxisAlignment.Bottom:g=d===a.EVerticalAlignment.Top?h.top:f.height<l?f.bottom-l:f.top,centerHorizontally()}}();break;default:throw Error("Unexpected LabelPlacement "+t)}return t!==a.ELabelPlacement.Auto&&t!==a.ELabelPlacement.Axis&&(g<h.top&&(g=h.top),g+l>h.bottom&&(g=h.bottom-l),y<h.left&&(y=h.left),y+u>h.right&&(y=h.right-u)),{xPosition:y,yPosition:g}};var getLineCoordinates=function(e,t,r,i,n,s,l,u){var c=u.axisAlignment,d=u.parentSurface.seriesViewRect,p=u.viewRect,h=e,f=t,y=r,g=i;switch(l){case a.ELabelPlacement.Right:switch(c){case o.EAxisAlignment.Right:h=Math.abs(e-r)<s?y:e-s;break;case o.EAxisAlignment.Left:y=r>d.width?d.width-s:r-s}break;case a.ELabelPlacement.Bottom:switch(c){case o.EAxisAlignment.Top:g=i>d.height?d.height-n:i-n;break;case o.EAxisAlignment.Bottom:f=Math.abs(t-i)<n?g:t-n}break;case a.ELabelPlacement.Left:switch(c){case o.EAxisAlignment.Right:y=r<0?s:r+s;break;case o.EAxisAlignment.Left:h=Math.abs(e-r)<s?y:e+s}break;case a.ELabelPlacement.Top:switch(c){case o.EAxisAlignment.Top:f=Math.abs(t-i)<n?g:t+n;break;case o.EAxisAlignment.Bottom:g=i<0?n:i+n}break;case a.ELabelPlacement.Auto:case a.ELabelPlacement.Axis:switch(c){case o.EAxisAlignment.Right:y>(h=p.width<s?d.width+p.width-s:d.width)&&(y=h);break;case o.EAxisAlignment.Left:y<(h=p.width<s?s-p.width:0)&&(y=h);break;case o.EAxisAlignment.Top:g<(f=p.height<n?n-p.height:0)&&(g=f);break;case o.EAxisAlignment.Bottom:g>(f=p.height<n?p.bottom-n:d.bottom)&&(g=f)}}return{x1LineCoord:h,y1LineCoord:f,x2LineCoord:y,y2LineCoord:g}},getLabelValue=function(e,t){var r,i=e.getCurrentCoordinateCalculator();if(e.isCategoryAxis){var n=i.getDataValue(t);r=i.transformIndexToData(n)}else r=i.getDataValue(t);return e.labelProvider.formatCursorLabel(r)}},39689:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ManualLegend=void 0;var o=r(36313),a=r(56817),s=function(e){function ManualLegend(t,r){var i,n,o,s=this;return(s=e.call(this,t)||this).type=a.ELegendType.ManualLegend,s.itemsProperty=[],s.showCheckboxesProperty=!1,s.showSeriesMarkersProperty=!0,s.showCheckboxesProperty=null!==(i=null==t?void 0:t.showCheckboxes)&&void 0!==i?i:s.showCheckboxes,s.showSeriesMarkersProperty=null!==(n=null==t?void 0:t.showSeriesMarkers)&&void 0!==n?n:s.showSeriesMarkers,s.itemsProperty=null!==(o=null==t?void 0:t.items)&&void 0!==o?o:s.items,s.legendItemCheckedChangedCallback=null==t?void 0:t.isCheckedChangedCallback,r&&s.attachTo(r),s}return n(ManualLegend,e),Object.defineProperty(ManualLegend.prototype,"showCheckboxes",{get:function(){return this.showCheckboxesProperty},set:function(e){this.showCheckboxesProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(ManualLegend.prototype,"showSeriesMarkers",{get:function(){return this.showSeriesMarkersProperty},set:function(e){this.showSeriesMarkersProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(ManualLegend.prototype,"items",{get:function(){return this.itemsProperty},set:function(e){this.itemsProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),ManualLegend.prototype.attachTo=function(t){var r=this;e.prototype.attachTo.call(this,t),t.addDeletable({delete:function(){r.delete(),r.setRootDiv(void 0),r.setInvalidateParentSurface(void 0),r.setParentSurface(void 0)}})},ManualLegend.prototype.applyTheme=function(){},ManualLegend.prototype.getInnerHTML=function(){var e,t,r=null!==(e=this.backgroundColor)&&void 0!==e?e:this.parentSurfaceProperty.themeProvider.legendBackgroundBrush,i=null!==(t=this.textColor)&&void 0!==t?t:this.parentSurfaceProperty.themeProvider.labelForegroundBrush,n=this.parentSurfaceProperty.getSeriesViewRectPadding(!1),a=n.left,s=n.top,l=n.right,u=n.bottom,c=this.isExternal()?new o.Thickness(this.margin,this.margin,this.margin,this.margin):new o.Thickness(s+this.margin,l+this.margin,u+this.margin,a+this.margin);return this.getLegendHTML(this.placement,i,r,c,this.orientation,this.showCheckboxes,this.showSeriesMarkers,this.items)},ManualLegend.prototype.addEventListeners=function(){var e=this;this.items.forEach(function(t){return e.addEventListenerToItem(t)})},ManualLegend.prototype.addEventListenerToItem=function(e){var t=this,r=this.parentDiv.querySelector("[id='".concat(e.id,"']"));if(r){var onChangeEventListener_1=function(i){e.checked=r.checked,t.legendItemCheckedChangedCallback&&t.legendItemCheckedChangedCallback(e,e.checked)};r.addEventListener("change",onChangeEventListener_1);var i={element:r,eventType:"change",eventListener:onChangeEventListener_1,delete:function(){return r.removeEventListener("change",onChangeEventListener_1)}},n=this.eventListenersCollection.get(e.id);n?n.push(i):this.eventListenersCollection.set(e.id,[i])}},ManualLegend.prototype.removeEventListeners=function(){var e=this;this.items.forEach(function(t){return e.removeEventListenerFromSeries(t.id)})},ManualLegend}(a.SciChartLegendBase);t.ManualLegend=s},32156:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartLegend=void 0;var o=r(36313),a=r(56817),s=function(e){function SciChartLegend(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=a.ELegendType.SciChartLegend,t.showCheckboxesProperty=!1,t.showSeriesMarkersProperty=!0,t}return n(SciChartLegend,e),SciChartLegend.prototype.applyTheme=function(){},Object.defineProperty(SciChartLegend.prototype,"showCheckboxes",{get:function(){return this.showCheckboxesProperty},set:function(e){this.showCheckboxesProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartLegend.prototype,"showSeriesMarkers",{get:function(){return this.showSeriesMarkersProperty},set:function(e){this.showSeriesMarkersProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),SciChartLegend.prototype.setRenderableSeriesArray=function(e){this.renderableSeriesArray=e,this.invalidateLegend()},SciChartLegend.prototype.addEventListeners=function(){var e=this;this.renderableSeriesArray.forEach(function(t){return e.addEventListenerToSeries(t)})},SciChartLegend.prototype.removeEventListeners=function(){var e=this;this.renderableSeriesArray.forEach(function(t){return e.removeEventListenerFromSeries(t.id)})},SciChartLegend.prototype.addEventListenerToSeries=function(e){var t=this,r=this.parentDiv.querySelector("[id='".concat(e.id,"']"));if(r){var onChangeEventListener_1=function(r){e.isVisible=r.target.checked,t.legendItemCheckedChangedCallback&&t.legendItemCheckedChangedCallback(e,e.isVisible)};r.addEventListener("change",onChangeEventListener_1);var visibilityChangeEventHandler_1=function(e){t.invalidateLegend()};e.isVisibleChanged.subscribe(visibilityChangeEventHandler_1);var i={element:r,eventType:"change",eventListener:onChangeEventListener_1,delete:function(){r.removeEventListener("change",onChangeEventListener_1),e.isVisibleChanged.unsubscribe(visibilityChangeEventHandler_1)}},n=this.eventListenersCollection.get(e.id);n?n.push(i):this.eventListenersCollection.set(e.id,[i])}},SciChartLegend.prototype.getInnerHTML=function(){var e,t,r,i,n,a,s=null!==(e=this.backgroundColor)&&void 0!==e?e:null===(r=null===(t=this.parentSurfaceProperty)||void 0===t?void 0:t.themeProvider)||void 0===r?void 0:r.legendBackgroundBrush,l=null!==(i=this.textColor)&&void 0!==i?i:null===(a=null===(n=this.parentSurfaceProperty)||void 0===n?void 0:n.themeProvider)||void 0===a?void 0:a.labelForegroundBrush,u=this.renderableSeriesArray.map(function(e,t){var r;return{id:e.id,name:null!==(r=e.getDataSeriesName())&&void 0!==r?r:"Series ".concat(t+1),color:e.isStacked?e.fill:e.stroke,checked:e.isVisible,gradient:void 0}}),c=this.parentSurfaceProperty.getSeriesViewRectPadding(!1),d=c.left,p=c.top,h=c.right,f=c.bottom,y=this.isExternal()?new o.Thickness(this.margin,this.margin,this.margin,this.margin):new o.Thickness(p+this.margin,h+this.margin,f+this.margin,d+this.margin);return this.getLegendHTML(this.placement,l,s,y,this.orientation,this.showCheckboxes,this.showSeriesMarkers,u)},SciChartLegend}(a.SciChartLegendBase);t.SciChartLegend=s},56817:function(e,t,r){"use strict";var i,n,o,a,s,l,u=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.getLegendContainerHtml=t.getLegendItemHtml=t.SciChartLegendBase=t.ELegendType=t.ELegendPlacement=t.ELegendOrientation=void 0;var c=r(2003),d=r(15492),p=r(29144);(i=s=t.ELegendOrientation||(t.ELegendOrientation={}))[i.Vertical=0]="Vertical",i[i.Horizontal=1]="Horizontal",(n=l=t.ELegendPlacement||(t.ELegendPlacement={}))[n.TopLeft=0]="TopLeft",n[n.TopRight=1]="TopRight",n[n.BottomLeft=2]="BottomLeft",n[n.BottomRight=3]="BottomRight",(o=t.ELegendType||(t.ELegendType={})).SciChartLegend="SciChartLegend",o.ManualLegend="ManualLegend",o.SciChartPieLegend="SciChartPieLegend";var h=function(e){function SciChartLegendBase(t){var r,i,n,o,a,u=this;return(u=e.call(this)||this).orientationProperty=s.Vertical,u.showLegendProperty=!0,u.placementProperty=l.TopLeft,u.marginProperty=10,u.isDirty=!0,u.eventListenersCollection=new Map,u.removeEventListenerFromSeries=function(e){var t;null===(t=u.eventListenersCollection.get(e))||void 0===t||t.forEach(function(e){var t=e.element,r=e.eventListener,i=e.eventType;t.removeEventListener(i,r)}),u.eventListenersCollection.delete(e)},u.orientationProperty=null!==(r=null==t?void 0:t.orientation)&&void 0!==r?r:u.orientationProperty,u.showLegendProperty=null!==(i=null==t?void 0:t.showLegend)&&void 0!==i?i:u.showLegend,u.placementProperty=null!==(n=null==t?void 0:t.placement)&&void 0!==n?n:u.placement,u.marginProperty=null!==(o=null==t?void 0:t.margin)&&void 0!==o?o:u.margin,u.placementDivIdProperty=null!==(a=null==t?void 0:t.placementDivId)&&void 0!==a?a:u.placementDivId,u.backgroundColorProperty=null==t?void 0:t.backgroundColor,u.textColorProperty=null==t?void 0:t.textColor,u.update=u.update.bind(u),u}return u(SciChartLegendBase,e),SciChartLegendBase.prototype.setInvalidateParentSurface=function(e){this.invalidateParentSurface=e},SciChartLegendBase.prototype.setRootDiv=function(e){this.rootDiv=e},SciChartLegendBase.prototype.setSeriesViewRect=function(e){},SciChartLegendBase.prototype.setParentSurface=function(e){this.parentSurfaceProperty=e},SciChartLegendBase.prototype.attachTo=function(e){this.setParentSurface(e),this.setRootDiv(e.domDivContainer),this.setInvalidateParentSurface(e.invalidateElement),e.rendered.subscribe(this.update)},SciChartLegendBase.prototype.detach=function(){this.setRootDiv(void 0),this.parentSurfaceProperty.rendered.unsubscribe(this.update),this.setInvalidateParentSurface(void 0),this.setParentSurface(void 0),this.delete()},SciChartLegendBase.prototype.update=function(){(this.isDirty||!this.div)&&(this.clear(),this.showLegend&&this.create(),this.isDirty=!1)},SciChartLegendBase.prototype.invalidateLegend=function(){this.isDirty=!0},Object.defineProperty(SciChartLegendBase.prototype,"orientation",{get:function(){return this.orientationProperty},set:function(e){this.orientationProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartLegendBase.prototype,"showLegend",{get:function(){return this.showLegendProperty},set:function(e){this.showLegendProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartLegendBase.prototype,"placement",{get:function(){return this.placementProperty},set:function(e){this.placementProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartLegendBase.prototype,"margin",{get:function(){return this.marginProperty},set:function(e){this.marginProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartLegendBase.prototype,"placementDivId",{get:function(){return this.placementDivIdProperty},set:function(e){this.clear(),this.placementDivIdProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartLegendBase.prototype,"backgroundColor",{get:function(){return this.backgroundColorProperty},set:function(e){this.backgroundColorProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartLegendBase.prototype,"textColor",{get:function(){return this.textColorProperty},set:function(e){this.textColorProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),SciChartLegendBase.prototype.clear=function(){var e;this.div&&(this.removeEventListeners(),null===(e=this.parentDiv)||void 0===e||e.removeChild(this.div),this.div=void 0,this.parentDiv=void 0)},SciChartLegendBase.prototype.delete=function(){this.clear()},SciChartLegendBase.prototype.isExternal=function(){return!!this.placementDivId},SciChartLegendBase.prototype.getLegendHTML=function(e,r,i,n,o,a,s,l){var u=this,c=l.reduce(function(e,t){var r;return e+u.getLegendItemHTML(o,a,null!==(r=t.showMarker)&&void 0!==r?r:s,t)},"");return(0,t.getLegendContainerHtml)(e,r,i,n,c,this.isExternal())},SciChartLegendBase.prototype.getLegendItemHTML=function(e,r,i,n){return(0,t.getLegendItemHtml)(e,r,i,n)},SciChartLegendBase.prototype.notifyPropertyChanged=function(){this.isDirty=!0,this.invalidateParentSurface&&this.invalidateParentSurface()},SciChartLegendBase.prototype.create=function(){var e=this.getInnerHTML();if(e){var t=(0,p.htmlToElement)(e);this.parentDiv=this.getParentDiv(),this.parentDiv.appendChild(t),this.div=t,c.IS_TEST_ENV||this.addEventListeners()}},SciChartLegendBase.prototype.getParentDiv=function(){return this.placementDivId?"string"==typeof this.placementDivId?document.querySelector("[id='".concat(this.placementDivId,"']")):this.placementDivId:this.rootDiv},SciChartLegendBase}(d.DeletableEntity);t.SciChartLegendBase=h,t.getLegendItemHtml=function(e,t,r,i){var n=e===s.Vertical?"flex":"inline-flex",o='<span class="scichart__legend-item" style="display: '.concat(n,'; align-items: center; margin-right: 4px; white-space: nowrap;">');if(t){var a=i.checked?"checked":"";o+="<input ".concat(a,' type="checkbox" id="').concat(i.id,'">')}if(r){if(i.gradient){var l="";i.gradient.gradientStops.forEach(function(e){l+=",".concat(e.color)}),o+='<label for="'.concat(i.id,'" style="background-image: linear-gradient(to right').concat(l,'); margin: 4px; width: 30px; height: 13px;"></label>')}else o+='<label for="'.concat(i.id,'" style="background-color: ').concat(i.color,'; margin: 4px; width: 30px; height: 13px;"></label>')}return o+('<label for="'.concat(i.id,'" style="margin-left: 4px;">').concat(i.name,"</label>")+"</span>")},t.getLegendContainerHtml=function(e,t,r,i,n,o){if(void 0===o&&(o=!1),!n)return"";var a="",s="";o||(a="position: absolute;"),e===l.TopLeft?s="left: 0; top: 0;":e===l.TopRight?s="right: 0; top: 0;":e===l.BottomLeft?s="left: 0; bottom: 0;":e===l.BottomRight&&(s="right: 0; bottom: 0;");var u='<div class="scichart__legend" style="height: 100%; '.concat(a," display: flex; ").concat(s,' text-align: center;">'),c=[l.TopLeft,l.TopRight].includes(e)?"flex-start":"flex-end",d=i.left,p=i.right,h=i.bottom,f=i.top,y="margin-left: ".concat(d,"px; margin-top: ").concat(f,"px; margin-right: ").concat(p,"px; margin-bottom: ").concat(h,"px;");return u+('<div style="display: block; align-self: '.concat(c,"; width: fit-content; pointer-events: auto; ").concat(y," padding: 5px; border-radius: 3px; background-color: ").concat(r,"; color: ").concat(t,'">')+n+"</div></div>")}},75368:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartPieLegend=void 0;var o=r(36313),a=r(18397),s=r(56817),l=function(e){function SciChartPieLegend(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ELegendType.SciChartPieLegend,t.animate=!0,t.showCheckboxesProperty=!1,t.showSeriesMarkersProperty=!0,t}return n(SciChartPieLegend,e),Object.defineProperty(SciChartPieLegend.prototype,"showCheckboxes",{get:function(){return this.showCheckboxesProperty},set:function(e){this.showCheckboxesProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartPieLegend.prototype,"showSeriesMarkers",{get:function(){return this.showSeriesMarkersProperty},set:function(e){this.showSeriesMarkersProperty=e,this.notifyPropertyChanged()},enumerable:!1,configurable:!0}),SciChartPieLegend.prototype.applyTheme=function(){},SciChartPieLegend.prototype.setPieSegmentArray=function(e){this.pieSegmentArray=e},SciChartPieLegend.prototype.update=function(){this.clear(),this.showLegend&&this.create()},SciChartPieLegend.prototype.addEventListeners=function(){var e=this;this.pieSegmentArray.forEach(function(t){var r=e.parentDiv.querySelector("#".concat(getCheckboxId(t.id)));if(r){var i=(0,a.addEventListenerToPieSegment)(t,r,e.animate),n=e.eventListenersCollection.get(t.id);n?n.push(i):e.eventListenersCollection.set(t.id,[i])}})},SciChartPieLegend.prototype.removeEventListeners=function(){var e=this;this.pieSegmentArray.forEach(function(t){return e.removeEventListenerFromSeries(t.id)})},SciChartPieLegend.prototype.getInnerHTML=function(){var e=this.parentSurfaceProperty.themeProvider.legendBackgroundBrush,t=this.parentSurfaceProperty.themeProvider.labelForegroundBrush,r=this.pieSegmentArray.map(function(e,t){var r;return{id:getCheckboxId(e.id),name:null!==(r=e.text)&&void 0!==r?r:"Segment ".concat(t+1),color:e.color,checked:e.isSelected,gradient:e.colorLinearGradient}}),i=new o.Thickness(this.margin,this.margin,this.margin,this.margin);return this.getLegendHTML(this.placement,t,e,i,this.orientation,this.showCheckboxes,this.showSeriesMarkers,r)},SciChartPieLegend}(s.SciChartLegendBase);t.SciChartPieLegend=l;var getCheckboxId=function(e){return"check".concat(e)}},41417:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BasePointMarker=void 0;var o=r(2003),a=r(15492),s=r(94694);r(29502);var l=r(21075),u=r(63869),c=r(3714),d=r(61239),p=r(56210),h=r(91462),f=r(24956),y=function(e){function BasePointMarker(t,r){var i,n,o,a,s,u,c,d=this;return(d=e.call(this)||this).fillProperty="#5555FF",d.heightProperty=5,d.opacityProperty=1,d.strokeProperty="#3333FF",d.strokeThicknessProperty=1,d.widthProperty=5,d.lastPointOnlyProperty=!1,d.isUpdateSuspended=!1,d.webAssemblyContext=t,d.widthProperty=null!==(i=null==r?void 0:r.width)&&void 0!==i?i:d.widthProperty,d.heightProperty=null!==(n=null==r?void 0:r.height)&&void 0!==n?n:d.heightProperty,d.fillProperty=null!==(o=null==r?void 0:r.fill)&&void 0!==o?o:d.fillProperty,d.strokeProperty=null!==(a=null==r?void 0:r.stroke)&&void 0!==a?a:d.strokeProperty,d.strokeThicknessProperty=null!==(s=null==r?void 0:r.strokeThickness)&&void 0!==s?s:d.strokeThicknessProperty,d.opacityProperty=null!==(u=null==r?void 0:r.opacity)&&void 0!==u?u:d.opacityProperty,d.lastPointOnlyProperty=null!==(c=null==r?void 0:r.lastPointOnly)&&void 0!==c?c:d.lastPointOnlyProperty,l.WebGlRenderContext2D.webGlResourcesRefs.add(d),d}return n(BasePointMarker,e),Object.defineProperty(BasePointMarker.prototype,"fill",{get:function(){return this.fillProperty===u.AUTO_COLOR?"#00000000":this.fillProperty.startsWith(u.AUTO_COLOR)?this.fillProperty.substring(u.AUTO_COLOR.length):this.fillProperty},set:function(e){var t=this.fillProperty;this.fillProperty=e,this.notifyPropertyChanged(f.PROPERTY.FILL,e,t)},enumerable:!1,configurable:!0}),Object.defineProperty(BasePointMarker.prototype,"stroke",{get:function(){return this.strokeProperty===u.AUTO_COLOR?"#00000000":this.strokeProperty.startsWith(u.AUTO_COLOR)?this.strokeProperty.substring(u.AUTO_COLOR.length):this.strokeProperty},set:function(e){var t=this.strokeProperty;this.strokeProperty=e,this.notifyPropertyChanged(f.PROPERTY.STROKE,e,t)},enumerable:!1,configurable:!0}),Object.defineProperty(BasePointMarker.prototype,"width",{get:function(){return this.widthProperty},set:function(e){var t=this.widthProperty;this.widthProperty=e,this.notifyPropertyChanged(f.PROPERTY.WIDTH,e,t)},enumerable:!1,configurable:!0}),Object.defineProperty(BasePointMarker.prototype,"height",{get:function(){return this.heightProperty},set:function(e){var t=this.heightProperty;this.heightProperty=e,this.notifyPropertyChanged(f.PROPERTY.HEIGHT,e,t)},enumerable:!1,configurable:!0}),Object.defineProperty(BasePointMarker.prototype,"strokeThickness",{get:function(){return this.strokeThicknessProperty},set:function(e){var t=this.strokeThicknessProperty;this.strokeThicknessProperty=e,this.notifyPropertyChanged(f.PROPERTY.STROKE_THICKNESS,e,t)},enumerable:!1,configurable:!0}),Object.defineProperty(BasePointMarker.prototype,"opacity",{get:function(){return this.opacityProperty},set:function(e){var t=this.opacityProperty;this.opacityProperty=e,this.applyOpacity(e),this.notifyPropertyChanged(f.PROPERTY.OPACITY,e,t)},enumerable:!1,configurable:!0}),Object.defineProperty(BasePointMarker.prototype,"lastPointOnly",{get:function(){return this.lastPointOnlyProperty},set:function(e){var t=this.lastPointOnlyProperty;this.lastPointOnlyProperty=e,this.notifyPropertyChanged(f.PROPERTY.LAST_POINT_ONLY,e,t)},enumerable:!1,configurable:!0}),BasePointMarker.prototype.getSprite=function(){return void 0===this.spriteTextures&&(this.spriteTextures=this.createCanvasTexture(),this.applyOpacity(this.opacityProperty)),this.spriteTextures.spriteTexture},BasePointMarker.prototype.getStrokeMask=function(){return void 0===this.spriteTextures&&(this.spriteTextures=this.createCanvasTexture(),this.applyOpacity(this.opacityProperty)),this.spriteTextures.strokeMask},BasePointMarker.prototype.getFillMask=function(){return void 0===this.spriteTextures&&(this.spriteTextures=this.createCanvasTexture(),this.applyOpacity(this.opacityProperty)),this.spriteTextures.fillMask},BasePointMarker.prototype.invalidateCache=function(){this.spriteTextures&&((0,s.deleteSafe)(this.spriteTextures.spriteTexture),(0,s.deleteSafe)(this.spriteTextures.strokeMask),(0,s.deleteSafe)(this.spriteTextures.fillMask),this.spriteTextures=void 0)},BasePointMarker.prototype.resetCache=function(){this.invalidateCache(),this.widthProperty=void 0,this.heightProperty=void 0,this.fillProperty=void 0,this.strokeProperty=void 0,this.strokeThicknessProperty=void 0,this.opacityProperty=void 0},BasePointMarker.prototype.delete=function(){this.invalidateCache(),l.WebGlRenderContext2D.webGlResourcesRefs.delete(this)},BasePointMarker.prototype.createCanvasTexture=function(){if(o.IS_TEST_ENV)return{spriteTexture:void 0,strokeMask:void 0,fillMask:void 0};var e=h.DpiHelper.PIXEL_RATIO*(this.width+this.strokeThickness)+1,t=h.DpiHelper.PIXEL_RATIO*(this.height+this.strokeThickness)+1,r=new p.CanvasTexture(this.webAssemblyContext,e,t);r.clear(),this.drawSprite(r.getContext(),this.width*h.DpiHelper.PIXEL_RATIO,this.height*h.DpiHelper.PIXEL_RATIO,this.stroke,this.strokeThickness*h.DpiHelper.PIXEL_RATIO,this.fill),r.copyTexture();var i=new p.CanvasTexture(this.webAssemblyContext,e,t);i.clear(),this.drawSprite(i.getContext(),this.width*h.DpiHelper.PIXEL_RATIO,this.height*h.DpiHelper.PIXEL_RATIO,"#ffffffff",this.strokeThickness*h.DpiHelper.PIXEL_RATIO,"#00000000"),i.copyTexture();var n=new p.CanvasTexture(this.webAssemblyContext,e,t);return n.clear(),this.drawSprite(n.getContext(),this.width*h.DpiHelper.PIXEL_RATIO-3,this.height*h.DpiHelper.PIXEL_RATIO-3,"#00000000",0,"#ffffffff"),n.copyTexture(),{spriteTexture:r,strokeMask:i,fillMask:n}},BasePointMarker.prototype.getPointMarkerStyle=function(){return new c.PointMarkerStyle({type:this.type,width:this.width,height:this.height,fill:this.fill,stroke:this.stroke,strokeThickness:this.strokeThickness})},BasePointMarker.prototype.toJSON=function(){var e={fill:this.fill,height:this.height,opacity:this.opacity,stroke:this.stroke,strokeThickness:this.strokeThickness,width:this.width,lastPointOnly:this.lastPointOnly};return{type:this.type,options:e}},BasePointMarker.prototype.onDpiChanged=function(e){d.DebugForDpi&&console.log("basePointMarker onDpiChanged Scaling factor = "+e.newValue),this.invalidateCache()},BasePointMarker.prototype.resolveAutoColors=function(e,t,r){if(this.strokeProperty.startsWith(u.AUTO_COLOR)){var i=r.getStrokeColor(e,t,this.webAssemblyContext);this.stroke=u.AUTO_COLOR+this.adjustAutoColor("stroke",i)}if(this.fillProperty.startsWith(u.AUTO_COLOR)){var i=r.getFillColor(e,t,this.webAssemblyContext);this.fill=u.AUTO_COLOR+this.adjustAutoColor("fill",i)}},BasePointMarker.prototype.adjustAutoColor=function(e,t){return t},BasePointMarker.prototype.resumeUpdates=function(){this.isUpdateSuspended=!1,this.recreateSpriteTextures()},BasePointMarker.prototype.suspendUpdates=function(){this.isUpdateSuspended=!0},BasePointMarker.prototype.notifyPropertyChanged=function(e,t,r){t!==r&&e!==f.PROPERTY.OPACITY&&(this.isUpdateSuspended||this.recreateSpriteTextures())},BasePointMarker.prototype.recreateSpriteTextures=function(){var e,t,r;this.spriteTextures&&(null===(e=this.spriteTextures.spriteTexture)||void 0===e||e.delete(),null===(t=this.spriteTextures.strokeMask)||void 0===t||t.delete(),null===(r=this.spriteTextures.fillMask)||void 0===r||r.delete(),this.spriteTextures=void 0),this.spriteTextures=this.createCanvasTexture(),this.invalidateParentCallback&&this.invalidateParentCallback()},BasePointMarker.prototype.applyOpacity=function(e){var t,r,i;this.spriteTextures&&(null===(t=this.spriteTextures.spriteTexture)||void 0===t||t.applyOpacity(e),null===(r=this.spriteTextures.strokeMask)||void 0===r||r.applyOpacity(e),null===(i=this.spriteTextures.fillMask)||void 0===i||i.applyOpacity(e))},BasePointMarker}(a.DeletableEntity);t.BasePointMarker=y},24956:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).FILL="fill",r.HEIGHT="height",r.IMAGE="image",r.SIZE_TO_IMAGE="size_to_image",r.STROKE="stroke",r.STROKE_THICKNESS="strokeThickness",r.WIDTH="width",r.OPACITY="opacity",r.LAST_POINT_ONLY="lastPointOnly"},66906:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CrossPointMarker=void 0;var o=r(67423),a=function(e){function CrossPointMarker(t,r){var i=e.call(this,t,r)||this;return i.type=o.EPointMarkerType.Cross,i}return n(CrossPointMarker,e),CrossPointMarker.prototype.drawSprite=function(e,t,r,i,n,o){if(n>0){e.strokeStyle=i,e.lineWidth=n;var a=e.canvas.width/2,s=e.canvas.height/2,l=r/2,u=t/2;e.beginPath(),e.moveTo(a,s-l),e.lineTo(a,s+l),e.stroke(),e.beginPath(),e.moveTo(a-u,s),e.lineTo(a+u,s),e.stroke()}},CrossPointMarker}(r(41417).BasePointMarker);t.CrossPointMarker=a},42761:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.EllipsePointMarker=void 0;var o=r(67423),a=function(e){function EllipsePointMarker(t,r){var i=e.call(this,t,r)||this;return i.type=o.EPointMarkerType.Ellipse,i}return n(EllipsePointMarker,e),EllipsePointMarker.prototype.drawSprite=function(e,t,r,i,n,o){var a=e.canvas.width/2,s=e.canvas.height/2,l=n/2;e.fillStyle=o,e.ellipse(a,s,t/2-l<0?0:t/2-l,r/2-l<0?0:r/2-l,0,0,2*Math.PI,!1),e.fill(),n>0&&(e.strokeStyle=i,e.lineWidth=n,e.stroke())},EllipsePointMarker}(r(41417).BasePointMarker);t.EllipsePointMarker=a},56923:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SpritePointMarker=void 0;var o=r(67423),a=r(13103),s=r(41417),l=r(24956),u=function(e){function SpritePointMarker(t,r){var i=e.call(this,t,r)||this;return i.type=o.EPointMarkerType.Sprite,i.image=null==r?void 0:r.image,(null==r?void 0:r.width)&&(i.width=r.width),(null==r?void 0:r.height)&&(i.height=r.height),i}return n(SpritePointMarker,e),Object.defineProperty(SpritePointMarker.prototype,"image",{get:function(){return this.imageProperty},set:function(e){var t=this.imageProperty;this.imageProperty=e,this.imageProperty&&(this.width=this.imageProperty.width,this.height=this.imageProperty.height),this.notifyPropertyChanged(l.PROPERTY.IMAGE,e,t)},enumerable:!1,configurable:!0}),SpritePointMarker.prototype.drawSprite=function(e,t,r,i,n,o){var a=e.canvas.width/2,s=e.canvas.height/2,l=this.height/2,u=this.width/2;this.image&&e.drawImage(this.image,a-u,s-l,this.width,this.height)},SpritePointMarker.prototype.getPointMarkerStyle=function(){return new a.CustomPointMarkerStyle({type:this.type,width:this.width,height:this.height,image:this.image})},SpritePointMarker.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={image:this.image};return Object.assign(t.options,r),t},SpritePointMarker}(s.BasePointMarker);t.SpritePointMarker=u},39431:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SquarePointMarker=void 0;var o=r(48484),a=r(67423),s=function(e){function SquarePointMarker(t,r){var i=e.call(this,t,r)||this;return i.type=a.EPointMarkerType.Square,i}return n(SquarePointMarker,e),SquarePointMarker.prototype.drawSprite=function(e,t,r,i,n,a){var s=e.canvas.width/2,l=e.canvas.height/2,u=r/2,c=t/2,d=n/2,p=new o.Point(s-c+d,l-u+d),h=new o.Point(s+c-d,l+u-d);e.fillStyle=a,e.beginPath(),e.moveTo(p.x,p.y),e.lineTo(h.x,p.y),e.lineTo(h.x,h.y),e.lineTo(p.x,h.y),e.closePath(),e.fill(),n>0&&(e.strokeStyle=i,e.lineWidth=n,e.stroke())},SquarePointMarker}(r(41417).BasePointMarker);t.SquarePointMarker=s},58263:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.TrianglePointMarker=void 0;var o=r(48484),a=r(67423),s=function(e){function TrianglePointMarker(t,r){var i=e.call(this,t,r)||this;return i.type=a.EPointMarkerType.Triangle,i}return n(TrianglePointMarker,e),TrianglePointMarker.prototype.drawSprite=function(e,t,r,i,n,a){var s=e.canvas.width/2,l=e.canvas.height/2,u=r/2,c=t/2,d=n/2,p=new o.Point(s,l-u+d),h=new o.Point(s+c-d,l+u-d),f=new o.Point(s-c+d,l+u-d);e.fillStyle=a,e.beginPath(),e.moveTo(p.x,p.y),e.lineTo(h.x,h.y),e.lineTo(f.x,f.y),e.lineTo(p.x,p.y),e.closePath(),e.fill(),n>0&&(e.strokeStyle=i,e.lineWidth=n,e.stroke())},TrianglePointMarker}(r(41417).BasePointMarker);t.TrianglePointMarker=s},83871:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XPointMarker=void 0;var o=r(67423),a=function(e){function XPointMarker(t,r){var i=e.call(this,t,r)||this;return i.type=o.EPointMarkerType.X,i}return n(XPointMarker,e),XPointMarker.prototype.drawSprite=function(e,t,r,i,n,o){var a=e.canvas.width/2,s=e.canvas.height/2,l=r/2,u=t/2,c=n/4;n>0&&(e.strokeStyle=i,e.lineWidth=1.5*n,e.beginPath(),e.moveTo(a-u+c,s-l+c),e.lineTo(a+u-c,s+l-c),e.stroke(),e.beginPath(),e.moveTo(a+u-c,s-l+c),e.lineTo(a-u+c,s+l-c),e.stroke())},XPointMarker}(r(41417).BasePointMarker);t.XPointMarker=a},59604:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BandAnimation=void 0;var o=r(10239),a=r(48053),s=r(36072),l=r(47534),u=function(e){function BandAnimation(t){var r,i,n=this;return(n=e.call(this,t)||this).type=o.EAnimationType.Style,n.duration=null!==(r=null==t?void 0:t.duration)&&void 0!==r?r:1e3,n.styles=(null==t?void 0:t.styles)?new l.BandAnimationStyle(t.styles):n.styles,n.dataSeries=null!==(i=null==t?void 0:t.dataSeries)&&void 0!==i?i:n.dataSeries,n}return n(BandAnimation,e),BandAnimation.prototype.getSeriesStyle=function(e){var t;if(!e.isStacked)return new l.BandAnimationStyle({stroke:e.stroke,strokeY1:e.strokeY1,fill:e.fill,fillY1:e.fillY1,strokeThickness:e.strokeThickness,opacity:e.opacity,pointMarker:null===(t=e.pointMarker)||void 0===t?void 0:t.getPointMarkerStyle()})},BandAnimation.prototype.updateSeriesProperties=function(t,r,i){if(e.prototype.updateSeriesProperties.call(this,t,r,i),this.isStyleAnimation){var n=this.styles;if(void 0!==n.strokeY1){var o=s.animationHelpers.interpolateColor(r.strokeY1ARGB,n.strokeY1ARGB,i);t.strokeY1=(0,a.parseArgbToHtmlColor)(o)}if(void 0!==n.fill){var o=s.animationHelpers.interpolateColor(r.fillARGB,n.fillARGB,i);t.fill=(0,a.parseArgbToHtmlColor)(o)}if(void 0!==n.fillY1){var o=s.animationHelpers.interpolateColor(r.fillY1ARGB,n.fillY1ARGB,i);t.fillY1=(0,a.parseArgbToHtmlColor)(o)}}},BandAnimation}(r(70720).SeriesAnimation);t.BandAnimation=u},47534:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BandAnimationStyle=void 0;var o=r(48053),a=function(e){function BandAnimationStyle(t){var r,i,n,o=this;return(o=e.call(this,t)||this).strokeY1=null!==(r=null==t?void 0:t.strokeY1)&&void 0!==r?r:o.strokeY1Property,o.fill=null!==(i=null==t?void 0:t.fill)&&void 0!==i?i:o.fillProperty,o.fillY1=null!==(n=null==t?void 0:t.fillY1)&&void 0!==n?n:o.fillY1Property,o}return n(BandAnimationStyle,e),Object.defineProperty(BandAnimationStyle.prototype,"strokeY1",{get:function(){return this.strokeY1Property},set:function(e){this.strokeY1Property=e,e&&(this.strokeY1ARGBProperty=(0,o.parseColorToUIntArgb)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(BandAnimationStyle.prototype,"strokeY1ARGB",{get:function(){return this.strokeY1ARGBProperty},enumerable:!1,configurable:!0}),Object.defineProperty(BandAnimationStyle.prototype,"fill",{get:function(){return this.fillProperty},set:function(e){this.fillProperty=e,e&&(this.fillARGBProperty=(0,o.parseColorToUIntArgb)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(BandAnimationStyle.prototype,"fillARGB",{get:function(){return this.fillARGBProperty},enumerable:!1,configurable:!0}),Object.defineProperty(BandAnimationStyle.prototype,"fillY1",{get:function(){return this.fillY1Property},set:function(e){this.fillY1Property=e,e&&(this.fillY1ARGBProperty=(0,o.parseColorToUIntArgb)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(BandAnimationStyle.prototype,"fillY1ARGB",{get:function(){return this.fillY1ARGBProperty},enumerable:!1,configurable:!0}),BandAnimationStyle}(r(76384).BaseAnimationStyle);t.BandAnimationStyle=a},76384:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAnimationStyle=void 0;var i=r(67423),n=r(48053),o=r(13103),a=r(3714),s=function(){function BaseAnimationStyle(e){var t,r,n;this.opacity=void 0,this.strokeProperty=void 0,this.strokeThickness=null!==(t=null==e?void 0:e.strokeThickness)&&void 0!==t?t:this.strokeThickness,this.stroke=null!==(r=null==e?void 0:e.stroke)&&void 0!==r?r:this.strokeProperty,(null==e?void 0:e.pointMarker)&&(this.pointMarker=e.pointMarker.type===i.EPointMarkerType.Sprite?new o.CustomPointMarkerStyle(e.pointMarker):new a.PointMarkerStyle(e.pointMarker)),this.opacity=null!==(n=null==e?void 0:e.opacity)&&void 0!==n?n:this.opacity}return Object.defineProperty(BaseAnimationStyle.prototype,"stroke",{get:function(){return this.strokeProperty},set:function(e){this.strokeProperty=e,e&&(this.strokeARGBProperty=(0,n.parseColorToUIntArgb)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseAnimationStyle.prototype,"strokeARGB",{get:function(){return this.strokeARGBProperty},enumerable:!1,configurable:!0}),BaseAnimationStyle}();t.BaseAnimationStyle=s},13583:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePointMarkerStyle=void 0;var i=r(67423),n=function(){function BasePointMarkerStyle(e){var t,r,i;this.width=0,this.height=0,this.type=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:this.type,this.width=null!==(r=null==e?void 0:e.width)&&void 0!==r?r:this.width,this.height=null!==(i=null==e?void 0:e.height)&&void 0!==i?i:this.height}return Object.defineProperty(BasePointMarkerStyle.prototype,"isCustomPointMarker",{get:function(){return this.type===i.EPointMarkerType.Sprite},enumerable:!1,configurable:!0}),BasePointMarkerStyle}();t.BasePointMarkerStyle=n},68520:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BubbleAnimation=void 0;var o=r(10239),a=r(70720),s=r(76384),l=function(e){function BubbleAnimation(t){var r,i,n=this;return(n=e.call(this,t)||this).type=o.EAnimationType.Style,n.duration=null!==(r=null==t?void 0:t.duration)&&void 0!==r?r:1e3,n.styles=(null==t?void 0:t.styles)?new s.BaseAnimationStyle(t.styles):n.styles,n.dataSeries=null!==(i=null==t?void 0:t.dataSeries)&&void 0!==i?i:n.dataSeries,n}return n(BubbleAnimation,e),BubbleAnimation}(a.SeriesAnimation);t.BubbleAnimation=l},13849:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CandlestickAnimation=void 0;var o=r(10239),a=r(48053),s=r(36072),l=r(1956),u=function(e){function CandlestickAnimation(t){var r,i,n=this;return(n=e.call(this,t)||this).type=o.EAnimationType.Style,n.duration=null!==(r=null==t?void 0:t.duration)&&void 0!==r?r:1e3,n.styles=(null==t?void 0:t.styles)?new l.CandlestickAnimationStyle(t.styles):n.styles,n.dataSeries=null!==(i=null==t?void 0:t.dataSeries)&&void 0!==i?i:n.dataSeries,n}return n(CandlestickAnimation,e),CandlestickAnimation.prototype.getSeriesStyle=function(e){var t;if(!e.isStacked)return new l.CandlestickAnimationStyle({stroke:e.stroke,strokeThickness:e.strokeThickness,opacity:e.opacity,strokeUp:e.strokeUp,strokeDown:e.strokeDown,brushUp:e.brushUp,brushDown:e.brushDown,pointMarker:null===(t=e.pointMarker)||void 0===t?void 0:t.getPointMarkerStyle()})},CandlestickAnimation.prototype.updateSeriesProperties=function(t,r,i){if(e.prototype.updateSeriesProperties.call(this,t,r,i),this.isStyleAnimation){var n=this.styles;if(void 0!==n.brushUp){var o=s.animationHelpers.interpolateColor(r.brushUpARGB,n.brushUpARGB,i);t.brushUp=(0,a.parseArgbToHtmlColor)(o)}if(void 0!==n.brushDown){var o=s.animationHelpers.interpolateColor(r.brushDownARGB,n.brushDownARGB,i);t.brushDown=(0,a.parseArgbToHtmlColor)(o)}}},CandlestickAnimation}(r(66481).OhlcAnimation);t.CandlestickAnimation=u},1956:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CandlestickAnimationStyle=void 0;var o=r(48053),a=function(e){function CandlestickAnimationStyle(t){var r,i,n=this;return(n=e.call(this,t)||this).brushUp=null!==(r=null==t?void 0:t.brushUp)&&void 0!==r?r:n.brushUpProperty,n.brushDown=null!==(i=null==t?void 0:t.brushDown)&&void 0!==i?i:n.brushDownProperty,n}return n(CandlestickAnimationStyle,e),Object.defineProperty(CandlestickAnimationStyle.prototype,"brushUp",{get:function(){return this.brushUpProperty},set:function(e){this.brushUpProperty=e,e&&(this.brushUpARGBProperty=(0,o.parseColorToUIntArgb)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(CandlestickAnimationStyle.prototype,"brushUpARGB",{get:function(){return this.brushUpARGBProperty},enumerable:!1,configurable:!0}),Object.defineProperty(CandlestickAnimationStyle.prototype,"brushDown",{get:function(){return this.brushDownProperty},set:function(e){this.brushDownProperty=e,e&&(this.brushDownARGBProperty=(0,o.parseColorToUIntArgb)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(CandlestickAnimationStyle.prototype,"brushDownARGB",{get:function(){return this.brushDownARGBProperty},enumerable:!1,configurable:!0}),CandlestickAnimationStyle}(r(78652).OhlcAnimationStyle);t.CandlestickAnimationStyle=a},22038:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnAnimation=void 0;var o=r(10239),a=r(48053),s=r(36072),l=r(70720),u=r(39084),c=r(3714),d=function(e){function ColumnAnimation(t){var r,i,n=this;return(n=e.call(this,t)||this).type=o.EAnimationType.Style,n.duration=null!==(r=null==t?void 0:t.duration)&&void 0!==r?r:1e3,n.styles=(null==t?void 0:t.styles)?new u.ColumnAnimationStyle(t.styles):n.styles,n.dataSeries=null!==(i=null==t?void 0:t.dataSeries)&&void 0!==i?i:n.dataSeries,n}return n(ColumnAnimation,e),ColumnAnimation.prototype.getSeriesStyle=function(e){var t,r;if(!e.isStacked)return new u.ColumnAnimationStyle({stroke:e.stroke,strokeThickness:e.strokeThickness,opacity:e.opacity,pointMarker:null!==(r=null===(t=e.pointMarker)||void 0===t?void 0:t.getPointMarkerStyle())&&void 0!==r?r:new c.PointMarkerStyle,fill:e.fill,zeroLineY:e.zeroLineY,dataPointWidth:e.dataPointWidth})},ColumnAnimation.prototype.updateSeriesProperties=function(t,r,i){if(e.prototype.updateSeriesProperties.call(this,t,r,i),this.isStyleAnimation){var n=this.styles;if(void 0!==n.fill){var o=s.animationHelpers.interpolateColor(r.fillARGB,n.fillARGB,i);t.fill=(0,a.parseArgbToHtmlColor)(o)}void 0!==n.zeroLineY&&(t.zeroLineY=s.animationHelpers.interpolateNumber(r.zeroLineY,n.zeroLineY,i)),void 0!==n.dataPointWidth&&(t.dataPointWidth=s.animationHelpers.interpolateNumber(r.dataPointWidth,n.dataPointWidth,i))}},ColumnAnimation}(l.SeriesAnimation);t.ColumnAnimation=d},39084:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnAnimationStyle=void 0;var o=r(48053),a=function(e){function ColumnAnimationStyle(t){var r,i,n,o=this;return(o=e.call(this,t)||this).fill=null!==(r=null==t?void 0:t.fill)&&void 0!==r?r:o.fillProperty,o.zeroLineY=null!==(i=null==t?void 0:t.zeroLineY)&&void 0!==i?i:o.zeroLineY,o.dataPointWidth=null!==(n=null==t?void 0:t.dataPointWidth)&&void 0!==n?n:o.dataPointWidth,o}return n(ColumnAnimationStyle,e),Object.defineProperty(ColumnAnimationStyle.prototype,"fill",{get:function(){return this.fillProperty},set:function(e){this.fillProperty=e,e&&(this.fillARGBProperty=(0,o.parseColorToUIntArgb)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(ColumnAnimationStyle.prototype,"fillARGB",{get:function(){return this.fillARGBProperty},enumerable:!1,configurable:!0}),ColumnAnimationStyle}(r(76384).BaseAnimationStyle);t.ColumnAnimationStyle=a},13103:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CustomPointMarkerStyle=void 0;var o=function(e){function CustomPointMarkerStyle(t){var r,i=this;return(i=e.call(this,t)||this).image=null!==(r=null==t?void 0:t.image)&&void 0!==r?r:i.image,i}return n(CustomPointMarkerStyle,e),CustomPointMarkerStyle}(r(13583).BasePointMarkerStyle);t.CustomPointMarkerStyle=o},35037:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.FadeAnimation=void 0;var o=r(10239),a=function(e){function FadeAnimation(t){var r,i=this;return(i=e.call(this,t)||this).type=o.EAnimationType.Fade,i.isFadeEffectAnimation=null===(r=null==t?void 0:t.fadeEffect)||void 0===r||r,i}return n(FadeAnimation,e),FadeAnimation.prototype.calculateAnimationValues=function(e,t,r,i,n){void 0===n&&(n=!1),e.SCRTAnimationHelperFade(t,i,r)},FadeAnimation}(r(70720).SeriesAnimation);t.FadeAnimation=a},19047:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LineAnimation=void 0;var o=r(10239),a=r(70720),s=r(76384),l=function(e){function LineAnimation(t){var r,i,n=this;return(n=e.call(this,t)||this).type=o.EAnimationType.Style,n.duration=null!==(r=null==t?void 0:t.duration)&&void 0!==r?r:1e3,n.styles=(null==t?void 0:t.styles)?new s.BaseAnimationStyle(t.styles):n.styles,n.dataSeries=null!==(i=null==t?void 0:t.dataSeries)&&void 0!==i?i:n.dataSeries,n}return n(LineAnimation,e),LineAnimation}(a.SeriesAnimation);t.LineAnimation=l},53042:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.MountainAnimation=void 0;var o=r(10239),a=r(48053),s=r(36072),l=r(70720),u=r(54782),c=r(3714),d=function(e){function MountainAnimation(t){var r,i,n=this;return(n=e.call(this,t)||this).type=o.EAnimationType.Style,n.duration=null!==(r=null==t?void 0:t.duration)&&void 0!==r?r:1e3,n.styles=(null==t?void 0:t.styles)?new u.MountainAnimationStyle(t.styles):n.styles,n.dataSeries=null!==(i=null==t?void 0:t.dataSeries)&&void 0!==i?i:n.dataSeries,n}return n(MountainAnimation,e),MountainAnimation.prototype.getSeriesStyle=function(e){var t,r;if(!e.isStacked)return new u.MountainAnimationStyle({stroke:e.stroke,strokeThickness:e.strokeThickness,opacity:e.opacity,pointMarker:null!==(r=null===(t=e.pointMarker)||void 0===t?void 0:t.getPointMarkerStyle())&&void 0!==r?r:new c.PointMarkerStyle,fill:e.fill,zeroLineY:e.zeroLineY})},MountainAnimation.prototype.updateSeriesProperties=function(t,r,i){if(e.prototype.updateSeriesProperties.call(this,t,r,i),this.isStyleAnimation){var n=this.styles;if(void 0!==n.fill){var o=s.animationHelpers.interpolateColor(r.fillARGB,n.fillARGB,i);t.fill=(0,a.parseArgbToHtmlColor)(o)}void 0!==n.zeroLineY&&(t.zeroLineY=s.animationHelpers.interpolateNumber(r.zeroLineY,n.zeroLineY,i))}},MountainAnimation}(l.SeriesAnimation);t.MountainAnimation=d},54782:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.MountainAnimationStyle=void 0;var o=r(48053),a=function(e){function MountainAnimationStyle(t){var r,i,n=this;return(n=e.call(this,t)||this).fill=null!==(r=null==t?void 0:t.fill)&&void 0!==r?r:n.fillProperty,n.zeroLineY=null!==(i=null==t?void 0:t.zeroLineY)&&void 0!==i?i:n.zeroLineY,n}return n(MountainAnimationStyle,e),Object.defineProperty(MountainAnimationStyle.prototype,"fill",{get:function(){return this.fillProperty},set:function(e){this.fillProperty=e,e&&(this.fillARGBProperty=(0,o.parseColorToUIntArgb)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(MountainAnimationStyle.prototype,"fillARGB",{get:function(){return this.fillARGBProperty},enumerable:!1,configurable:!0}),MountainAnimationStyle}(r(76384).BaseAnimationStyle);t.MountainAnimationStyle=a},66481:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.OhlcAnimation=void 0;var o=r(10239),a=r(48053),s=r(36072),l=r(70720),u=r(78652),c=function(e){function OhlcAnimation(t){var r,i,n=this;return(n=e.call(this,t)||this).type=o.EAnimationType.Style,n.duration=null!==(r=null==t?void 0:t.duration)&&void 0!==r?r:1e3,n.styles=(null==t?void 0:t.styles)?new u.OhlcAnimationStyle(t.styles):n.styles,n.dataSeries=null!==(i=null==t?void 0:t.dataSeries)&&void 0!==i?i:n.dataSeries,n}return n(OhlcAnimation,e),OhlcAnimation.prototype.getSeriesStyle=function(e){var t;if(!e.isStacked)return new u.OhlcAnimationStyle({stroke:e.stroke,strokeThickness:e.strokeThickness,opacity:e.opacity,strokeUp:e.strokeUp,strokeDown:e.strokeDown,dataPointWidth:e.dataPointWidth,pointMarker:null===(t=e.pointMarker)||void 0===t?void 0:t.getPointMarkerStyle()})},OhlcAnimation.prototype.updateSeriesProperties=function(t,r,i){if(e.prototype.updateSeriesProperties.call(this,t,r,i),this.isStyleAnimation){var n=this.styles;if(void 0!==n.strokeUp){var o=s.animationHelpers.interpolateColor(r.strokeUpARGB,n.strokeUpARGB,i);t.strokeUp=(0,a.parseArgbToHtmlColor)(o)}if(void 0!==n.strokeDown){var o=s.animationHelpers.interpolateColor(r.strokeDownARGB,n.strokeDownARGB,i);t.strokeDown=(0,a.parseArgbToHtmlColor)(o)}void 0!==n.dataPointWidth&&(t.dataPointWidth=s.animationHelpers.interpolateNumber(r.dataPointWidth,n.dataPointWidth,i))}},OhlcAnimation}(l.SeriesAnimation);t.OhlcAnimation=c},78652:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.OhlcAnimationStyle=void 0;var o=r(48053),a=function(e){function OhlcAnimationStyle(t){var r,i,n,o=this;return(o=e.call(this,t)||this).strokeUp=null!==(r=null==t?void 0:t.strokeUp)&&void 0!==r?r:o.strokeUpProperty,o.strokeDown=null!==(i=null==t?void 0:t.strokeDown)&&void 0!==i?i:o.strokeDownProperty,o.dataPointWidth=null!==(n=null==t?void 0:t.dataPointWidth)&&void 0!==n?n:o.dataPointWidth,o}return n(OhlcAnimationStyle,e),Object.defineProperty(OhlcAnimationStyle.prototype,"strokeUp",{get:function(){return this.strokeUpProperty},set:function(e){this.strokeUpProperty=e,e&&(this.strokeUpARGBProperty=(0,o.parseColorToUIntArgb)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(OhlcAnimationStyle.prototype,"strokeUpARGB",{get:function(){return this.strokeUpARGBProperty},enumerable:!1,configurable:!0}),Object.defineProperty(OhlcAnimationStyle.prototype,"strokeDown",{get:function(){return this.strokeDownProperty},set:function(e){this.strokeDownProperty=e,e&&(this.strokeDownARGBProperty=(0,o.parseColorToUIntArgb)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(OhlcAnimationStyle.prototype,"strokeDownARGB",{get:function(){return this.strokeDownARGBProperty},enumerable:!1,configurable:!0}),OhlcAnimationStyle}(r(76384).BaseAnimationStyle);t.OhlcAnimationStyle=a},3714:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.PointMarkerStyle=void 0;var o=r(48053),a=function(e){function PointMarkerStyle(t){var r,i,n,o=this;return(o=e.call(this,t)||this).strokeThickness=0,o.strokeThickness=null!==(r=null==t?void 0:t.strokeThickness)&&void 0!==r?r:o.strokeThickness,o.stroke=null!==(i=null==t?void 0:t.stroke)&&void 0!==i?i:"#ffffff00",o.fill=null!==(n=null==t?void 0:t.fill)&&void 0!==n?n:"#ffffff00",o}return n(PointMarkerStyle,e),Object.defineProperty(PointMarkerStyle.prototype,"stroke",{get:function(){return this.strokeProperty},set:function(e){this.strokeProperty=e,e&&(this.strokeARGBProperty=(0,o.parseColorToUIntArgb)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(PointMarkerStyle.prototype,"strokeARGB",{get:function(){return this.strokeARGBProperty},enumerable:!1,configurable:!0}),Object.defineProperty(PointMarkerStyle.prototype,"fill",{get:function(){return this.fillProperty},set:function(e){this.fillProperty=e,e&&(this.fillARGBProperty=(0,o.parseColorToUIntArgb)(e))},enumerable:!1,configurable:!0}),Object.defineProperty(PointMarkerStyle.prototype,"fillARGB",{get:function(){return this.fillARGBProperty},enumerable:!1,configurable:!0}),PointMarkerStyle}(r(13583).BasePointMarkerStyle);t.PointMarkerStyle=a},77344:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScaleAnimation=void 0;var o=r(10239),a=function(e){function ScaleAnimation(t){var r,i=this;return(i=e.call(this,t)||this).type=o.EAnimationType.Scale,i.zeroLine=0,i.isOnStartAnimation=!0,i.zeroLine=null!==(r=null==t?void 0:t.zeroLine)&&void 0!==r?r:i.zeroLine,i}return n(ScaleAnimation,e),ScaleAnimation.prototype.calculateAnimationValues=function(e,t,r,i,n){void 0===n&&(n=!1);var o=n?0:this.zeroLine;e.SCRTAnimationHelperScale(t,o,i,r)},ScaleAnimation.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={zeroLine:this.zeroLine};return Object.assign(t.options,r),t},ScaleAnimation}(r(70720).SeriesAnimation);t.ScaleAnimation=a},23852:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScatterAnimation=void 0;var o=r(10239),a=r(70720),s=r(76384),l=function(e){function ScatterAnimation(t){var r,i,n=this;return(n=e.call(this,t)||this).type=o.EAnimationType.Style,n.duration=null!==(r=null==t?void 0:t.duration)&&void 0!==r?r:1e3,n.styles=(null==t?void 0:t.styles)?new s.BaseAnimationStyle(t.styles):n.styles,n.dataSeries=null!==(i=null==t?void 0:t.dataSeries)&&void 0!==i?i:n.dataSeries,n}return n(ScatterAnimation,e),ScatterAnimation}(a.SeriesAnimation);t.ScatterAnimation=l},70720:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeriesAnimation=void 0;var i=r(19513),n=r(48053),o=r(36072),a=r(76384),s=r(3714),l=function(){function SeriesAnimation(e){var t,r,n,o;this.delay=0,this.duration=3e3,this.ease=i.easing.linear,this.isFadeEffectAnimation=!1,this.isOnStartAnimation=!1,this.delay=null!==(t=null==e?void 0:e.delay)&&void 0!==t?t:this.delay,this.duration=null!==(r=null==e?void 0:e.duration)&&void 0!==r?r:this.duration,this.isFadeEffectAnimation=null!==(n=null==e?void 0:e.fadeEffect)&&void 0!==n?n:this.isFadeEffectAnimation,(null==e?void 0:e.ease)&&"string"==typeof e.ease&&(e.ease=i.easing[e.ease]),this.ease=null!==(o=null==e?void 0:e.ease)&&void 0!==o?o:this.ease}return SeriesAnimation.prototype.toJSON=function(){var e={delay:this.delay,duration:this.duration,ease:this.ease.name,fadeEffect:this.isFadeEffectAnimation};return{type:this.type,options:e}},SeriesAnimation.prototype.calculateAnimationValues=function(e,t,r,i,n){void 0===n&&(n=!1)},SeriesAnimation.prototype.calculateDataSeriesAnimationValues=function(e,t,r,i,n){var a=t.size();if(a!==r.size())throw Error("DoubleVectors with initialValues and finalValues must have the same length");"function"!=typeof i.getRaw&&i.resize(a,0);for(var s=0;s<a;s++)i.set(s,o.animationHelpers.interpolateNumber(t.get(s),r.get(s),n))},SeriesAnimation.prototype.getSeriesStyle=function(e){var t,r;if(!e.isStacked)return new a.BaseAnimationStyle({stroke:e.stroke,strokeThickness:e.strokeThickness,opacity:e.opacity,pointMarker:null!==(r=null===(t=e.pointMarker)||void 0===t?void 0:t.getPointMarkerStyle())&&void 0!==r?r:new s.PointMarkerStyle})},SeriesAnimation.prototype.updateSeriesProperties=function(e,t,r){var i,a,s,l,u,c=e.pointMarker;if(this.isStyleAnimation){if(void 0!==this.styles.strokeThickness){var d=null==t?void 0:t.strokeThickness,p=this.styles.strokeThickness;e.strokeThickness=d+(p-d)*r}if(void 0!==this.styles.stroke){var h=o.animationHelpers.interpolateColor(t.strokeARGB,this.styles.strokeARGB,r);e.stroke=(0,n.parseArgbToHtmlColor)(h)}if(void 0!==this.styles.opacity&&(e.opacity=o.animationHelpers.interpolateNumber(t.opacity,this.styles.opacity,r)),void 0!==this.styles.pointMarker){e.pointMarker.suspendUpdates();var f=null!==(a=null===(i=t.pointMarker)||void 0===i?void 0:i.width)&&void 0!==a?a:0,y=null!==(l=null===(s=t.pointMarker)||void 0===s?void 0:s.height)&&void 0!==l?l:0;if(e.pointMarker.width=o.animationHelpers.interpolateNumber(f,this.styles.pointMarker.width,r),e.pointMarker.height=o.animationHelpers.interpolateNumber(y,this.styles.pointMarker.height,r),!this.styles.pointMarker.isCustomPointMarker){var g=t.pointMarker,v=this.styles.pointMarker,m=null!==(u=null==g?void 0:g.strokeThickness)&&void 0!==u?u:0;e.pointMarker.strokeThickness=o.animationHelpers.interpolateNumber(m,v.strokeThickness,r);var S=o.animationHelpers.interpolateColor(g.fillARGB,v.fillARGB,r);e.pointMarker.fill=(0,n.parseArgbToHtmlColor)(S);var b=o.animationHelpers.interpolateColor(g.strokeARGB,v.strokeARGB,r);e.pointMarker.stroke=(0,n.parseArgbToHtmlColor)(b)}e.pointMarker.resumeUpdates()}}if(this.isFadeEffectAnimation){var P=t.opacity*r;e.opacity=P,c&&(c.opacity=P)}},Object.defineProperty(SeriesAnimation.prototype,"isStyleAnimation",{get:function(){return!!this.styles},enumerable:!1,configurable:!0}),Object.defineProperty(SeriesAnimation.prototype,"isDataSeriesAnimation",{get:function(){return!!this.dataSeries},enumerable:!1,configurable:!0}),SeriesAnimation}();t.SeriesAnimation=l},17964:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SweepAnimation=void 0;var o=r(10239),a=function(e){function SweepAnimation(t){var r=e.call(this,t)||this;return r.type=o.EAnimationType.Sweep,r.isOnStartAnimation=!0,r}return n(SweepAnimation,e),SweepAnimation.prototype.calculateAnimationValues=function(e,t,r,i,n){void 0===n&&(n=!1),e.SCRTAnimationHelperSweep(t,i,r)},SweepAnimation}(r(70720).SeriesAnimation);t.SweepAnimation=a},57387:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.WaveAnimation=void 0;var o=r(10239),a=function(e){function WaveAnimation(t){var r,i,n=this;return(n=e.call(this,t)||this).type=o.EAnimationType.Wave,n.pointDurationFraction=.2,n.zeroLine=0,n.isOnStartAnimation=!0,n.pointDurationFraction=null!==(r=null==t?void 0:t.pointDurationFraction)&&void 0!==r?r:n.pointDurationFraction,n.zeroLine=null!==(i=null==t?void 0:t.zeroLine)&&void 0!==i?i:n.zeroLine,n}return n(WaveAnimation,e),WaveAnimation.prototype.calculateAnimationValues=function(e,t,r,i,n){void 0===n&&(n=!1);var o=this.pointDurationFraction,a=n?0:this.zeroLine;e.SCRTAnimationHelperWave(t,o,a,i,r)},WaveAnimation.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={zeroLine:this.zeroLine,pointDurationFraction:this.pointDurationFraction};return Object.assign(t.options,r),t},WaveAnimation}(r(70720).SeriesAnimation);t.WaveAnimation=a},36072:function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.animationHelpers=void 0;var o=r(22533),a=r(67423),s=r(13973),l=r(3351),u=r(66906),c=r(42761),d=r(56923),p=r(39431),h=r(58263),f=r(83871);t.animationHelpers={checkCanDraw:function(e){return!e||e.is([o.EAnimationState.Running,o.EAnimationState.Completed])},checkIsAnimationRunning:function(e,t){return e.length>0||!!t&&!t.is([o.EAnimationState.Completed])},animationUpdate:function(e,t,r,i,n){var a=e.update(t);[o.EAnimationStateTransition.InitialState_Running,o.EAnimationStateTransition.Delayed_Running].includes(a)&&r(),e.is([o.EAnimationState.Running,o.EAnimationState.Completed])&&n(e.animationProgress,e),a===o.EAnimationStateTransition.Running_Completed&&i()},createPointMarker:function(e,t){if(t){if(t.type===a.EPointMarkerType.Sprite){var r=t.type,o=n(t,["type"]);return new d.SpritePointMarker(e,i({},o))}var r=t.type,o=n(t,["type"]);switch(r){case a.EPointMarkerType.Cross:return new u.CrossPointMarker(e,i({},o));case a.EPointMarkerType.Ellipse:return new c.EllipsePointMarker(e,i({},o));case a.EPointMarkerType.X:return new f.XPointMarker(e,i({},o));case a.EPointMarkerType.Square:return new p.SquarePointMarker(e,i({},o));case a.EPointMarkerType.Triangle:return new h.TrianglePointMarker(e,i({},o))}}},interpolateNumber:function(e,t,r){return r<0?e:r>1?t:e+(t-e)*r},interpolateColor:function(e,t,r){return r<0?e:r>1?t:(0,s.uintArgbColorLerp)(e,t,r)},copyVector:function(e,t){var r=e.size();t.resize(r,0);for(var i=0;i<r;i++)t.set(i,e.get(i))},setSplineAnimationVectors:function(e,r,i,n,o,a,s,l){if(r.isOnStartAnimation)t.animationHelpers.copyVector(a,i.yFinalAnimationValues);else if(r.isDataSeriesAnimation){t.animationHelpers.copyVector(o,i.xInitialAnimationValues),t.animationHelpers.copyVector(a,i.yInitialAnimationValues);var u=r.dataSeries,c=s?u.getNativeIndexes():u.getNativeXValues();e.SCRTSplineHelperCubicSpline(c,u.getNativeYValues(),i.xFinalAnimationValues,i.yFinalAnimationValues,c.size(),l,u.dataDistributionCalculator.containsNaN)}},setSplineBandAnimationVectors:function(e,r,i,n,o,a,s,u,c){if(t.animationHelpers.setSplineAnimationVectors(e,r,i,n,o,a,u,c),r.isOnStartAnimation)t.animationHelpers.copyVector(s,i.y1FinalAnimationValues);else if(r.isDataSeriesAnimation){if(n.type!==l.EDataSeriesType.Xyy)throw Error("to animate band chart animation.dataSeries type should be Xyy, but the type is ".concat(n.type));t.animationHelpers.copyVector(s,i.y1InitialAnimationValues);var d=u?n.getNativeIndexes():n.getNativeXValues();e.SCRTSplineHelperCubicSpline(d,n.getNativeY1Values(),i.xFinalAnimationValues,i.y1FinalAnimationValues,d.size(),c,n.dataDistributionCalculator.containsNaN),i.validateAnimationVectors()}},updateSplineAnimationProperties:function(e,t,r,i,n,o){t.isOnStartAnimation?t.calculateAnimationValues(e,i.yFinalAnimationValues,o,r):t.isDataSeriesAnimation&&(t.calculateDataSeriesAnimationValues(e,i.xInitialAnimationValues,i.xFinalAnimationValues,n,r),t.calculateDataSeriesAnimationValues(e,i.yInitialAnimationValues,i.yFinalAnimationValues,o,r))},updateSplineBandAnimationProperties:function(e,r,i,n,o,a,s){t.animationHelpers.updateSplineAnimationProperties(e,r,i,n,o,a),r.isOnStartAnimation?r.calculateAnimationValues(e,n.y1FinalAnimationValues,s,i):r.isDataSeriesAnimation&&r.calculateDataSeriesAnimationValues(e,n.y1InitialAnimationValues,n.y1FinalAnimationValues,s,i)}}},3578:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseBandRenderableSeries=void 0;var o=r(94694),a=r(92060),s=r(84331),l=r(63869),u=r(61239),c=r(41591),d=r(3488),p=r(3613),h=r(63143),f=r(46578),y=r(66201),g=function(e){function BaseBandRenderableSeries(t,r){var i,n,o,a,s=this;return(s=e.call(this,t,r)||this).stroke=null!==(i=null==r?void 0:r.stroke)&&void 0!==i?i:u.SciChartSurfaceBase.DEFAULT_THEME.downBandSeriesLineColor,s.strokeY1Property=null!==(n=null==r?void 0:r.strokeY1)&&void 0!==n?n:u.SciChartSurfaceBase.DEFAULT_THEME.upBandSeriesLineColor,s.fillProperty=null!==(o=null==r?void 0:r.fill)&&void 0!==o?o:u.SciChartSurfaceBase.DEFAULT_THEME.upBandSeriesFillColor,s.fillY1Property=null!==(a=null==r?void 0:r.fillY1)&&void 0!==a?a:u.SciChartSurfaceBase.DEFAULT_THEME.downBandSeriesFillColor,s.strokeY1DashArrayProperty=null==r?void 0:r.strokeY1DashArray,s.strokeDashArrayProperty=null==r?void 0:r.strokeDashArray,s.drawingProviders.push(new h.BandSeriesDrawingProvider(t,s)),s.drawingProviders.push(new f.PointMarkerDrawingProvider(t,s)),s.drawingProviders.push(new f.PointMarkerDrawingProvider(t,s,function(e){return e.y1Values},function(e){return e.y1SplineValues})),s.dataLabelProviderProperty||(s.dataLabelProviderProperty=new p.BandSeriesDataLabelProvider(null==r?void 0:r.dataLabels),s.dataLabelProviderProperty.onAttach(s.webAssemblyContext,s)),(null==r?void 0:r.animation)&&s.animationQueue.push(r.animation),s}return n(BaseBandRenderableSeries,e),BaseBandRenderableSeries.prototype.applyTheme=function(t){e.prototype.applyTheme.call(this,t);var r=this.parentSurface.previousThemeProvider;this.stroke===r.downBandSeriesLineColor&&(this.stroke=t.downBandSeriesLineColor),this.strokeY1===r.upBandSeriesLineColor&&(this.strokeY1=t.upBandSeriesLineColor),this.fill===r.upBandSeriesFillColor&&(this.fill=t.upBandSeriesFillColor),this.fillY1===r.downBandSeriesFillColor&&(this.fillY1=t.downBandSeriesFillColor)},Object.defineProperty(BaseBandRenderableSeries.prototype,"fill",{get:function(){return(0,l.stripAutoColor)(this.fillProperty)},set:function(e){this.fillProperty!==e&&(this.fillProperty=e,this.notifyPropertyChanged(d.PROPERTY.FILL))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseBandRenderableSeries.prototype,"strokeY1",{get:function(){return(0,l.stripAutoColor)(this.strokeY1Property)},set:function(e){this.strokeY1Property!==e&&(this.strokeY1Property=e,this.notifyPropertyChanged(d.PROPERTY.STROKE_Y1))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseBandRenderableSeries.prototype,"fillY1",{get:function(){return(0,l.stripAutoColor)(this.fillY1Property)},set:function(e){this.fillY1Property!==e&&(this.fillY1Property=e,this.notifyPropertyChanged(d.PROPERTY.FILL_Y1))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseBandRenderableSeries.prototype,"strokeDashArray",{get:function(){return this.strokeDashArrayProperty},set:function(e){this.strokeDashArrayProperty=e,this.notifyPropertyChanged(d.PROPERTY.STROKE_DASH_ARRAY)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseBandRenderableSeries.prototype,"strokeY1DashArray",{get:function(){return this.strokeY1DashArrayProperty},set:function(e){this.strokeY1DashArrayProperty=e,this.notifyPropertyChanged(d.PROPERTY.STROKE_Y1_DASH_ARRAY)},enumerable:!1,configurable:!0}),BaseBandRenderableSeries.prototype.getNativeY1Values=function(){return this.dataSeries.getNativeY1Values()},BaseBandRenderableSeries.prototype.delete=function(){this.xyyTempPointSeries=(0,o.deleteSafe)(this.xyyTempPointSeries),e.prototype.delete.call(this)},BaseBandRenderableSeries.prototype.toPointSeries=function(e){if(!e)return new s.XyyPointSeriesWrapped(this.dataSeries);this.xyyTempPointSeries?this.xyyTempPointSeries.xRange=e.xVisibleRange:this.xyyTempPointSeries=new a.XyyPointSeriesResampled(this.webAssemblyContext,e.xVisibleRange),this.pointSeries?this.pointSeries.xRange=e.xVisibleRange:this.pointSeries=new a.XyyPointSeriesResampled(this.webAssemblyContext,e.xVisibleRange);var t=this.pointSeries,r=this.dataSeries,i=r.getNativeXValues(),n=r.getNativeYValues(),o=r.getNativeY1Values(),l=this.resamplerHelper.resampleIntoPointSeries(this.webAssemblyContext,e,i,n,this.xyyTempPointSeries.intIndexes,void 0,this.xyyTempPointSeries.xValues,this.xyyTempPointSeries.yValues,!1);this.pointSeries.fifoStartIndex=l.OutputSplitIndex;var u=this.xyyTempPointSeries.intIndexes.size();this.resamplerHelper.resampleIntoPointSeries(this.webAssemblyContext,e,i,o,this.xyyTempPointSeries.intIndexes,void 0,this.xyyTempPointSeries.xValues,this.xyyTempPointSeries.y1Values);var c=this.xyyTempPointSeries.intIndexes.size()-u,d=this.resamplerHelper.mergeIndexes(this.xyyTempPointSeries.intIndexes,u,c,t.intIndexes);return this.xyyTempPointSeries.intIndexes.clear(),e.dataIsFifo?t.indexes.resizeFast(d):t.indexes.resizeFast(d+1),this.resamplerHelper.copyValuesByIndexes(t.intIndexes,i,n,o,d,e.isCategoryAxis,this.dataSeries.fifoSweeping,t.indexes,t.xValues,t.yValues,t.y1Values),t.clearIntIndexes(),t},BaseBandRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={fill:this.fill,fillY1:this.fillY1,strokeDashArray:this.strokeDashArray,strokeY1:this.strokeY1,strokeY1DashArray:this.strokeY1DashArray};return Object.assign(r.options,i),r},BaseBandRenderableSeries.prototype.resolveAutoColors=function(t,r,i){if(e.prototype.resolveAutoColors.call(this,t,r,i),this.fillProperty.startsWith(l.AUTO_COLOR)){var n=i.getFillColor(t,r,this.webAssemblyContext);this.fill=l.AUTO_COLOR+this.adjustAutoColor("fill",n)}var o=(t+Math.floor(r/2))%r;if(this.strokeY1Property.startsWith(l.AUTO_COLOR)){var n=i.getStrokeColor(o,r,this.webAssemblyContext);this.strokeY1=l.AUTO_COLOR+this.adjustAutoColor("strokeY1",n)}if(this.fillY1Property.startsWith(l.AUTO_COLOR)){var n=i.getFillColor(o,r,this.webAssemblyContext);this.fillY1=l.AUTO_COLOR+this.adjustAutoColor("fillY1",n)}},BaseBandRenderableSeries.prototype.newHitTestProvider=function(){return new y.BandSeriesHitTestProvider(this,this.webAssemblyContext)},BaseBandRenderableSeries}(c.BaseRenderableSeries);t.BaseBandRenderableSeries=g},11474:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseHeatmapRenderableSeries=t.COLOR_MAP_PREFIX=void 0;var o=r(94694),a=r(87994),s=r(3274),l=r(41591),u=r(3488),c=r(6763);t.COLOR_MAP_PREFIX="colorMap.";var d=function(e){function BaseHeatmapRenderableSeries(t,r){var i,n,o,l,u,d,p=this;return(p=e.call(this,t,r)||this).useLinearTextureFilteringProperty=!1,p.fillValuesOutOfRangeProperty=!0,p.colorMapPropertyChanged=p.colorMapPropertyChanged.bind(p),null==r||!r.colorMap||"toJSON"in r.colorMap||(r.colorMap=new c.HeatmapColorMap(r.colorMap)),p.colorMap=null==r?void 0:r.colorMap,p.dataSeries=null==r?void 0:r.dataSeries,p.xAxisId=null!==(i=null==r?void 0:r.xAxisId)&&void 0!==i?i:a.AxisCore.DEFAULT_AXIS_ID,p.xAxisId=null!==(n=null==r?void 0:r.yAxisId)&&void 0!==n?n:a.AxisCore.DEFAULT_AXIS_ID,p.useLinearTextureFilteringProperty=null!==(o=null==r?void 0:r.useLinearTextureFiltering)&&void 0!==o?o:p.useLinearTextureFilteringProperty,p.fillValuesOutOfRangeProperty=null!==(l=null==r?void 0:r.fillValuesOutOfRange)&&void 0!==l?l:p.fillValuesOutOfRangeProperty,(null===(u=p.paletteProvider)||void 0===u?void 0:u.onAttached)&&(null===(d=p.paletteProvider)||void 0===d||d.onAttached(p)),p.zLabelProviderProperty=new s.NumericLabelProvider({labelPrecision:2}),p}return n(BaseHeatmapRenderableSeries,e),Object.defineProperty(BaseHeatmapRenderableSeries.prototype,"colorMap",{get:function(){return this.colorMapProperty},set:function(e){var t,r;null===(t=this.colorMapProperty)||void 0===t||t.propertyChanged.unsubscribe(this.colorMapPropertyChanged),this.colorMapProperty=e,null===(r=this.colorMapProperty)||void 0===r||r.propertyChanged.subscribe(this.colorMapPropertyChanged),this.notifyPropertyChanged(u.PROPERTY.COLOR_MAP)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapRenderableSeries.prototype,"useLinearTextureFiltering",{get:function(){return this.useLinearTextureFilteringProperty},set:function(e){this.useLinearTextureFilteringProperty=e,this.notifyPropertyChanged(u.PROPERTY.USE_LINEAR_TEXTURE_FILTERING)},enumerable:!1,configurable:!0}),BaseHeatmapRenderableSeries.prototype.checkIsOutOfDataRange=function(e,t){var r=this.dataSeries;return!r||e<=r.xRange.min||e>=r.xRange.max||t<=r.yRange.min||t>=r.yRange.max},Object.defineProperty(BaseHeatmapRenderableSeries.prototype,"zLabelProvider",{get:function(){return this.zLabelProviderProperty},set:function(e){this.zLabelProviderProperty=e,this.notifyPropertyChanged(u.PROPERTY.Z_LABEL_PROVIDER)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseHeatmapRenderableSeries.prototype,"fillValuesOutOfRange",{get:function(){return this.fillValuesOutOfRangeProperty},set:function(e){this.fillValuesOutOfRangeProperty=e,this.notifyPropertyChanged(u.PROPERTY.FILL_VALUES_OUT_OF_RANGE)},enumerable:!1,configurable:!0}),BaseHeatmapRenderableSeries.prototype.toPointSeries=function(e){},BaseHeatmapRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r,i=e.prototype.toJSON.call(this,t),n={colorMap:null===(r=this.colorMap)||void 0===r?void 0:r.toJSON(),fillValuesOutOfRange:this.fillValuesOutOfRange,useLinearTextureFiltering:this.useLinearTextureFiltering};return Object.assign(i.options,n),i},BaseHeatmapRenderableSeries.prototype.delete=function(){this.zLabelProviderProperty=(0,o.deleteSafe)(this.zLabelProviderProperty),e.prototype.delete.call(this)},BaseHeatmapRenderableSeries.prototype.colorMapPropertyChanged=function(e){this.notifyPropertyChanged(t.COLOR_MAP_PREFIX+e.propertyName)},BaseHeatmapRenderableSeries}(l.BaseRenderableSeries);t.BaseHeatmapRenderableSeries=d},5234:function(e,t,r){"use strict";var i,n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLineRenderableSeries=t.ELineType=void 0;var s=r(41591),l=r(3488),u=r(87632),c=r(17759),d=r(46578),p=r(21077);(i=o=t.ELineType||(t.ELineType={})).Normal="Normal",i.Digital="Digital",i.DigitalNoEdge="DigitalNoEdge",i.DigitalYX="DigitalYX";var h=function(e){function BaseLineRenderableSeries(t,r){var i,n=this;return(n=e.call(this,t,r)||this).strokeDashArrayProperty=[],n.lineTypeProperty=o.Normal,n.strokeDashArrayProperty=null==r?void 0:r.strokeDashArray,n.lineTypeProperty=null!==(i=null==r?void 0:r.lineType)&&void 0!==i?i:n.lineTypeProperty,n.drawingProviders=[],n.drawingProviders.push(new c.LineSeriesDrawingProvider(t,n)),n.drawingProviders.push(new d.PointMarkerDrawingProvider(t,n)),n.dataLabelProviderProperty||(n.dataLabelProviderProperty=new u.LineSeriesDataLabelProvider(null==r?void 0:r.dataLabels),n.dataLabelProviderProperty.onAttach(n.webAssemblyContext,n)),(null==r?void 0:r.animation)&&n.animationQueue.push(r.animation),n}return a(BaseLineRenderableSeries,e),BaseLineRenderableSeries.prototype.applyTheme=function(t){e.prototype.applyTheme.call(this,t);var r=this.parentSurface.previousThemeProvider;this.stroke===r.lineSeriesColor&&(this.stroke=t.lineSeriesColor)},Object.defineProperty(BaseLineRenderableSeries.prototype,"strokeDashArray",{get:function(){return this.strokeDashArrayProperty},set:function(e){this.strokeDashArrayProperty=e,this.notifyPropertyChanged(l.PROPERTY.STROKE_DASH_ARRAY)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseLineRenderableSeries.prototype,"lineType",{get:function(){return this.lineTypeProperty},set:function(e){this.lineTypeProperty=e,this.notifyPropertyChanged(l.PROPERTY.LINE_TYPE)},enumerable:!1,configurable:!0}),BaseLineRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={strokeDashArray:this.strokeDashArray,lineType:this.lineTypeProperty};return Object.assign(r.options,i),r},BaseLineRenderableSeries.prototype.newHitTestProvider=function(){return new p.LineSeriesHitTestProvider(this,this.webAssemblyContext)},BaseLineRenderableSeries}(s.BaseRenderableSeries);t.BaseLineRenderableSeries=h},15877:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMountainRenderableSeries=void 0;var o=r(63869),a=r(61239),s=r(41591),l=r(3488),u=r(99026),c=r(23405),d=r(46578),p=r(30223),h=function(e){function BaseMountainRenderableSeries(t,r){var i,n,o,s,l,p=this;return(p=e.call(this,t,r)||this).zeroLineYProperty=0,p.fillProperty=a.SciChartSurfaceBase.DEFAULT_THEME.mountainAreaBrush,p.strokeDashArrayProperty=[],p.stroke=null!==(i=null==r?void 0:r.stroke)&&void 0!==i?i:a.SciChartSurfaceBase.DEFAULT_THEME.mountainLineColor,p.strokeDashArrayProperty=null!==(n=null==r?void 0:r.strokeDashArray)&&void 0!==n?n:p.strokeDashArrayProperty,p.fillProperty=null!==(o=null==r?void 0:r.fill)&&void 0!==o?o:p.fillProperty,p.zeroLineYProperty=null!==(s=null==r?void 0:r.zeroLineY)&&void 0!==s?s:p.zeroLineYProperty,p.fillLinearGradientProperty=null!==(l=null==r?void 0:r.fillLinearGradient)&&void 0!==l?l:p.fillLinearGradientProperty,p.dataLabelProviderProperty||(p.dataLabelProviderProperty=new u.DataLabelProvider(null==r?void 0:r.dataLabels),p.dataLabelProviderProperty.onAttach(p.webAssemblyContext,p)),p.drawingProviders.push(new c.MountainSeriesDrawingProvider(t,p)),p.drawingProviders.push(new d.PointMarkerDrawingProvider(t,p)),(null==r?void 0:r.animation)&&p.animationQueue.push(r.animation),p}return n(BaseMountainRenderableSeries,e),BaseMountainRenderableSeries.prototype.applyTheme=function(t){e.prototype.applyTheme.call(this,t);var r=this.parentSurface.previousThemeProvider;this.fill===r.mountainAreaBrush&&(this.fill=t.mountainAreaBrush),this.stroke===r.mountainLineColor&&(this.stroke=t.mountainLineColor)},Object.defineProperty(BaseMountainRenderableSeries.prototype,"fill",{get:function(){return(0,o.stripAutoColor)(this.fillProperty)},set:function(e){this.fillProperty=e,this.notifyPropertyChanged(l.PROPERTY.FILL)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseMountainRenderableSeries.prototype,"zeroLineY",{get:function(){return this.zeroLineYProperty},set:function(e){this.zeroLineYProperty=e,this.notifyPropertyChanged(l.PROPERTY.ZERO_LINE_Y)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseMountainRenderableSeries.prototype,"fillLinearGradient",{get:function(){return this.fillLinearGradientProperty},set:function(e){e!==this.fillLinearGradientProperty&&(this.fillLinearGradientProperty=e,this.notifyPropertyChanged(l.PROPERTY.FILL_LINEAR_GRADIENT))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseMountainRenderableSeries.prototype,"strokeDashArray",{get:function(){return this.strokeDashArrayProperty},set:function(e){this.strokeDashArrayProperty=e,this.notifyPropertyChanged(l.PROPERTY.STROKE_DASH_ARRAY)},enumerable:!1,configurable:!0}),BaseMountainRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={fill:this.fill,fillLinearGradient:this.fillLinearGradient,strokeDashArray:this.strokeDashArray,zeroLineY:this.zeroLineY};return Object.assign(r.options,i),r},BaseMountainRenderableSeries.prototype.resolveAutoColors=function(t,r,i){if(e.prototype.resolveAutoColors.call(this,t,r,i),this.fillProperty.startsWith(o.AUTO_COLOR)){var n=i.getFillColor(t,r,this.webAssemblyContext);this.fill=o.AUTO_COLOR+this.adjustAutoColor("fill",n)}},BaseMountainRenderableSeries.prototype.newHitTestProvider=function(){return new p.MountainSeriesHitTestProvider(this,this.webAssemblyContext)},BaseMountainRenderableSeries}(s.BaseRenderableSeries);t.BaseMountainRenderableSeries=h},74383:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseOhlcRenderableSeries=void 0;var o=r(94694),a=r(51134),s=r(3351),l=r(44897),u=r(6180),c=r(92060),d=r(99740),p=r(63869),h=r(61239),f=r(41591),y=r(3488),g=r(40199),v=function(e){function BaseOhlcRenderableSeries(t,r){var i=e.call(this,t,r)||this;return i.strokeUp=(null==r?void 0:r.strokeUp)||h.SciChartSurfaceBase.DEFAULT_THEME.upWickColor,i.strokeDown=(null==r?void 0:r.strokeDown)||h.SciChartSurfaceBase.DEFAULT_THEME.downWickColor,i.dataPointWidth=(null==r?void 0:r.dataPointWidth)||.5,i.strokeThickness=(null==r?void 0:r.strokeThickness)||1,(null==r?void 0:r.animation)&&i.animationQueue.push(r.animation),i}return n(BaseOhlcRenderableSeries,e),BaseOhlcRenderableSeries.prototype.applyTheme=function(t){e.prototype.applyTheme.call(this,t);var r=this.parentSurface.previousThemeProvider;this.stroke===r.lineSeriesColor&&(this.stroke=t.lineSeriesColor),this.strokeUp===r.upWickColor&&(this.strokeUp=t.upWickColor),this.strokeDown===r.downWickColor&&(this.strokeDown=t.downWickColor)},Object.defineProperty(BaseOhlcRenderableSeries.prototype,"strokeUp",{get:function(){return(0,p.stripAutoColor)(this.strokeUpProperty)},set:function(e){this.strokeUpProperty=e,this.notifyPropertyChanged(y.PROPERTY.STROKE_UP)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseOhlcRenderableSeries.prototype,"strokeDown",{get:function(){return(0,p.stripAutoColor)(this.strokeDownProperty)},set:function(e){this.strokeDownProperty=e,this.notifyPropertyChanged(y.PROPERTY.STROKE_DOWN)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseOhlcRenderableSeries.prototype,"dataPointWidth",{get:function(){return this.dataPointWidthProperty},set:function(e){this.dataPointWidthProperty=e,this.notifyPropertyChanged(y.PROPERTY.DATA_POINT_WIDTH)},enumerable:!1,configurable:!0}),BaseOhlcRenderableSeries.prototype.notifyPropertyChanged=function(t){if(e.prototype.notifyPropertyChanged.call(this,t),t===y.PROPERTY.DATA_SERIES&&void 0!==this.dataSeries&&this.dataSeries.type!==s.EDataSeriesType.Ohlc)throw Error("DataSeries for Candlestick or Ohlc series must be type OhlcDataSeries")},BaseOhlcRenderableSeries.prototype.getXRange=function(){var t=e.prototype.getXRange.call(this),r=this.dataSeries.count();if(r>1){var i=t.diff/(r-1)*this.dataPointWidth/2;return new a.NumberRange(t.min-i,t.max+i)}return t},BaseOhlcRenderableSeries.prototype.delete=function(){this.resamplerHelper=(0,o.deleteSafe)(this.resamplerHelper),this.xyyTempPointSeries=(0,o.deleteSafe)(this.xyyTempPointSeries),this.pointSeries=(0,o.deleteSafe)(this.pointSeries),e.prototype.delete.call(this)},BaseOhlcRenderableSeries.prototype.getNativeOpenValues=function(){return this.dataSeries.getNativeOpenValues()},BaseOhlcRenderableSeries.prototype.getNativeHighValues=function(){return this.dataSeries.getNativeHighValues()},BaseOhlcRenderableSeries.prototype.getNativeLowValues=function(){return this.dataSeries.getNativeLowValues()},BaseOhlcRenderableSeries.prototype.getNativeCloseValues=function(){return this.dataSeries.getNativeYValues()},BaseOhlcRenderableSeries.prototype.resolveAutoColors=function(e,t,r){if(this.strokeUpProperty.startsWith(p.AUTO_COLOR)){var i=r.getStrokeColor(e,t,this.webAssemblyContext);this.strokeUp=p.AUTO_COLOR+this.adjustAutoColor("strokeUp",i)}var n=(e+Math.floor(t/2))%t;if(this.strokeDownProperty.startsWith(p.AUTO_COLOR)){var i=r.getStrokeColor(n,t,this.webAssemblyContext);this.strokeDown=p.AUTO_COLOR+this.adjustAutoColor("strokeDown",i)}},BaseOhlcRenderableSeries.prototype.toPointSeries=function(e){if(!e)return new u.OhlcPointSeriesWrapped(this.dataSeries);this.xyyTempPointSeries?this.xyyTempPointSeries.xRange=e.xVisibleRange:this.xyyTempPointSeries=new c.XyyPointSeriesResampled(this.webAssemblyContext,e.xVisibleRange),this.pointSeries?this.pointSeries.xRange=e.xVisibleRange:this.pointSeries=new l.OhlcPointSeriesResampled(this.webAssemblyContext,e.xVisibleRange);var t=this.pointSeries,r=this.dataSeries,i=r.getNativeXValues(),n=r.getNativeOpenValues(),o=r.getNativeHighValues(),a=r.getNativeLowValues(),s=r.getNativeCloseValues(),p=r.getNativeIndexes(),h=e.clone({resamplingMode:e.resamplingMode===d.EResamplingMode.None?d.EResamplingMode.None:d.EResamplingMode.Max}),f=this.resamplerHelper.resampleIntoPointSeries(this.webAssemblyContext,h,i,o,this.xyyTempPointSeries.intIndexes,void 0,this.xyyTempPointSeries.xValues,t.highValues);this.pointSeries.fifoStartIndex=f.OutputSplitIndex,this.xyyTempPointSeries.clearIntIndexes();var y=e.clone({resamplingMode:e.resamplingMode===d.EResamplingMode.None?d.EResamplingMode.None:d.EResamplingMode.Min});this.resamplerHelper.resampleIntoPointSeries(this.webAssemblyContext,y,i,a,this.xyyTempPointSeries.intIndexes,void 0,this.xyyTempPointSeries.xValues,t.lowValues),this.xyyTempPointSeries.clearIntIndexes(),this.xyyTempPointSeries.y1Values.clear();var g=e.clone({resamplingMode:e.resamplingMode===d.EResamplingMode.None?d.EResamplingMode.None:d.EResamplingMode.Min});this.resamplerHelper.resampleIntoPointSeries(this.webAssemblyContext,g,i,p,t.intIndexes,void 0,this.xyyTempPointSeries.xValues,this.xyyTempPointSeries.y1Values);var v=t.intIndexes.size();this.xyyTempPointSeries.y1Values.clear();var m=t.intIndexes.get(3)-t.intIndexes.get(2)-1;return t.indexes.resizeFast(v+1),this.resamplerHelper.copyValuesByIndexes(t.intIndexes,i,n,s,v,e.isCategoryAxis,this.dataSeries.fifoSweeping,t.indexes,t.xValues,t.openValues,t.closeValues,m),t.clearIntIndexes(),t},BaseOhlcRenderableSeries.prototype.newHitTestProvider=function(){return new g.OhlcSeriesHitTestProvider(this,this.webAssemblyContext)},BaseOhlcRenderableSeries}(f.BaseRenderableSeries);t.BaseOhlcRenderableSeries=v},41591:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.getDelta=t.getDataPointWidth=t.BaseRenderableSeries=void 0;var o=r(53247),a=r(22533),s=r(15492),l=r(94694),u=r(35855),c=r(47494),d=r(10239),p=r(51894),h=r(15140),f=r(86538),y=r(67423),g=r(55687),v=r(92200),m=r(21075),S=r(32435),b=r(91379),P=r(3709),C=r(35846),x=r(29723),A=r(2765),T=r(3351),_=r(4002),R=r(60376),E=r(80554),w=r(25145),D=r(99740),O=r(63869),I=r(87994),M=r(3192),L=r(61239),k=r(91462),N=r(36072),B=r(3488),V=r(67046),F=r(11454),j=r(15426),H=r(37861),z=r(60717),G=function(e){function BaseRenderableSeries(t,r){var i,n,a,s,l,c,g,S,b,P,C,x,A,T,R,E,O,M,k=this;if((k=e.call(this)||this).rolloverModifierProps=new V.RolloverModifierRenderableSeriesProps(k),k.rolloverModifierProps1=new V.RolloverModifierRenderableSeriesProps(k,!0),k.selected=new u.EventHandler,k.hovered=new u.EventHandler,k.isVisibleChanged=new u.EventHandler,k.animationQueue=[],k.paletteProviderProperty=_.DefaultPaletteProvider.createEmpty(),k.typeMap=new Map,k.opacityProperty=1,k.drawingProvidersProperty=[],k.xAxisIdProperty=I.AxisCore.DEFAULT_AXIS_ID,k.yAxisIdProperty=I.AxisCore.DEFAULT_AXIS_ID,k.strokeThicknessProperty=2,k.strokeProperty=L.SciChartSurfaceBase.DEFAULT_THEME.lineSeriesColor,k.drawNaNAsProperty=m.ELineDrawMode.DiscontinuousLine,k.isVisibleProperty=!0,k.isDigitalLineProperty=!1,k.resamplingModeProperty=D.EResamplingMode.Auto,k.resamplingPrecisionProperty=0,k.clipToYRangeProperty=!1,k.yRangeModeProperty=z.EYRangeMode.Drawn,k.isStacked=!1,k.webAssemblyContext=t,k.id=null!==(i=null==r?void 0:r.id)&&void 0!==i?i:(0,v.generateGuid)(),k.dataSeriesDataChanged=k.dataSeriesDataChanged.bind(k),k.effectPropertyChanged=k.effectPropertyChanged.bind(k),k.invalidateParent=k.invalidateParent.bind(k),k.getDataPointWidth=k.getDataPointWidth.bind(k),k.updateAnimationProperties=k.updateAnimationProperties.bind(k),k.beforeAnimationStart=k.beforeAnimationStart.bind(k),k.afterAnimationComplete=k.afterAnimationComplete.bind(k),k.dataSeries=null!==(n=null==r?void 0:r.dataSeries)&&void 0!==n?n:k.dataSeriesProperty,null==r||!r.pointMarker||"drawSprite"in r.pointMarker||(r.pointMarker.type===y.EPointMarkerType.Custom?r.pointMarker=(0,o.createType)(p.EBaseType.PointMarker,r.pointMarker.customType,t,r.pointMarker.options):r.pointMarker=(0,o.createType)(p.EBaseType.PointMarker,r.pointMarker.type,t,r.pointMarker.options)),k.pointMarkerProperty=null!==(a=null==r?void 0:r.pointMarker)&&void 0!==a?a:k.pointMarkerProperty,k.strokeProperty=null!==(s=null==r?void 0:r.stroke)&&void 0!==s?s:k.strokeProperty,k.strokeThicknessProperty=null!==(l=null==r?void 0:r.strokeThickness)&&void 0!==l?l:k.strokeThicknessProperty,k.opacityProperty=null!==(c=null==r?void 0:r.opacity)&&void 0!==c?c:k.opacityProperty,k.xAxisIdProperty=null!==(g=null==r?void 0:r.xAxisId)&&void 0!==g?g:k.xAxisIdProperty,k.yAxisIdProperty=null!==(S=null==r?void 0:r.yAxisId)&&void 0!==S?S:k.yAxisIdProperty,k.isVisibleProperty=null!==(b=null==r?void 0:r.isVisible)&&void 0!==b?b:k.isVisibleProperty,k.isDigitalLineProperty=null!==(P=null==r?void 0:r.isDigitalLine)&&void 0!==P?P:k.isDigitalLineProperty,k.resamplingModeProperty=null!==(C=null==r?void 0:r.resamplingMode)&&void 0!==C?C:k.resamplingModeProperty,k.resamplingPrecisionProperty=null!==(x=null==r?void 0:r.resamplingPrecision)&&void 0!==x?x:k.resamplingPrecisionProperty,null==r||!r.effect||"getNativeEffect"in r.effect||(r.effect=(0,o.createType)(p.EBaseType.ShaderEffect,r.effect.type,t,r.effect.options)),k.effectProperty=null==r?void 0:r.effect,null==r||!r.paletteProvider||"onAttached"in r.paletteProvider||(r.paletteProvider.type===f.EPaletteProviderType.Custom?r.paletteProvider=(0,o.createType)(p.EBaseType.PaletteProvider,r.paletteProvider.customType,t,r.paletteProvider.options):r.paletteProvider=(0,o.createType)(p.EBaseType.PaletteProvider,r.paletteProvider.type,t,r.paletteProvider.options)),k.paletteProviderProperty=null!==(A=null==r?void 0:r.paletteProvider)&&void 0!==A?A:k.paletteProviderProperty,k.drawNaNAsProperty=null!==(T=null==r?void 0:r.drawNaNAs)&&void 0!==T?T:k.drawNaNAsProperty,k.hitTestProvider=k.newHitTestProvider(),k.isSelected=null!==(R=null==r?void 0:r.isSelected)&&void 0!==R&&R,k.isHovered=null!==(E=null==r?void 0:r.isHovered)&&void 0!==E&&E,k.clipToYRangeProperty=null!==(O=null==r?void 0:r.clipToYRange)&&void 0!==O?O:k.clipToYRangeProperty,k.yRangeModeProperty=null!==(M=null==r?void 0:r.yRangeMode)&&void 0!==M?M:k.yRangeModeProperty,null==r?void 0:r.onIsVisibleChanged){if("string"==typeof r.onIsVisibleChanged){k.typeMap.set("onIsVisibleChanged",r.onIsVisibleChanged);var N=(0,o.getFunction)(p.EBaseType.OptionFunction,r.onIsVisibleChanged);k.isVisibleChanged.subscribe(function(e){return N(e.sourceSeries,e.isVisible)})}else{var B=null==r?void 0:r.onIsVisibleChanged;k.isVisibleChanged.subscribe(function(e){return B(e.sourceSeries,e.isVisible)})}}if(null==r?void 0:r.onSelectedChanged){if("string"==typeof r.onSelectedChanged){k.typeMap.set("onSelectedChanged",r.onSelectedChanged);var F=(0,o.getFunction)(p.EBaseType.OptionFunction,r.onSelectedChanged);k.selected.subscribe(function(e){return F(e.sourceSeries,e.isSelected)})}else{var j=null==r?void 0:r.onSelectedChanged;k.selected.subscribe(function(e){return j(e.sourceSeries,e.isSelected)})}}if(null==r?void 0:r.onHoveredChanged){if("string"==typeof r.onHoveredChanged){k.typeMap.set("onHoveredChanged",r.onHoveredChanged);var H=(0,o.getFunction)(p.EBaseType.OptionFunction,r.onHoveredChanged);k.hovered.subscribe(function(e){return H(e.sourceSeries,e.hovered)})}else{var G=null==r?void 0:r.onHoveredChanged;k.hovered.subscribe(function(e){return G(e.sourceSeries,e.hovered)})}}return null==r||!r.animation||"toJSON"in r.animation||(r.animation.type===d.EAnimationType.Custom?r.animation=(0,o.createType)(p.EBaseType.Animation,r.animation.customType,t,r.animation.options):r.animation=(0,o.createType)(p.EBaseType.Animation,r.animation.type,t,r.animation.options)),k.onDpiChanged=k.onDpiChanged.bind(k),k.resamplerHelper=new w.ExtremeResamplerHelper(t),null==r||!r.dataLabelProvider||"draw"in r.dataLabelProvider||(r.dataLabelProvider.type===h.EDataLabelProviderType.Custom?r.dataLabelProvider=(0,o.createType)(p.EBaseType.DataLabelProvider,r.dataLabelProvider.customType,t,r.dataLabelProvider.options):r.dataLabelProvider=(0,o.createType)(p.EBaseType.DataLabelProvider,r.dataLabelProvider.type,t,r.dataLabelProvider.options)),k.dataLabelProviderProperty=null==r?void 0:r.dataLabelProvider,k.dataLabelProviderProperty&&k.dataLabelProviderProperty.onAttach(t,k),k}return n(BaseRenderableSeries,e),BaseRenderableSeries.prototype.applyTheme=function(e){var t=this.parentSurface.previousThemeProvider;this.rolloverModifierProps.tooltipTextColor===t.textAnnotationForeground&&(this.rolloverModifierProps.tooltipTextColor=e.textAnnotationForeground),this.rolloverModifierProps.tooltipColor===t.textAnnotationBackground&&(this.rolloverModifierProps.tooltipColor=e.textAnnotationBackground),this.rolloverModifierProps.markerColor===t.textAnnotationBackground&&(this.rolloverModifierProps.markerColor=e.textAnnotationBackground)},Object.defineProperty(BaseRenderableSeries.prototype,"parentSurface",{get:function(){return this.parentSurfaceProperty},set:function(e){this.parentSurfaceProperty=e,this.notifyPropertyChanged(B.PROPERTY.PARENT_SURFACE)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"drawingProviders",{get:function(){return this.drawingProvidersProperty},set:function(e){this.drawingProvidersProperty=e,this.notifyPropertyChanged(B.PROPERTY.DRAWING_PROVIDERS)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"isSelected",{get:function(){return this.isSelectedProperty},set:function(e){var t;this.valueChanged(this.isSelectedProperty,e)&&(this.isSelectedProperty=e,null===(t=this.selected)||void 0===t||t.raiseEvent(new j.SeriesSelectedArgs(this,e)),this.notifyPropertyChanged(B.PROPERTY.IS_SELECTED))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"isHovered",{get:function(){return this.isHoveredProperty},set:function(e){var t;this.valueChanged(this.isHoveredProperty,e)&&(this.isHoveredProperty=e,null===(t=this.hovered)||void 0===t||t.raiseEvent(new F.SeriesHoveredArgs(this,e)),this.notifyPropertyChanged(B.PROPERTY.HOVERED))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"paletteProvider",{get:function(){return this.paletteProviderProperty},set:function(e){this.setPaletteProvider(e)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"isDigitalLine",{get:function(){return this.isDigitalLineProperty},set:function(e){this.isDigitalLineProperty=e,this.notifyPropertyChanged(B.PROPERTY.IS_DIGITAL_LINE)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"isVisible",{get:function(){return this.isVisibleProperty},set:function(e){var t;this.valueChanged(this.isVisibleProperty,e)&&(this.isVisibleProperty=e,!e&&(this.rolloverModifierProps.marker&&this.rolloverModifierProps.tooltip&&(this.rolloverModifierProps.marker.suspendInvalidate(),this.rolloverModifierProps.tooltip.suspendInvalidate(),this.rolloverModifierProps.marker.isHidden=!0,this.rolloverModifierProps.tooltip.isHidden=!0,this.rolloverModifierProps.tooltip.x1=void 0,this.rolloverModifierProps.tooltip.y1=void 0),this.type===g.ESeriesType.BandSeries&&this.rolloverModifierProps1.marker&&this.rolloverModifierProps1.tooltip&&(this.rolloverModifierProps1.marker.suspendInvalidate(),this.rolloverModifierProps1.tooltip.suspendInvalidate(),this.rolloverModifierProps1.marker.isHidden=!0,this.rolloverModifierProps1.tooltip.isHidden=!0,this.rolloverModifierProps1.tooltip.x1=void 0,this.rolloverModifierProps1.tooltip.y1=void 0)),null===(t=this.isVisibleChanged)||void 0===t||t.raiseEvent(new H.SeriesVisibleChangedArgs(this,e)),this.notifyPropertyChanged(B.PROPERTY.IS_VISIBLE))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"pointMarker",{get:function(){return this.pointMarkerProperty},set:function(e){this.pointMarkerProperty&&(this.pointMarkerProperty.invalidateParentCallback=void 0),this.pointMarkerProperty=e,this.notifyPropertyChanged(B.PROPERTY.POINT_MARKER),this.pointMarkerProperty&&(this.pointMarkerProperty.invalidateParentCallback=this.invalidateParent)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"drawNaNAs",{get:function(){return this.drawNaNAsProperty},set:function(e){this.drawNaNAsProperty=e,this.notifyPropertyChanged(B.PROPERTY.DRAW_NAN_AS)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"stroke",{get:function(){return(0,O.stripAutoColor)(this.strokeProperty)},set:function(e){this.strokeProperty!==e&&(this.strokeProperty=e,this.notifyPropertyChanged(B.PROPERTY.STROKE))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"strokeThickness",{get:function(){return this.strokeThicknessProperty},set:function(e){this.strokeThicknessProperty!==e&&(this.strokeThicknessProperty=e,this.notifyPropertyChanged(B.PROPERTY.STROKE_THICKNESS))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"opacity",{get:function(){return this.opacityProperty},set:function(e){this.opacityProperty!==e&&(this.opacityProperty=e,this.notifyPropertyChanged(B.PROPERTY.OPACITY))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"xAxisId",{get:function(){return this.xAxisIdProperty},set:function(e){this.xAxisIdProperty=e,this.notifyPropertyChanged(B.PROPERTY.XAXIS_ID)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"xAxis",{get:function(){var e,t=this;return null===(e=this.parentSurface)||void 0===e?void 0:e.xAxes.asArray().find(function(e){return e.id===t.xAxisId})},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"yAxis",{get:function(){var e,t=this;return null===(e=this.parentSurface)||void 0===e?void 0:e.yAxes.asArray().find(function(e){return e.id===t.yAxisId})},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"yAxisId",{get:function(){return this.yAxisIdProperty},set:function(e){this.yAxisIdProperty=e,this.notifyPropertyChanged(B.PROPERTY.YAXIS_ID)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"dataSeries",{get:function(){return this.dataSeriesProperty},set:function(e){var t,r,i;if(this.dataSeriesProperty){var n=null===(t=this.parentSurface)||void 0===t?void 0:t.getXAxisById(this.xAxisId);n&&n.isCategoryAxis&&n.clearCoordCalcCache()}null===(r=this.dataSeriesProperty)||void 0===r||r.dataChanged.unsubscribe(this.dataSeriesDataChanged),this.dataSeriesProperty=e,null===(i=this.dataSeriesProperty)||void 0===i||i.dataChanged.subscribe(this.dataSeriesDataChanged),this.notifyPropertyChanged(B.PROPERTY.DATA_SERIES)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"enableDrawingOptimisations",{get:function(){return this.resamplingModeProperty!==D.EResamplingMode.None},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"effect",{get:function(){return this.effectProperty},set:function(e){var t,r;null===(t=this.effectProperty)||void 0===t||t.propertyChanged.unsubscribe(this.effectPropertyChanged),this.effectProperty=e,null===(r=this.effectProperty)||void 0===r||r.propertyChanged.subscribe(this.effectPropertyChanged),this.notifyPropertyChanged(B.PROPERTY.EFFECT)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"resamplingMode",{get:function(){return this.resamplingModeProperty},set:function(e){this.resamplingModeProperty=e,this.notifyPropertyChanged(B.PROPERTY.RESAMPLING_MODE)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"resamplingPrecision",{get:function(){return this.resamplingPrecisionProperty},set:function(e){this.resamplingPrecisionProperty=e,this.notifyPropertyChanged(B.PROPERTY.RESAMPLING_PRECISION)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"clipToYRange",{get:function(){return this.clipToYRangeProperty},set:function(e){this.clipToYRangeProperty!==e&&(this.clipToYRangeProperty=e,this.notifyPropertyChanged(B.PROPERTY.CLIPTOYRANGE))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"yRangeMode",{get:function(){return this.yRangeModeProperty},set:function(e){this.yRangeModeProperty!==e&&(this.yRangeModeProperty=e,this.notifyPropertyChanged(B.PROPERTY.YRANGEMODE))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"isSpline",{get:function(){return[g.ESeriesType.SplineBandSeries,g.ESeriesType.SplineLineSeries,g.ESeriesType.SplineMountainSeries].includes(this.type)},enumerable:!1,configurable:!0}),BaseRenderableSeries.prototype.draw=function(e,t){var r,i,n=this;if(this.currentRenderPassData=t,null===(r=this.hitTestProvider)||void 0===r||r.update(t),this.canDraw){var o=e.getNativeContext(),a=null===(i=this.parentSurface)||void 0===i?void 0:i.seriesViewRect;try{if(e.pushShaderEffect(this.effect),this.clipToYRange){var s=t.xCoordinateCalculator,l=s.offset,u=s.viewportDimension,d=t.yCoordinateCalculator,p=d.offset,h=d.viewportDimension;if(t.isVerticalChart){var f=new c.Rect(a.x+p,a.y+l,h,u);o.SetClipRect(f.x,f.y,f.width,f.height)}else{var f=new c.Rect(a.x+l,a.y+p,u,h);o.SetClipRect(f.x,f.y,f.width,f.height)}}this.drawingProviders.forEach(function(r){if(n.renderDataTransform&&n.renderDataTransform.drawingProviders.includes(r)){var i=n.renderDataTransform.runTransform(t);r.draw(e,i)}else r.draw(e,t)})}finally{this.clipToYRange&&o.SetClipRect(a.x,a.y,a.width,a.height),e.popShaderEffect()}this.dataLabelProvider&&this.dataLabelProvider.generateDataLabels(e,t)}},BaseRenderableSeries.prototype.delete=function(){this.drawingProviders.forEach(function(e){return e.delete()}),this.drawingProviders=[],this.dataSeries=(0,l.deleteSafe)(this.dataSeries),this.effect=(0,l.deleteSafe)(this.effect),this.pointMarker=(0,l.deleteSafe)(this.pointMarker),this.resamplerHelper=(0,l.deleteSafe)(this.resamplerHelper),this.pointSeries=(0,l.deleteSafe)(this.pointSeries),this.dataLabelProviderProperty=(0,l.deleteSafe)(this.dataLabelProvider),this.renderDataTransformProperty=(0,l.deleteSafe)(this.renderDataTransform)},BaseRenderableSeries.prototype.getXRange=function(){return this.dataSeries.getXRange(T.EDataSeriesValueType.Default)},BaseRenderableSeries.prototype.getYRange=function(e,t){void 0===t&&(t=!1);var r=this.isRunningDataAnimation?T.EDataSeriesValueType.FinalAnimationValues:T.EDataSeriesValueType.Default;return this.dataSeries.getWindowedYRange(e,!0,t,r,this.yRangeMode)},BaseRenderableSeries.prototype.notifyPropertyChanged=function(e){this.drawingProviders.forEach(function(t){return t.onSeriesPropertyChange(e)}),this.invalidateParent()},BaseRenderableSeries.prototype.getDataPointWidth=function(e,r){var i=this.dataSeries.getNativeXValues(),n=e.viewportDimension,o=e.isCategoryCoordinateCalculator;return(0,t.getDataPointWidth)(i,e,n,r,o,this.webAssemblyContext)},BaseRenderableSeries.prototype.onDetach=function(){this.invalidateParentCallback=void 0,this.parentSurface=void 0,this.drawingProviders.forEach(function(e){return e.onDetachSeries()}),this.rolloverModifierProps.setInvalidateParentCallback(void 0)},BaseRenderableSeries.prototype.onAttach=function(e){if(this.parentSurface=e,this.invalidateParentCallback)throw Error("Invalid operation in sciChartSurface.attachSeries, this series has already been attached to a SciChartSurface. Please detach it from a SciChartSurface before attaching to another");this.invalidateParentCallback=e.invalidateElement,this.drawingProviders.forEach(function(e){return e.onAttachSeries()}),this.rolloverModifierProps.setInvalidateParentCallback(e.invalidateElement)},BaseRenderableSeries.prototype.hasStrokePaletteProvider=function(){var e=this.paletteProvider;return(null==e?void 0:e.overrideStrokeArgb)!==void 0},BaseRenderableSeries.prototype.hasFillPaletteProvider=function(){var e=this.paletteProvider;return(null==e?void 0:e.overrideFillArgb)!==void 0},BaseRenderableSeries.prototype.hasPointMarkerPaletteProvider=function(){var e=this.paletteProvider;return(null==e?void 0:e.overridePointMarkerArgb)!==void 0},BaseRenderableSeries.prototype.hasDataSeriesValues=function(){var e;return null===(e=this.dataSeries)||void 0===e?void 0:e.hasValues},BaseRenderableSeries.prototype.hasDataSeries=function(){return!!this.dataSeries},BaseRenderableSeries.prototype.getDataSeriesValuesCount=function(){return this.dataSeries.count()},BaseRenderableSeries.prototype.getDataSeriesName=function(){var e;return null===(e=this.dataSeries)||void 0===e?void 0:e.dataSeriesName},BaseRenderableSeries.prototype.getNativeXValues=function(){return this.dataSeries.getNativeXValues()},BaseRenderableSeries.prototype.getNativeYValues=function(){return this.dataSeries.getNativeYValues()},BaseRenderableSeries.prototype.checkIsOutOfDataRange=function(e,t){var r=this.getDataSeriesValuesCount(),i=this.xAxis.getCurrentCoordinateCalculator().isCategoryCoordinateCalculator,n=i?0:this.getNativeXValues().get(0),o=i?r-1:this.getNativeXValues().get(r-1);return e<n||e>o},BaseRenderableSeries.prototype.pushPalettedColors=function(e,t){t.palettedColors.push_back(e)},BaseRenderableSeries.prototype.getSeriesInfo=function(e){switch(e.dataSeriesType){case T.EDataSeriesType.Ohlc:return new P.OhlcSeriesInfo(this,e);case T.EDataSeriesType.Xyy:return new x.XyySeriesInfo(this,e);case T.EDataSeriesType.Xyz:return new A.XyzSeriesInfo(this,e);case T.EDataSeriesType.HeatmapUniform:return new S.HeatmapSeriesInfo(this,e);case T.EDataSeriesType.Hlc:return new b.HlcSeriesInfo(this,e);default:return new C.XySeriesInfo(this,e)}},BaseRenderableSeries.prototype.onDpiChanged=function(e){var t,r;null===(t=this.drawingProviders)||void 0===t||t.forEach(function(t){t.onDpiChanged(e)}),null===(r=this.pointMarker)||void 0===r||r.onDpiChanged(e)},BaseRenderableSeries.prototype.toJSON=function(e){if(void 0===e&&(e=!1),this.paletteProvider){if("toJSON"in this.paletteProvider)h=this.paletteProvider.toJSON();else throw Error("Series contains a palletProvider.  This must implement toJSON to be correctly serialized")}var t,r,i,n,o,a,s,l,u,c,d,p,h,f={id:this.id,drawNaNAs:this.drawNaNAs,effect:null===(t=this.effect)||void 0===t?void 0:t.toJSON(),isDigitalLine:this.isDigitalLine,isHovered:this.isHovered,isSelected:this.isSelected,isVisible:this.isVisible,opacity:this.opacity,paletteProvider:h,pointMarker:null===(r=this.pointMarker)||void 0===r?void 0:r.toJSON(),stroke:this.stroke,strokeThickness:this.strokeThickness,xAxisId:this.xAxisId,yAxisId:this.yAxisId,animation:this.animation,resamplingMode:this.resamplingMode,resamplingPrecision:this.resamplingPrecision,clipToYRange:this.clipToYRange,yRangeMode:this.yRangeMode,dataLabelProvider:null===(i=this.dataLabelProvider)||void 0===i?void 0:i.toJSON()},y=null===(n=this.dataSeries)||void 0===n?void 0:n.toJSON(e),g=null==y?void 0:y.options;if((null===(o=this.dataSeries)||void 0===o?void 0:o.type)===T.EDataSeriesType.Xy)return{type:this.type,options:f,xyData:g};if((null===(a=this.dataSeries)||void 0===a?void 0:a.type)===T.EDataSeriesType.Xyy)return{type:this.type,options:f,xyyData:g};if((null===(s=this.dataSeries)||void 0===s?void 0:s.type)===T.EDataSeriesType.Xyz)return{type:this.type,options:f,xyzData:g};if((null===(l=this.dataSeries)||void 0===l?void 0:l.type)===T.EDataSeriesType.Ohlc)return{type:this.type,options:f,ohlcData:g};if((null===(u=this.dataSeries)||void 0===u?void 0:u.type)===T.EDataSeriesType.Hlc)return{type:this.type,options:f,hlcData:g};if((null===(c=this.dataSeries)||void 0===c?void 0:c.type)===T.EDataSeriesType.XyText)return{type:this.type,options:f,xyTextData:g};if((null===(d=this.dataSeries)||void 0===d?void 0:d.type)===T.EDataSeriesType.HeatmapUniform)return{type:this.type,options:f,heatmapData:g};else if((null===(p=this.dataSeries)||void 0===p?void 0:p.type)===T.EDataSeriesType.HeatmapNonUniform)return{type:this.type,options:f,heatmapData:g};else return{type:this.type,options:f}},BaseRenderableSeries.prototype.enqueueAnimation=function(e){this.animationQueue.push(e),this.invalidateParent()},BaseRenderableSeries.prototype.runAnimation=function(e){var t;this.animationQueue=[],null===(t=this.animationFSM)||void 0===t||t.toCompleted(),this.enqueueAnimation(e)},Object.defineProperty(BaseRenderableSeries.prototype,"animation",{set:function(e){e&&this.animationQueue.push(e),this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"isRunningAnimation",{get:function(){return N.animationHelpers.checkIsAnimationRunning(this.animationQueue,this.animationFSM)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"isRunningDataAnimation",{get:function(){return this.isRunningAnimation&&this.animationFSM&&(this.animationFSM.animation.isDataSeriesAnimation||this.animationFSM.animation.isOnStartAnimation)},enumerable:!1,configurable:!0}),BaseRenderableSeries.prototype.onAnimate=function(e){var t;if(!this.animationFSM||(null===(t=this.animationFSM)||void 0===t?void 0:t.is([a.EAnimationState.Completed]))){if(this.animationQueue.length>=1){var r=this.animationQueue.shift();this.animationFSM=new a.SeriesAnimationFiniteStateMachine(r,this)}else this.animationFSM=void 0}this.animationFSM&&(this.dataSeries.xInitialAnimationValues||this.dataSeries.createAnimationVectors(),N.animationHelpers.animationUpdate(this.animationFSM,e,this.beforeAnimationStart,this.afterAnimationComplete,this.updateAnimationProperties))},BaseRenderableSeries.prototype.toPointSeries=function(e){if(!e)return new E.XyPointSeriesWrapped(this.dataSeries);this.pointSeries?this.pointSeries.xRange=e.xVisibleRange:this.pointSeries=new R.XyPointSeriesResampled(this.webAssemblyContext,e.xVisibleRange);var t=this.resamplerHelper.resampleIntoPointSeries(this.webAssemblyContext,e,this.dataSeries.getNativeXValues(),this.dataSeries.getNativeYValues(),this.pointSeries.intIndexes,this.pointSeries.indexes,this.pointSeries.xValues,this.pointSeries.yValues,!1);return this.pointSeries.fifoStartIndex=t.OutputSplitIndex,this.pointSeries.clearIntIndexes(),this.pointSeries},BaseRenderableSeries.prototype.getIndicesRange=function(e,t){var r;return void 0===t&&(t=!1),null===(r=this.dataSeries)||void 0===r?void 0:r.getIndicesRange(e,t)},BaseRenderableSeries.prototype.getCurrentRenderPassData=function(){return this.currentRenderPassData},Object.defineProperty(BaseRenderableSeries.prototype,"supportsResampling",{get:function(){return![g.ESeriesType.UniformContoursSeries,g.ESeriesType.UniformHeatmapSeries,g.ESeriesType.NonUniformHeatmapSeries,g.ESeriesType.BubbleSeries,g.ESeriesType.ErrorBarsSeries].includes(this.type)&&M.SciChartDefaults.enableResampling&&this.enableDrawingOptimisations&&!this.isStacked&&this.dataSeries&&this.dataSeries.count()>0&&(this.dataSeries.dataDistributionCalculator.isSortedAscending||this.xAxis.isCategoryAxis)},enumerable:!1,configurable:!0}),BaseRenderableSeries.prototype.needsResampling=function(e){return this.resamplerHelper.needsResampling(e,this.getNativeXValues())},Object.defineProperty(BaseRenderableSeries.prototype,"dataLabelProvider",{get:function(){return this.dataLabelProviderProperty},set:function(e){this.dataLabelProviderProperty=e,e.onAttach(this.webAssemblyContext,this),this.notifyPropertyChanged(B.PROPERTY.SERIES_TEXT_PROVIDER)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries.prototype,"renderDataTransform",{get:function(){return this.renderDataTransformProperty},set:function(e){if(e.parentSeries!==this)throw Error("renderDataTransform can only be added to the series it was created with");this.renderDataTransformProperty=e,this.notifyPropertyChanged(B.PROPERTY.SERIES_TEXT_PROVIDER)},enumerable:!1,configurable:!0}),BaseRenderableSeries.prototype.resolveAutoColors=function(e,t,r){if(this.strokeProperty.startsWith(O.AUTO_COLOR)){var i=this.parentSurface.themeProvider.getStrokeColor(e,t,this.webAssemblyContext);this.stroke=O.AUTO_COLOR+this.adjustAutoColor("stroke",i)}this.pointMarker&&this.pointMarker.resolveAutoColors(e,t,r),this.dataLabelProvider&&this.dataLabelProvider.resolveAutoColors(e,t,r)},BaseRenderableSeries.prototype.adjustAutoColor=function(e,t){return t},BaseRenderableSeries.prototype.setAnimationVectors=function(e){var t=this.dataSeries;e.isOnStartAnimation?t.setFinalAnimationVectors(t):e.isDataSeriesAnimation&&(t.setInitialAnimationVectors(t),t.setFinalAnimationVectors(e.dataSeries),t.validateAnimationVectors())},BaseRenderableSeries.prototype.beforeAnimationStart=function(){var e,t=this.animationFSM.animation;this.setAnimationVectors(t);var r=null===(e=null==t?void 0:t.styles)||void 0===e?void 0:e.pointMarker;r&&(this.pointMarker=N.animationHelpers.createPointMarker(this.webAssemblyContext,r))},BaseRenderableSeries.prototype.afterAnimationComplete=function(){if(this.dataSeries){var e=this.dataSeries;e.setInitialAnimationVectors(void 0),e.setFinalAnimationVectors(void 0)}},BaseRenderableSeries.prototype.updateAnimationProperties=function(e,t){var r=t.animation;r.updateSeriesProperties(this,t.initialStyles,t.animationProgress);var i=this.dataSeries;i&&(i.updateAnimationProperties(e,r),this.currentRenderPassData=void 0),this.invalidateParentCallback&&this.invalidateParentCallback()},BaseRenderableSeries.prototype.dataSeriesDataChanged=function(e){this.renderDataTransform&&this.renderDataTransform.onDataChange(e),this.invalidateParent()},BaseRenderableSeries.prototype.valueChanged=function(e,t){return e!==t},BaseRenderableSeries.prototype.setPaletteProvider=function(e){var t,r;(null===(t=this.paletteProviderProperty)||void 0===t?void 0:t.onDetached)&&this.paletteProviderProperty.onDetached(),this.paletteProviderProperty=e,(null===(r=this.paletteProviderProperty)||void 0===r?void 0:r.onAttached)&&this.paletteProviderProperty.onAttached(this),this.notifyPropertyChanged(B.PROPERTY.PALETTE_PROVIDER)},BaseRenderableSeries.prototype.invalidateParent=function(){this.invalidateParentCallback&&this.invalidateParentCallback()},BaseRenderableSeries.prototype.effectPropertyChanged=function(){this.invalidateParent()},Object.defineProperty(BaseRenderableSeries.prototype,"canDraw",{get:function(){return N.animationHelpers.checkCanDraw(this.animationFSM)},enumerable:!1,configurable:!0}),BaseRenderableSeries}(s.DeletableEntity);t.BaseRenderableSeries=G,t.getDataPointWidth=function(e,t,r,i,n,o){if(i<0||i>1)throw Error("WidthFraction should be between 0.0 and 1.0 inclusive");var a=e.size(),s=r;if(a>1){var u=Number.MIN_VALUE,c=Number.MAX_VALUE;if(n)u=t.getCoordinate(a-1),c=t.getCoordinate(0);else{var d=void 0;try{c=(d=o.NumberUtil.MinMax(e)).minD,u=d.maxD}finally{(0,l.deleteSafe)(d)}u=t.getCoordinate(u),c=t.getCoordinate(c)}s=Math.abs(u-c)/(a-1)}else 1===a&&(s=Math.min(s,2*t.getCoordinate(e.get(0))));var p=Math.floor(s*i);return p%2!=0&&(p-=1),p<=1&&(p=1),p},t.getDelta=function(e){var t=e.pointSize,r=e.areaSize,i=e.range;if(0===r)return 0;var n=t*k.DpiHelper.PIXEL_RATIO;return Math.abs(i.diff)*(r/(r-n)-1)/2}},6701:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStackedCollection=void 0;var o=r(22533);r(15492);var a=r(94694),s=r(51134),l=r(19542),u=r(96565),c=r(60717),d=r(92200);r(29502);var p=r(23144),h=r(87994),f=r(36072),y=r(3488),g=function(e){function BaseStackedCollection(t,r){var i,n,o,a,s,l=this;return(l=e.call(this)||this).id=(0,d.generateGuid)(),l.isStacked=!0,l.supportsResampling=!1,l.isSpline=!1,l.enableDrawingOptimisations=!0,l.isAccumulatedVectorDirty=!0,l.firstAnimationRender=!1,l.isVisibleProperty=!0,l.xAxisIdProperty=h.AxisCore.DEFAULT_AXIS_ID,l.yAxisIdProperty=h.AxisCore.DEFAULT_AXIS_ID,l.isOneHundredPercentProperty=!1,l.animationQueue=[],l.yRangeModeProperty=c.EYRangeMode.Drawn,l.webAssemblyContext=t,l.isVisibleProperty=null!==(i=null==r?void 0:r.isVisible)&&void 0!==i?i:l.isVisibleProperty,l.xAxisIdProperty=null!==(n=null==r?void 0:r.xAxisId)&&void 0!==n?n:l.xAxisIdProperty,l.yAxisIdProperty=null!==(o=null==r?void 0:r.yAxisId)&&void 0!==o?o:l.yAxisIdProperty,l.isOneHundredPercentProperty=null!==(a=null==r?void 0:r.isOneHundredPercent)&&void 0!==a?a:l.isOneHundredPercentProperty,l.yRangeModeProperty=null!==(s=null==r?void 0:r.yRangeMode)&&void 0!==s?s:l.yRangeModeProperty,l.updateAnimationProperties=l.updateAnimationProperties.bind(l),l.notifyPropertyChanged=l.notifyPropertyChanged.bind(l),l.getParentSurface=l.getParentSurface.bind(l),l.beforeAnimationStart=l.beforeAnimationStart.bind(l),l.afterAnimationComplete=l.afterAnimationComplete.bind(l),l.updateAnimationProperties=l.updateAnimationProperties.bind(l),l.accumulatedValues0=new l.webAssemblyContext.SCRTDoubleVector,l.accumulatedFinalAnimationValues0=new l.webAssemblyContext.SCRTDoubleVector,l}return n(BaseStackedCollection,e),Object.defineProperty(BaseStackedCollection.prototype,"isVisibleChanged",{get:function(){throw Error("getting visibleChanged event is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"selected",{get:function(){throw Error("getting selected event is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"hovered",{get:function(){throw Error("getting hovered event is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"isSelected",{get:function(){return!1},set:function(e){throw Error("Setting isSelected is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"isHovered",{get:function(){return!1},set:function(e){throw Error("Setting isHovered is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"isDigitalLine",{get:function(){throw Error("Setting or getting isDigitalLine is not supported for BaseStackedCollection")},set:function(e){throw Error("Setting or getting isDigitalLine is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"isVisible",{get:function(){return this.isVisibleProperty},set:function(e){this.isVisibleProperty=e,this.notifyPropertyChanged(y.PROPERTY.IS_VISIBLE)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"xAxis",{get:function(){var e=this;return this.parentSurface.xAxes.asArray().find(function(t){return t.id===e.xAxisId})},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"xAxisId",{get:function(){return this.xAxisIdProperty},set:function(e){this.xAxisIdProperty=e,this.notifyPropertyChanged(y.PROPERTY.XAXIS_ID)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"yAxis",{get:function(){var e=this;return this.parentSurface.yAxes.asArray().find(function(t){return t.id===e.yAxisId})},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"yAxisId",{get:function(){return this.yAxisIdProperty},set:function(e){this.yAxisIdProperty=e,this.notifyPropertyChanged(y.PROPERTY.YAXIS_ID)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"isOneHundredPercent",{get:function(){return this.isOneHundredPercentProperty},set:function(e){this.isOneHundredPercentProperty=e,this.notifyPropertyChanged(y.PROPERTY.IS_ONE_HUNDRED_PERCENT)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"yRangeMode",{get:function(){return this.yRangeModeProperty},set:function(e){this.yRangeModeProperty!==e&&(this.yRangeModeProperty=e,this.notifyPropertyChanged(y.PROPERTY.YRANGEMODE))},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"dataSeries",{get:function(){throw Error("dataSeries property is not supported for BaseStackedCollection")},set:function(e){throw Error("dataSeries property is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"drawNaNAs",{get:function(){throw Error("drawNaNAs property is not supported for BaseStackedCollection")},set:function(e){throw Error("drawNaNAs property is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"drawingProviders",{get:function(){throw Error("drawingProviders property is not supported for BaseStackedCollection")},set:function(e){throw Error("drawingProviders property is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"hitTestProvider",{get:function(){throw Error("hitTestProvider property is not supported for BaseStackedCollection, call hitTestProvider on BaseStackedRenderableSeries instead")},set:function(e){throw Error("hitTestProvider property is not supported for BaseStackedCollection, call hitTestProvider on BaseStackedRenderableSeries instead")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"paletteProvider",{get:function(){throw Error("paletteProvider property is not supported for BaseStackedCollection")},set:function(e){throw Error("paletteProvider property is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"pointMarker",{get:function(){throw Error("pointMarker property is not supported for BaseStackedCollection")},set:function(e){throw Error("pointMarker property is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"rolloverModifierProps",{get:function(){throw Error("rolloverModifierProps property is not supported for BaseStackedCollection")},set:function(e){throw Error("rolloverModifierProps property is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"stroke",{get:function(){throw Error("stroke property is not supported for BaseStackedCollection")},set:function(e){throw Error("stroke property is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"strokeThickness",{get:function(){throw Error("strokeThickness property is not supported for BaseStackedCollection")},set:function(e){throw Error("strokeThickness property is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"effect",{get:function(){throw Error("effect property is not supported for BaseStackedCollection")},set:function(e){throw Error("effect property is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"opacity",{get:function(){throw Error("opacity property is not supported for BaseStackedCollection")},set:function(e){throw Error("effect property is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"rolloverModifierProps1",{get:function(){throw Error("rolloverModifierProps1() method is not supported for BaseStackedCollection")},set:function(e){throw Error("rolloverModifierProps1() method is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"resamplingMode",{get:function(){throw Error("resamplingMode property is not supported for BaseStackedCollection")},set:function(e){throw Error("resamplingMode property is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"resamplingPrecision",{get:function(){throw Error("resamplingPrecision property is not supported for BaseStackedCollection")},set:function(e){throw Error("resamplingPrecision property is not supported for BaseStackedCollection")},enumerable:!1,configurable:!0}),BaseStackedCollection.prototype.getIndicesRange=function(e){throw Error("getIndicesRange() method is not supported for BaseStackedCollection")},Object.defineProperty(BaseStackedCollection.prototype,"canDraw",{get:function(){return f.animationHelpers.checkCanDraw(this.animationFSM)},enumerable:!1,configurable:!0}),BaseStackedCollection.prototype.pushPalettedColors=function(e,t){throw Error("Method not implemented.")},BaseStackedCollection.prototype.getSeriesInfo=function(e){throw Error("Method not implemented.")},BaseStackedCollection.prototype.applyTheme=function(e){this.asArray().forEach(function(t){t.applyTheme(e)})},BaseStackedCollection.prototype.delete=function(){this.accumulatedValues0=(0,a.deleteSafe)(this.accumulatedValues0),this.accumulatedFinalAnimationValues0=(0,a.deleteSafe)(this.accumulatedFinalAnimationValues0),this.asArray().forEach(function(e){e.delete()})},BaseStackedCollection.prototype.notifyPropertyChanged=function(e){this.invalidateParent()},BaseStackedCollection.prototype.onDpiChanged=function(e){this.asArray().forEach(function(t){return t.onDpiChanged(e)})},BaseStackedCollection.prototype.getBaseXValues=function(){return[]},BaseStackedCollection.prototype.getDataSeriesName=function(){return"Stacked Collection"},BaseStackedCollection.prototype.getDataSeriesValuesCount=function(){if(this.getNativeXValues())return this.getNativeXValues().size()},BaseStackedCollection.prototype.getNativeXValues=function(){var e;if(0!==this.size())return null===(e=this.get(0).dataSeries)||void 0===e?void 0:e.getNativeXValues()},BaseStackedCollection.prototype.getYRange=function(e,t){var r,i=this;return this.isEnoughDataToDraw()&&(this.getVisibleSeries().forEach(function(n){if(n.accumulatedValues.size()===i.getNativeXValues().size()){var o=(0,p.getWindowedYRange)(i.webAssemblyContext,i.getNativeXValues(),n.accumulatedValues,e,!0,t,!0,i.yRangeMode===c.EYRangeMode.Visible?u.ESearchMode.RoundUp:u.ESearchMode.RoundDown,i.yRangeMode===c.EYRangeMode.Visible?u.ESearchMode.RoundDown:u.ESearchMode.RoundUp);o&&(r=r?r.union(o):o)}}),r)?r:new s.NumberRange},BaseStackedCollection.prototype.hasDataSeries=function(){return!!this.getNativeXValues()},BaseStackedCollection.prototype.hasStrokePaletteProvider=function(){return!1},BaseStackedCollection.prototype.hasFillPaletteProvider=function(){return!1},BaseStackedCollection.prototype.hasPointMarkerPaletteProvider=function(){return!1},BaseStackedCollection.prototype.onAttach=function(e){if(this.parentSurface=e,this.invalidateParentCallback)throw Error("Invalid operation in sciChartSurface.attachSeries, this series has already been attached to a SciChartSurface. Please detach it from a SciChartSurface before attaching to another");this.invalidateParentCallback=e.invalidateElement},BaseStackedCollection.prototype.onDetach=function(){this.invalidateParentCallback=void 0,this.parentSurface=void 0},BaseStackedCollection.prototype.getVisibleSeries=function(){return this.asArray().filter(function(e){return e.isVisible})},BaseStackedCollection.prototype.enqueueAnimation=function(e){this.animationQueue.push(e),this.invalidateParent()},BaseStackedCollection.prototype.runAnimation=function(e){this.animationQueue=[],this.animationFSM.toCompleted(),this.afterAnimationComplete()},Object.defineProperty(BaseStackedCollection.prototype,"animation",{set:function(e){e&&this.animationQueue.push(e),this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedCollection.prototype,"isRunningAnimation",{get:function(){return f.animationHelpers.checkIsAnimationRunning(this.animationQueue,this.animationFSM)},enumerable:!1,configurable:!0}),BaseStackedCollection.prototype.onAnimate=function(e){var t;if(!this.animationFSM||(null===(t=this.animationFSM)||void 0===t?void 0:t.is([o.EAnimationState.Completed]))){if(this.animationQueue.length>=1){var r=this.animationQueue.shift();this.animationFSM=new o.SeriesAnimationFiniteStateMachine(r,void 0)}else this.animationFSM=void 0}this.animationFSM&&f.animationHelpers.animationUpdate(this.animationFSM,e,this.beforeAnimationStart,this.afterAnimationComplete,this.updateAnimationProperties)},BaseStackedCollection.prototype.checkIsOutOfDataRange=function(e,t){throw Error("checkIsOutOfDataRange() method is not supported for BaseStackedCollection")},BaseStackedCollection.prototype.toPointSeries=function(e){},BaseStackedCollection.prototype.getCurrentRenderPassData=function(){throw Error("getCurrentRenderPassData method is not supported for BaseStackedCollection")},Object.defineProperty(BaseStackedCollection.prototype,"dataLabelProvider",{get:function(){},enumerable:!1,configurable:!0}),BaseStackedCollection.prototype.toJSON=function(e){void 0===e&&(e=!1);for(var t=[],r=0,i=this.asArray();r<i.length;r++){var n=i[r];t.push(n.toJSON(e))}var o={isVisible:this.isVisible,isOneHundredPercent:this.isOneHundredPercent,xAxisId:this.xAxisId,yAxisId:this.yAxisId,yRangeMode:this.yRangeMode};return{type:this.type,series:t,options:o}},BaseStackedCollection.prototype.resolveAutoColors=function(e,t,r){for(var i=0;i<this.size();i++)this.get(i).resolveAutoColors(e+i,t,r)},BaseStackedCollection.prototype.adjustAutoColor=function(e,t){return t},BaseStackedCollection.prototype.isAllDataSeriesSet=function(){var e=!0;return this.asArray().forEach(function(t){t.dataSeries||(e=!1)}),e},BaseStackedCollection.prototype.invalidateParent=function(){this.invalidateParentCallback&&this.invalidateParentCallback()},BaseStackedCollection.prototype.getFirstSeries=function(){if(0!==this.size())return this.get(0)},BaseStackedCollection.prototype.getParentSurface=function(){return this.parentSurface},BaseStackedCollection.prototype.beforeAnimationStart=function(){this.updateAccumulatedVectors();var e=this.accumulatedValues0.size();this.accumulatedFinalAnimationValues0.resize(e,0);for(var t=0;t<e;t++)this.accumulatedFinalAnimationValues0.set(t,this.accumulatedValues0.get(t));this.getVisibleSeries().forEach(function(e){e.beforeAnimationStart()})},BaseStackedCollection.prototype.afterAnimationComplete=function(){this.getVisibleSeries().forEach(function(e){e.afterAnimationComplete()})},BaseStackedCollection.prototype.updateAnimationProperties=function(e,t){this.isAllDataSeriesSet()&&(t.animation.calculateAnimationValues(this.webAssemblyContext,this.accumulatedFinalAnimationValues0,this.accumulatedValues0,e),this.getVisibleSeries().forEach(function(r){r.updateAnimationProperties(e,t)})),this.invalidateParentCallback&&this.invalidateParentCallback()},BaseStackedCollection.prototype.updateHitTestProviders=function(e){this.getVisibleSeries().forEach(function(t){var r;null===(r=t.hitTestProvider)||void 0===r||r.update(e)})},BaseStackedCollection.prototype.isEnoughDataToDraw=function(){var e=this.getVisibleSeries().length;if(e<1)return!1;for(var t=0;t<e;t++)if(!this.get(t).dataSeries)return!1;for(var t=0;t<e;t++)if(0===this.get(t).dataSeries.count())return!1;return!0},BaseStackedCollection}(l.ObservableArray);t.BaseStackedCollection=g},96778:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStackedRenderableSeries=void 0;var o=r(94694),a=r(92200),s=r(54592),l=r(3351),u=r(99740),c=r(41591),d=r(3488),p=r(67046),h=function(e){function BaseStackedRenderableSeries(t,r){var i=e.call(this,t,r)||this;return i.id=(0,a.generateGuid)(),i.isStacked=!0,i.rolloverModifierProps=new p.RolloverModifierRenderableSeriesProps(i),i.typeMap=new Map,i.opacityOriginalValue=1,i.isStacked=!0,i.accumulatedValues=new t.SCRTDoubleVector,i.accumulatedFinalAnimationValues=new t.SCRTDoubleVector,i}return n(BaseStackedRenderableSeries,e),BaseStackedRenderableSeries.prototype.dataSeriesDataChanged=function(){this.notifyPropertyChanged(d.PROPERTY.DATA_SERIES)},BaseStackedRenderableSeries.prototype.delete=function(){this.accumulatedValues=(0,o.deleteSafe)(this.accumulatedValues),this.accumulatedFinalAnimationValues=(0,o.deleteSafe)(this.accumulatedFinalAnimationValues),this.dataSeries=(0,o.deleteSafe)(this.dataSeries),this.pointMarker=(0,o.deleteSafe)(this.pointMarker),this.resamplerHelper=(0,o.deleteSafe)(this.resamplerHelper),this.pointSeries=(0,o.deleteSafe)(this.pointSeries),this.dataLabelProviderProperty=(0,o.deleteSafe)(this.dataLabelProvider)},BaseStackedRenderableSeries.prototype.onDetachFromParentCollection=function(){this.parentCollection=void 0,this.getParentSurfaceFn=void 0,this.notifyParentPropertyChangedFn=void 0,this.delete()},BaseStackedRenderableSeries.prototype.notifyPropertyChanged=function(e){this.notifyParentPropertyChangedFn&&this.notifyParentPropertyChangedFn(e)},BaseStackedRenderableSeries.prototype.checkIsOutOfDataRange=function(e,t){var r=this.getDataSeriesValuesCount(),i=this.xAxis.getCurrentCoordinateCalculator().isCategoryCoordinateCalculator,n=i?0:this.getNativeXValues().get(0),o=i?r-1:this.getNativeXValues().get(r-1);return e<n||e>o},BaseStackedRenderableSeries.prototype.draw=function(e,t){throw Error("draw() is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries.prototype.getBaseXValues=function(){throw Error("getBaseXValues() is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries.prototype.getXRange=function(){throw Error("getXRange() method is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries.prototype.getYRange=function(e,t){throw Error("getYRange() method is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries.prototype.hasDataSeries=function(){throw Error("hasDataSeries() method is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries.prototype.hasDataSeriesValues=function(){throw Error("hasDataSeriesValues() method is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries.prototype.hasStrokePaletteProvider=function(){throw Error("hasStrokePaletteProvider() method is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries.prototype.hasPointMarkerPaletteProvider=function(){throw Error("hasFillPaletteProvider() method is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries.prototype.hasFillPaletteProvider=function(){throw Error("hasFillPaletteProvider() method is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries.prototype.onAttach=function(e){throw Error("onAttach() method is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries.prototype.onDetach=function(){throw Error("onDetach() method is not supported for BaseStackedRenderableSeries")},Object.defineProperty(BaseStackedRenderableSeries.prototype,"animation",{get:function(){throw Error("animation() method is not supported for BaseStackedRenderableSeries")},set:function(e){throw Error("animation() method is not supported for BaseStackedRenderableSeries")},enumerable:!1,configurable:!0}),BaseStackedRenderableSeries.prototype.getIndicesRange=function(e){throw Error("getIndicesRange() method is not supported for BaseStackedRenderableSeries")},Object.defineProperty(BaseStackedRenderableSeries.prototype,"resamplingMode",{get:function(){return u.EResamplingMode.None},set:function(e){throw Error("Setting resamplingMode property is not supported for BaseStackedRenderableSeries")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedRenderableSeries.prototype,"resamplingPrecision",{get:function(){throw Error("resamplingPrecision property is not supported for BaseStackedRenderableSeries")},set:function(e){throw Error("resamplingPrecision property is not supported for BaseStackedRenderableSeries")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedRenderableSeries.prototype,"parentSurface",{get:function(){return this.getParentSurfaceFn()},set:function(e){throw Error("set parentSurface property is not supported for BaseStackedRenderableSeries")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedRenderableSeries.prototype,"xAxis",{get:function(){return this.parentCollection.xAxis},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedRenderableSeries.prototype,"yAxis",{get:function(){return this.parentCollection.yAxis},enumerable:!1,configurable:!0}),BaseStackedRenderableSeries.prototype.beforeAnimationStart=function(){var e=this.accumulatedValues.size();this.accumulatedFinalAnimationValues.resize(e,0);for(var t=0;t<e;t++)this.accumulatedFinalAnimationValues.set(t,this.accumulatedValues.get(t));this.opacityOriginalValue=this.opacity},BaseStackedRenderableSeries.prototype.afterAnimationComplete=function(){this.opacityProperty=this.opacityOriginalValue},BaseStackedRenderableSeries.prototype.updateAnimationProperties=function(e,t){t.animation.isFadeEffectAnimation?this.opacity=e*this.opacityOriginalValue:this.opacity=this.opacityOriginalValue,t.animation.calculateAnimationValues(this.webAssemblyContext,this.accumulatedFinalAnimationValues,this.accumulatedValues,e)},BaseStackedRenderableSeries.prototype.getSeriesInfo=function(e){return new s.StackedXySeriesInfo(this,e)},BaseStackedRenderableSeries.prototype.toJSON=function(e){void 0===e&&(e=!1);var t,r={opacity:this.opacity};return(null===(t=this.dataSeries)||void 0===t?void 0:t.type)===l.EDataSeriesType.Xy?{type:this.type,options:r,xyData:this.dataSeries.toJSON(e).options}:{type:this.type,options:r}},BaseStackedRenderableSeries.prototype.toPointSeries=function(e){throw Error("toPointSeries method is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries.prototype.getCurrentRenderPassData=function(){throw Error("getCurrentRenderPassData method is not supported for BaseStackedRenderableSeries")},Object.defineProperty(BaseStackedRenderableSeries.prototype,"xAxisId",{get:function(){var e;return null===(e=this.parentCollection)||void 0===e?void 0:e.xAxisId},set:function(e){throw Error("Setting xAxisId property is not supported for BaseStackedRenderableSeries")},enumerable:!1,configurable:!0}),Object.defineProperty(BaseStackedRenderableSeries.prototype,"yAxisId",{get:function(){var e;return null===(e=this.parentCollection)||void 0===e?void 0:e.yAxisId},set:function(e){throw Error("yAxisId property is not supported for BaseStackedRenderableSeries")},enumerable:!1,configurable:!0}),BaseStackedRenderableSeries.prototype.onAnimate=function(){throw Error("onAnimate is not supported for BaseStackedRenderableSeries")},Object.defineProperty(BaseStackedRenderableSeries.prototype,"isRunningAnimation",{get:function(){throw Error("isAnimationRunning is not supported for BaseStackedRenderableSeries")},enumerable:!1,configurable:!0}),BaseStackedRenderableSeries.prototype.enqueueAnimation=function(e){throw Error("animationEnqueue is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries.prototype.runAnimation=function(e){throw Error("runAnimation is not supported for BaseStackedRenderableSeries")},BaseStackedRenderableSeries}(c.BaseRenderableSeries);t.BaseStackedRenderableSeries=h},3613:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BandSeriesDataLabelProvider=void 0;var o=r(48484),a=r(15140),s=r(44841),l=r(7556),u=r(1411),c=r(2158),d=r(87632),p=function(e){function BandSeriesDataLabelProvider(t){var r,i=this;return(i=e.call(this,t)||this).type=a.EDataLabelProviderType.Band,i.singleLabelProperty=!1,i.singleLabelProperty=null!==(r=null==t?void 0:t.singleLabel)&&void 0!==r?r:i.singleLabelProperty,i}return n(BandSeriesDataLabelProvider,e),Object.defineProperty(BandSeriesDataLabelProvider.prototype,"singleLabel",{get:function(){return this.singleLabelProperty},set:function(e){this.singleLabelProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),BandSeriesDataLabelProvider.prototype.getText=function(t){if(!this.singleLabel)return e.prototype.getText.call(this,t);if(this.metaDataSelector){var r=t.renderPassData.pointSeries.indexes.get(t.index);return this.metaDataSelector(t.parentSeries.dataSeries.getMetadataAt(r))}var i=!this.updateTextInAnimation&&t.parentSeries.isRunningAnimation,n=i?t.yValAfterAnimation():t.yVal();this.state1.index=t.index;var o=i?this.state1.yValAfterAnimation():this.state1.yVal();return this.getSingleLabelText(t.xVal(),n,o)},BandSeriesDataLabelProvider.prototype.getSingleLabelText=function(e,t,r){if(t==t||r==r){var i,n,o,a,l="";return t==t&&(l=(0,u.formatNumber)(t,null!==(i=this.numericFormat)&&void 0!==i?i:s.ENumericFormat.Decimal,null!==(n=this.precision)&&void 0!==n?n:1)),t==t&&r==r&&(l+="\n"),r==r&&(l+=(0,u.formatNumber)(r,null!==(o=this.numericFormat)&&void 0!==o?o:s.ENumericFormat.Decimal,null!==(a=this.precision)&&void 0!==a?a:1)),l}},BandSeriesDataLabelProvider.prototype.getPosition=function(t,r){if(!this.singleLabel)return e.prototype.getPosition.call(this,t,r);var i,n,a,s,u=t.xCoord();this.horizontalTextPosition===l.EHorizontalTextPosition.Center?u-=r.m_fWidth/2:this.horizontalTextPosition===l.EHorizontalTextPosition.Left?u-=r.m_fWidth+(null!==(n=null===(i=this.style.padding)||void 0===i?void 0:i.right)&&void 0!==n?n:0):u+=null!==(s=null===(a=this.style.padding)||void 0===a?void 0:a.right)&&void 0!==s?s:0;var c=r.m_fHeight-r.GetLineBounds(0).m_fHeight,d=t.yCoord(),p=this.state1.yCoord();return new o.Point(u,(d+p-c)/2)},BandSeriesDataLabelProvider.prototype.getY1Provider=function(e){return new d.LineSeriesDataLabelProvider(e.toJSON().options)},BandSeriesDataLabelProvider.prototype.generateDataLabels=function(t,r){var i;if(this.singleLabel){var n=r.pointSeries.y1Values;this.state1=new c.DataLabelState(t,r,this.style,this.color,n,this.parentSeries),e.prototype.generateDataLabels.call(this,t,r)}else{e.prototype.generateDataLabels.call(this,t,r);var o=this.getY1Provider(this);o.ySelector=function(e){return e.y1Values},o.onAttach(this.webAssemblyContext,this.parentSeries),o.generateDataLabels(t,r),(i=this.dataLabels).push.apply(i,o.dataLabels)}},BandSeriesDataLabelProvider.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={singleLabel:this.singleLabel};return Object.assign(t.options,r),t},BandSeriesDataLabelProvider}(d.LineSeriesDataLabelProvider);t.BandSeriesDataLabelProvider=p},65267:function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDataLabelProvider=void 0;var n=r(92530),o=r(7556),a=r(48053),s=r(63869),l=r(94485),u=r(91462),c=function(){function BaseDataLabelProvider(e){var t=this;this.dataLabels=[],this.getstyleProxy=function(e){return new Proxy(e,{set:function(e,r,i){return e[r]=i,t.invalidateParent(),!0}})},this.styleProperty=(null==e?void 0:e.style)?this.getstyleProxy(null==e?void 0:e.style):void 0,this.colorProperty=null==e?void 0:e.color}return BaseDataLabelProvider.prototype.onAttach=function(e,t){n.Guard.notNull(e,"webAssemblyContext"),n.Guard.notNull(t,"parentSeries"),this.webAssemblyContext=e,this.parentSeries=t},BaseDataLabelProvider.prototype.onDetach=function(){this.webAssemblyContext=void 0,this.parentSeries=void 0},BaseDataLabelProvider.prototype.delete=function(){},Object.defineProperty(BaseDataLabelProvider.prototype,"style",{get:function(){return this.styleProperty},set:function(e){this.styleProperty=this.getstyleProxy(e),this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(BaseDataLabelProvider.prototype,"color",{get:function(){var e,t,r;return this.colorProperty?(0,s.stripAutoColor)(this.colorProperty):null===(r=null===(t=null===(e=this.parentSeries)||void 0===e?void 0:e.parentSurface)||void 0===t?void 0:t.themeProvider)||void 0===r?void 0:r.tickTextBrush},set:function(e){this.colorProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),BaseDataLabelProvider.prototype.updateStyle=function(e){this.styleProperty=this.getstyleProxy(i(i({},this.styleProperty),e)),this.invalidateParent()},BaseDataLabelProvider.prototype.generateDataLabels=function(e,t){},BaseDataLabelProvider.prototype.draw=function(e){if(this.dataLabels&&0!==this.dataLabels.length&&this.style&&this.style.fontFamily&&this.style.fontSize)for(var t,r,i,n=(0,a.parseColorToUIntArgb)(this.color),s=u.DpiHelper.adjustTextStyle(this.style),c=e.getFont(s),d=(0,l.getVector4)(this.webAssemblyContext,0,0,0,0),p=(0,o.convertMultiLineAlignment)(this.style.multiLineAlignment,this.webAssemblyContext),h=0,f=this.dataLabels;h<f.length;h++){var y=f[h];c.DrawStringAdvanced(null!==(t=y.text)&&void 0!==t?t:"",null!==(r=y.color)&&void 0!==r?r:n,Math.round(y.position.x+this.parentSeries.parentSurface.seriesViewRect.left),Math.round(y.position.y+this.parentSeries.parentSurface.seriesViewRect.top),d,p,null!==(i=this.style.lineSpacing)&&void 0!==i?i:2)}},BaseDataLabelProvider.prototype.resolveAutoColors=function(e,t,r){if(this.colorProperty&&this.colorProperty.startsWith(s.AUTO_COLOR)){var i=r.getStrokeColor(e,t,this.webAssemblyContext);this.color=s.AUTO_COLOR+i}},BaseDataLabelProvider.prototype.toJSON=function(){return{type:this.type,options:{style:this.style,color:this.color}}},BaseDataLabelProvider.prototype.invalidateParent=function(){var e;(null===(e=this.parentSeries)||void 0===e?void 0:e.invalidateParentCallback)&&this.parentSeries.invalidateParentCallback()},BaseDataLabelProvider}();t.BaseDataLabelProvider=c},88395:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BubbleSeriesDataLabelProvider=void 0;var o=r(48484),a=r(7556),s=r(15140),l=function(e){function BubbleSeriesDataLabelProvider(t){var r,i,n=this;return(n=e.call(this,t)||this).type=s.EDataLabelProviderType.Bubble,n.horizontalTextPositionProperty=null!==(r=null==t?void 0:t.horizontalTextPosition)&&void 0!==r?r:a.EHorizontalTextPosition.Center,n.verticalTextPositionProperty=null!==(i=null==t?void 0:t.verticalTextPosition)&&void 0!==i?i:a.EVerticalTextPosition.Center,n}return n(BubbleSeriesDataLabelProvider,e),BubbleSeriesDataLabelProvider.prototype.getPosition=function(e,t){var r,i,n,s,l,u,c,d,p=e.xCoord(),h=Math.abs(e.parentSeries.getBubbleDiameter(e.index))/2;this.horizontalTextPosition===a.EHorizontalTextPosition.Center?p-=t.m_fWidth/2:this.horizontalTextPosition===a.EHorizontalTextPosition.Left?p-=t.m_fWidth+(null!==(i=null===(r=this.style.padding)||void 0===r?void 0:r.right)&&void 0!==i?i:0)+h:p+=(null!==(s=null===(n=this.style.padding)||void 0===n?void 0:n.right)&&void 0!==s?s:0)+h;var f=t.m_fHeight-t.GetLineBounds(0).m_fHeight,y=e.yCoord()-f;return this.verticalTextPosition===a.EVerticalTextPosition.Center?y+=t.m_fHeight/2:this.verticalTextPosition===a.EVerticalTextPosition.Below?y+=t.m_fHeight+(null!==(u=null===(l=this.style.padding)||void 0===l?void 0:l.top)&&void 0!==u?u:0)+h:y-=(null!==(d=null===(c=this.style.padding)||void 0===c?void 0:c.bottom)&&void 0!==d?d:0)+h,new o.Point(p,y)},BubbleSeriesDataLabelProvider}(r(99026).DataLabelProvider);t.BubbleSeriesDataLabelProvider=l},8635:function(e,t,r){"use strict";var i,n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),s=this&&this.__assign||function(){return(s=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnSeriesDataLabelProvider=t.EColumnDataLabelPosition=void 0;var l=r(48484),u=r(15140),c=r(7556),d=r(99026);(i=o=t.EColumnDataLabelPosition||(t.EColumnDataLabelPosition={})).Outside="Outside",i.Inside="Inside",i.Position="Position";var p=function(e){function ColumnSeriesDataLabelProvider(t){var r,i=this;return(i=e.call(this,s({horizontalTextPosition:c.EHorizontalTextPosition.Center,verticalTextPosition:c.EVerticalTextPosition.Center},t))||this).type=u.EDataLabelProviderType.Column,i.positionModeProperty=o.Outside,i.positionModeProperty=null!==(r=null==t?void 0:t.positionMode)&&void 0!==r?r:i.positionMode,i}return a(ColumnSeriesDataLabelProvider,e),Object.defineProperty(ColumnSeriesDataLabelProvider.prototype,"positionMode",{get:function(){return this.positionModeProperty},set:function(e){this.positionModeProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),ColumnSeriesDataLabelProvider.prototype.generateDataLabels=function(t,r){var i=this.parentSeries;this.yAdj=Math.ceil(i.strokeThickness/2),i.pointMarker&&(this.yAdj=Math.max(this.yAdj,Math.ceil(i.pointMarker.height/2))),e.prototype.generateDataLabels.call(this,t,r)},ColumnSeriesDataLabelProvider.prototype.getPosition=function(t,r){var i,n,a,s,u,d,p,h,f,y,g,v,m,S,b,P,C,x,A,T,_,R,E,w,D=t.xCoord(),O=r.m_fHeight-r.GetLineBounds(0).m_fHeight,I=t.yCoord()-O;t.isXFlipped;var M=t.isYFlipped?-1:1;return t.isVerticalChart?(this.verticalTextPosition===c.EVerticalTextPosition.Center?I+=r.m_fHeight/2:this.verticalTextPosition===c.EVerticalTextPosition.Below?I+=r.m_fHeight+(null!==(n=null===(i=this.style.padding)||void 0===i?void 0:i.top)&&void 0!==n?n:0):I-=null!==(s=null===(a=this.style.padding)||void 0===a?void 0:a.bottom)&&void 0!==s?s:0,this.positionMode===o.Outside)?(t.yVal()*M>=0?D+=this.yAdj+(null!==(d=null===(u=t.style.padding)||void 0===u?void 0:u.left)&&void 0!==d?d:1):D-=r.m_fWidth+this.yAdj+(null!==(h=null===(p=t.style.padding)||void 0===p?void 0:p.right)&&void 0!==h?h:1),new l.Point(D,I)):this.positionMode===o.Inside?(t.yVal()*M>=0?D-=r.m_fWidth+this.yAdj+(null!==(y=null===(f=t.style.padding)||void 0===f?void 0:f.right)&&void 0!==y?y:1):D+=this.yAdj+(null!==(v=null===(g=t.style.padding)||void 0===g?void 0:g.left)&&void 0!==v?v:1),new l.Point(D,I)):e.prototype.getPosition.call(this,t,r):(this.horizontalTextPosition===c.EHorizontalTextPosition.Center?D-=r.m_fWidth/2:this.horizontalTextPosition===c.EHorizontalTextPosition.Left?D-=r.m_fWidth+(null!==(S=null===(m=this.style.padding)||void 0===m?void 0:m.right)&&void 0!==S?S:0):D+=null!==(P=null===(b=this.style.padding)||void 0===b?void 0:b.left)&&void 0!==P?P:0,this.positionMode===o.Outside)?(t.yVal()*M>=0?I-=this.yAdj+(null!==(x=null===(C=t.style.padding)||void 0===C?void 0:C.bottom)&&void 0!==x?x:1):I+=r.m_fHeight+this.yAdj+(null!==(T=null===(A=t.style.padding)||void 0===A?void 0:A.top)&&void 0!==T?T:1),new l.Point(D,I)):this.positionMode===o.Inside?(t.yVal()*M>=0?I+=r.m_fHeight+this.yAdj+(null!==(R=null===(_=t.style.padding)||void 0===_?void 0:_.top)&&void 0!==R?R:1):I-=this.yAdj+(null!==(w=null===(E=t.style.padding)||void 0===E?void 0:E.bottom)&&void 0!==w?w:1),new l.Point(D,I)):e.prototype.getPosition.call(this,t,r)},ColumnSeriesDataLabelProvider.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={positionMode:this.positionMode};return Object.assign(t.options,r),t},ColumnSeriesDataLabelProvider}(d.DataLabelProvider);t.ColumnSeriesDataLabelProvider=p},36149:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ContoursDataLabelProvider=void 0;var o=r(48484),a=r(47494),s=r(15140),l=r(44841),u=r(67475),c=r(1411),d=r(48053),p=r(94485),h=r(91462),f=function(e){function ContoursDataLabelProvider(t){var r,i,n,o,a=this;return(a=e.call(this,t)||this).type=s.EDataLabelProviderType.Contours,a.isEnabledProperty=!0,a.numericFormatProperty=l.ENumericFormat.Decimal,a.precisionProperty=1,a.labelRowCountProperty=10,a.numericFormatProperty=null!==(r=null==t?void 0:t.numericFormat)&&void 0!==r?r:a.numericFormatProperty,a.precision=null!==(i=null==t?void 0:t.precision)&&void 0!==i?i:a.precisionProperty,a.labelRowCountProperty=null!==(n=null==t?void 0:t.labelRowCount)&&void 0!==n?n:a.labelRowCountProperty,a.metaDataSelector=null==t?void 0:t.metaDataSelector,a.isEnabledProperty=null!==(o=null==t?void 0:t.isEnabled)&&void 0!==o?o:a.isEnabledProperty,a}return n(ContoursDataLabelProvider,e),Object.defineProperty(ContoursDataLabelProvider.prototype,"numericFormat",{get:function(){return this.numericFormatProperty},set:function(e){var t;this.numericFormatProperty=e,null===(t=this.parentSeries)||void 0===t||t.invalidateParentCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(ContoursDataLabelProvider.prototype,"precision",{get:function(){return this.precisionProperty},set:function(e){var t;this.precisionProperty=e,null===(t=this.parentSeries)||void 0===t||t.invalidateParentCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(ContoursDataLabelProvider.prototype,"labelRowCount",{get:function(){return this.labelRowCountProperty},set:function(e){var t;this.labelRowCountProperty=e,null===(t=this.parentSeries)||void 0===t||t.invalidateParentCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(ContoursDataLabelProvider.prototype,"isEnabled",{get:function(){return this.isEnabledProperty},set:function(e){this.isEnabledProperty!==e&&(this.isEnabledProperty=e,this.invalidateParent())},enumerable:!1,configurable:!0}),ContoursDataLabelProvider.prototype.getText=function(e,t){if(this.metaDataSelector)return this.metaDataSelector(this.dataSeries.getMetadataAt(t,e));var r,i,n=this.zValues[t][e];return n==n?(0,c.formatNumber)(n,null!==(r=this.numericFormat)&&void 0!==r?r:l.ENumericFormat.Decimal,null!==(i=this.precision)&&void 0!==i?i:1):void 0},ContoursDataLabelProvider.prototype.getPosition=function(e,t,r,i,n,a){var s=a.xCoordinateCalculator.getCoordinate(r),l=a.yCoordinateCalculator.getCoordinate(i);if(a.isVerticalChart){var u=s;s=l,l=u}return new o.Point(s,l)},ContoursDataLabelProvider.prototype.shouldGenerate=function(e,t,r){return e.height<r&&e.width<t},ContoursDataLabelProvider.prototype.getColor=function(e,t,r){return this.colorValue},ContoursDataLabelProvider.prototype.shouldSkipLabel=function(e,t,r,i,n){var o=this.parentSeries.parentSurface.seriesViewRect;return r.rect.y<0||r.rect.bottom>o.height||r.rect.x<0||r.rect.right>o.width},ContoursDataLabelProvider.prototype.generateDataLabels=function(e,t){if(this.dataLabels=[],this.isEnabled&&this.style&&this.style.fontFamily&&this.style.fontSize){this.dataSeries=this.parentSeries.dataSeries,this.zValues=this.dataSeries.getZValues();var r,i,n,o,s=(0,p.getTextBounds)(this.webAssemblyContext),f=h.DpiHelper.adjustTextStyle(this.style),y=e.getFont(f);t.xCoordinateCalculator.getCoordinate(this.dataSeries.getXValue(1)),t.xCoordinateCalculator.getCoordinate(this.dataSeries.getXValue(0)),t.yCoordinateCalculator.getCoordinate(this.dataSeries.getYValue(1)),t.yCoordinateCalculator.getCoordinate(this.dataSeries.getYValue(0)),this.colorValue=(0,d.parseColorToUIntArgb)(this.color);for(var g=this.parentSeries.dataSeries,v=g.xStart,m=g.xStep,S=g.yStart,b=g.yStep,P=this.parentSeries.getContourDrawingParams(),C=P.majorStepZ,x=(P.yMax-P.yMin)/(this.labelRowCount+1),A=S,T=0;T<this.dataSeries.arrayHeight;T++){var _=S+b*T;if(!(_<=A+x)&&(A=_,!(t.yCoordinateCalculator.visibleMin>_+b)&&!(t.yCoordinateCalculator.visibleMax<_)))for(var R=void 0,E=0;E<this.dataSeries.arrayWidth;E++){var w=v+m*E;if(!(t.xCoordinateCalculator.visibleMin>w+m)&&!(t.xCoordinateCalculator.visibleMax<w)){var D=this.zValues[T][E],O=void 0,I=w;if(void 0!==R){var M=Math.floor(R/C)*C,L=M+C;D<=M?(O=(0,c.formatNumber)(M,null!==(r=this.numericFormat)&&void 0!==r?r:l.ENumericFormat.Decimal,null!==(i=this.precision)&&void 0!==i?i:1),I=m*(M-D)/(R-D)-m/2+w):D>=L&&(O=(0,c.formatNumber)(L,null!==(n=this.numericFormat)&&void 0!==n?n:l.ENumericFormat.Decimal,null!==(o=this.precision)&&void 0!==o?o:1),I=m*(L-D)/(D-R)-m/2+w)}if(R=D,!O)continue;y.CalculateStringBounds(null!=O?O:"",s,2);var k=new u.Size(s.m_fWidth,s.m_fHeight);this.dataSeries.getXValue(E);var N=this.dataSeries.getYValue(T),B=this.getPosition(E,T,I,N,k,t),V={text:O,position:B,rect:new a.Rect(B.x,B.y-s.GetLineBounds(0).m_fHeight,k.width,k.height),color:this.getColor(E,T,O),dataX:this.dataSeries.getXValue(E),dataY:this.dataSeries.getYValue(T)};this.dataLabels.push(V)}}}}},ContoursDataLabelProvider.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={numericFormat:this.numericFormat,precision:this.precision,labelRowCount:this.labelRowCount,isEnabled:this.isEnabled};return Object.assign(t.options,r),t},ContoursDataLabelProvider}(r(65267).BaseDataLabelProvider);t.ContoursDataLabelProvider=f},99026:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.DataLabelProvider=void 0;var o=r(92530),a=r(48484),s=r(47494),l=r(7556),u=r(15140),c=r(92767),d=r(44841),p=r(1411),h=r(94485),f=r(65267),y=r(2158),g=r(93940),v=function(e){function DataLabelProvider(t){var r,i,n,o,a,s,p,h,f,y,g,v=this;return(v=e.call(this,t)||this).type=u.EDataLabelProviderType.Default,v.dataLabels=[],v.updateTextInAnimation=!1,v.pointGapThresholdProperty=0,v.pointCountThresholdProperty=1/0,v.numericFormatProperty=d.ENumericFormat.Decimal,v.precisionProperty=1,v.skipModeProperty=c.EDataLabelSkipMode.SkipIfOverlapPrevious,v.skipNumberProperty=0,v.horizontalTextPositionProperty=l.EHorizontalTextPosition.Right,v.verticalTextPositionProperty=l.EVerticalTextPosition.Above,v.isEnabledProperty=!0,v.pointGapThresholdProperty=null!==(r=null==t?void 0:t.pointGapThreshold)&&void 0!==r?r:v.pointGapThresholdProperty,v.pointCountThresholdProperty=null!==(i=null==t?void 0:t.pointCountThreshold)&&void 0!==i?i:v.pointCountThresholdProperty,v.numericFormatProperty=null!==(n=null==t?void 0:t.numericFormat)&&void 0!==n?n:v.numericFormatProperty,v.precision=null!==(o=null==t?void 0:t.precision)&&void 0!==o?o:v.precisionProperty,v.skipNumberProperty=null!==(a=null==t?void 0:t.skipNumber)&&void 0!==a?a:v.skipNumberProperty,v.skipModeProperty=null!==(s=null==t?void 0:t.skipMode)&&void 0!==s?s:v.skipModeProperty,v.metaDataSelector=null==t?void 0:t.metaDataSelector,v.ySelector=null!==(p=null==t?void 0:t.ySelector)&&void 0!==p?p:function(e){return e.yValues},v.updateTextInAnimation=null!==(h=null==t?void 0:t.updateTextInAnimation)&&void 0!==h?h:v.updateTextInAnimation,v.horizontalTextPositionProperty=null!==(f=null==t?void 0:t.horizontalTextPosition)&&void 0!==f?f:v.horizontalTextPosition,v.verticalTextPositionProperty=null!==(y=null==t?void 0:t.verticalTextPosition)&&void 0!==y?y:v.verticalTextPosition,v.isEnabledProperty=null!==(g=null==t?void 0:t.isEnabled)&&void 0!==g?g:v.isEnabledProperty,v}return n(DataLabelProvider,e),DataLabelProvider.prototype.onAttach=function(e,t){o.Guard.notNull(e,"webAssemblyContext"),o.Guard.notNull(t,"parentSeries"),this.webAssemblyContext=e,this.parentSeries=t},Object.defineProperty(DataLabelProvider.prototype,"pointGapThreshold",{get:function(){return this.pointGapThresholdProperty},set:function(e){this.pointGapThresholdProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(DataLabelProvider.prototype,"pointCountThreshold",{get:function(){return this.pointCountThresholdProperty},set:function(e){this.pointCountThresholdProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(DataLabelProvider.prototype,"skipMode",{get:function(){return this.skipModeProperty},set:function(e){this.skipModeProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(DataLabelProvider.prototype,"skipNumber",{get:function(){return this.skipNumberProperty},set:function(e){this.skipNumberProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(DataLabelProvider.prototype,"numericFormat",{get:function(){return this.numericFormatProperty},set:function(e){this.numericFormatProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(DataLabelProvider.prototype,"precision",{get:function(){return this.precisionProperty},set:function(e){this.precisionProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(DataLabelProvider.prototype,"horizontalTextPosition",{get:function(){return this.horizontalTextPositionProperty},set:function(e){this.horizontalTextPositionProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(DataLabelProvider.prototype,"verticalTextPosition",{get:function(){return this.verticalTextPositionProperty},set:function(e){this.verticalTextPositionProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(DataLabelProvider.prototype,"isEnabled",{get:function(){return this.isEnabledProperty},set:function(e){this.isEnabledProperty!==e&&(this.isEnabledProperty=e,this.invalidateParent())},enumerable:!1,configurable:!0}),DataLabelProvider.prototype.getText=function(e){if(this.metaDataSelector)return this.metaDataSelector(e.getMetaData());var t,r,i=!this.updateTextInAnimation&&e.parentSeries.isRunningAnimation?e.yValAfterAnimation():e.yVal();return i==i?(0,p.formatNumber)(i,null!==(t=this.numericFormat)&&void 0!==t?t:d.ENumericFormat.Decimal,null!==(r=this.precision)&&void 0!==r?r:1):void 0},DataLabelProvider.prototype.shouldGenerate=function(e){if(e.pointCount>this.pointCountThresholdProperty)return!1;var t,r,i=this.getText(e),n=(0,h.getTextBounds)(this.webAssemblyContext);return e.font.CalculateStringBounds(null!=i?i:"",n,null!==(r=null===(t=this.style)||void 0===t?void 0:t.lineSpacing)&&void 0!==r?r:2),e.pointGap>=n.m_fWidth*this.pointGapThreshold},DataLabelProvider.prototype.getPosition=function(e,t){var r,i,n,o,s,u,c,d,p=e.xCoord();this.horizontalTextPosition===l.EHorizontalTextPosition.Center?p-=t.m_fWidth/2:this.horizontalTextPosition===l.EHorizontalTextPosition.Left?p-=t.m_fWidth+(null!==(i=null===(r=this.style.padding)||void 0===r?void 0:r.right)&&void 0!==i?i:0):p+=null!==(o=null===(n=this.style.padding)||void 0===n?void 0:n.left)&&void 0!==o?o:0;var h=t.m_fHeight-t.GetLineBounds(0).m_fHeight,f=e.yCoord()-h;return this.verticalTextPosition===l.EVerticalTextPosition.Center?f+=t.m_fHeight/2:this.verticalTextPosition===l.EVerticalTextPosition.Below?f+=t.m_fHeight+(null!==(u=null===(s=this.style.padding)||void 0===s?void 0:s.top)&&void 0!==u?u:0):f-=null!==(d=null===(c=this.style.padding)||void 0===c?void 0:c.bottom)&&void 0!==d?d:0,new a.Point(p,f)},DataLabelProvider.prototype.getColor=function(e,t){return e.color},DataLabelProvider.prototype.shouldSkipLabel=function(e,t){var r,i=e.parentSeries.parentSurface.seriesViewRect;if(t.rect.y<0||t.rect.bottom>i.height||t.rect.x<0||t.rect.right>i.width)return!0;switch(this.skipModeProperty){case c.EDataLabelSkipMode.SkipIfOverlapPrevious:return this.skipIfOverlapPrevious(e,t);case c.EDataLabelSkipMode.SkipIfOverlapNext:return this.skipIfOverlapNext(e,t);case c.EDataLabelSkipMode.SkipIfSame:return(null===(r=e.lastLabel)||void 0===r?void 0:r.text)===t.text;case c.EDataLabelSkipMode.ShowAll:default:return!1}},DataLabelProvider.prototype.generateDataLabels=function(e,t){if(this.dataLabels=[],this.isEnabled&&this.style&&this.style.fontFamily&&this.style.fontSize){var r,i,n=this.ySelector(t.pointSeries);if(n&&0!==n.size()){this.state=new y.DataLabelState(e,t,this.style,this.color,n,this.parentSeries);var o=this.parentSeries.dataSeries,a=o.fifoCapacity,l=o.fifoSweeping,u=o.fifoSweepingGap,d=o.fifoStartIndex,p=(0,h.getTextBounds)(this.webAssemblyContext);if(this.shouldGenerate(this.state)){for(var f=0,v=Math.max(0,this.skipNumberProperty),m=this.state.indexStart;m<=this.state.indexEnd;m+=v+1)if(this.state.index=this.skipModeProperty===c.EDataLabelSkipMode.SkipIfOverlapNext?this.state.indexEnd-(m-this.state.indexStart):m,!l||this.state.pointCount!==a||!(this.state.index>=d)||!(this.state.index<d+u)){var S=this.getText(this.state);if(S){this.state.font.CalculateStringBounds(null!=S?S:"",p,null!==(i=null===(r=this.style)||void 0===r?void 0:r.lineSpacing)&&void 0!==i?i:2);var b=this.getPosition(this.state,p),P=this.getColor(this.state,S),C=p.GetLineBounds(0).m_fHeight,x={text:S,position:b,rect:new s.Rect(b.x,b.y-C,p.m_fWidth,p.m_fHeight),color:P,dataX:this.state.xCoord(),dataY:this.state.yCoord()};this.shouldSkipLabel(this.state,x)?f++:this.state.dataLabels.push(x)}}f>100&&f/(this.state.indexEnd-this.state.indexStart)>.8&&g.performanceWarnings.dataLabelsSkippingMany.warn(),this.dataLabels=this.state.dataLabels}}}},DataLabelProvider.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={numericFormat:this.numericFormat,pointGapThreshold:this.pointGapThreshold,precision:this.precision,pointCountThreshold:this.pointCountThreshold,skipNumber:this.skipNumber,skipMode:this.skipMode,updateTextInAnimation:this.updateTextInAnimation,horizontalTextPosition:this.horizontalTextPosition,verticalTextPosition:this.verticalTextPosition,isEnabled:this.isEnabled};return Object.assign(t.options,r),t},DataLabelProvider.prototype.skipIfOverlapPrevious=function(e,t){var r=e.lastLabel;return!(!r||r.rect.right+e.xPadding<t.rect.left||Math.abs(r.rect.y-t.rect.y)>t.rect.height+e.yPadding)},DataLabelProvider.prototype.skipIfOverlapNext=function(e,t){var r=e.lastLabel;return!(!r||t.rect.right+e.xPadding<r.rect.left||Math.abs(r.rect.y-t.rect.y)>t.rect.height+e.yPadding)},DataLabelProvider}(f.BaseDataLabelProvider);t.DataLabelProvider=v},2158:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataLabelState=void 0;var i=r(51134),n=r(48053),o=r(91462),a=function(){function DataLabelState(e,t,r,a,s,l){this.dataLabels=[],this.indexProperty=0,this.xCoordCache=void 0,this.yCoordCache=void 0;var u,c,d,p,h,f,y,g,v,m=t.pointSeries,S=t.xCoordinateCalculator.isCategoryCoordinateCalculator;if(this.style=o.DpiHelper.adjustTextStyle(r),this.color=(0,n.parseColorToUIntArgb)(a),this.xValues=S?m.indexes:m.xValues,this.yValues=s,this.parentSeries=l,this.renderPassData=t,this.yFinalValues=null===(u=this.parentSeries.dataSeries)||void 0===u?void 0:u.yFinalAnimationValues,this.isXFlipped=(t.isVerticalChart?this.renderPassData.yCoordinateCalculator:this.renderPassData.xCoordinateCalculator).hasFlippedCoordinates,this.isYFlipped=(t.isVerticalChart?this.renderPassData.xCoordinateCalculator:this.renderPassData.yCoordinateCalculator).hasFlippedCoordinates,t.indexRange)this.indexStart=m.resampled?0:t.indexRange.min,this.pointCount=m.resampled?m.count:t.indexRange.diff+1,this.indexEnd=m.resampled?m.count-1:t.indexRange.max,this.pointCount>1?this.pointGap=t.isVerticalChart?Math.abs(this.yCoord(this.indexStart)-this.yCoord(this.indexEnd))/this.pointCount:Math.abs(this.xCoord(this.indexStart)-this.xCoord(this.indexEnd))/this.pointCount:this.pointGap=1/0;else{var b=this.parentSeries.getIndicesRange(new i.NumberRange(t.xCoordinateCalculator.visibleMin,t.xCoordinateCalculator.visibleMax),S);this.indexStart=b.min,this.indexEnd=b.max,this.pointCount=t.indexRange.diff+1,this.pointCount>1?this.pointGap=t.isVerticalChart?Math.abs(this.yCoord(this.indexStart)-this.yCoord(this.indexEnd))/this.pointCount:Math.abs(this.xCoord(this.indexStart)-this.xCoord(this.indexEnd))/this.pointCount:this.pointGap=1/0}this.index=this.indexStart,this.font=e.getFont(this.style),this.xPadding=(null!==(d=null===(c=this.style.padding)||void 0===c?void 0:c.left)&&void 0!==d?d:0)+(null!==(h=null===(p=this.style.padding)||void 0===p?void 0:p.right)&&void 0!==h?h:0),this.yPadding=(null!==(y=null===(f=this.style.padding)||void 0===f?void 0:f.top)&&void 0!==y?y:0)+(null!==(v=null===(g=this.style.padding)||void 0===g?void 0:g.bottom)&&void 0!==v?v:0),this.fifoSweeping=l.dataSeries.fifoSweeping}return Object.defineProperty(DataLabelState.prototype,"index",{get:function(){return this.indexProperty},set:function(e){this.xCoordCache=void 0,this.yCoordCache=void 0,this.indexProperty=e},enumerable:!1,configurable:!0}),DataLabelState.prototype.xVal=function(e){var t=null!=e?e:this.indexProperty;return this.isXFlipped||(t=this.indexEnd-(t-this.indexStart)),this.parentSeries.dataSeries.getNativeValue(this.xValues,t)},DataLabelState.prototype.yVal=function(e){var t=null!=e?e:this.indexProperty;return this.isXFlipped||(t=this.indexEnd-(t-this.indexStart)),this.parentSeries.dataSeries.getNativeValue(this.yValues,t)},DataLabelState.prototype.yValAfterAnimation=function(e){if(!this.yFinalValues)return this.yVal(e);var t=null!=e?e:this.indexProperty;return this.isXFlipped||(t=this.indexEnd-(t-this.indexStart)),this.yFinalValues.get(t)},DataLabelState.prototype.xCoord=function(e){return this.renderPassData.isVerticalChart?this.yCoordInternal(e):this.xCoordInternal(e)},DataLabelState.prototype.yCoord=function(e){return this.renderPassData.isVerticalChart?this.xCoordInternal(e):this.yCoordInternal(e)},DataLabelState.prototype.hasNext=function(e){var t=null!=e?e:this.indexProperty;return this.isXFlipped?t<this.indexEnd:t>0},Object.defineProperty(DataLabelState.prototype,"lastLabel",{get:function(){return this.dataLabels.length>0?this.dataLabels[this.dataLabels.length-1]:void 0},enumerable:!1,configurable:!0}),DataLabelState.prototype.getMetaData=function(){var e=this.renderPassData.pointSeries.indexes.get(this.index);return this.parentSeries.dataSeries.getMetadataAt(e,this.fifoSweeping)},Object.defineProperty(DataLabelState.prototype,"isVerticalChart",{get:function(){return this.renderPassData.isVerticalChart},enumerable:!1,configurable:!0}),DataLabelState.prototype.xCoordInternal=function(e){return void 0!==e?this.renderPassData.xCoordinateCalculator.getCoordinate(this.xVal(e)):(void 0!==this.xCoordCache||(this.xCoordCache=this.renderPassData.xCoordinateCalculator.getCoordinate(this.xVal())),this.xCoordCache)},DataLabelState.prototype.yCoordInternal=function(e){return void 0!==e?this.renderPassData.yCoordinateCalculator.getCoordinate(this.yVal(e)):(void 0!==this.yCoordCache||(this.yCoordCache=this.renderPassData.yCoordinateCalculator.getCoordinate(this.yVal())),this.yCoordCache)},DataLabelState}();t.DataLabelState=a},38549:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.HeatMapDataLabelProvider=void 0;var o=r(48484),a=r(47494),s=r(15140),l=r(44841),u=r(67475),c=r(1411),d=r(48053),p=r(94485),h=r(91462),f=function(e){function HeatMapDataLabelProvider(t){var r,i,n,o=this;return(o=e.call(this,t)||this).type=s.EDataLabelProviderType.Heatmap,o.isEnabledProperty=!0,o.numericFormatProperty=l.ENumericFormat.Decimal,o.precisionProperty=1,o.numericFormatProperty=null!==(r=null==t?void 0:t.numericFormat)&&void 0!==r?r:o.numericFormatProperty,o.precision=null!==(i=null==t?void 0:t.precision)&&void 0!==i?i:o.precisionProperty,o.metaDataSelector=null==t?void 0:t.metaDataSelector,o.isEnabledProperty=null!==(n=null==t?void 0:t.isEnabled)&&void 0!==n?n:o.isEnabledProperty,o}return n(HeatMapDataLabelProvider,e),Object.defineProperty(HeatMapDataLabelProvider.prototype,"numericFormat",{get:function(){return this.numericFormatProperty},set:function(e){var t;this.numericFormatProperty=e,null===(t=this.parentSeries)||void 0===t||t.invalidateParentCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(HeatMapDataLabelProvider.prototype,"precision",{get:function(){return this.precisionProperty},set:function(e){var t;this.precisionProperty=e,null===(t=this.parentSeries)||void 0===t||t.invalidateParentCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(HeatMapDataLabelProvider.prototype,"isEnabled",{get:function(){return this.isEnabledProperty},set:function(e){this.isEnabledProperty!==e&&(this.isEnabledProperty=e,this.invalidateParent())},enumerable:!1,configurable:!0}),HeatMapDataLabelProvider.prototype.getText=function(e,t){if(this.metaDataSelector)return this.metaDataSelector(this.dataSeries.getMetadataAt(t,e));var r,i,n=this.zValues[t][e];return n==n?(0,c.formatNumber)(n,null!==(r=this.numericFormat)&&void 0!==r?r:l.ENumericFormat.Decimal,null!==(i=this.precision)&&void 0!==i?i:1):void 0},HeatMapDataLabelProvider.prototype.getPosition=function(e,t,r,i,n,a,s,l){var u=l.xCoordinateCalculator.getCoordinate(r),c=l.yCoordinateCalculator.getCoordinate(i);if(l.isVerticalChart){var d=u;u=c,c=d}return l.xCoordinateCalculator.hasFlippedCoordinates?u+=(a-n.width)/2:u-=a-(a-n.width)/2,l.yCoordinateCalculator.hasFlippedCoordinates?c+=s-(s-n.height)/2:c-=(s-n.height)/2,new o.Point(u,c)},HeatMapDataLabelProvider.prototype.shouldGenerate=function(e,t,r){return e.height<r&&e.width<t},HeatMapDataLabelProvider.prototype.getColor=function(e,t,r){return this.colorValue},HeatMapDataLabelProvider.prototype.shouldSkipLabel=function(e,t,r,i,n){var o=this.parentSeries.parentSurface.seriesViewRect;return r.rect.y<0||r.rect.bottom>o.height||r.rect.x<0||r.rect.right>o.width},HeatMapDataLabelProvider.prototype.generateDataLabels=function(e,t){if(this.dataLabels=[],this.isEnabled&&this.style&&this.style.fontFamily&&this.style.fontSize){this.dataSeries=this.parentSeries.dataSeries,this.zValues=this.dataSeries.getZValues();var r,i,n,o=(0,p.getTextBounds)(this.webAssemblyContext),s=h.DpiHelper.adjustTextStyle(this.style),l=e.getFont(s),c=Math.abs(t.xCoordinateCalculator.getCoordinate(this.dataSeries.getXValue(1))-t.xCoordinateCalculator.getCoordinate(this.dataSeries.getXValue(0))),f=Math.abs(t.yCoordinateCalculator.getCoordinate(this.dataSeries.getYValue(1))-t.yCoordinateCalculator.getCoordinate(this.dataSeries.getYValue(0)));if(l.CalculateStringBounds(null!==(i=this.getText(0,0))&&void 0!==i?i:"",o,null!==(n=this.style.lineSpacing)&&void 0!==n?n:2),t.isVerticalChart&&(f=(r=[c,f])[0],c=r[1]),this.shouldGenerate(new u.Size(o.m_fWidth,o.m_fHeight),c,f)){this.colorValue=(0,d.parseColorToUIntArgb)(this.color);for(var y=this.parentSeries.dataSeries,g=y.xStart,v=y.xStep,m=y.yStart,S=y.yStep,b=0;b<this.dataSeries.arrayHeight;b++){var P=m+S*b;if(!(t.yCoordinateCalculator.visibleMin>P+S)&&!(t.yCoordinateCalculator.visibleMax<P))for(var C=0;C<this.dataSeries.arrayWidth;C++){var x=g+v*C;if(!(t.xCoordinateCalculator.visibleMin>x+v)&&!(t.xCoordinateCalculator.visibleMax<x)){var A=this.getText(C,b);if(!A)continue;l.CalculateStringBounds(null!=A?A:"",o,2);var T=new u.Size(o.m_fWidth,o.m_fHeight),_=this.dataSeries.getXValue(C),R=this.dataSeries.getYValue(b),E=this.getPosition(C,b,_,R,T,c,f,t),w={text:A,position:E,rect:new a.Rect(E.x,E.y-o.GetLineBounds(0).m_fHeight,T.width,T.height),color:this.getColor(C,b,A),dataX:this.dataSeries.getXValue(C),dataY:this.dataSeries.getYValue(b)};this.shouldSkipLabel(C,b,w,c,f)||this.dataLabels.push(w)}}}}}},HeatMapDataLabelProvider.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={numericFormat:this.numericFormat,precision:this.precision,isEnabled:this.isEnabled};return Object.assign(t.options,r),t},HeatMapDataLabelProvider}(r(65267).BaseDataLabelProvider);t.HeatMapDataLabelProvider=f},87632:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LineSeriesDataLabelProvider=void 0;var o=r(48484),a=r(15140),s=function(e){function LineSeriesDataLabelProvider(t){var r,i=this;return(i=e.call(this,t)||this).type=a.EDataLabelProviderType.Line,i.aboveBelowProperty=!0,i.aboveBelowProperty=null!==(r=null==t?void 0:t.aboveBelow)&&void 0!==r?r:i.aboveBelow,i}return n(LineSeriesDataLabelProvider,e),Object.defineProperty(LineSeriesDataLabelProvider.prototype,"aboveBelow",{get:function(){return this.aboveBelowProperty},set:function(e){this.aboveBelowProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),LineSeriesDataLabelProvider.prototype.generateDataLabels=function(t,r){var i=this.parentSeries;this.yAdj=Math.ceil(i.strokeThickness/2),i.pointMarker&&(this.yAdj=Math.max(this.yAdj,Math.ceil(i.pointMarker.height/2))),e.prototype.generateDataLabels.call(this,t,r)},LineSeriesDataLabelProvider.prototype.getPosition=function(t,r){if(!this.aboveBelow)return e.prototype.getPosition.call(this,t,r);var i,n,a,s,l,u,c=t.xCoord()+(null!==(n=null===(i=this.style.padding)||void 0===i?void 0:i.left)&&void 0!==n?n:0),d=r.m_fHeight-r.GetLineBounds(0).m_fHeight,p=t.yCoord()-d;if(t.hasNext()){var h=t.yCoord(t.index+1),f=t.xCoord(t.index+1);f>c&&h>p||f<c&&h<p?p-=this.yAdj+(null!==(s=null===(a=t.style.padding)||void 0===a?void 0:a.bottom)&&void 0!==s?s:1):p+=r.m_fHeight+this.yAdj+(null!==(u=null===(l=t.style.padding)||void 0===l?void 0:l.top)&&void 0!==u?u:1)}return new o.Point(c,p)},LineSeriesDataLabelProvider.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={aboveBelow:this.aboveBelow};return Object.assign(t.options,r),t},LineSeriesDataLabelProvider}(r(99026).DataLabelProvider);t.LineSeriesDataLabelProvider=s},9311:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformHeatMapDataLabelProvider=void 0;var o=r(48484),a=r(47494),s=r(15140),l=r(67475),u=r(48053),c=r(94485),d=r(91462),p=function(e){function NonUniformHeatMapDataLabelProvider(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.EDataLabelProviderType.NonUniformHeatmap,t.cellSizeThresholdCoefficient=1,t}return n(NonUniformHeatMapDataLabelProvider,e),NonUniformHeatMapDataLabelProvider.prototype.getPosition=function(e,t,r,i,n,a,s,l){var u=l.xCoordinateCalculator.getCoordinate(r),c=l.yCoordinateCalculator.getCoordinate(i);if(l.isVerticalChart){var d=u;u=c,c=d}return l.xCoordinateCalculator.hasFlippedCoordinates?u+=(a-n.width)/2:u-=a-(a-n.width)/2,l.yCoordinateCalculator.hasFlippedCoordinates?c+=s-(s-n.height)/2:c-=(s-n.height)/2,new o.Point(u,c)},NonUniformHeatMapDataLabelProvider.prototype.generateDataLabels=function(e,t){if(this.dataLabels=[],this.style&&this.style.fontFamily&&this.style.fontSize){this.dataSeries=this.parentSeries.dataSeries,this.zValues=this.dataSeries.getZValues();var r,i,n=(0,c.getTextBounds)(this.webAssemblyContext),o=d.DpiHelper.adjustTextStyle(this.style),s=e.getFont(o),p=Math.abs(t.xCoordinateCalculator.getCoordinate(this.dataSeries.getXValue(this.dataSeries.arrayWidth))-t.xCoordinateCalculator.getCoordinate(this.dataSeries.getXValue(0))),h=Math.abs(t.yCoordinateCalculator.getCoordinate(this.dataSeries.getYValue(this.dataSeries.arrayHeight))-t.yCoordinateCalculator.getCoordinate(this.dataSeries.getYValue(0))),f=this.dataSeries.xCellSizes,y=this.dataSeries.yCellSizes;s.CalculateStringBounds(null!==(r=this.getText(0,0))&&void 0!==r?r:"",n,null!==(i=this.style.lineSpacing)&&void 0!==i?i:2);var g=n.m_fHeight*this.cellSizeThresholdCoefficient,v=n.m_fWidth*this.cellSizeThresholdCoefficient;this.colorValue=(0,u.parseColorToUIntArgb)(this.color);for(var m=0;m<this.dataSeries.arrayHeight;m++){var S=h*y[m];if(!(S<g)){var b=this.dataSeries.getYValue(m),P=this.dataSeries.yCellOffsets[m+1];if(!(t.yCoordinateCalculator.visibleMin>b)&&!(t.yCoordinateCalculator.visibleMax<P))for(var C=0;C<this.dataSeries.arrayWidth;C++){var x=p*f[C];if(!(x<v)){var A=this.dataSeries.getXValue(C),T=this.dataSeries.xCellOffsets[C+1];if(!(t.xCoordinateCalculator.visibleMin>A)&&!(t.xCoordinateCalculator.visibleMax<T)){var _=this.getText(C,m);if(_){s.CalculateStringBounds(null!=_?_:"",n,2);var R=new l.Size(n.m_fWidth,n.m_fHeight);if(t.isVerticalChart){var E=S;S=x,x=E}var w=this.getPosition(C,m,A,b,R,x,S,t),D={text:_,position:w,rect:new a.Rect(w.x,w.y-n.GetLineBounds(0).m_fHeight,R.width,R.height),color:this.getColor(C,m,_),dataX:A,dataY:b};this.shouldSkipLabel(C,m,D,x,S)||this.dataLabels.push(D)}}}}}}}},NonUniformHeatMapDataLabelProvider}(r(38549).HeatMapDataLabelProvider);t.NonUniformHeatMapDataLabelProvider=p},45989:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.TextDataLabelProvider=void 0;var a=r(48484),s=r(47494),l=r(94485),u=r(65267),c=r(15140),d=r(2158),p=r(7556),h=function(e){function TextDataLabelProvider(t){var r,i,n,a,s=this;return(s=e.call(this,o(o({},t),{style:o({fontFamily:"Arial",fontSize:12},null==t?void 0:t.style)}))||this).type=c.EDataLabelProviderType.Text,s.calculateTextBounds=!1,s.horizontalTextPositionProperty=p.EHorizontalTextPosition.Right,s.verticalTextPositionProperty=p.EVerticalTextPosition.Above,s.isEnabledProperty=!0,s.calculateTextBounds=null!==(r=null==t?void 0:t.calculateTextBounds)&&void 0!==r?r:s.calculateTextBounds,s.horizontalTextPositionProperty=null!==(i=null==t?void 0:t.horizontalTextPosition)&&void 0!==i?i:s.horizontalTextPosition,s.verticalTextPositionProperty=null!==(n=null==t?void 0:t.verticalTextPosition)&&void 0!==n?n:s.verticalTextPosition,s.isEnabledProperty=null!==(a=null==t?void 0:t.isEnabled)&&void 0!==a?a:s.isEnabledProperty,s}return n(TextDataLabelProvider,e),Object.defineProperty(TextDataLabelProvider.prototype,"horizontalTextPosition",{get:function(){return this.horizontalTextPositionProperty},set:function(e){this.horizontalTextPositionProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(TextDataLabelProvider.prototype,"verticalTextPosition",{get:function(){return this.verticalTextPositionProperty},set:function(e){this.verticalTextPositionProperty=e,this.invalidateParent()},enumerable:!1,configurable:!0}),Object.defineProperty(TextDataLabelProvider.prototype,"isEnabled",{get:function(){return this.isEnabledProperty},set:function(e){this.isEnabledProperty!==e&&(this.isEnabledProperty=e,this.invalidateParent())},enumerable:!1,configurable:!0}),TextDataLabelProvider.prototype.getPosition=function(e,t){var r,i,n,o,s,l,u,c,d=e.xCoord();this.horizontalTextPosition===p.EHorizontalTextPosition.Center?d-=t.m_fWidth/2:this.horizontalTextPosition===p.EHorizontalTextPosition.Left?d-=t.m_fWidth+(null!==(i=null===(r=this.style.padding)||void 0===r?void 0:r.right)&&void 0!==i?i:0):d+=null!==(o=null===(n=this.style.padding)||void 0===n?void 0:n.right)&&void 0!==o?o:0;var h=t.m_fHeight-t.GetLineBounds(0).m_fHeight,f=e.yCoord()-h;return this.verticalTextPosition===p.EVerticalTextPosition.Center?f+=t.m_fHeight/2:this.verticalTextPosition===p.EVerticalTextPosition.Below?f+=t.m_fHeight+(null!==(l=null===(s=this.style.padding)||void 0===s?void 0:s.top)&&void 0!==l?l:0):f-=null!==(c=null===(u=this.style.padding)||void 0===u?void 0:u.bottom)&&void 0!==c?c:0,new a.Point(d,f)},TextDataLabelProvider.prototype.getColor=function(e,t){return e.color},TextDataLabelProvider.prototype.generateDataLabels=function(e,t){if(this.dataLabels=[],this.isEnabled&&this.style&&this.style.fontFamily&&this.style.fontSize){var r,i,n,o,a,u=this.parentSeries.dataSeries;if(!u||!u.textValues){console.warn("TextDataLabelProvider requires an XyTextDataSeries");return}var c=new d.DataLabelState(e,t,this.style,this.color,t.pointSeries.yValues,this.parentSeries),h=(0,l.getTextBounds)(this.webAssemblyContext),f=this.parentSeries.dataSeries,y=f.fifoCapacity,g=f.fifoSweeping,v=f.fifoSweepingGap,m=f.fifoStartIndex,S=t.pointSeries.indexes,b=this.verticalTextPosition!==p.EVerticalTextPosition.Above||this.horizontalTextPosition!==p.EHorizontalTextPosition.Right||this.calculateTextBounds;if(u){c.font.CalculateStringBounds(null!==(r=u.getTextValue(0))&&void 0!==r?r:"",h,null!==(n=null===(i=this.style)||void 0===i?void 0:i.lineSpacing)&&void 0!==n?n:2);for(var P=0;P<S.size();P++){c.index=P;var C=S.get(c.index);if(!g||c.pointCount!==y||!(c.index>=m)||!(c.index<m+v)){var x=u.getTextValue(C);b&&c.font.CalculateStringBounds(null!=x?x:"",h,null!==(a=null===(o=this.style)||void 0===o?void 0:o.lineSpacing)&&void 0!==a?a:2);var A=this.getPosition(c,h),T=h.GetLineBounds(0).m_fHeight,_={text:x,position:A,rect:new s.Rect(A.x,A.y-T,h.m_fWidth,h.m_fHeight),color:this.getColor(c,x),dataX:c.xCoord(),dataY:c.yCoord()};this.dataLabels.push(_)}}}this.onAfterGenerate(this.dataLabels)}},TextDataLabelProvider.prototype.onAfterGenerate=function(e){},TextDataLabelProvider.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={calculateTextBounds:this.calculateTextBounds,horizontalTextPosition:this.horizontalTextPosition,verticalTextPosition:this.verticalTextPosition,isEnabled:this.isEnabled};return Object.assign(t.options,r),t},TextDataLabelProvider}(u.BaseDataLabelProvider);t.TextDataLabelProvider=h},63143:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BandSeriesDrawingProvider=void 0;var o=r(94694),a=r(12840),s=r(8355),l=r(21075),u=r(3488),c=function(e){function BandSeriesDrawingProvider(t,r,i,n){var o=e.call(this,t,r,i)||this;return o.args=new o.webAssemblyContext.SCRTBandDrawingParams,o.y1Selector=null!=n?n:function(e){return e.y1Values},o.linesPenCache=new s.Pen2DCache(t),o.strokePenY1Cache=new s.Pen2DCache(t),o.fillBrushCache=new a.BrushCache(t),o.fillBrushY1Cache=new a.BrushCache(t),o}return n(BandSeriesDrawingProvider,e),BandSeriesDrawingProvider.prototype.onAttachSeries=function(){e.prototype.onAttachSeries.call(this),this.nativeDrawingProvider=new this.webAssemblyContext.SCRTBandSeriesDrawingProvider;var t=this.parentSeries,r=t.stroke,i=t.strokeThickness,n=t.fill,o=t.strokeY1,l=t.fillY1,u=t.opacity,c=t.strokeDashArray,d=t.strokeY1DashArray;(0,s.createPenInCache)(this.linesPenCache,r,i,u,c),(0,s.createPenInCache)(this.strokePenY1Cache,o,i,u,d),(0,a.createBrushInCache)(this.fillBrushCache,n,u),(0,a.createBrushInCache)(this.fillBrushY1Cache,l,u)},BandSeriesDrawingProvider.prototype.onDetachSeries=function(){e.prototype.onDetachSeries.call(this),this.delete()},BandSeriesDrawingProvider.prototype.delete=function(){this.nativeDrawingProvider=(0,o.deleteSafe)(this.nativeDrawingProvider),this.args=(0,o.deleteSafe)(this.args),this.linesPenCache=(0,o.deleteSafe)(this.linesPenCache),this.fillBrushCache=(0,o.deleteSafe)(this.fillBrushCache),this.strokePenY1Cache=(0,o.deleteSafe)(this.strokePenY1Cache),this.fillBrushY1Cache=(0,o.deleteSafe)(this.fillBrushY1Cache),e.prototype.delete.call(this)},BandSeriesDrawingProvider.prototype.draw=function(t,r){var i,n=r.pointSeries,o=this.parentSeries.dataSeries.dataDistributionCalculator.containsNaN;this.args.Reset(),this.args.forceShaderMethod=!0,this.args.verticalChart=r.isVerticalChart,this.args.lineGaps=o?this.parentSeries.drawNaNAs===l.ELineDrawMode.DiscontinuousLine?this.webAssemblyContext.SCRTLineGapMode.DrawGaps:this.webAssemblyContext.SCRTLineGapMode.CloseGaps:this.webAssemblyContext.SCRTLineGapMode.Default,this.args.isDigitalLine=this.parentSeries.isDigitalLine;var u=(0,a.getScrtBrushFromCache)(this.fillBrushCache);u&&this.args.SetFillBrush(u);var c=(0,s.getScrtPenFromCache)(this.linesPenCache);c&&this.args.SetLinesPen(c);var d=(0,a.getScrtBrushFromCache)(this.fillBrushY1Cache);d&&this.args.SetFillBrush1(d);var p=(0,s.getScrtPenFromCache)(this.strokePenY1Cache);p&&this.args.SetLinesPen1(p);var h=r.xCoordinateCalculator.isCategoryCoordinateCalculator,f=n.xValues,y=this.parentSeries.dataSeries,g=y.fifoCapacity,v=y.fifoSweeping,m=y.fifoSweepingGap,S=n.fifoStartIndex,b=h?n.indexes:f,P=this.ySelector(n),C=this.y1Selector(n),x=this.getStartAndCount(r,b),A=x.startIndex,T=x.count;this.args.count=T,this.args.startIndex=A,g>0&&v&&g===this.parentSeries.dataSeries.count()&&(this.args.count=S),e.prototype.applyStrokeFillPaletting.call(this,void 0,void 0,void 0,void 0,this.parentSeries.opacity,!0,!0,r);var _=null===(i=this.palettingState.paletteTextureCache)||void 0===i?void 0:i.value;_&&this.args.SetPalette(_),this.args.isSmoothColors=this.palettingState.gradientPaletting;var R=t.getNativeContext();this.nativeDrawingProvider.DrawPointsVec(R,b,P,C,r.xCoordinateCalculator.nativeCalculator,r.yCoordinateCalculator.nativeCalculator,this.args),g>0&&v&&g===this.parentSeries.dataSeries.count()&&(this.args.startIndex=Math.min(P.size(),S+m),this.args.count=Math.max(0,P.size()-S-m),this.args.count>0&&this.nativeDrawingProvider.DrawPointsVec(R,b,P,C,r.xCoordinateCalculator.nativeCalculator,r.yCoordinateCalculator.nativeCalculator,this.args))},BandSeriesDrawingProvider.prototype.onDpiChanged=function(t){e.prototype.onDpiChanged.call(this,t),this.onSeriesPropertyChange(u.PROPERTY.STROKE),this.onSeriesPropertyChange(u.PROPERTY.STROKE_Y1)},BandSeriesDrawingProvider.prototype.onSeriesPropertyChange=function(t){e.prototype.onSeriesPropertyChange.call(this,t);var r=this.parentSeries,i=r.stroke,n=r.strokeY1,o=r.strokeThickness,l=r.fill,c=r.fillY1,d=r.opacity,p=r.strokeDashArray,h=r.strokeY1DashArray;(t===u.PROPERTY.STROKE||t===u.PROPERTY.STROKE_THICKNESS||t===u.PROPERTY.OPACITY||t===u.PROPERTY.STROKE_DASH_ARRAY)&&(this.palettingState.requiresUpdate=!0,(0,s.createPenInCache)(this.linesPenCache,i,o,d,p)),(t===u.PROPERTY.STROKE_Y1||t===u.PROPERTY.STROKE_THICKNESS||t===u.PROPERTY.OPACITY||t===u.PROPERTY.STROKE_Y1_DASH_ARRAY)&&(this.palettingState.requiresUpdate=!0,(0,s.createPenInCache)(this.strokePenY1Cache,n,o,d,h)),(t===u.PROPERTY.FILL||t===u.PROPERTY.OPACITY)&&(this.palettingState.requiresUpdate=!0,(0,a.createBrushInCache)(this.fillBrushCache,l,d)),(t===u.PROPERTY.FILL_Y1||t===u.PROPERTY.OPACITY)&&(this.palettingState.requiresUpdate=!0,(0,a.createBrushInCache)(this.fillBrushY1Cache,c,d))},BandSeriesDrawingProvider}(r(87656).BaseSeriesDrawingProvider);t.BandSeriesDrawingProvider=c},87656:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSeriesDrawingProvider=void 0;var o=r(15492),a=r(94694),s=r(92530),l=r(13973),u=r(1411),c=r(48053),d=r(13120),p=r(4002),h=r(6680),f=r(3488),y=function(e){function BaseSeriesDrawingProvider(t,r,i,n){var o,a=this;return a=e.call(this)||this,s.Guard.notNull(t,"webAssemblyContext"),s.Guard.notNull(r,"parentSeries"),a.webAssemblyContext=t,a.parentSeries=r,a.ySelector=null!=i?i:function(e){return e.yValues},a.xSelector=null!=n?n:function(e){return e.xValues},a.palettingState={palettedColors:void 0,palettedColorsHashCode:0,gradientPaletting:!1,paletteTextureCache:new d.PaletteCache(t),requiresUpdate:!0},a.seriesHasDataChanges=a.seriesHasDataChanges.bind(a),a.parentDataSeries=a.parentSeries.dataSeries,null===(o=a.parentDataSeries)||void 0===o||o.dataChanged.subscribe(a.seriesHasDataChanges),a}return n(BaseSeriesDrawingProvider,e),BaseSeriesDrawingProvider.prototype.getStartAndCount=function(e,t){var r,i,n,o=null==e?void 0:e.pointSeries,a=null===(r=this.parentSeries)||void 0===r?void 0:r.xAxis,s=null===(i=null==a?void 0:a.clipToXRange)||void 0===i||i,l=t.size(),u=Math.min(o?o.xValues.size():l,l),c=0;return s&&!(null==o?void 0:o.resampled)&&(null===(n=null==e?void 0:e.indexRange)||void 0===n?void 0:n.diff)>=0&&(e.indexRange.diff+1<u&&(c=e.indexRange.min),u=Math.min(e.indexRange.diff+1,u)),{startIndex:c,count:u}},BaseSeriesDrawingProvider.prototype.applyStrokePaletting=function(e,t){var r,i,n,o,a=this.parentSeries.paletteProvider;if(this.parentSeries.hasStrokePaletteProvider()||void 0!==a.applyPaletting){var s=(0,l.uintArgbColorMultiplyOpacity)((0,c.parseColorToUIntArgb)(this.parentSeries.stroke),this.parentSeries.opacity);if(isNaN(s))throw Error("applyStrokePaletting(): renderSeries.stroke "+this.parentSeries.stroke+" cannot be converted to a valid color");var u=this.parentSeries.paletteProvider,d=this.parentSeries.dataSeries,h=null==(t=null!=t?t:this.parentSeries.getCurrentRenderPassData())?void 0:t.pointSeries,f=null!==(r=h?this.xSelector(h):void 0)&&void 0!==r?r:d.getNativeXValues(),y=null!==(i=h?this.ySelector(h):void 0)&&void 0!==i?i:d.getNativeYValues(),g=this.getStartAndCount(t,f),v=g.startIndex,m=g.count;if(this.palettingState.palettedColors||(this.palettingState.palettedColors=new this.webAssemblyContext.UIntVector),this.palettingState.originalPenColor=e.m_uiColor,e.m_uiColor=4294967295,e.m_bGradient=u.strokePaletteMode===p.EStrokePaletteMode.GRADIENT,a.applyPaletting){a.applyPaletting(this.palettingState,f,y,null!==(n=null==h?void 0:h.indexes)&&void 0!==n?n:d.getNativeIndexes(),v,m);return}if(this.shouldUpdatePalette(t,u,v,m),!this.palettingState.requiresUpdate)return;this.palettingState.palettedColors.clear(),this.palettingState.palettedColors.reserve(m);for(var S=h&&h.indexes.size()>0,b=v;b<v+m;b++){var P=S?h.indexes.get(b):b;P<0?P=0:P>=d.count()&&(P=d.count()-1);var C=f.get(b),x=y.get(b),A=u.overrideStrokeArgb(C,x,P,this.parentSeries.opacity,d.getMetadataAt(P));this.parentSeries.pushPalettedColors(A||s,this.palettingState)}this.palettingState.requiresUpdate=!1}else this.palettingState.originalPenColor&&(e.m_uiColor=this.palettingState.originalPenColor,this.palettingState.originalPenColor=void 0),null===(o=this.palettingState.palettedColors)||void 0===o||o.clear();this.palettingState.palettedColors||(this.palettingState.palettedColors=new this.webAssemblyContext.UIntVector)},BaseSeriesDrawingProvider.prototype.applyStrokeFillPaletting=function(e,t,r,i,n,o,a,s){void 0===o&&(o=!1),void 0===a&&(a=!0);var d,h,f,y,g,v,m=this.parentSeries.hasStrokePaletteProvider(),S=this.parentSeries.hasFillPaletteProvider(),b=this.parentSeries.hasPointMarkerPaletteProvider(),P=this.parentSeries.paletteProvider,C=this.parentSeries.paletteProvider,x=this.parentSeries.paletteProvider,A=(null==x?void 0:x.applyPaletting)!==void 0;if(m||S||b||A){var T=void 0,_=void 0;if(o)T=_=this.webAssemblyContext.SCRTPalette.GetNoOverrideColorCode();else{var R=void 0!==n;T=e&&R?(0,l.uintArgbColorMultiplyOpacity)((0,c.parseColorToUIntArgb)(e),1):4294967295,_=r&&R?(0,l.uintArgbColorMultiplyOpacity)((0,c.parseColorToUIntArgb)(r),1):4294967295}if(isNaN(T))throw Error("updatePalette(): parentSeries.stroke "+e+" cannot be converted to a valid color");if(isNaN(_))throw Error("updatePalette(): fillColor "+_+" cannot be converted to a valid color");var E=this.parentSeries.dataSeries,w=null==(s=null!=s?s:this.parentSeries.getCurrentRenderPassData())?void 0:s.pointSeries,D=null!==(d=w?this.xSelector(w):void 0)&&void 0!==d?d:E.getNativeXValues(),O=null!==(h=w?this.ySelector(w):void 0)&&void 0!==h?h:E.getNativeYValues(),I=this.getStartAndCount(s,D),M=I.startIndex,L=I.count;if(this.palettingState.palettedColors||(this.palettingState.palettedColors=new this.webAssemblyContext.UIntVector),x.applyPaletting){x.applyPaletting(this.palettingState,D,O,null!==(f=null==w?void 0:w.indexes)&&void 0!==f?f:E.getNativeIndexes(),M,L);return}if(this.shouldUpdatePalette(s,P,M,L),!this.palettingState.requiresUpdate)return;this.palettingState.paletteTextureCache.reset(),this.palettingState.palettedColors.clear(),this.palettingState.palettedColors.reserve(2*L),a&&(t&&(this.palettingState.originalPenColor=t.m_uiColor,t.m_uiColor=4294967295,this.palettingState.originalPenGradient=t.m_bGradient,m?t.m_bGradient=P.strokePaletteMode===p.EStrokePaletteMode.GRADIENT:b&&(t.m_bGradient=C.strokePaletteMode===p.EStrokePaletteMode.GRADIENT)),i&&(this.palettingState.originalBrushColor=i.GetColor(),i.SetColor(4294967295)));for(var k=0,N=w&&w.indexes.size()>0,B=M;B<M+L;B++){var V=N?w.indexes.get(B):B;V<0?V=0:V>=E.count()&&(V=E.count()-1);var F=D.get(B),j=O.get(B),H=this.overridePaletteProviderColors(this.parentSeries,F,j,V,n,E.getMetadataAt(V)),z=null!==(y=H.stroke)&&void 0!==y?y:T,G=null!==(g=H.fill)&&void 0!==g?g:_;this.palettingState.palettedColors.push_back(z),this.palettingState.palettedColors.push_back(G),k=(0,u.numericHashCode)(k,z),k=(0,u.numericHashCode)(k,G)}o&&(this.palettingState.palettedColorsHashCode!==k&&this.palettingState.paletteTextureCache.reset(),this.palettingState.paletteTextureCache.create(this.palettingState.palettedColors),this.palettingState.palettedColorsHashCode=k),this.palettingState.requiresUpdate=!1}else this.palettingState.paletteTextureCache.reset(),null===(v=this.palettingState.palettedColors)||void 0===v||v.clear(),t&&(this.palettingState.originalPenColor&&(t.m_uiColor=this.palettingState.originalPenColor,this.palettingState.originalPenColor=void 0),this.palettingState.originalPenGradient&&(t.m_bGradient=this.palettingState.originalPenGradient,this.palettingState.originalPenGradient=void 0)),i&&this.palettingState.originalBrushColor&&(i.SetColor(this.palettingState.originalBrushColor),this.palettingState.originalBrushColor=void 0);this.palettingState.palettedColors||(this.palettingState.palettedColors=new this.webAssemblyContext.UIntVector),this.palettingState.gradientPaletting=this.isGradientFillPaletting(this.parentSeries)},BaseSeriesDrawingProvider.prototype.createSolidBrush=function(e,t){return(0,h.createSolidBrush)(this.webAssemblyContext,e,t)},BaseSeriesDrawingProvider.prototype.delete=function(){this.palettingState.palettedColors&&(this.palettingState.palettedColors=(0,a.deleteSafe)(this.palettingState.palettedColors)),this.palettingState.paletteTextureCache=(0,a.deleteSafe)(this.palettingState.paletteTextureCache)},BaseSeriesDrawingProvider.prototype.onSeriesPropertyChange=function(e){var t,r;e===f.PROPERTY.DATA_SERIES&&(null===(t=this.parentDataSeries)||void 0===t||t.dataChanged.unsubscribe(this.seriesHasDataChanges),this.parentDataSeries=this.parentSeries.dataSeries,null===(r=this.parentDataSeries)||void 0===r||r.dataChanged.subscribe(this.seriesHasDataChanges),this.palettingState.requiresUpdate=!0)},BaseSeriesDrawingProvider.prototype.onDpiChanged=function(e){},BaseSeriesDrawingProvider.prototype.onAttachSeries=function(){},BaseSeriesDrawingProvider.prototype.onDetachSeries=function(){},BaseSeriesDrawingProvider.prototype.seriesHasDataChanges=function(){this.palettingState.requiresUpdate=!0},BaseSeriesDrawingProvider.prototype.shouldUpdatePalette=function(e,t,r,i){var n,o,a,s,l,u;(null===(n=null==e?void 0:e.pointSeries)||void 0===n?void 0:n.resampled)&&(null==e?void 0:e.resamplingHash)!==this.palettingState.lastResamplingHash&&(this.palettingState.lastResamplingHash=null==e?void 0:e.resamplingHash,this.palettingState.requiresUpdate=!0),null!==(o=t.isRangeIndependant)&&void 0!==o&&o?(null!==(l=this.palettingState.lastStartIndex)&&void 0!==l?l:Number.MAX_SAFE_INTEGER)>r||(null!==(u=this.palettingState.lastCount)&&void 0!==u?u:0)<i||r+i>this.palettingState.lastStartIndex+this.palettingState.lastCount?(this.palettingState.lastStartIndex=r,this.palettingState.lastCount=i,this.palettingState.requiresUpdate=!0,this.palettingState.paletteStartIndex=0):this.palettingState.paletteStartIndex=r-this.palettingState.lastStartIndex:((null!==(a=this.palettingState.lastStartIndex)&&void 0!==a?a:0)!==r||(null!==(s=this.palettingState.lastCount)&&void 0!==s?s:0)!==i)&&(this.palettingState.lastStartIndex=r,this.palettingState.lastCount=i,this.palettingState.requiresUpdate=!0,this.palettingState.paletteStartIndex=0),(!t.shouldUpdatePalette||t.shouldUpdatePalette())&&(this.palettingState.requiresUpdate=!0)},BaseSeriesDrawingProvider.prototype.overridePaletteProviderColors=function(e,t,r,i,n,o){if(e.hasStrokePaletteProvider()){var a,s;a=e.paletteProvider.overrideStrokeArgb(t,r,i,n,o)}return e.hasFillPaletteProvider()&&(s=e.paletteProvider.overrideFillArgb(t,r,i,n,o)),{stroke:a,fill:s}},BaseSeriesDrawingProvider.prototype.isGradientFillPaletting=function(e){return!!e.hasFillPaletteProvider()&&e.paletteProvider.fillPaletteMode===p.EFillPaletteMode.GRADIENT},BaseSeriesDrawingProvider}(o.DeletableEntity);t.BaseSeriesDrawingProvider=y},4554:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BubbleSeriesDrawingProvider=void 0;var o=r(94694),a=r(91462),s=function(e){function BubbleSeriesDrawingProvider(t,r){var i=e.call(this,t,r)||this;return i.nativeDrawingProvider=new i.webAssemblyContext.SCRTBubbleSeriesDrawingProvider,i.args=new i.webAssemblyContext.SCRTPointDrawingParams,i}return n(BubbleSeriesDrawingProvider,e),BubbleSeriesDrawingProvider.prototype.onSeriesPropertyChange=function(e){},BubbleSeriesDrawingProvider.prototype.draw=function(t,r){var i,n=this.parentSeries.pointMarker;if(void 0!==n){var o=n.getSprite(),s=r.pointSeries,l=r.xCoordinateCalculator.isCategoryCoordinateCalculator;this.args.Reset();var u=s.xValues,c=s.yValues,d=s.zValues,p=this.getStartAndCount(r,u),h=p.startIndex,f=p.count;this.args.count=f,this.args.startIndex=h;var y=this.parentSeries.dataSeries,g=y.fifoCapacity,v=y.fifoSweeping,m=y.fifoSweepingGap,S=s.fifoStartIndex;v&&g===this.parentSeries.dataSeries.count()&&(this.args.count=S),this.args.verticalChart=r.isVerticalChart,this.args.forceShaderMethod=!0,this.args.SetSpriteTexture(o.getTexture()),e.prototype.applyStrokeFillPaletting.call(this,this.parentSeries.stroke,void 0,void 0,void 0,this.parentSeries.opacity),this.args.SetPalettedColors(this.palettingState.palettedColors),this.args.paletteStart=null!==(i=this.palettingState.paletteStartIndex)&&void 0!==i?i:0,this.args.zMultiplier=this.parentSeries.zMultiplier*a.DpiHelper.PIXEL_RATIO;var b=l?s.indexes:u,P=t.getNativeContext();this.drawPoints(P,b,c,d,r.xCoordinateCalculator.nativeCalculator,r.yCoordinateCalculator.nativeCalculator,this.args,this.parentSeries.parentSurface.seriesViewRect),v&&g===this.parentSeries.dataSeries.count()&&(this.args.startIndex=Math.min(c.size(),S+m),this.args.count=Math.max(0,c.size()-S-m),this.args.count>0&&this.drawPoints(P,b,c,d,r.xCoordinateCalculator.nativeCalculator,r.yCoordinateCalculator.nativeCalculator,this.args,this.parentSeries.parentSurface.seriesViewRect))}},BubbleSeriesDrawingProvider.prototype.delete=function(){this.nativeDrawingProvider=(0,o.deleteSafe)(this.nativeDrawingProvider),this.args=(0,o.deleteSafe)(this.args),e.prototype.delete.call(this)},BubbleSeriesDrawingProvider.prototype.overridePaletteProviderColors=function(e,t,r,i,n,o){if(e.hasPointMarkerPaletteProvider()){var a=e.paletteProvider.overridePointMarkerArgb(t,r,i,n,o);if(a)return a}return{stroke:void 0,fill:void 0}},BubbleSeriesDrawingProvider.prototype.isGradientFillPaletting=function(e){return!1},BubbleSeriesDrawingProvider.prototype.drawPoints=function(e,t,r,i,n,o,a,s){this.nativeDrawingProvider.DrawPointsVec(e,t,r,i,n,o,a)},BubbleSeriesDrawingProvider}(r(87656).BaseSeriesDrawingProvider);t.BubbleSeriesDrawingProvider=s},13250:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnSeriesDrawingProvider=void 0;var o=r(94694),a=r(12840),s=r(8355),l=r(61239),u=r(3488),c=function(e){function ColumnSeriesDrawingProvider(t,r){var i=e.call(this,t,r)||this;i.nativeDrawingProvider=new t.SCRTColumnSeriesDrawingProvider,i.args=new i.webAssemblyContext.SCRTColumnDrawingParams,i.strokePenCache=new s.Pen2DCache(t),i.strokePenFillColoredCache=new s.Pen2DCache(t),i.fillBrushCache=new a.BrushCache(t);var n=i.parentSeries,o=n.stroke,l=n.strokeThickness,u=n.fill,c=n.opacity;return(0,s.createPenInCache)(i.strokePenCache,o,l,c),0===l&&(0,s.createPenInCache)(i.strokePenFillColoredCache,u,1,c),i.createBrush(),i}return n(ColumnSeriesDrawingProvider,e),ColumnSeriesDrawingProvider.prototype.delete=function(){this.nativeDrawingProvider=(0,o.deleteSafe)(this.nativeDrawingProvider),this.args=(0,o.deleteSafe)(this.args),this.strokePenCache=(0,o.deleteSafe)(this.strokePenCache),this.strokePenFillColoredCache=(0,o.deleteSafe)(this.strokePenFillColoredCache),this.fillBrushCache=(0,o.deleteSafe)(this.fillBrushCache),e.prototype.delete.call(this)},ColumnSeriesDrawingProvider.prototype.draw=function(t,r){var i=r.pointSeries,n=this.parentSeries.parentSurface.seriesViewRect,o=this.parentSeries.strokeThickness;this.args.Reset(),this.args.forceShaderMethod=!0,this.args.verticalChart=r.isVerticalChart,this.args.zeroLineY=this.parentSeries.zeroLineY,this.args.columnWidth=this.parentSeries.getDataPointWidth(r.xCoordinateCalculator,this.parentSeries.dataPointWidth),this.args.bottomRadius=this.parentSeries.cornerRadius;var l=this.strokePenCache;1===this.args.columnWidth&&0===o&&(this.args.columnWidth=0,l=this.strokePenFillColoredCache);var u=(0,s.getScrtPenFromCache)(l);u&&this.args.SetLinesPen(u);var c=(0,a.getScrtBrushFromCache)(this.fillBrushCache);c&&this.args.SetFillBrush(c),this.args.viewportWidth=n.width,this.args.viewportHeight=n.height,e.prototype.applyStrokeFillPaletting.call(this,this.parentSeries.stroke,u,this.parentSeries.fill,c,this.parentSeries.opacity,!1,void 0!==this.parentSeries.fillLinearGradient),this.args.SetPalettedColors(this.palettingState.palettedColors),this.args.paletteStart=2*this.palettingState.paletteStartIndex;var d=r.xCoordinateCalculator.isCategoryCoordinateCalculator,p=this.xSelector(i),h=this.ySelector(i),f=d?i.indexes:p,y=this.getStartAndCount(r,f),g=y.startIndex,v=y.count;this.args.count=v,this.args.startIndex=g;var m=this.parentSeries.dataSeries,S=m.fifoCapacity,b=m.fifoSweeping,P=m.fifoSweepingGap,C=i.fifoStartIndex;b&&S===this.parentSeries.dataSeries.count()&&(this.args.count=C);var x=t.getNativeContext();this.nativeDrawingProvider.DrawPointsVec(x,f,h,r.xCoordinateCalculator.nativeCalculator,r.yCoordinateCalculator.nativeCalculator,this.args),b&&S===this.parentSeries.dataSeries.count()&&(this.args.startIndex=Math.min(h.size(),C+P),this.args.count=Math.max(0,h.size()-C-P),this.args.count>0&&this.nativeDrawingProvider.DrawPointsVec(x,f,h,r.xCoordinateCalculator.nativeCalculator,r.yCoordinateCalculator.nativeCalculator,this.args))},ColumnSeriesDrawingProvider.prototype.onDpiChanged=function(t){e.prototype.onDpiChanged.call(this,t),this.onSeriesPropertyChange(u.PROPERTY.STROKE)},ColumnSeriesDrawingProvider.prototype.onSeriesPropertyChange=function(t){e.prototype.onSeriesPropertyChange.call(this,t);var r=this.parentSeries,i=r.stroke,n=r.strokeThickness,o=r.opacity,a=r.fill;(t===u.PROPERTY.STROKE||t===u.PROPERTY.STROKE_THICKNESS||t===u.PROPERTY.OPACITY)&&(0,s.createPenInCache)(this.strokePenCache,i,n,o),(t===u.PROPERTY.FILL||t===u.PROPERTY.OPACITY)&&this.createBrush(),0===n&&(t===u.PROPERTY.STROKE_THICKNESS||t===u.PROPERTY.STROKE||t===u.PROPERTY.OPACITY||t===u.PROPERTY.FILL)&&(0,s.createPenInCache)(this.strokePenFillColoredCache,a,1,o)},ColumnSeriesDrawingProvider.prototype.createBrush=function(){var e=this.parentSeries,t=e.fill,r=e.opacity,i=e.fillLinearGradient,n=e.parentSurface,o=(null==n?void 0:n.isCopyCanvasSurface)?n.domCanvas2D.height/l.SciChartSurfaceBase.domMasterCanvas.height:1,s=(null==n?void 0:n.isCopyCanvasSurface)?n.domCanvas2D.width/l.SciChartSurfaceBase.domMasterCanvas.width:1;return(0,a.createBrushInCache)(this.fillBrushCache,t,r,o,s,i)},ColumnSeriesDrawingProvider}(r(87656).BaseSeriesDrawingProvider);t.ColumnSeriesDrawingProvider=c},90525:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorSeriesDrawingProvider=void 0;var o=r(94694),a=r(18157),s=r(33186),l=r(15958),u=r(66379),c=r(8355),d=r(21075),p=r(28670),h=r(94485),f=r(3488),y=function(e){function ErrorSeriesDrawingProvider(t,r){var i=e.call(this,t,r)||this;return i.linesPenCache=new c.Pen2DCache(t),i}return n(ErrorSeriesDrawingProvider,e),ErrorSeriesDrawingProvider.prototype.onAttachSeries=function(){e.prototype.onAttachSeries.call(this);var t=this.parentSeries,r=t.stroke,i=t.strokeThickness,n=t.opacity,o=t.strokeDashArray;(0,c.createPenInCache)(this.linesPenCache,r,i,n,o)},ErrorSeriesDrawingProvider.prototype.onDetachSeries=function(){e.prototype.onDetachSeries.call(this),this.delete()},ErrorSeriesDrawingProvider.prototype.delete=function(){this.linesPenCache=(0,o.deleteSafe)(this.linesPenCache),e.prototype.delete.call(this)},ErrorSeriesDrawingProvider.prototype.draw=function(e,t){var r=(0,c.getScrtPenFromCache)(this.linesPenCache);if(r){var i=t.pointSeries,n=(0,h.getVectorColorVertex)(this.webAssemblyContext),o=t.xCoordinateCalculator.isCategoryCoordinateCalculator,f=i.xValues,y=o?i.indexes:f,g=i.yValues,v=i.highValues,m=i.lowValues,S=this.parentSeries.errorDirection===l.EErrorDirection.Vertical,b=S?t.xCoordinateCalculator:t.yCoordinateCalculator,P=.5*(this.parentSeries.dataPointWidthMode===s.EDataPointWidthMode.Absolute?this.parentSeries.dataPointWidth:this.parentSeries.getDataPointWidth(b,this.parentSeries.dataPointWidth)),C=this.parentSeries.xAxis.type===a.EAxisType.LogarithmicAxis,x=this.parentSeries.yAxis.type===a.EAxisType.LogarithmicAxis,A=this.parentSeries.xAxis.isNegative,T=this.parentSeries.yAxis.isNegative,_=this.parentSeries.errorMode!==u.EErrorMode.Low,R=this.parentSeries.errorMode!==u.EErrorMode.High,E=y.size();if(S)for(var w=0;w<E;++w){var D=y.get(w),O=g.get(w),I=_?v.get(w):O,M=R?m.get(w):O,L=x&&!T&&M<=0;L&&(M=this.parentSeries.yAxis.visibleRange.min);var k=x&&T&&I>=0;k&&(I=this.parentSeries.yAxis.visibleRange.max);var N=t.xCoordinateCalculator.getCoordinate(D),B=t.yCoordinateCalculator.getCoordinate(O),V=t.yCoordinateCalculator.getCoordinate(I),F=t.yCoordinateCalculator.getCoordinate(M),j=N-P,H=N+P;this.parentSeries.drawConnector&&this.addLineVertices(n,N,isNaN(I)?B:V,N,isNaN(M)?B:F),_&&!k&&this.parentSeries.drawWhiskers&&this.addLineVertices(n,j,V,H,V),R&&!L&&this.parentSeries.drawWhiskers&&this.addLineVertices(n,j,F,H,F)}else for(var w=0;w<E;++w){var D=y.get(w),O=g.get(w),M=R?m.get(w):D,I=_?v.get(w):D,L=C&&!A&&M<=0;L&&(M=p.MIN_LOG_AXIS_VALUE);var k=C&&A&&I>=0;k&&(I=-p.MIN_LOG_AXIS_VALUE);var N=t.xCoordinateCalculator.getCoordinate(D),B=t.yCoordinateCalculator.getCoordinate(O),V=t.xCoordinateCalculator.getCoordinate(I),F=t.xCoordinateCalculator.getCoordinate(M),j=B-P,H=B+P;this.parentSeries.drawConnector&&this.addLineVertices(n,isNaN(M)?N:F,B,isNaN(I)?N:V,B),_&&!k&&this.parentSeries.drawWhiskers&&this.addLineVertices(n,V,j,V,H),R&&!L&&this.parentSeries.drawWhiskers&&this.addLineVertices(n,F,j,F,H)}e.drawLinesNative(n,r,d.ELineDrawMode.DiscontinuousLine)}},ErrorSeriesDrawingProvider.prototype.onDpiChanged=function(t){e.prototype.onDpiChanged.call(this,t),this.onSeriesPropertyChange(f.PROPERTY.STROKE)},ErrorSeriesDrawingProvider.prototype.onSeriesPropertyChange=function(t){e.prototype.onSeriesPropertyChange.call(this,t);var r=this.parentSeries,i=r.stroke,n=r.strokeThickness,o=r.opacity,a=r.strokeDashArray;(t===f.PROPERTY.STROKE||t===f.PROPERTY.STROKE_THICKNESS||t===f.PROPERTY.OPACITY||t===f.PROPERTY.STROKE_DASH_ARRAY)&&(0,c.createPenInCache)(this.linesPenCache,i,n,o,a)},ErrorSeriesDrawingProvider.prototype.addLineVertices=function(e,t,r,i,n){this.parentSeries.xAxis.isVerticalChart?(e.push_back((0,h.getVertex)(this.webAssemblyContext,r,t)),e.push_back((0,h.getVertex)(this.webAssemblyContext,n,i))):(e.push_back((0,h.getVertex)(this.webAssemblyContext,t,r)),e.push_back((0,h.getVertex)(this.webAssemblyContext,i,n)))},ErrorSeriesDrawingProvider}(r(87656).BaseSeriesDrawingProvider);t.ErrorSeriesDrawingProvider=y},87796:function(e,t,r){"use strict";var i=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.calculateHeatmapTexture=t.calculateCellCoordinates=t.calculateOffsets=t.createColorMap=t.getCellColor=t.getColor=t.getColorDataForTexture=void 0;var n=r(13973),o=r(48053);t.getColorDataForTexture=function(e,r,i){var n,o=e.xStartInd,a=e.textureWidth,s=e.xInc,l=e.yStartInd,u=e.textureHeight,c=e.yInc,d=e.zValues,p=e.webAssemblyContext,h=e.colorMap,f=e.opacity,y=e.horCellCount,g=(e.vertCellCount,e.horCellOffsets),v=e.vertCellOffsets,m=e.colorMin,S=e.colorMax,b=e.arrayWidth,P=e.arrayHeight,C=e.fillValuesOutOfRange;r.resize(a*u,0);for(var x=0,A=v[0],T=Array(y),_=!1,R=o,E=l,w=0;w<u;w++){var D=0,O=g[0];if(w>A&&(_=!1,w-(A=v[++x])>Number.EPSILON&&Math.floor(A)+1===w)){w--;continue}_?n=T[D]:(R=o+D*s,E=l+x*c,n=(0,t.getColor)(E,R,h,f,d,p,m,S,b,P,C,i),T[D]=n);for(var I=0;I<a;I++){if(I>O){if(I-(O=g[++D])>Number.EPSILON&&Math.floor(O)+1===I){I--;continue}_?n=T[D]:(R=o+D*s,n=(0,t.getColor)(E,R,h,f,d,p,m,S,b,P,C,i),T[D]=n)}r.set(w*a+I,n)}_=!0}return r},t.getColor=function(e,r,i,o,a,s,l,u,c,d,p,h){if(e>=d||r>=c)return 0;var f=a[e][r],y=(0,t.getCellColor)(f,i,l,u,p,s,h);return(0,n.uintArgbColorMultiplyOpacity)(y,o)},t.getCellColor=function(e,t,r,i,n,o,a){if(isNaN(e))return 0;if(n)e=(e=e<r?r:e)>i?i:e;else if(e<r||e>i)return 0;var s=(a-1)/Math.abs(i-r),l=Math.floor((e-r)*s+.5*Math.sign(e));return l=o.NumberUtil.Constrain(l,0,t.length-1),t[l]},t.createColorMap=function(e,t){var r=Array.from(Array(t)),n=i([],e,!0);n.sort(function(e,t){return e.offset<t.offset?-1:e.offset>t.offset?1:0});var a=n.length,s=n[0].offset,l=n[n.length-1].offset-s,u=l/(t-1),c=n[0].color,d=n[0].offset,p=c,h=d;a>1&&(p=n[1].color,h=n[1].offset),l=h-d;for(var f=0,y=0;y<t;++y){var g=s+y*u;g>=h&&(f++,d=h,c=p,f+1<a&&(p=n[f+1].color,h=n[f+1].offset),l=h-d);var v=void 0;v=c===p||l<=Number.EPSILON?Number.parseInt((0,o.parseColorToHexStringArgb)(p),16):getInterpolatedColor(c,p,(g-d)/l),r[y]=v}return r};var getInterpolatedColor=function(e,t,r){var i=(0,o.parseColorToTArgb)(e),n=(0,o.parseColorToTArgb)(t),a=i.opacity,s=n.opacity,l=i.red,u=n.red,c=i.green,d=n.green,p=i.blue,h=n.blue,f=l+Math.floor((u-l)*r),y=c+Math.floor((d-c)*r),g=p+Math.floor((h-p)*r),v=a+Math.floor((s-a)*r);return Number.parseInt("0x"+(0,o.toHex)(v)+(0,o.toHex)(f)+(0,o.toHex)(y)+(0,o.toHex)(g),16)};t.calculateOffsets=function(e,r,i,n,o,a,s,l,u,c,d){var p=e.left<0?-e.left:0,h=e.top<0?-e.top:0;return r&&(p=e.right>d.bottom?e.right-d.bottom:0),{horCellOffsets:(0,t.calculateCellCoordinates)(i,e.width,o,a,s,-p),vertCellOffsets:(0,t.calculateCellCoordinates)(n,e.height,l,u,c,-h)}},t.calculateCellCoordinates=function(e,t,r,i,n,o){for(var a=0,s=r,l=0;l<i;l++,s+=n)a+=e[s];for(var u=1/a,c=Array(i),d=o,l=0;l<i-1;l++)d+=e[l*n+r]*u*t,c[l]=d;return c[i-1]=t+o,c},t.calculateHeatmapTexture=function(e,r,i,n){var o=e.textureWidth,a=e.textureHeight,s=e.webAssemblyContext,l=e.useInterpolation,u=(0,t.getColorDataForTexture)(e,r,n),c=i.create(o,a,s.eTSRTextureFormat.TSR_TEXTUREFORMAT_A8B8G8R8);return s.SCRTSetTextureLinearSamplerEnabled(c,l),s.SCRTFillTextureAbgr(c,o,a,u),c}},17759:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LineSeriesDrawingProvider=void 0;var o=r(94694),a=r(8355),s=r(21075),l=r(5234),u=r(3488),c=function(e){function LineSeriesDrawingProvider(t,r,i,n){var o=e.call(this,t,r,i,n)||this;return o.linesPenCache=new a.Pen2DCache(t),o.args=new t.SCRTLineDrawingParams,o}return n(LineSeriesDrawingProvider,e),LineSeriesDrawingProvider.prototype.onDpiChanged=function(t){e.prototype.onDpiChanged.call(this,t),this.onSeriesPropertyChange(u.PROPERTY.STROKE)},LineSeriesDrawingProvider.prototype.onSeriesPropertyChange=function(t){if(e.prototype.onSeriesPropertyChange.call(this,t),t===u.PROPERTY.PALETTE_PROVIDER&&this.linesPenCache.invalidateCache(),t===u.PROPERTY.STROKE||t===u.PROPERTY.STROKE_THICKNESS||t===u.PROPERTY.PALETTE_PROVIDER||t===u.PROPERTY.OPACITY||t===u.PROPERTY.STROKE_DASH_ARRAY){this.palettingState.requiresUpdate=!0;var r=this.getProperties(this.parentSeries),i=r.stroke,n=r.strokeThickness,o=r.opacity,s=r.strokeDashArray;i&&(0,a.createPenInCache)(this.linesPenCache,i,n,null!=o?o:1,s)}},LineSeriesDrawingProvider.prototype.getProperties=function(e){return{stroke:e.stroke,strokeThickness:e.strokeThickness,opacity:e.opacity,strokeDashArray:e.strokeDashArray,isDigitalLine:e.isDigitalLine,drawNaNAs:e.drawNaNAs,lineType:e.lineType,containsNaN:void 0}},LineSeriesDrawingProvider.prototype.onAttachSeries=function(){e.prototype.onAttachSeries.call(this),this.nativeDrawingProvider=new this.webAssemblyContext.SCRTLineSeriesDrawingProvider;var t=this.getProperties(this.parentSeries),r=t.stroke,i=t.strokeThickness,n=t.opacity,o=t.strokeDashArray;r&&(0,a.createPenInCache)(this.linesPenCache,r,i,null!=n?n:1,o)},LineSeriesDrawingProvider.prototype.onDetachSeries=function(){e.prototype.onDetachSeries.call(this),this.nativeDrawingProvider=(0,o.deleteSafe)(this.nativeDrawingProvider)},LineSeriesDrawingProvider.prototype.draw=function(e,t){var r,i=this.getProperties(this.parentSeries),n=i.stroke,o=i.isDigitalLine,u=i.lineType,c=i.drawNaNAs,d=i.containsNaN,p=(0,a.getScrtPenFromCache)(this.linesPenCache);if(p&&n){var h=t.pointSeries,f=this.parentSeries.dataSeries.dataDistributionCalculator.containsNaN;f=null!=d?d:f,this.args.Reset(),this.args.SetLinesPen(p),this.args.isDigitalLine=o||u!==l.ELineType.Normal,this.args.drawDigitalVertical=u!==l.ELineType.DigitalNoEdge,this.args.digitalYX=u===l.ELineType.DigitalYX,this.args.forceShaderMethod=!0,this.args.containsNaN=f,this.args.forceClamp=!this.args.isDigitalLine,this.args.lineGaps=f?c===s.ELineDrawMode.DiscontinuousLine?this.webAssemblyContext.SCRTLineGapMode.DrawGaps:this.webAssemblyContext.SCRTLineGapMode.CloseGaps:this.webAssemblyContext.SCRTLineGapMode.Default,this.args.verticalChart=t.isVerticalChart;var y=t.xCoordinateCalculator.isCategoryCoordinateCalculator,g=this.parentSeries.dataSeries,v=g.fifoCapacity,m=g.fifoSweeping,S=g.fifoSweepingGap,b=h.fifoStartIndex,P=this.xSelector(h),C=y?h.indexes:P,x=this.ySelector(h),A=this.getStartAndCount(t,C),T=A.startIndex,_=A.count;this.args.count=_,this.args.startIndex=T,m&&v===this.parentSeries.dataSeries.count()&&(this.args.count=b),this.applyStrokePaletting(p,t),this.palettingState.palettedColors&&(this.args.SetPalettedColors(this.palettingState.palettedColors),this.args.paletteStart=null!==(r=this.palettingState.paletteStartIndex)&&void 0!==r?r:0);var R=e.getNativeContext();this.drawLines(e,R,C,x,t.xCoordinateCalculator.nativeCalculator,t.yCoordinateCalculator.nativeCalculator,this.args,this.parentSeries.parentSurface.seriesViewRect),m&&v===this.parentSeries.dataSeries.count()&&(this.args.startIndex=Math.min(x.size(),b+S),this.args.count=Math.max(0,x.size()-b-S),this.args.count>0&&this.drawLines(e,R,C,x,t.xCoordinateCalculator.nativeCalculator,t.yCoordinateCalculator.nativeCalculator,this.args,this.parentSeries.parentSurface.seriesViewRect))}},LineSeriesDrawingProvider.prototype.delete=function(){this.linesPenCache=(0,o.deleteSafe)(this.linesPenCache),this.nativeDrawingProvider=(0,o.deleteSafe)(this.nativeDrawingProvider),this.args=(0,o.deleteSafe)(this.args),e.prototype.delete.call(this)},LineSeriesDrawingProvider.prototype.drawLines=function(e,t,r,i,n,o,a,s){this.nativeDrawingProvider.DrawLinesVec(t,r,i,n,o,a)},LineSeriesDrawingProvider}(r(87656).BaseSeriesDrawingProvider);t.LineSeriesDrawingProvider=c},23405:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.MountainSeriesDrawingProvider=void 0;var o=r(94694),a=r(12840),s=r(8355),l=r(21075),u=r(61239),c=r(3488),d=function(e){function MountainSeriesDrawingProvider(t,r){var i=e.call(this,t,r)||this;return i.nativeDrawingProvider=new i.webAssemblyContext.SCRTMountainSeriesDrawingProvider,i.args=new i.webAssemblyContext.SCRTMountainDrawingParams,i.strokePenCache=new s.Pen2DCache(t),i.fillBrushCache=new a.BrushCache(t),i}return n(MountainSeriesDrawingProvider,e),MountainSeriesDrawingProvider.prototype.delete=function(){this.nativeDrawingProvider=(0,o.deleteSafe)(this.nativeDrawingProvider),this.args=(0,o.deleteSafe)(this.args),this.strokePenCache=(0,o.deleteSafe)(this.strokePenCache),this.fillBrushCache=(0,o.deleteSafe)(this.fillBrushCache),e.prototype.delete.call(this)},MountainSeriesDrawingProvider.prototype.draw=function(t,r){var i,n=r.pointSeries,o=this.parentSeries.dataSeries.dataDistributionCalculator.containsNaN;this.args.Reset(),this.args.forceShaderMethod=!0,this.args.lineGaps=o?this.parentSeries.drawNaNAs===l.ELineDrawMode.DiscontinuousLine?this.webAssemblyContext.SCRTLineGapMode.DrawGaps:this.webAssemblyContext.SCRTLineGapMode.CloseGaps:this.webAssemblyContext.SCRTLineGapMode.Default,this.args.verticalChart=r.isVerticalChart,this.args.zeroLineY=this.parentSeries.zeroLineY,this.args.isDigitalLine=this.parentSeries.isDigitalLine;var a=this.createBrush();a&&this.args.SetFillBrush(a);var u=(0,s.getScrtPenFromCache)(this.strokePenCache);u&&this.args.SetLinesPen(u),e.prototype.applyStrokeFillPaletting.call(this,this.parentSeries.stroke,u,this.parentSeries.fill,a,this.parentSeries.opacity,!0,void 0!==this.parentSeries.fillLinearGradient,r);var c=null===(i=this.palettingState.paletteTextureCache)||void 0===i?void 0:i.value;c&&this.args.SetPalette(c),this.args.isSmoothColors=this.palettingState.gradientPaletting;var d=this.parentSeries.dataSeries,p=d.fifoCapacity,h=d.fifoSweeping,f=d.fifoSweepingGap,y=n.fifoStartIndex,g=r.xCoordinateCalculator.isCategoryCoordinateCalculator,v=n.xValues,m=g?n.indexes:v,S=n.yValues,b=this.getStartAndCount(r,m),P=b.startIndex,C=b.count;this.args.count=C,this.args.startIndex=P,h&&p===this.parentSeries.dataSeries.count()&&(this.args.count=y);var x=t.getNativeContext();this.parentSeries.parentSurface.seriesViewRect,this.nativeDrawingProvider.DrawPointsVec(x,m,S,r.xCoordinateCalculator.nativeCalculator,r.yCoordinateCalculator.nativeCalculator,this.args),h&&p===this.parentSeries.dataSeries.count()&&(this.args.startIndex=Math.min(S.size(),y+f),this.args.count=Math.max(0,S.size()-y-f),this.args.count>0&&this.nativeDrawingProvider.DrawPointsVec(x,m,S,r.xCoordinateCalculator.nativeCalculator,r.yCoordinateCalculator.nativeCalculator,this.args))},MountainSeriesDrawingProvider.prototype.onDpiChanged=function(t){e.prototype.onDpiChanged.call(this,t),this.onSeriesPropertyChange(c.PROPERTY.STROKE)},MountainSeriesDrawingProvider.prototype.onSeriesPropertyChange=function(t){e.prototype.onSeriesPropertyChange.call(this,t),(t===c.PROPERTY.STROKE||t===c.PROPERTY.STROKE_DASH_ARRAY||t===c.PROPERTY.STROKE_THICKNESS||t===c.PROPERTY.OPACITY)&&this.createPen(),(t===c.PROPERTY.FILL||t===c.PROPERTY.OPACITY||t===c.PROPERTY.FILL_LINEAR_GRADIENT)&&this.createBrush()},MountainSeriesDrawingProvider.prototype.onAttachSeries=function(){e.prototype.onAttachSeries.call(this),this.createPen(),this.createBrush()},MountainSeriesDrawingProvider.prototype.createBrush=function(){this.palettingState.requiresUpdate=!0;var e=this.parentSeries,t=e.fill,r=e.opacity,i=e.fillLinearGradient,n=e.parentSurface,o=(null==n?void 0:n.isCopyCanvasSurface)?n.domCanvas2D.height/u.SciChartSurfaceBase.domMasterCanvas.height:1,s=(null==n?void 0:n.isCopyCanvasSurface)?n.domCanvas2D.width/u.SciChartSurfaceBase.domMasterCanvas.width:1;return(0,a.createBrushInCache)(this.fillBrushCache,t,r,o,s,i)},MountainSeriesDrawingProvider.prototype.createPen=function(){var e=this.parentSeries,t=e.stroke,r=e.strokeThickness,i=e.opacity,n=e.strokeDashArray;return this.palettingState.requiresUpdate=!0,(0,s.createPenInCache)(this.strokePenCache,t,r,i,n)},MountainSeriesDrawingProvider}(r(87656).BaseSeriesDrawingProvider);t.MountainSeriesDrawingProvider=d},7755:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformHeatmapDrawingProvider=void 0;var a=r(94694),s=r(51134),l=r(47494),u=r(76812),c=r(3080),d=r(11474),p=r(3488),h=r(87656),f=r(87796),y=function(e){function NonUniformHeatmapDrawingProvider(t,r){var i=e.call(this,t,r)||this;return i.heatTextureCache=new c.TextureCache(t),i.colorDataVector=new t.UIntVector,i.onSeriesPropertyChange(p.PROPERTY.DATA_SERIES),i.onSeriesPropertyChange(p.PROPERTY.COLOR_MAP),i}return n(NonUniformHeatmapDrawingProvider,e),NonUniformHeatmapDrawingProvider.prototype.delete=function(){this.colorDataVector=(0,a.deleteSafe)(this.colorDataVector),this.heatTextureCache=(0,a.deleteSafe)(this.heatTextureCache),e.prototype.delete.call(this)},NonUniformHeatmapDrawingProvider.prototype.onSeriesPropertyChange=function(e){(e===p.PROPERTY.DATA_SERIES||e===p.PROPERTY.COLOR_MAP||e.includes(d.COLOR_MAP_PREFIX)||e===p.PROPERTY.OPACITY)&&(this.colorGradientScale=(0,f.createColorMap)(this.parentSeries.colorMap.gradientStops,100))},NonUniformHeatmapDrawingProvider.prototype.draw=function(e,t){var r=t.isVerticalChart,i=this.parentSeries.dataSeries,n=this.parentSeries.parentSurface.seriesViewRect,o=this.parentSeries.colorMap,a=this.colorGradientScale,l=i.getZValues(),u=i.getXIndicesRange(new s.NumberRange(t.xCoordinateCalculator.visibleMin,t.xCoordinateCalculator.visibleMax),!1),c=i.getYIndicesRange(new s.NumberRange(t.yCoordinateCalculator.visibleMin,t.yCoordinateCalculator.visibleMax),!1),d=i.getXValue(u.min),p=i.getXValue(u.max),h=i.getYValue(c.min),f=i.getYValue(c.max),y=!t.xCoordinateCalculator.hasFlippedCoordinates,g=t.yCoordinateCalculator.hasFlippedCoordinates,v=t.xCoordinateCalculator.getCoordinate(y?p:d),m=t.xCoordinateCalculator.getCoordinate(y?d:p),S=t.yCoordinateCalculator.getCoordinate(g?h:f),b=t.yCoordinateCalculator.getCoordinate(g?f:h),P=Math.ceil(Math.abs(v-m)),C=Math.ceil(Math.abs(S-b));if(!(v>(r?n.height:n.width)||S>(r?n.width:n.height)||m<0||b<0)&&!(P<=0||C<=0)){var x=y?u.max-1:u.min,A=g?c.min:c.max-1,T=y?-1:1,_=g?1:-1;r&&(x=y?u.min:u.max-1,T=y?1:-1);var R=u.diff,E=c.diff,w=e.getNativeContext();this.drawHeatmapInTypescript(w,i.xCellOffsets,i.yCellOffsets,l,t.xCoordinateCalculator,t.yCoordinateCalculator,{horCellCount:R,vertCellCount:E,arrayWidth:i.arrayWidth,arrayHeight:i.arrayHeight,opacity:this.parentSeries.opacity,colorGradientScale:a,colorMin:o.minimum,colorMax:o.maximum,horStartInd:x,vertStartInd:A,horInc:T,vertInc:_,isVerticalChart:r,heatmapStartX:v,heatmapStartY:S,heatmapWidth:P,heatmapHeight:C,xCellSizes:i.xCellSizes,yCellSizes:i.yCellSizes,seriesViewRect:n})}},NonUniformHeatmapDrawingProvider.prototype.drawHeatmapInTypescript=function(e,t,r,i,n,o,a){var s=a.horStartInd,u=a.horInc,c=a.vertStartInd,d=a.vertInc,p=a.horCellCount,h=a.vertCellCount,y=a.heatmapStartX,g=a.heatmapStartY,v=a.heatmapWidth,m=a.heatmapHeight,S=a.opacity,b=a.colorGradientScale,P=a.colorMin,C=a.colorMax,x=a.isVerticalChart,A=a.arrayWidth,T=a.arrayHeight,_=a.xCellSizes,R=a.yCellSizes,E=a.seriesViewRect,w=t[0],D=t[t.length-1],O=r[0],I=r[r.length-1],M=Math.max(w,n.visibleMin),L=Math.min(D,n.visibleMax),k=Math.max(O,o.visibleMin),N=Math.min(I,o.visibleMax),B=!n.hasFlippedCoordinates,V=o.hasFlippedCoordinates,F=n.getCoordinate(B?L:M),j=n.getCoordinate(B?M:L),H=o.getCoordinate(V?N:k),z=o.getCoordinate(V?k:N),G=Math.ceil(Math.abs(F-j)),U=Math.ceil(Math.abs(H-z)),W=new l.Rect(y,g,v,m),X=(0,f.calculateOffsets)(W,x,_,R,s,p,u,c,h,d,E),Y=X.horCellOffsets,$=X.vertCellOffsets,K=this.calculateHeatmapTexture({xStartInd:s,textureWidth:G,xInc:u,yStartInd:c,textureHeight:U,yInc:d,zValues:i,webAssemblyContext:this.webAssemblyContext,colorMap:b,opacity:S,horCellCount:p,vertCellCount:h,horCellOffsets:Y,vertCellOffsets:$,colorMin:P,colorMax:C,arrayWidth:A,arrayHeight:T,fillValuesOutOfRange:this.parentSeries.fillValuesOutOfRange,useInterpolation:this.parentSeries.useLinearTextureFiltering});if(x){e.PushMatrix(),e.PushState(),e.Rotate(-90);var q=B?-F:-G-F;e.Translate(q,0);var Z=B?0:G;e.DrawTexture(K,Z-G,H-U,G,U),e.PopMatrix(),e.PopState();return}e.DrawTexture(K,F,z,G,U)},NonUniformHeatmapDrawingProvider.prototype.calculateHeatmapTexture=function(e){this.getMemoizedHeatmapTexture||(this.getMemoizedHeatmapTexture=(0,u.memoize)(f.calculateHeatmapTexture,function(e,t){var r=e[0],i=r.horCellOffsets,n=r.vertCellOffsets,a=o(r,["horCellOffsets","vertCellOffsets"]),s=t[0],l=s.horCellOffsets,u=s.vertCellOffsets,c=o(s,["horCellOffsets","vertCellOffsets"]);return areArraysEqual(Object.values(a),Object.values(c))&&areArraysEqual(i,l)&&areArraysEqual(n,u)}));var areArraysEqual=function(e,t){return!e.some(function(e,r){return e!==t[r]})};return this.getMemoizedHeatmapTexture(e,this.colorDataVector,this.heatTextureCache,100)},NonUniformHeatmapDrawingProvider}(h.BaseSeriesDrawingProvider);t.NonUniformHeatmapDrawingProvider=y},33175:function(e,t,r){"use strict";var i,n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.OhlcSeriesDrawingProvider=t.EOhlcDrawingMode=void 0;var s=r(94694),l=r(12840),u=r(8355),c=r(3488),d=r(87656);(i=o=t.EOhlcDrawingMode||(t.EOhlcDrawingMode={})).Candles="Candles",i.Ohlc="Ohlc";var p=function(e){function OhlcSeriesDrawingProvider(t,r,i){var n=e.call(this,t,r)||this;n.drawingMode=i,n.nativeDrawingProvider=new n.webAssemblyContext.SCRTCandlestickSeriesDrawingProvider,n.args=new n.webAssemblyContext.SCRTOhlcDrawingParams;var o=r.strokeThickness,a=r.strokeUp,s=r.strokeDown,c=r.opacity;return n.strokeUpPenCache=new u.Pen2DCache(t),n.strokeDownPenCache=new u.Pen2DCache(t),n.brushUpCache=new l.BrushCache(t),n.brushDownCache=new l.BrushCache(t),(0,u.createPenInCache)(n.strokeUpPenCache,a,o,c),(0,u.createPenInCache)(n.strokeDownPenCache,s,o,c),r.brushUp&&(0,l.createBrushInCache)(n.brushUpCache,r.brushUp,c),r.brushDown&&(0,l.createBrushInCache)(n.brushDownCache,r.brushDown,c),n}return a(OhlcSeriesDrawingProvider,e),OhlcSeriesDrawingProvider.prototype.onDpiChanged=function(t){e.prototype.onDpiChanged.call(this,t),this.onSeriesPropertyChange(c.PROPERTY.STROKE_UP),this.onSeriesPropertyChange(c.PROPERTY.STROKE_DOWN)},OhlcSeriesDrawingProvider.prototype.onSeriesPropertyChange=function(t){e.prototype.onSeriesPropertyChange.call(this,t);var r=this.parentSeries,i=r.strokeThickness,n=r.strokeUp,o=r.strokeDown,a=r.opacity;(t===c.PROPERTY.STROKE_UP||t===c.PROPERTY.STROKE_THICKNESS||t===c.PROPERTY.OPACITY)&&(0,u.createPenInCache)(this.strokeUpPenCache,n,i,a),(t===c.PROPERTY.STROKE_DOWN||t===c.PROPERTY.STROKE_THICKNESS||t===c.PROPERTY.OPACITY)&&(0,u.createPenInCache)(this.strokeDownPenCache,o,i,a);var s=this.parentSeries;(t===c.PROPERTY.BRUSH_DOWN||t===c.PROPERTY.OPACITY)&&(0,l.createBrushInCache)(this.brushDownCache,null==s?void 0:s.brushDown,a),(t===c.PROPERTY.BRUSH_UP||t===c.PROPERTY.OPACITY)&&(0,l.createBrushInCache)(this.brushUpCache,null==s?void 0:s.brushUp,a)},OhlcSeriesDrawingProvider.prototype.draw=function(t,r){var i=r.pointSeries;if(this.args.Reset(),this.drawingMode===o.Candles){var n=(0,l.getScrtBrushFromCache)(this.brushUpCache),a=(0,l.getScrtBrushFromCache)(this.brushDownCache);if(!n||!a)return;this.args.SetBrushes(n,a)}var s=(0,u.getScrtPenFromCache)(this.strokeUpPenCache),c=(0,u.getScrtPenFromCache)(this.strokeDownPenCache);if(s&&c){this.args.SetPens(s,c);var d="#ffffffff";e.prototype.applyStrokeFillPaletting.call(this,d,void 0,d,void 0,this.parentSeries.opacity),this.args.SetPalettedColors(this.palettingState.palettedColors),this.args.forceShaderMethod=!0,this.args.verticalChart=r.isVerticalChart,this.args.candleWidth=this.parentSeries.getDataPointWidth(r.xCoordinateCalculator,this.parentSeries.dataPointWidth),this.args.drawAsOhlc=this.drawingMode===o.Ohlc;var p=t.getNativeContext();this.parentSeries.parentSurface.seriesViewRect,this.parentSeries.dataSeries;var h=r.xCoordinateCalculator.isCategoryCoordinateCalculator,f=i.xValues,y=i.openValues,g=i.highValues,v=i.lowValues,m=i.closeValues,S=this.getStartAndCount(r,f),b=S.startIndex,P=S.count;this.args.count=P,this.args.startIndex=b;var C=this.parentSeries.dataSeries,x=C.fifoCapacity,A=C.fifoSweeping,T=C.fifoSweepingGap,_=i.fifoStartIndex;A&&x===this.parentSeries.dataSeries.count()&&(this.args.count=_);var R=h?i.indexes:f;this.args.SetValues(R,y,g,v,m),this.nativeDrawingProvider.DrawPointsVec(p,r.xCoordinateCalculator.nativeCalculator,r.yCoordinateCalculator.nativeCalculator,this.args),A&&x===this.parentSeries.dataSeries.count()&&(this.args.startIndex=Math.min(m.size(),_+T),this.args.count=Math.max(0,m.size()-_-T),this.args.count>0&&this.nativeDrawingProvider.DrawPointsVec(p,r.xCoordinateCalculator.nativeCalculator,r.yCoordinateCalculator.nativeCalculator,this.args))}},OhlcSeriesDrawingProvider.prototype.delete=function(){this.strokeDownPenCache=(0,s.deleteSafe)(this.strokeDownPenCache),this.strokeUpPenCache=(0,s.deleteSafe)(this.strokeUpPenCache),this.brushUpCache=(0,s.deleteSafe)(this.brushUpCache),this.brushDownCache=(0,s.deleteSafe)(this.brushDownCache),this.nativeDrawingProvider=(0,s.deleteSafe)(this.nativeDrawingProvider),this.args=(0,s.deleteSafe)(this.args),e.prototype.delete.call(this)},OhlcSeriesDrawingProvider}(d.BaseSeriesDrawingProvider);t.OhlcSeriesDrawingProvider=p},46578:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.PointMarkerDrawingProvider=void 0;var o=r(94694),a=function(e){function PointMarkerDrawingProvider(t,r,i,n,o){var a=e.call(this,t,r,i,o)||this;return a.ySplineValuesSelector=void 0===n?function(e){return e.ySplineValues}:n,a.nativeDrawingProvider=new a.webAssemblyContext.SCRTScatterSeriesDrawingProvider,a.xAnimationPointMarkerValues=new a.webAssemblyContext.SCRTDoubleVector,a.yAnimationPointMarkerValues=new a.webAssemblyContext.SCRTDoubleVector,a.args=new a.webAssemblyContext.SCRTPointDrawingParams,a}return n(PointMarkerDrawingProvider,e),PointMarkerDrawingProvider.prototype.onSeriesPropertyChange=function(e){},PointMarkerDrawingProvider.prototype.getProperties=function(e){return e},PointMarkerDrawingProvider.prototype.draw=function(e,t){var r,i,n,o,a=null===(r=this.getProperties(this.parentSeries))||void 0===r?void 0:r.pointMarker;if(void 0!==a){this.parentSeries.hasPointMarkerPaletteProvider()?(n=a.getFillMask(),o=a.getStrokeMask()):(n=a.getSprite(),o=void 0);var s=t.pointSeries,l=t.xCoordinateCalculator.isCategoryCoordinateCalculator,u=this.xSelector(s),c=this.ySelector(s);this.args.Reset(),this.args.verticalChart=t.isVerticalChart,this.args.forceShaderMethod=!0,this.args.SetSpriteTexture(n.getTexture()),o&&this.args.SetStrokeMask(o.getTexture());var d=this.parentSeries.dataSeries,p=d.fifoCapacity,h=d.fifoSweeping,f=d.fifoSweepingGap,y=s.fifoStartIndex;if(a.lastPointOnly&&c.size()>0)this.args.count=1,this.args.startIndex=h&&this.parentSeries.dataSeries.count()===p?y-1:c.size()-1;else{var g=this.getStartAndCount(t,u),v=g.startIndex,m=g.count;this.args.count=m,this.args.startIndex=v,h&&p===this.parentSeries.dataSeries.count()&&(this.args.count=y)}this.applyStrokeFillPaletting(a.stroke,void 0,a.fill,void 0,this.parentSeries.opacity),this.args.SetPalettedColors(this.palettingState.palettedColors),this.args.paletteStart=null!==(i=this.palettingState.paletteStartIndex)&&void 0!==i?i:0;var S=e.getNativeContext();this.drawPoints(S,l?s.indexes:u,c,t.xCoordinateCalculator.nativeCalculator,t.yCoordinateCalculator.nativeCalculator,this.args,this.parentSeries.parentSurface.seriesViewRect),h&&p===this.parentSeries.dataSeries.count()&&!a.lastPointOnly&&(this.args.startIndex=Math.min(c.size(),y+f),this.args.count=Math.max(0,c.size()-y-f),this.args.count>0&&this.drawPoints(S,l?s.indexes:u,c,t.xCoordinateCalculator.nativeCalculator,t.yCoordinateCalculator.nativeCalculator,this.args,this.parentSeries.parentSurface.seriesViewRect))}},PointMarkerDrawingProvider.prototype.delete=function(){this.nativeDrawingProvider=(0,o.deleteSafe)(this.nativeDrawingProvider),this.xAnimationPointMarkerValues=(0,o.deleteSafe)(this.xAnimationPointMarkerValues),this.yAnimationPointMarkerValues=(0,o.deleteSafe)(this.yAnimationPointMarkerValues),this.args=(0,o.deleteSafe)(this.args),e.prototype.delete.call(this)},PointMarkerDrawingProvider.prototype.overridePaletteProviderColors=function(e,t,r,i,n,o){if(e.hasPointMarkerPaletteProvider()){var a=e.paletteProvider.overridePointMarkerArgb(t,r,i,n,o);if(a)return a}return{stroke:void 0,fill:void 0}},PointMarkerDrawingProvider.prototype.isGradientFillPaletting=function(e){return!1},PointMarkerDrawingProvider.prototype.drawPoints=function(e,t,r,i,n,o,a){this.nativeDrawingProvider.DrawPointsVec(e,t,r,i,n,o)},PointMarkerDrawingProvider.prototype.pointMarkerXYValuesFromSpline=function(e,t,r,i){this.xAnimationPointMarkerValues.resize(e,0),this.yAnimationPointMarkerValues.resize(e,0);for(var n=0;n<e-1;n++){var o=t.get((i+1)*n);this.xAnimationPointMarkerValues.set(n,o);var a=r.get((i+1)*n);this.yAnimationPointMarkerValues.set(n,a)}var s=r.size()-1;this.xAnimationPointMarkerValues.set(e-1,t.get(s)),this.yAnimationPointMarkerValues.set(e-1,r.get(s))},PointMarkerDrawingProvider}(r(87656).BaseSeriesDrawingProvider);t.PointMarkerDrawingProvider=a},25352:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.UniformContoursDrawingProvider=void 0;var o=r(2003),a=r(94694),s=r(92530),l=r(48053),u=r(3080),c=r(94485),d=r(56210),p=r(11474),h=r(3488),f=function(e){function UniformContoursDrawingProvider(t,r){var i=e.call(this,t,r)||this;return i.heightsTextureCache=new u.TextureCache(t),i.onSeriesPropertyChange(h.PROPERTY.DATA_SERIES),i.onSeriesPropertyChange(h.PROPERTY.COLOR_MAP),i}return n(UniformContoursDrawingProvider,e),UniformContoursDrawingProvider.prototype.delete=function(){this.heightsTextureCache=(0,a.deleteSafe)(this.heightsTextureCache),this.heightData=(0,a.deleteSafe)(this.heightData),this.paletteTexture=(0,a.deleteSafe)(this.paletteTexture),e.prototype.delete.call(this)},UniformContoursDrawingProvider.prototype.onSeriesPropertyChange=function(e){var t=e===h.PROPERTY.COLOR_MAP||e.includes(p.COLOR_MAP_PREFIX),r=e===h.PROPERTY.DATA_SERIES;if(t&&(this.paletteTexture=(0,a.deleteSafe)(this.paletteTexture),this.parentSeries.colorMap&&this.parentSeries.colorMap.gradientStops?this.paletteTexture=this.createPaletteTexture(256,1,this.parentSeries.colorMap.gradientStops):this.paletteTexture=this.createPaletteTexture(256,1,void 0)),r){var i=this.parentSeries.dataSeries;if(i){var n=this.heightsTextureCache.create(i.arrayWidth,i.arrayHeight,this.webAssemblyContext.eTSRTextureFormat.TSR_TEXTUREFORMAT_R32F);this.webAssemblyContext.SCRTSetTextureLinearSamplerEnabled(n,!0)}}},UniformContoursDrawingProvider.prototype.draw=function(e,t){var r,i,n=this,o=null===(r=this.heightsTextureCache)||void 0===r?void 0:r.value;if(o){var a=this.parentSeries.dataSeries;this.webAssemblyContext.SCRTFillTextureFloat32(o,a.arrayWidth,a.arrayHeight,a.getNormalizedVector(null!==(i=this.parentSeries.colorMap)&&void 0!==i?i:this.getDefaultColorMap(a)));var s=this.parentSeries.getContourDrawingParams(),l=t.isVerticalChart,u=t.xCoordinateCalculator.getCoordinate(s.xMin),c=t.yCoordinateCalculator.getCoordinate(s.yMin),d=t.xCoordinateCalculator.getCoordinate(s.xMax),p=t.yCoordinateCalculator.getCoordinate(s.yMax),h=Math.abs(u-d),drawContours=function(){n.parentSeries.minorsPerMajor>0&&n.drawContours(e,u,c,d,p,s.zMin,s.zMax,s.minorStepZ,s.minorLineStyle),n.drawContours(e,u,c,d,p,s.zMin,s.zMax,s.majorStepZ,s.majorLineStyle)};if(l){var f=e.getNativeContext(),y=t.xCoordinateCalculator.hasFlippedCoordinates;f.PushMatrix(),f.PushState(),f.Rotate(-90);var g=y?-h-u:-u;f.Translate(g,0),u=y?h:0,d=y?0:h,drawContours(),f.PopMatrix(),f.PopState()}else drawContours()}},UniformContoursDrawingProvider.prototype.drawContours=function(e,t,r,i,n,a,s,u,d){var p=(0,c.getVector4)(this.webAssemblyContext,0,1,0,0),h=new this.webAssemblyContext.SCRTContourParams,f=Math.abs(a)<o.EPSILON?.5:.01,y=(0,l.parseColorToTArgb)(d.color);h.SetColorVector(y.red/255,y.green/255,y.blue/255,y.opacity/255),h.SetParamsAVector(d.strokeThickness,u/2,f,0),h.SetParamsBVector(a,s,0,0);var g=e.getNativeContext(),v=this.heightsTextureCache.value;g.DrawHeatmapRectWithContours(null,v,t,r,i,n,p,h),null==h||h.delete()},UniformContoursDrawingProvider.prototype.computeHeightMap=function(e,t,r,i,n,o){var s,l=e*t;(null===(s=this.heightData)||void 0===s?void 0:s.size())!==l&&(this.heightData=(0,a.deleteSafe)(this.heightData),this.heightData=new this.webAssemblyContext.FloatVector,this.heightData.resize(l,0));for(var u=0;u<e;u++)for(var c=0;c<t;c++){var d=i?r[o?c:t-1-c][n?e-u-1:u]:r[o?u:e-1-u][n?t-c-1:c];this.heightData.set(u*t+c,isNaN(d)?-1:d)}return this.heightData},UniformContoursDrawingProvider.prototype.createPaletteTexture=function(e,t,r){if(!o.IS_TEST_ENV){s.Guard.isTrue(e>0,"width must be greater than 0"),s.Guard.isTrue(t>0,"height must be greater than 0");var i=new d.CanvasTexture(this.webAssemblyContext,e,t);i.clear();var n=i.getContext();if(r){var a=n.createLinearGradient(0,0,e,0);r.forEach(function(e){a.addColorStop(e.offset,e.color)}),n.fillStyle=a}else n.fillStyle="black";return n.fillRect(0,0,e,t),i.copyTexture(),i}},UniformContoursDrawingProvider.prototype.getDefaultColorMap=function(e){var t=e.zRange;return{minimum:t.min,maximum:t.max}},UniformContoursDrawingProvider}(r(87656).BaseSeriesDrawingProvider);t.UniformContoursDrawingProvider=f},1811:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.UniformHeatmapDrawingProvider=void 0;var o=r(2003),a=r(94694),s=r(92530),l=r(3080),u=r(56210),c=r(11474),d=r(3488),p=function(e){function UniformHeatmapDrawingProvider(t,r){var i=e.call(this,t,r)||this;return i.heatTextureCache=new l.TextureCache(t),i.recreatePalette(),i.onSeriesPropertyChange(d.PROPERTY.DATA_SERIES),i.onSeriesPropertyChange(d.PROPERTY.COLOR_MAP),i}return n(UniformHeatmapDrawingProvider,e),UniformHeatmapDrawingProvider.prototype.delete=function(){this.paletteTexture=(0,a.deleteSafe)(this.paletteTexture),this.heatTextureCache=(0,a.deleteSafe)(this.heatTextureCache),e.prototype.delete.call(this)},UniformHeatmapDrawingProvider.prototype.onSeriesPropertyChange=function(e){var t=e===d.PROPERTY.COLOR_MAP||e.includes(c.COLOR_MAP_PREFIX)||e===d.PROPERTY.OPACITY,r=e===d.PROPERTY.DATA_SERIES||e===d.PROPERTY.USE_LINEAR_TEXTURE_FILTERING;if(t&&this.recreatePalette(),r){var i=this.parentSeries.dataSeries,n=this.parentSeries.useLinearTextureFiltering;if(i){var o=this.heatTextureCache.create(i.arrayWidth,i.arrayHeight,this.webAssemblyContext.eTSRTextureFormat.TSR_TEXTUREFORMAT_R32F);this.webAssemblyContext.SCRTSetTextureLinearSamplerEnabled(o,n)}}},UniformHeatmapDrawingProvider.prototype.seriesHasDataChanges=function(){this.onSeriesPropertyChange(d.PROPERTY.DATA_SERIES)},UniformHeatmapDrawingProvider.prototype.draw=function(e,t){var r,i=t.isVerticalChart,n=!t.xCoordinateCalculator.hasFlippedCoordinates;t.yCoordinateCalculator.hasFlippedCoordinates;var o=null===(r=this.heatTextureCache)||void 0===r?void 0:r.value;if(o){var a=this.parentSeries.dataSeries,s=a.getNormalizedVector(this.parentSeries.colorMap,this.parentSeries.fillValuesOutOfRange);this.packedFloatParams=this.webAssemblyContext.SCRTFillTextureFloat32(o,a.arrayWidth,a.arrayHeight,s),this.packedFloatParams.x=0,this.packedFloatParams.y=1;var l=a.xRange,u=a.yRange,c=t.xCoordinateCalculator.getCoordinate(l.min),d=t.yCoordinateCalculator.getCoordinate(u.min),p=t.xCoordinateCalculator.getCoordinate(l.max),h=t.yCoordinateCalculator.getCoordinate(u.max),f=e.getNativeContext();this.parentSeries.parentSurface.seriesViewRect;var y=Math.abs(c-p);if(i){f.PushMatrix(),f.PushState(),f.Rotate(-90);var g=n?-c:-y-c;f.Translate(g,0);var v=n?0:y,m=n?y:0;this.drawHeatmap(f,v,d,m,h),f.PopMatrix(),f.PopState()}else this.drawHeatmap(f,c,d,p,h)}},UniformHeatmapDrawingProvider.prototype.createPaletteTexture=function(e,t,r,i,n){if(!o.IS_TEST_ENV){s.Guard.isTrue(e>0,"width must be greater than 0"),s.Guard.isTrue(t>0,"height must be greater than 0"),s.Guard.notNull(r,"gradientStops");var a=new u.CanvasTexture(this.webAssemblyContext,e,t);a.clear();var l=a.getContext();n&&(l.fillStyle="#ffffff00",l.fillRect(0,0,1,t));var c=l.createLinearGradient(0,0,e,0);return r.forEach(function(e){c.addColorStop(e.offset,e.color)}),l.fillStyle=c,l.globalAlpha=i,l.fillRect(n?1:0,0,e,t),a.copyTexture(),a}},UniformHeatmapDrawingProvider.prototype.recreatePalette=function(){var e,t,r=null===(e=this.parentSeries.dataSeries)||void 0===e?void 0:e.hasNaNs;(this.hasNaNs!==r||this.opacity!==this.parentSeries.opacity||this.gradientStops!==(null===(t=this.parentSeries.colorMap)||void 0===t?void 0:t.gradientStops))&&(this.paletteTexture=(0,a.deleteSafe)(this.paletteTexture),this.parentSeries.colorMap&&this.parentSeries.colorMap.gradientStops&&(this.hasNaNs=r,this.opacity=this.parentSeries.opacity,this.gradientStops=this.parentSeries.colorMap.gradientStops,this.paletteTexture=this.createPaletteTexture(256,1,this.parentSeries.colorMap.gradientStops,this.parentSeries.opacity,r)))},UniformHeatmapDrawingProvider.prototype.drawHeatmap=function(e,t,r,i,n){var o=this.packedFloatParams,a=new this.webAssemblyContext.SCRTContourParams,s=this.heatTextureCache.value;this.recreatePalette(),e.DrawHeatmapRectWithContours(this.paletteTexture.getTexture(),s,t,r,i,n,o,a),a.delete(),o.delete()},UniformHeatmapDrawingProvider}(r(87656).BaseSeriesDrawingProvider);t.UniformHeatmapDrawingProvider=p},19954:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.FastBandRenderableSeries=void 0;var o=r(55687),a=function(e){function FastBandRenderableSeries(t,r){var i,n,a=this;return(a=e.call(this,t,r)||this).type=o.ESeriesType.BandSeries,(null===(i=a.paletteProvider)||void 0===i?void 0:i.onAttached)&&(null===(n=a.paletteProvider)||void 0===n||n.onAttached(a)),a}return n(FastBandRenderableSeries,e),FastBandRenderableSeries}(r(3578).BaseBandRenderableSeries);t.FastBandRenderableSeries=a},38760:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.FastBubbleRenderableSeries=void 0;var o=r(55687),a=r(75639),s=r(42761),l=r(41591),u=r(4554),c=r(53491),d=r(88395),p=r(3488),h=function(e){function FastBubbleRenderableSeries(t,r){var i,n,a,l=this;return(l=e.call(this,t,r)||this).type=o.ESeriesType.BubbleSeries,l.zMultiplierProperty=1,l.zMultiplierProperty=null!==(i=null==r?void 0:r.zMultiplier)&&void 0!==i?i:l.zMultiplierProperty,l.pointMarker||(l.pointMarker=new s.EllipsePointMarker(t,{width:64,height:64})),(null===(n=l.paletteProvider)||void 0===n?void 0:n.onAttached)&&(null===(a=l.paletteProvider)||void 0===a||a.onAttached(l)),l.drawingProviders=[],l.drawingProviders.push(new u.BubbleSeriesDrawingProvider(t,l)),l.dataLabelProviderProperty||(l.dataLabelProviderProperty=new d.BubbleSeriesDataLabelProvider(null==r?void 0:r.dataLabels),l.dataLabelProviderProperty.onAttach(l.webAssemblyContext,l)),(null==r?void 0:r.animation)&&l.animationQueue.push(r.animation),l}return n(FastBubbleRenderableSeries,e),Object.defineProperty(FastBubbleRenderableSeries.prototype,"paletteProvider",{get:function(){return this.paletteProviderProperty},set:function(e){this.setPaletteProvider(e)},enumerable:!1,configurable:!0}),Object.defineProperty(FastBubbleRenderableSeries.prototype,"zMultiplier",{get:function(){return this.zMultiplierProperty},set:function(e){this.zMultiplierProperty=e,this.notifyPropertyChanged(p.PROPERTY.Z_MULTIPLIER)},enumerable:!1,configurable:!0}),FastBubbleRenderableSeries.prototype.applyTheme=function(t){e.prototype.applyTheme.call(this,t);var r=this.parentSurface.previousThemeProvider;this.stroke===r.lineSeriesColor&&(this.stroke=t.lineSeriesColor)},FastBubbleRenderableSeries.prototype.getBubbleDiameter=function(e){return this.dataSeries.getNativeZValues().get(e)},FastBubbleRenderableSeries.prototype.getNativeZValues=function(){return this.dataSeries.getNativeZValues()},FastBubbleRenderableSeries.prototype.toPointSeries=function(e){return new a.XyzPointSeriesWrapped(this.dataSeries)},FastBubbleRenderableSeries.prototype.newHitTestProvider=function(){return new c.BubbleSeriesHitTestProvider(this,this.webAssemblyContext)},FastBubbleRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={zMultiplier:this.zMultiplier};return Object.assign(r.options,i),r},FastBubbleRenderableSeries}(l.BaseRenderableSeries);t.FastBubbleRenderableSeries=h},99986:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.FastCandlestickRenderableSeries=void 0;var o=r(55687),a=r(63869),s=r(61239),l=r(74383),u=r(3488),c=r(33175),d=function(e){function FastCandlestickRenderableSeries(t,r){var i,n,a=this;return(a=e.call(this,t,r)||this).type=o.ESeriesType.CandlestickSeries,a.brushUp=(null==r?void 0:r.brushUp)||s.SciChartSurfaceBase.DEFAULT_THEME.upBodyBrush,a.brushDown=(null==r?void 0:r.brushDown)||s.SciChartSurfaceBase.DEFAULT_THEME.downBodyBrush,(null===(i=a.paletteProvider)||void 0===i?void 0:i.onAttached)&&(null===(n=a.paletteProvider)||void 0===n||n.onAttached(a)),a.drawingProviders=[],a.drawingProviders.push(new c.OhlcSeriesDrawingProvider(t,a,c.EOhlcDrawingMode.Candles)),a}return n(FastCandlestickRenderableSeries,e),FastCandlestickRenderableSeries.prototype.applyTheme=function(t){e.prototype.applyTheme.call(this,t);var r=this.parentSurface.previousThemeProvider;this.brushUp===r.upBodyBrush&&(this.brushUp=t.upBodyBrush),this.brushDown===r.downBodyBrush&&(this.brushDown=t.downBodyBrush)},Object.defineProperty(FastCandlestickRenderableSeries.prototype,"brushUp",{get:function(){return(0,a.stripAutoColor)(this.brushUpProperty)},set:function(e){this.brushUpProperty=e,this.notifyPropertyChanged(u.PROPERTY.BRUSH_UP)},enumerable:!1,configurable:!0}),Object.defineProperty(FastCandlestickRenderableSeries.prototype,"brushDown",{get:function(){return(0,a.stripAutoColor)(this.brushDownProperty)},set:function(e){this.brushDownProperty=e,this.notifyPropertyChanged(u.PROPERTY.BRUSH_DOWN)},enumerable:!1,configurable:!0}),FastCandlestickRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={brushDown:this.brushDown,brushUp:this.brushUp};return Object.assign(r.options,i),r},FastCandlestickRenderableSeries.prototype.resolveAutoColors=function(t,r,i){if(e.prototype.resolveAutoColors.call(this,t,r,i),this.brushUpProperty.startsWith(a.AUTO_COLOR)){var n=i.getFillColor(t,r,this.webAssemblyContext);this.brushUp=a.AUTO_COLOR+this.adjustAutoColor("brushUp",n)}var o=(t+Math.floor(r/2))%r;if(this.brushDownProperty.startsWith(a.AUTO_COLOR)){var n=i.getFillColor(o,r,this.webAssemblyContext);this.brushDown=a.AUTO_COLOR+this.adjustAutoColor("brushDown",n)}},FastCandlestickRenderableSeries}(l.BaseOhlcRenderableSeries);t.FastCandlestickRenderableSeries=d},20717:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.getXRange=t.FastColumnRenderableSeries=void 0;var o=r(51134),a=r(55687),s=r(63869),l=r(61239),u=r(41591),c=r(3488),d=r(8635),p=r(13250),h=r(46578),f=r(92916),y=function(e){function FastColumnRenderableSeries(t,r){var i,n,o,s,u,c,f,y=this;return(y=e.call(this,t,r)||this).type=a.ESeriesType.ColumnSeries,y.fillProperty=l.SciChartSurfaceBase.DEFAULT_THEME.columnFillBrush,y.zeroLineYProperty=0,y.dataPointWidthProperty=.8,y.cornerRadiusProperty=0,y.fill=null!==(i=null==r?void 0:r.fill)&&void 0!==i?i:y.fillProperty,y.zeroLineY=null!==(n=null==r?void 0:r.zeroLineY)&&void 0!==n?n:y.zeroLineYProperty,y.dataPointWidthProperty=null!==(o=null==r?void 0:r.dataPointWidth)&&void 0!==o?o:y.dataPointWidthProperty,y.fillLinearGradientProperty=null!==(s=null==r?void 0:r.fillLinearGradient)&&void 0!==s?s:y.fillLinearGradientProperty,y.cornerRadiusProperty=null!==(u=null==r?void 0:r.cornerRadius)&&void 0!==u?u:y.cornerRadiusProperty,(null===(c=y.paletteProvider)||void 0===c?void 0:c.onAttached)&&(null===(f=y.paletteProvider)||void 0===f||f.onAttached(y)),y.dataLabelProviderProperty||(y.dataLabelProviderProperty=new d.ColumnSeriesDataLabelProvider(null==r?void 0:r.dataLabels),y.dataLabelProviderProperty.onAttach(y.webAssemblyContext,y)),y.drawingProviders.push(new p.ColumnSeriesDrawingProvider(t,y)),y.drawingProviders.push(new h.PointMarkerDrawingProvider(t,y)),(null==r?void 0:r.animation)&&y.animationQueue.push(r.animation),y}return n(FastColumnRenderableSeries,e),FastColumnRenderableSeries.prototype.applyTheme=function(t){e.prototype.applyTheme.call(this,t);var r=this.parentSurface.previousThemeProvider;this.fill===r.columnFillBrush&&(this.fill=t.columnFillBrush),this.stroke===r.columnLineColor&&(this.stroke=t.columnLineColor)},Object.defineProperty(FastColumnRenderableSeries.prototype,"fill",{get:function(){return(0,s.stripAutoColor)(this.fillProperty)},set:function(e){this.fillProperty=e,this.notifyPropertyChanged(c.PROPERTY.FILL)},enumerable:!1,configurable:!0}),Object.defineProperty(FastColumnRenderableSeries.prototype,"fillLinearGradient",{get:function(){return this.fillLinearGradientProperty},set:function(e){e!==this.fillLinearGradientProperty&&(this.fillLinearGradientProperty=e,this.notifyPropertyChanged(c.PROPERTY.FILL_LINEAR_GRADIENT))},enumerable:!1,configurable:!0}),Object.defineProperty(FastColumnRenderableSeries.prototype,"zeroLineY",{get:function(){return this.zeroLineYProperty},set:function(e){this.zeroLineYProperty=e,this.notifyPropertyChanged(c.PROPERTY.ZERO_LINE_Y)},enumerable:!1,configurable:!0}),Object.defineProperty(FastColumnRenderableSeries.prototype,"dataPointWidth",{get:function(){return this.dataPointWidthProperty},set:function(e){this.dataPointWidthProperty=e,this.notifyPropertyChanged(c.PROPERTY.DATA_POINT_WIDTH)},enumerable:!1,configurable:!0}),Object.defineProperty(FastColumnRenderableSeries.prototype,"cornerRadius",{get:function(){return this.cornerRadiusProperty},set:function(e){this.cornerRadiusProperty=e,this.notifyPropertyChanged(c.PROPERTY.CORNER_RADIUS)},enumerable:!1,configurable:!0}),FastColumnRenderableSeries.prototype.getXRange=function(){var r=e.prototype.getXRange.call(this),i=this.dataSeries.count();return(0,t.getXRange)(r,i,this.dataPointWidth)},FastColumnRenderableSeries.prototype.getYRange=function(t,r){void 0===r&&(r=!1);var i=e.prototype.getYRange.call(this,t,r);if(i)return new o.NumberRange(Math.min(i.min,this.zeroLineY),Math.max(i.max,this.zeroLineY))},FastColumnRenderableSeries.prototype.resolveAutoColors=function(t,r,i){if(e.prototype.resolveAutoColors.call(this,t,r,i),this.fillProperty.startsWith(s.AUTO_COLOR)){var n=i.getFillColor(t,r,this.webAssemblyContext);this.fill=s.AUTO_COLOR+this.adjustAutoColor("fill",n)}},FastColumnRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={dataPointWidth:this.dataPointWidth,fill:this.fill,zeroLineY:this.zeroLineY,fillLinearGradient:this.fillLinearGradient,cornerRadius:this.cornerRadius};return Object.assign(r.options,i),r},FastColumnRenderableSeries.prototype.newHitTestProvider=function(){return new f.ColumnSeriesHitTestProvider(this,this.webAssemblyContext)},FastColumnRenderableSeries}(u.BaseRenderableSeries);t.FastColumnRenderableSeries=y,t.getXRange=function(e,t,r){if(t>1){var i=e.diff/(t-1)*r/2;return new o.NumberRange(e.min-i,e.max+i)}return e}},86454:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.adjustRangeByStrokeThickness=t.FastErrorBarsRenderableSeries=void 0;var o=r(94694),a=r(51134),s=r(18157),l=r(33186),u=r(15958),c=r(66379),d=r(55687),p=r(3351),h=r(94745),f=r(41591),y=r(3488),g=r(90525),v=r(46578),m=r(30373),S=function(e){function FastErrorBarsRenderableSeries(t,r){var i,n,o,a,s,p,h,f,y,m=this;return(m=e.call(this,t,r)||this).type=d.ESeriesType.ErrorBarsSeries,m.dataPointWidthProperty=.5,m.dataPointWidthModeProperty=l.EDataPointWidthMode.Relative,m.errorModeProperty=c.EErrorMode.Both,m.errorDirectionProperty=u.EErrorDirection.Vertical,m.strokeDashArrayProperty=[],m.drawWhiskersProperty=!0,m.drawConnectorProperty=!0,m.dataPointWidth=null!==(i=null==r?void 0:r.dataPointWidth)&&void 0!==i?i:m.dataPointWidthProperty,m.errorModeProperty=null!==(n=null==r?void 0:r.errorMode)&&void 0!==n?n:m.errorModeProperty,m.errorDirectionProperty=null!==(o=null==r?void 0:r.errorDirection)&&void 0!==o?o:m.errorDirectionProperty,m.dataPointWidthMode=null!==(a=null==r?void 0:r.dataPointWidthMode)&&void 0!==a?a:m.dataPointWidthModeProperty,m.strokeDashArray=null!==(s=null==r?void 0:r.strokeDashArray)&&void 0!==s?s:m.strokeDashArrayProperty,m.drawWhiskers=null!==(p=null==r?void 0:r.drawWhiskers)&&void 0!==p?p:m.drawWhiskersProperty,m.drawConnector=null!==(h=null==r?void 0:r.drawConnector)&&void 0!==h?h:m.drawConnectorProperty,m.drawingProviders=[new g.ErrorSeriesDrawingProvider(t,m),new v.PointMarkerDrawingProvider(t,m)],(null===(f=m.paletteProvider)||void 0===f?void 0:f.onAttached)&&(null===(y=m.paletteProvider)||void 0===y||y.onAttached(m)),(null==r?void 0:r.animation)&&m.animationQueue.push(r.animation),m}return n(FastErrorBarsRenderableSeries,e),FastErrorBarsRenderableSeries.prototype.applyTheme=function(t){e.prototype.applyTheme.call(this,t);var r=this.parentSurface.previousThemeProvider;this.stroke===r.lineSeriesColor&&(this.stroke=t.lineSeriesColor)},Object.defineProperty(FastErrorBarsRenderableSeries.prototype,"strokeDashArray",{get:function(){return this.strokeDashArrayProperty},set:function(e){this.strokeDashArrayProperty=e,this.notifyPropertyChanged(y.PROPERTY.STROKE_DASH_ARRAY)},enumerable:!1,configurable:!0}),Object.defineProperty(FastErrorBarsRenderableSeries.prototype,"drawWhiskers",{get:function(){return this.drawWhiskersProperty},set:function(e){this.drawWhiskersProperty=e,this.notifyPropertyChanged(y.PROPERTY.DRAW_WHISKERS)},enumerable:!1,configurable:!0}),Object.defineProperty(FastErrorBarsRenderableSeries.prototype,"drawConnector",{get:function(){return this.drawConnectorProperty},set:function(e){this.drawConnectorProperty=e,this.notifyPropertyChanged(y.PROPERTY.DRAW_CONNECTOR)},enumerable:!1,configurable:!0}),Object.defineProperty(FastErrorBarsRenderableSeries.prototype,"paletteProvider",{get:function(){},set:function(e){throw Error("paletteProvider is not supported by FastErrorBarsRenderableSeries!")},enumerable:!1,configurable:!0}),Object.defineProperty(FastErrorBarsRenderableSeries.prototype,"dataPointWidth",{get:function(){return this.dataPointWidthProperty},set:function(e){this.dataPointWidthProperty=e,this.notifyPropertyChanged(y.PROPERTY.DATA_POINT_WIDTH)},enumerable:!1,configurable:!0}),Object.defineProperty(FastErrorBarsRenderableSeries.prototype,"errorMode",{get:function(){return this.errorModeProperty},set:function(e){this.errorModeProperty=e,this.notifyPropertyChanged(y.PROPERTY.ERROR_MODE)},enumerable:!1,configurable:!0}),Object.defineProperty(FastErrorBarsRenderableSeries.prototype,"errorDirection",{get:function(){return this.errorDirectionProperty},set:function(e){this.errorDirectionProperty=e,this.notifyPropertyChanged(y.PROPERTY.ERROR_DIRECTION)},enumerable:!1,configurable:!0}),Object.defineProperty(FastErrorBarsRenderableSeries.prototype,"dataPointWidthMode",{get:function(){return this.dataPointWidthModeProperty},set:function(e){this.dataPointWidthModeProperty=e,this.notifyPropertyChanged(y.PROPERTY.DATA_POINT_WIDTH_MODE)},enumerable:!1,configurable:!0}),FastErrorBarsRenderableSeries.prototype.delete=function(){e.prototype.delete.call(this),this.pointSeries=(0,o.deleteSafe)(this.pointSeries)},FastErrorBarsRenderableSeries.prototype.getDataPointWidth=function(e,t){var r=this.errorDirection===u.EErrorDirection.Vertical?this.dataSeries.getNativeXValues():this.dataSeries.getNativeYValues(),i=e.viewportDimension,n=e.isCategoryCoordinateCalculator;return(0,f.getDataPointWidth)(r,e,i,t,n,this.webAssemblyContext)},FastErrorBarsRenderableSeries.prototype.getXRange=function(){var e,r=this.errorDirection===u.EErrorDirection.Vertical,i=this.errorMode!==c.EErrorMode.Low,n=this.errorMode!==c.EErrorMode.High,o=this.dataSeries.getXRange(p.EDataSeriesValueType.Default,!r,i,n);return this.xAxis.type===s.EAxisType.LogarithmicAxis?o:r?this.adjustRangeByDataPointWidth(o):(0,t.adjustRangeByStrokeThickness)(o,this.strokeThickness,null===(e=this.parentSurface.seriesViewRect)||void 0===e?void 0:e.width)},FastErrorBarsRenderableSeries.prototype.getYRange=function(e,r){void 0===r&&(r=!1);var i,n=this.errorDirection===u.EErrorDirection.Horizontal,o=this.errorMode!==c.EErrorMode.Low,a=this.errorMode!==c.EErrorMode.High,l=this.isRunningDataAnimation?p.EDataSeriesValueType.FinalAnimationValues:p.EDataSeriesValueType.Default,d=this.dataSeries.getWindowedYRange(e,!0,r,l,this.yRangeMode,n,o,a);return this.yAxis.type===s.EAxisType.LogarithmicAxis?d:n?this.adjustRangeByDataPointWidth(d):(0,t.adjustRangeByStrokeThickness)(d,this.strokeThickness,null===(i=this.parentSurface.seriesViewRect)||void 0===i?void 0:i.height)},FastErrorBarsRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={dataPointWidth:this.dataPointWidth,dataPointWidthMode:this.dataPointWidthMode,errorDirection:this.errorDirection,errorMode:this.errorMode,drawWhiskers:this.drawWhiskers,drawConnector:this.drawConnector,strokeDashArray:this.strokeDashArray};return Object.assign(r.options,i),r},FastErrorBarsRenderableSeries.prototype.toPointSeries=function(e){if(!e)return new h.HlcPointSeriesWrapped(this.dataSeries);throw Error("Error Bars Series don't support resampling!")},FastErrorBarsRenderableSeries.prototype.newHitTestProvider=function(){return new m.ErrorSeriesHitTestProvider(this,this.webAssemblyContext)},FastErrorBarsRenderableSeries.prototype.adjustRangeByDataPointWidth=function(e){var t,r,i,n,o=this.dataSeries.count();if(o>1){var s=this.errorDirection===u.EErrorDirection.Vertical?null!==(r=null===(t=this.parentSurface.seriesViewRect)||void 0===t?void 0:t.width)&&void 0!==r?r:0:null!==(n=null===(i=this.parentSurface.seriesViewRect)||void 0===i?void 0:i.height)&&void 0!==n?n:0,c=this.dataPointWidthMode===l.EDataPointWidthMode.Relative?e.diff/(o-1)*this.dataPointWidth/2:s&&(0,f.getDelta)({range:e,areaSize:s,pointSize:this.dataPointWidth});return new a.NumberRange(e.min-c,e.max+c)}return e},FastErrorBarsRenderableSeries}(f.BaseRenderableSeries);t.FastErrorBarsRenderableSeries=S,t.adjustRangeByStrokeThickness=function(e,t,r){void 0===r&&(r=0);var i=r&&(0,f.getDelta)({pointSize:t,areaSize:r,range:e});return new a.NumberRange(e.min-i,e.max+i)}},17806:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.FastImpulseRenderableSeries=void 0;var o=r(51134),a=r(55687),s=r(63869),l=r(42761),u=r(61239),c=r(41591),d=r(3488),p=r(20717),h=r(70402),f=function(e){function FastImpulseRenderableSeries(t,r){var i,n,o,s,c=this;return(c=e.call(this,t,r)||this).type=a.ESeriesType.ImpulseSeries,c.impulseFillProperty=u.SciChartSurfaceBase.DEFAULT_THEME.impulseFillBrush,c.impulseSizeProperty=10,c.impulseDataPointWidthProperty=0,c.impulseStrokeThicknessProperty=1,c.strokeThickness=null!==(i=null==r?void 0:r.strokeThickness)&&void 0!==i?i:c.impulseStrokeThicknessProperty,c.fill=null!==(n=null==r?void 0:r.fill)&&void 0!==n?n:c.impulseFillProperty,c.size=null!==(o=null==r?void 0:r.size)&&void 0!==o?o:c.impulseSizeProperty,c.stroke=null!==(s=null==r?void 0:r.fill)&&void 0!==s?s:c.impulseFillProperty,c.dataPointWidth=c.impulseDataPointWidthProperty,(null==r?void 0:r.pointMarker)||(c.pointMarker=new l.EllipsePointMarker(t,{width:c.impulseSizeProperty,height:c.impulseSizeProperty,fill:c.fill,stroke:c.fill})),c}return n(FastImpulseRenderableSeries,e),Object.defineProperty(FastImpulseRenderableSeries.prototype,"fill",{get:function(){return(0,s.stripAutoColor)(this.impulseFillProperty)},set:function(e){this.impulseFillProperty=e,this.stroke=e,this.pointMarker&&(this.pointMarker.fill=e,this.pointMarker.stroke=e),this.impulseFillProperty!==e&&this.notifyPropertyChanged(d.PROPERTY.STROKE)},enumerable:!1,configurable:!0}),Object.defineProperty(FastImpulseRenderableSeries.prototype,"size",{get:function(){return this.impulseSizeProperty},set:function(e){this.impulseSizeProperty=e,this.pointMarker&&(this.pointMarker.width=e,this.pointMarker.height=e)},enumerable:!1,configurable:!0}),FastImpulseRenderableSeries.prototype.getXRange=function(){var t,r,i=e.prototype.getXRange.call(this),n=(0,c.getDelta)({pointSize:this.size,areaSize:null!==(r=null===(t=this.parentSurface.seriesViewRect)||void 0===t?void 0:t.width)&&void 0!==r?r:0,range:i});return new o.NumberRange(i.min-n,i.max+n)},FastImpulseRenderableSeries.prototype.getYRange=function(t,r){void 0===r&&(r=!1);var i,n,a=e.prototype.getYRange.call(this,t,r);if(a){var s=(0,c.getDelta)({pointSize:this.size,areaSize:null!==(n=null===(i=this.parentSurface.seriesViewRect)||void 0===i?void 0:i.height)&&void 0!==n?n:0,range:a});return new o.NumberRange(a.min-s,a.max+s)}},FastImpulseRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={fill:this.fill,size:this.size,zeroLineY:this.zeroLineY};return Object.assign(r.options,i),r},FastImpulseRenderableSeries.prototype.applyTheme=function(t){e.prototype.applyTheme.call(this,t);var r=this.parentSurface.previousThemeProvider;this.fill===r.impulseFillBrush&&(this.fill=t.impulseFillBrush)},FastImpulseRenderableSeries.prototype.resolveAutoColors=function(t,r,i){if(e.prototype.resolveAutoColors.call(this,t,r,i),this.impulseFillProperty.startsWith(s.AUTO_COLOR)){var n=i.getStrokeColor(t,r,this.webAssemblyContext);this.fill=s.AUTO_COLOR+this.adjustAutoColor("impulseFill",n)}},FastImpulseRenderableSeries.prototype.newHitTestProvider=function(){return new h.ImpulseSeriesHitTestProvider(this,this.webAssemblyContext)},FastImpulseRenderableSeries}(p.FastColumnRenderableSeries);t.FastImpulseRenderableSeries=f},33602:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.FastLineRenderableSeries=void 0;var o=r(94694),a=r(55687),s=function(e){function FastLineRenderableSeries(t,r){var i,n,o=this;return(o=e.call(this,t,r)||this).type=a.ESeriesType.LineSeries,(null===(i=o.paletteProvider)||void 0===i?void 0:i.onAttached)&&(null===(n=o.paletteProvider)||void 0===n||n.onAttached(o)),o}return n(FastLineRenderableSeries,e),FastLineRenderableSeries.prototype.delete=function(){e.prototype.delete.call(this),this.resamplerHelper=(0,o.deleteSafe)(this.resamplerHelper),this.pointSeries=(0,o.deleteSafe)(this.pointSeries)},FastLineRenderableSeries}(r(5234).BaseLineRenderableSeries);t.FastLineRenderableSeries=s},95840:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.FastMountainRenderableSeries=void 0;var o=r(55687),a=function(e){function FastMountainRenderableSeries(t,r){var i,n,a=this;return(a=e.call(this,t,r)||this).type=o.ESeriesType.MountainSeries,(null===(i=a.paletteProvider)||void 0===i?void 0:i.onAttached)&&(null===(n=a.paletteProvider)||void 0===n||n.onAttached(a)),a}return n(FastMountainRenderableSeries,e),FastMountainRenderableSeries}(r(15877).BaseMountainRenderableSeries);t.FastMountainRenderableSeries=a},45397:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.FastOhlcRenderableSeries=void 0;var o=r(55687),a=r(74383),s=r(33175),l=function(e){function FastOhlcRenderableSeries(t,r){var i,n,a=this;return(a=e.call(this,t,r)||this).type=o.ESeriesType.OhlcSeries,(null===(i=a.paletteProvider)||void 0===i?void 0:i.onAttached)&&(null===(n=a.paletteProvider)||void 0===n||n.onAttached(a)),a.drawingProviders=[],a.drawingProviders.push(new s.OhlcSeriesDrawingProvider(t,a,s.EOhlcDrawingMode.Ohlc)),a}return n(FastOhlcRenderableSeries,e),FastOhlcRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={dataPointWidth:this.dataPointWidth,strokeDown:this.strokeDown,strokeUp:this.strokeUp};return Object.assign(r.options,i),r},FastOhlcRenderableSeries}(a.BaseOhlcRenderableSeries);t.FastOhlcRenderableSeries=l},37848:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.FastTextRenderableSeries=void 0;var o=r(55687),a=r(99740),s=r(41591),l=r(45989),u=r(46578),c=r(88083),d=function(e){function FastTextRenderableSeries(t,r){var i=e.call(this,t,r)||this;return i.type=o.ESeriesType.TextSeries,i.drawingProviders=[],i.drawingProviders.push(new u.PointMarkerDrawingProvider(t,i)),i.dataLabelProviderProperty||(i.dataLabelProviderProperty=new l.TextDataLabelProvider(null==r?void 0:r.dataLabels),i.dataLabelProviderProperty.onAttach(i.webAssemblyContext,i)),(null==r?void 0:r.animation)&&i.animationQueue.push(r.animation),i}return n(FastTextRenderableSeries,e),FastTextRenderableSeries.prototype.needsResampling=function(e){return!!this.dataSeries.fifoCapacity&&(e.resamplingMode=a.EResamplingMode.None,this.resamplerHelper.resetAndFillBasicNativeArgs(e,this.getNativeXValues()),!0)},FastTextRenderableSeries.prototype.newHitTestProvider=function(){return new c.TextSeriesHitTestProvider(this,this.webAssemblyContext)},FastTextRenderableSeries}(s.BaseRenderableSeries);t.FastTextRenderableSeries=d},85969:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.GlowEffect=void 0;var o=r(5399),a=function(e){function GlowEffect(t,r){var i=e.call(this,t,new t.SCRTGlowEffect,{range:(null==r?void 0:r.range)||1,intensity:(null==r?void 0:r.intensity)||1})||this;return i.type=o.EShaderEffectType.Glow,i}return n(GlowEffect,e),GlowEffect}(r(85611).ShaderEffect);t.GlowEffect=a},6763:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeatmapColorMap=void 0;var i=r(35855),n=r(91383),o=r(3488),a=function(){function HeatmapColorMap(e){var t,r;this.minimumProperty=null!==(t=null==e?void 0:e.minimum)&&void 0!==t?t:0,this.maximumProperty=null!==(r=null==e?void 0:e.maximum)&&void 0!==r?r:100,this.gradientStops=(null==e?void 0:e.gradientStops)||[{offset:0,color:"Red"},{offset:1,color:"Green"}],this.propertyChanged=new i.EventHandler,this.calculateScaleFactor()}return Object.defineProperty(HeatmapColorMap.prototype,"gradientStops",{get:function(){return this.gradientStopsProperty},set:function(e){this.gradientStopsProperty=e,this.notifyPropertyChanged(o.PROPERTY.GRADIENT_STOPS)},enumerable:!1,configurable:!0}),Object.defineProperty(HeatmapColorMap.prototype,"minimum",{get:function(){return this.minimumProperty},set:function(e){this.minimumProperty=e,this.notifyPropertyChanged(o.PROPERTY.MINIMUM)},enumerable:!1,configurable:!0}),Object.defineProperty(HeatmapColorMap.prototype,"maximum",{get:function(){return this.maximumProperty},set:function(e){this.maximumProperty=e,this.notifyPropertyChanged(o.PROPERTY.MAXIMUM)},enumerable:!1,configurable:!0}),HeatmapColorMap.prototype.toJSON=function(){return{minimum:this.minimum,maximum:this.maximum,gradientStops:this.gradientStops}},HeatmapColorMap.prototype.notifyPropertyChanged=function(e){var t;null===(t=this.propertyChanged)||void 0===t||t.raiseEvent(new n.PropertyChangedEventArgs(e))},HeatmapColorMap.prototype.calculateScaleFactor=function(){this.scaleFactorProperty=(HeatmapColorMap.DefaultPrecision-1)/Math.abs(this.maximumProperty-this.minimumProperty)},HeatmapColorMap.DefaultPrecision=1e3,HeatmapColorMap}();t.HeatmapColorMap=a},66201:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BandSeriesHitTestProvider=void 0;var o=r(23089),a=r(76867),s=r(38701),l=function(e){function BandSeriesHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(BandSeriesHitTestProvider,e),BandSeriesHitTestProvider.prototype.hitTest=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return s.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,o=i.yCoordinateCalculator,l=i.isVerticalChart,u=l?r.y:r.x,c=l?r.x:r.y,d=this.parentSeries.dataSeries;if(!d)return s.HitTestInfo.empty();var p=a.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,d,u,d.dataDistributionCalculator.isSortedAscending),h=d.getNativeXValues(),f=d.getNativeYValues(),y=d.getNativeY1Values(),g=a.hitTestHelpers.createHitTestInfo(this.parentSeries,n,o,l,d,h,f,u,c,p,0);if(d.dataDistributionCalculator.isSortedAscending&&p>=0){g.y1Value=y.get(p),g.y1Coord=o.getCoordinate(g.y1Value);var v=a.hitTestHelpers.testIsHitForBand(this.parentSeries.isDigitalLine,n,o,d.getNativeXValues(),function(e){return f.get(e)},function(e){return y.get(e)},p,u,c,d);g.isHit=v.isHit,g.point2dataSeriesIndex=v.secondPointIndex,void 0!==v.secondPointIndex&&(g.point2xValue=h.get(v.secondPointIndex),g.point2xCoord=n.getCoordinate(g.point2xValue),g.point2yValue=f.get(v.secondPointIndex),g.point2yCoord=o.getCoordinate(g.point2yValue),g.point2y1Value=y.get(v.secondPointIndex),g.point2y1Coord=o.getCoordinate(g.point2y1Value),g.point2metadata=d.getMetadataAt(v.secondPointIndex))}else g.isHit=!1;return g},BandSeriesHitTestProvider.prototype.hitTestDataPoint=function(e,t,r){void 0===r&&(r=o.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS);var i=this.getTranslatedHitTestPoint(e,t);if(!i)return s.HitTestInfo.empty();var n=this.currentRenderPassData,l=n.xCoordinateCalculator,u=n.yCoordinateCalculator,c=n.isVerticalChart,d=c?i.y:i.x,p=c?i.x:i.y,h=this.parentSeries.dataSeries;if(!h)return s.HitTestInfo.empty();var f=a.hitTestHelpers.getNearestXyyPoint(this.webAssemblyContext,l,u,h,d,p,r),y=f.nearestPointIndex,g=f.distance,v=a.hitTestHelpers.createHitTestInfo(this.parentSeries,l,u,c,h,h.getNativeXValues(),h.getNativeYValues(),d,p,y,r,g);return y>=0?(v.y1Value=h.getNativeY1Values().get(y),v.y1Coord=u.getCoordinate(v.y1Value),v.isHit=a.hitTestHelpers.testIsHitForPoint(l,u,h.getNativeXValues(),h.getNativeYValues(),y,d,p,r,h)||a.hitTestHelpers.testIsHitForPoint(l,u,h.getNativeXValues(),h.getNativeY1Values(),y,d,p,r,h)):v.isHit=!1,v},BandSeriesHitTestProvider.prototype.hitTestXSlice=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return s.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,o=i.yCoordinateCalculator,l=i.isVerticalChart,u=l?r.y:r.x,c=l?r.x:r.y,d=this.parentSeries.dataSeries;if(!d)return s.HitTestInfo.empty();var p=a.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,d,u,d.dataDistributionCalculator.isSortedAscending),h=d.getNativeXValues(),f=d.getNativeYValues(),y=d.getNativeY1Values(),g=a.hitTestHelpers.createHitTestInfo(this.parentSeries,n,o,l,d,h,f,u,c,p,0);if(p>=0?(g.isHit=g.isWithinDataBounds,g.y1Value=y.get(p),g.y1Coord=o.getCoordinate(g.y1Value)):g.isHit=!1,d.dataDistributionCalculator.isSortedAscending&&p>=0){var v=h.size(),m=n.getCoordinate(n.isCategoryCoordinateCalculator?p:h.get(p));if(!(p===v-1&&(n.hasFlippedCoordinates?u>=m:u<=m))&&!(0===p&&(n.hasFlippedCoordinates?u<=m:u>=m))){var S=a.hitTestHelpers.testIsHitForLine(n,o,h,f,p,u,c,0,d);g.point2dataSeriesIndex=S.secondPointIndex,void 0!==S.secondPointIndex&&(g.point2xValue=h.get(S.secondPointIndex),g.point2xCoord=n.getCoordinate(g.point2xValue),g.point2yValue=f.get(S.secondPointIndex),g.point2yCoord=o.getCoordinate(g.point2yValue),g.point2y1Value=y.get(S.secondPointIndex),g.point2y1Coord=o.getCoordinate(g.point2y1Value),g.point2metadata=d.getMetadataAt(S.secondPointIndex))}}return g},BandSeriesHitTestProvider}(o.BaseHitTestProvider);t.BandSeriesHitTestProvider=l},23089:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseHitTestProvider=void 0;var i=r(92530),n=r(48484),o=r(79361),a=r(76867),s=r(38701),l=function(){function BaseHitTestProvider(e,t){i.Guard.notNull(e,"parentSeries"),this.parentSeries=e,this.webAssemblyContext=t}return BaseHitTestProvider.prototype.update=function(e){this.currentRenderPassData=e},BaseHitTestProvider.prototype.hitTestDataPoint=function(e,t,r){void 0===r&&(r=BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS);var i=this.getTranslatedHitTestPoint(e,t);if(!i)return s.HitTestInfo.empty();var n=this.currentRenderPassData,o=n.xCoordinateCalculator,l=n.yCoordinateCalculator,u=n.isVerticalChart,c=u?i.y:i.x,d=u?i.x:i.y,p=this.parentSeries.dataSeries;if(!p)return s.HitTestInfo.empty();var h=a.hitTestHelpers.getNearestXyPoint(this.webAssemblyContext,o,l,p,c,d,r),f=p.getNativeXValues(),y=p.getNativeYValues(),g=a.hitTestHelpers.createHitTestInfo(this.parentSeries,o,l,u,p,f,y,c,d,h.nearestPointIndex,r,h.distance);return h.nearestPointIndex>=0?g.isHit=a.hitTestHelpers.testIsHitForPoint(o,l,f,y,h.nearestPointIndex,c,d,r,p):g.isHit=!1,g},BaseHitTestProvider.prototype.hitTestForDataPointSelectionModifier=function(e,t,r){return void 0===r&&(r=BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS),this.hitTestDataPoint(e,t,r)},BaseHitTestProvider.prototype.hitTestXSlice=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return s.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,o=i.yCoordinateCalculator,l=i.isVerticalChart,u=l?r.y:r.x,c=l?r.x:r.y,d=this.parentSeries.dataSeries;if(!d)return s.HitTestInfo.empty();var p=a.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,d,u,d.dataDistributionCalculator.isSortedAscending),h=d.getNativeXValues(),f=d.getNativeYValues(),y=a.hitTestHelpers.createHitTestInfo(this.parentSeries,n,o,l,d,h,f,u,c,p,0,void 0);if(y.isHit=y.isWithinDataBounds,d.dataDistributionCalculator.isSortedAscending&&p>=0){var g=h.size(),v=n.getCoordinate(n.isCategoryCoordinateCalculator?p:h.get(p));if(!(p===g-1&&(n.hasFlippedCoordinates?u>=v:u<=v))&&!(0===p&&(n.hasFlippedCoordinates?u<=v:u>=v))){var m=a.hitTestHelpers.testIsHitForLine(n,o,h,f,p,u,c,0,d);y.point2dataSeriesIndex=m.secondPointIndex,y.point2xValue=h.get(m.secondPointIndex),y.point2xCoord=n.getCoordinate(y.point2xValue),y.point2yValue=f.get(m.secondPointIndex),y.point2yCoord=o.getCoordinate(y.point2yValue),y.point2metadata=d.getMetadataAt(m.secondPointIndex)}}return y},BaseHitTestProvider.prototype.getTranslatedHitTestPoint=function(e,t){if(this.currentRenderPassData&&void 0!==e&&void 0!==t)return(0,o.translateFromCanvasToSeriesViewRect)(new n.Point(e,t),this.parentSeries.parentSurface.seriesViewRect)},BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS=7.07,BaseHitTestProvider}();t.BaseHitTestProvider=l},53491:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BubbleSeriesHitTestProvider=void 0;var o=r(93343),a=r(91462),s=r(23089),l=r(76867),u=r(38701),c=function(e){function BubbleSeriesHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(BubbleSeriesHitTestProvider,e),BubbleSeriesHitTestProvider.prototype.hitTest=function(e,t,r){void 0===r&&(r=0);var i=this.getTranslatedHitTestPoint(e,t);if(!i)return u.HitTestInfo.empty();var n=this.currentRenderPassData,s=n.xCoordinateCalculator,c=n.yCoordinateCalculator,d=n.isVerticalChart,p=d?i.y:i.x,h=d?i.x:i.y,f=this.parentSeries.dataSeries;if(!f)return u.HitTestInfo.empty();var y=l.hitTestHelpers.getNearestXyPoint(this.webAssemblyContext,s,c,f,p,h,r),g=f.getNativeXValues(),v=f.getNativeYValues(),m=f.getNativeZValues(),S=l.hitTestHelpers.createHitTestInfo(this.parentSeries,s,c,d,f,g,v,p,h,y.nearestPointIndex,r);if(y.nearestPointIndex>=0){S.zValue=m.get(y.nearestPointIndex);var b=(0,o.calcDistance)(p,h,S.xCoord,S.yCoord);S.isHit=b<S.zValue*a.DpiHelper.PIXEL_RATIO/2+r;var P=s.isCategoryCoordinateCalculator,C=P?0:g.get(0),x=s.getCoordinate(C),A=f.getNativeZValues().get(0)/2,T=P?g.size()-1:g.get(g.size()-1),_=s.getCoordinate(T),R=f.getNativeZValues().get(g.size()-1)/2;x<_?S.isWithinDataBounds=x-A<=S.hitTestPoint.x&&S.hitTestPoint.x<=_+R:S.isWithinDataBounds=_-R<=S.hitTestPoint.x&&S.hitTestPoint.x<=x+A}else S.isHit=!1;return S},BubbleSeriesHitTestProvider.prototype.hitTestDataPoint=function(e,t,r){return void 0===r&&(r=s.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS),this.hitTest(e,t,r)},BubbleSeriesHitTestProvider.prototype.hitTestXSlice=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return u.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,o=i.yCoordinateCalculator,a=i.isVerticalChart,s=a?r.y:r.x,c=a?r.x:r.y,d=this.parentSeries.dataSeries;if(!d)return u.HitTestInfo.empty();var p=d.getNativeXValues(),h=d.getNativeYValues(),f=d.getNativeZValues(),y=l.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,d,s,d.dataDistributionCalculator.isSortedAscending),g=l.hitTestHelpers.createHitTestInfo(this.parentSeries,n,o,a,d,p,h,s,c,y,0);if(y>=0){g.zValue=f.get(y);var v=n.isCategoryCoordinateCalculator,m=v?0:p.get(0),S=n.getCoordinate(m),b=d.getNativeZValues().get(0)/2,P=v?p.size()-1:p.get(p.size()-1),C=n.getCoordinate(P),x=d.getNativeZValues().get(p.size()-1)/2;S<C?g.isWithinDataBounds=S-b<=g.hitTestPoint.x&&g.hitTestPoint.x<=C+x:g.isWithinDataBounds=C-x<=g.hitTestPoint.x&&g.hitTestPoint.x<=S+b,g.isHit=g.isWithinDataBounds}else g.isHit=!1;return g},BubbleSeriesHitTestProvider}(s.BaseHitTestProvider);t.BubbleSeriesHitTestProvider=c},92916:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnSeriesHitTestProvider=void 0;var o=r(93343),a=r(23089),s=r(76867),l=r(38701),u=function(e){function ColumnSeriesHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(ColumnSeriesHitTestProvider,e),ColumnSeriesHitTestProvider.prototype.hitTest=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return l.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,o=i.yCoordinateCalculator,a=i.isVerticalChart,u=a?r.y:r.x,c=a?r.x:r.y,d=this.parentSeries.dataSeries;if(!d)return l.HitTestInfo.empty();var p=s.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,d,u,d.dataDistributionCalculator.isSortedAscending),h=d.getNativeXValues(),f=d.getNativeYValues(),y=s.hitTestHelpers.createHitTestInfo(this.parentSeries,n,o,a,d,h,f,u,c,p,0);return p>=0?y.isHit=s.hitTestHelpers.testIsHitForColumn(n,o,this.parentSeries,h,f,p,u,c):y.isHit=!1,y},ColumnSeriesHitTestProvider.prototype.hitTestForDataPointSelectionModifier=function(e,t,r){return void 0===r&&(r=a.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS),this.hitTest(e,t)},ColumnSeriesHitTestProvider.prototype.hitTestXSlice=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return l.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,a=i.yCoordinateCalculator,u=i.isVerticalChart,c=u?r.y:r.x,d=u?r.x:r.y,p=this.parentSeries.dataSeries;if(!p)return l.HitTestInfo.empty();var h=p.getNativeXValues(),f=p.getNativeYValues(),y=s.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,p,c,p.dataDistributionCalculator.isSortedAscending),g=s.hitTestHelpers.createHitTestInfo(this.parentSeries,n,a,u,p,h,f,c,d,y,0),v=n.isCategoryCoordinateCalculator;if(y>=0){var m=v?0:h.get(0),S=v?h.size()-1:h.get(h.size()-1),b=this.parentSeries.dataPointWidth;g.isWithinDataBounds=(0,o.testIsInInterval)(g.hitTestPointValues.x,m,S,b/2),g.isHit=g.isWithinDataBounds}else g.isHit=!1;return g},ColumnSeriesHitTestProvider}(a.BaseHitTestProvider);t.ColumnSeriesHitTestProvider=u},30373:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorSeriesHitTestProvider=void 0;var o=r(15958),a=r(66379),s=r(93343),l=r(23089),u=r(76867),c=r(38701),d=function(e){function ErrorSeriesHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(ErrorSeriesHitTestProvider,e),ErrorSeriesHitTestProvider.prototype.hitTest=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return c.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,o=i.yCoordinateCalculator,a=i.isVerticalChart,s=a?r.y:r.x,l=a?r.x:r.y,d=this.parentSeries.dataSeries;if(!d)return c.HitTestInfo.empty();var p=u.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,d,s,d.dataDistributionCalculator.isSortedAscending),h=d.getNativeXValues(),f=d.getNativeYValues(),y=u.hitTestHelpers.createHitTestInfo(this.parentSeries,n,o,a,d,h,f,s,l,p,0);if(p>=0){var g=u.hitTestHelpers.testIsHitForErrorBars(n,o,this.parentSeries,h,f,p,s,l);y.isHit=g.isHit,y.highValue=g.highValue,y.lowValue=g.lowValue}else y.isHit=!1;return y},ErrorSeriesHitTestProvider.prototype.hitTestForDataPointSelectionModifier=function(e,t,r){return void 0===r&&(r=l.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS),this.hitTest(e,t)},ErrorSeriesHitTestProvider.prototype.hitTestXSlice=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return c.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,l=i.yCoordinateCalculator,d=i.isVerticalChart,p=d?r.y:r.x,h=d?r.x:r.y,f=this.parentSeries.dataSeries;if(!f)return c.HitTestInfo.empty();var y=f.getNativeXValues(),g=f.getNativeYValues(),v=f.getNativeLowValues(),m=f.getNativeHighValues(),S=u.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,f,p,f.dataDistributionCalculator.isSortedAscending),b=u.hitTestHelpers.createHitTestInfo(this.parentSeries,n,l,d,f,y,g,p,h,S,0),P=n.isCategoryCoordinateCalculator;if(S>=0){var C=this.parentSeries.errorDirection===o.EErrorDirection.Vertical;b.highValue=m.get(S),b.lowValue=v.get(S);var x=this.parentSeries.errorMode!==a.EErrorMode.High,A=this.parentSeries.errorMode!==a.EErrorMode.Low,T=void 0,_=void 0;C?(T=P?0:y.get(0),_=P?y.size()-1:y.get(y.size()-1)):(T=x?v.get(0):y.get(0),_=A?m.get(y.size()-1):y.get(y.size()-1));var R=this.parentSeries.getDataPointWidth(C?n:l,this.parentSeries.dataPointWidth)/2,E=n.getCoordinate(b.hitTestPointValues.x),w=n.getCoordinate(T),D=n.getCoordinate(_);b.isWithinDataBounds=(0,s.testIsInInterval)(E,w-R,D+R),b.isHit=b.isWithinDataBounds}else b.isHit=!1;return b},ErrorSeriesHitTestProvider}(l.BaseHitTestProvider);t.ErrorSeriesHitTestProvider=d},38701:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitTestInfo=void 0;var r=function(){function HitTestInfo(e,t){void 0===t&&(t=!1),this.isEmpty=t,this.associatedSeries=e}return HitTestInfo.empty=function(){return new HitTestInfo(void 0,!0)},HitTestInfo.prototype.getEuclideanDistance=function(){var e,t,r=(null===(e=this.hitTestPoint)||void 0===e?void 0:e.x)-this.xCoord,i=(null===(t=this.hitTestPoint)||void 0===t?void 0:t.y)-this.yCoord;return Math.sqrt(r*r+i*i)},Object.defineProperty(HitTestInfo.prototype,"distance",{get:function(){return void 0!==this.distanceProperty?this.distanceProperty:this.getEuclideanDistance()},set:function(e){this.distanceProperty=e},enumerable:!1,configurable:!0}),HitTestInfo}();t.HitTestInfo=r},70402:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ImpulseSeriesHitTestProvider=void 0;var o=r(93343),a=r(91462),s=r(23089),l=r(76867),u=r(38701),c=function(e){function ImpulseSeriesHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(ImpulseSeriesHitTestProvider,e),ImpulseSeriesHitTestProvider.prototype.hitTest=function(e,t,r){void 0===r&&(r=s.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS);var i=this.getTranslatedHitTestPoint(e,t);if(!i)return u.HitTestInfo.empty();var n=this.currentRenderPassData,o=n.xCoordinateCalculator,a=n.yCoordinateCalculator,c=n.isVerticalChart,d=c?i.y:i.x,p=c?i.x:i.y,h=this.parentSeries.dataSeries;if(!h)return u.HitTestInfo.empty();var f=l.hitTestHelpers.getNearestXyPoint(this.webAssemblyContext,o,a,h,d,p,r),y=l.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,o,h,d,h.dataDistributionCalculator.isSortedAscending),g=h.getNativeXValues(),v=h.getNativeYValues(),m=l.hitTestHelpers.createHitTestInfo(this.parentSeries,o,a,c,h,g,v,d,p,y,0);return y>=0||f.nearestPointIndex>=0?m.isHit=l.hitTestHelpers.testIsHitForImpulse(o,a,this.parentSeries,g,v,y,d,p,r)||l.hitTestHelpers.testIsHitForPoint(o,a,g,v,f.nearestPointIndex,d,p,this.parentSeries.size,h):m.isHit=!1,m},ImpulseSeriesHitTestProvider.prototype.hitTestForDataPointSelectionModifier=function(e,t,r){return void 0===r&&(r=s.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS),this.hitTest(e,t,r)},ImpulseSeriesHitTestProvider.prototype.hitTestXSlice=function(e,t){var r,i=this.getTranslatedHitTestPoint(e,t);if(!i)return u.HitTestInfo.empty();var n=this.currentRenderPassData,s=n.xCoordinateCalculator,c=n.yCoordinateCalculator,d=n.isVerticalChart,p=d?i.y:i.x,h=d?i.x:i.y,f=this.parentSeries.dataSeries;if(!f)return u.HitTestInfo.empty();var y=f.getNativeXValues(),g=f.getNativeYValues(),v=l.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,s,f,p,f.dataDistributionCalculator.isSortedAscending),m=l.hitTestHelpers.createHitTestInfo(this.parentSeries,s,c,d,f,y,g,p,h,v,0),S=s.isCategoryCoordinateCalculator,b=(null!==(r=this.parentSeries.size)&&void 0!==r?r:0)*a.DpiHelper.PIXEL_RATIO,P=Math.abs(s.getDataValue(b)-s.getDataValue(0));if(v>=0){var C=S?0:y.get(0),x=S?y.size()-1:y.get(y.size()-1);m.isWithinDataBounds=(0,o.testIsInInterval)(m.hitTestPointValues.x,C,x,P/2),m.isHit=m.isWithinDataBounds}else m.isHit=!1;return m},ImpulseSeriesHitTestProvider}(s.BaseHitTestProvider);t.ImpulseSeriesHitTestProvider=c},21077:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.LineSeriesHitTestProvider=void 0;var o=r(93343),a=r(23089),s=r(76867),l=r(38701),u=function(e){function LineSeriesHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(LineSeriesHitTestProvider,e),LineSeriesHitTestProvider.prototype.hitTest=function(e,t,r){void 0===r&&(r=a.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS);var i=this.getTranslatedHitTestPoint(e,t);if(!i)return l.HitTestInfo.empty();var n=this.currentRenderPassData.isVerticalChart,o=n?i.y:i.x,s=n?i.x:i.y;return this.parentSeries.dataSeries.dataDistributionCalculator.isSortedAscending?this.hitTestSorted(o,s,r):this.hitTestUnsorted(o,s,r)},LineSeriesHitTestProvider.prototype.hitTestSorted=function(e,t,r){var i=this.currentRenderPassData,n=i.xCoordinateCalculator,o=i.yCoordinateCalculator,a=i.isVerticalChart,u=this.parentSeries.dataSeries;if(!u)return l.HitTestInfo.empty();var c=s.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,u,e,u.dataDistributionCalculator.isSortedAscending),d=u.getNativeXValues(),p=u.getNativeYValues(),h=s.hitTestHelpers.createHitTestInfo(this.parentSeries,n,o,a,u,d,p,e,t,c,r,void 0);if(c>=0){var f=d.size(),y=n.getCoordinate(n.isCategoryCoordinateCalculator?c:d.get(c));if(c===f-1&&(n.hasFlippedCoordinates?e>=y:e<=y)||0===c&&(n.hasFlippedCoordinates?e<=y:e>=y))h.isHit=s.hitTestHelpers.testIsHitForPoint(n,o,d,p,c,e,t,r,u);else{var g=s.hitTestHelpers.testIsHitForLine(n,o,d,p,c,e,t,r,u);h.isHit=g.isHit,h.point2dataSeriesIndex=g.secondPointIndex,h.point2xValue=d.get(g.secondPointIndex),h.point2xCoord=n.getCoordinate(h.point2xValue),h.point2yValue=p.get(g.secondPointIndex),h.point2yCoord=o.getCoordinate(h.point2yValue),h.point2metadata=u.getMetadataAt(g.secondPointIndex)}}else h.isHit=!1;return h},LineSeriesHitTestProvider.prototype.hitTestUnsorted=function(e,t,r){var i=this.currentRenderPassData,n=i.xCoordinateCalculator,a=i.yCoordinateCalculator,u=i.isVerticalChart,c=this.parentSeries.dataSeries;if(!c)return l.HitTestInfo.empty();var d=s.hitTestHelpers.getNearestXyPoint(this.webAssemblyContext,n,a,c,e,t,r),p=c.getNativeXValues(),h=c.getNativeYValues(),f=s.hitTestHelpers.createHitTestInfo(this.parentSeries,n,a,u,c,p,h,e,t,d.nearestPointIndex,r,d.distance);if(d.nearestPointIndex>=0){for(var y=p.size(),g=Number.MAX_VALUE,v=Number.MIN_VALUE,m=Number.MAX_VALUE,S=Number.MIN_VALUE,b=0;b<y;b++){var P=p.get(b),C=h.get(b);g=P<g?P:g,v=P>v?P:v,m=C<m?C:m,S=C>S?C:S}if(f.isWithinDataBounds=g<=f.hitTestPointValues.x&&f.hitTestPointValues.x<=v&&m<=f.hitTestPointValues.y&&f.hitTestPointValues.y<=S,(0,o.calcDistance)(e,t,f.xCoord,f.yCoord)<r)return f.isHit=!0,f;for(var x=Number.MAX_VALUE,A=-1,b=0;b<y-1;b++){var T=p.get(b),_=h.get(b),R=p.get(b+1),E=h.get(b+1),w=n.getCoordinate(T),D=a.getCoordinate(_),O=n.getCoordinate(R),I=a.getCoordinate(E),M=(0,o.calcDistance)(w,D,O,I),L=(0,o.calcDistance)(w,D,e,t),k=(0,o.calcDistance)(O,I,e,t);if(L<=M+r&&k<=M+r){var N=(0,o.calcDistanceFromLine)(e,t,w,D,O,I);N<=x&&(x=N,A=b)}}if(-1!==A)return f.dataSeriesIndex=A,f.xValue=p.get(A),f.xCoord=n.getCoordinate(f.xValue),f.yValue=h.get(A),f.yCoord=a.getCoordinate(f.yValue),f.point2dataSeriesIndex=A+1,f.point2xValue=p.get(A+1),f.point2xCoord=n.getCoordinate(f.point2xValue),f.point2yValue=h.get(A+1),f.point2yCoord=a.getCoordinate(f.point2yValue),f.isHit=x<=r,f.point2metadata=c.getMetadataAt(A+1),f}return f.isHit=!1,f},LineSeriesHitTestProvider}(a.BaseHitTestProvider);t.LineSeriesHitTestProvider=u},30223:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.MountainSeriesHitTestProvider=void 0;var o=r(23089),a=r(76867),s=r(38701),l=function(e){function MountainSeriesHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(MountainSeriesHitTestProvider,e),MountainSeriesHitTestProvider.prototype.hitTest=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return s.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,o=i.yCoordinateCalculator,l=i.isVerticalChart,u=l?r.y:r.x,c=l?r.x:r.y,d=this.parentSeries,p=d.dataSeries;if(!p)return s.HitTestInfo.empty();var h=a.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,p,u,p.dataDistributionCalculator.isSortedAscending),f=p.getNativeXValues(),y=p.getNativeYValues(),g=a.hitTestHelpers.createHitTestInfo(d,n,o,l,p,f,y,u,c,h,0);if(p.dataDistributionCalculator.isSortedAscending&&h>=0){var v=a.hitTestHelpers.testIsHitForMountain(this.parentSeries.isDigitalLine,n,o,p,d.zeroLineY,h,u,c);g.isHit=v.isHit,g.point2dataSeriesIndex=v.secondPointIndex,void 0!==v.secondPointIndex&&(g.point2xValue=f.get(v.secondPointIndex),g.point2xCoord=n.getCoordinate(g.point2xValue),g.point2yValue=y.get(v.secondPointIndex),g.point2yCoord=o.getCoordinate(g.point2yValue),g.point2metadata=p.getMetadataAt(v.secondPointIndex))}else g.isHit=!1;return g},MountainSeriesHitTestProvider}(o.BaseHitTestProvider);t.MountainSeriesHitTestProvider=l},41538:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformHeatmapHitTestProvider=void 0;var o=r(48484),a=r(23089),s=r(76867),l=r(38701),u=function(e){function NonUniformHeatmapHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(NonUniformHeatmapHitTestProvider,e),NonUniformHeatmapHitTestProvider.prototype.hitTest=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return l.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,a=i.yCoordinateCalculator,u=i.isVerticalChart,c=u?r.y:r.x,d=u?r.x:r.y,p=this.parentSeries.dataSeries;if(!p)return l.HitTestInfo.empty();var h=s.hitTestHelpers.getNearestNonUniformHeatmapPoint(n,a,p,c,d),f=h.xIndex,y=h.yIndex,g=h.zValue,v=new l.HitTestInfo(this.parentSeries);v.dataSeriesName=this.parentSeries.type,v.dataSeriesType=p.type,v.hitTestPoint=new o.Point(c,d);var m=n.getDataValue(c),S=a.getDataValue(d);return v.hitTestPointValues=new o.Point(m,S),v.xValue=m,v.yValue=S,v.heatmapXIndex=f,v.heatmapYIndex=y,v.zValue=g,v.heatmapValue=g,v.xCoord=c,v.yCoord=d,v.isHit=-1!==f&&-1!==y,v.isWithinDataBounds=v.isHit,-1!==f&&-1!==y&&(v.metadata=p.getMetadataAt(y,f)),v},NonUniformHeatmapHitTestProvider.prototype.hitTestDataPoint=function(e,t){throw Error("hitTestDataPoint method is not supported for NonUniformHeatmapHitTestProvider")},NonUniformHeatmapHitTestProvider.prototype.hitTestXSlice=function(e,t){return this.hitTest(e,t)},NonUniformHeatmapHitTestProvider}(a.BaseHitTestProvider);t.NonUniformHeatmapHitTestProvider=u},40199:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.OhlcSeriesHitTestProvider=void 0;var o=r(93343),a=r(23089),s=r(76867),l=r(38701),u=function(e){function OhlcSeriesHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(OhlcSeriesHitTestProvider,e),OhlcSeriesHitTestProvider.prototype.hitTest=function(e,t,r){void 0===r&&(r=0);var i=this.getTranslatedHitTestPoint(e,t);if(!i)return l.HitTestInfo.empty();var n=this.currentRenderPassData,o=n.xCoordinateCalculator,a=n.yCoordinateCalculator,u=n.isVerticalChart,c=u?i.y:i.x,d=u?i.x:i.y,p=this.parentSeries,h=this.parentSeries.dataSeries;if(!h)return l.HitTestInfo.empty();var f=s.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,o,h,c,h.dataDistributionCalculator.isSortedAscending),y=h.getNativeXValues(),g=h.getNativeYValues(),v=s.hitTestHelpers.createHitTestInfo(this.parentSeries,o,a,u,h,y,g,c,d,f,r);if(f>=0){var m=s.hitTestHelpers.testIsHitForOHLC(o,a,p,h,f,c,d,r);v.isHit=m.isHit,v.openValue=m.openValue,v.highValue=m.highValue,v.lowValue=m.lowValue,v.closeValue=m.closeValue}else v.isHit=!1;return v},OhlcSeriesHitTestProvider.prototype.hitTestForDataPointSelectionModifier=function(e,t,r){return void 0===r&&(r=a.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS),this.hitTest(e,t,r)},OhlcSeriesHitTestProvider.prototype.hitTestXSlice=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return l.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,a=i.yCoordinateCalculator,u=i.isVerticalChart,c=u?r.y:r.x,d=u?r.x:r.y,p=this.parentSeries.dataSeries;if(!p)return l.HitTestInfo.empty();var h=p.getNativeXValues(),f=p.getNativeYValues(),y=s.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,p,c,p.dataDistributionCalculator.isSortedAscending),g=s.hitTestHelpers.createHitTestInfo(this.parentSeries,n,a,u,p,h,f,c,d,y,0);if(y>=0){g.openValue=p.getNativeOpenValues().get(y),g.highValue=p.getNativeHighValues().get(y),g.lowValue=p.getNativeLowValues().get(y),g.closeValue=p.getNativeCloseValues().get(y);var v=n.isCategoryCoordinateCalculator,m=v?0:h.get(0),S=v?h.size()-1:h.get(h.size()-1),b=this.parentSeries.dataPointWidth;g.isWithinDataBounds=(0,o.testIsInInterval)(g.hitTestPointValues.x,m,S,b/2),g.isHit=g.isWithinDataBounds}else g.isHit=!1;return g},OhlcSeriesHitTestProvider}(a.BaseHitTestProvider);t.OhlcSeriesHitTestProvider=u},2828:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScatterSeriesHitTestProvider=void 0;var o=r(93343),a=r(23089),s=r(76867),l=r(38701),u=function(e){function ScatterSeriesHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(ScatterSeriesHitTestProvider,e),ScatterSeriesHitTestProvider.prototype.hitTest=function(e,t,r){void 0===r&&(r=0);var i=this.getTranslatedHitTestPoint(e,t);if(!i)return l.HitTestInfo.empty();var n=this.currentRenderPassData,a=n.xCoordinateCalculator,u=n.yCoordinateCalculator,c=n.isVerticalChart,d=c?i.y:i.x,p=c?i.x:i.y,h=this.parentSeries.dataSeries;if(!h)return l.HitTestInfo.empty();var f=s.hitTestHelpers.getNearestXyPoint(this.webAssemblyContext,a,u,h,d,p,r),y=h.getNativeXValues(),g=h.getNativeYValues(),v=s.hitTestHelpers.createHitTestInfo(this.parentSeries,a,u,c,h,y,g,d,p,f.nearestPointIndex,r);if(f.nearestPointIndex>=0){var m=this.parentSeries.pointMarker,S=m.width,b=m.height,P=a.isCategoryCoordinateCalculator,C=P?0:y.get(0),x=a.getCoordinate(C),A=P?y.size()-1:y.get(y.size()-1),T=a.getCoordinate(A);v.isWithinDataBounds=(0,o.testIsInInterval)(d,x,T,S/2),v.isHit=(0,o.testIsInBounds)(d,p,v.xCoord-S/2-r,v.yCoord+b/2+r,v.xCoord+S/2+r,v.yCoord-b/2-r)}else v.isHit=!1;return v},ScatterSeriesHitTestProvider.prototype.hitTestXSlice=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return l.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,a=i.yCoordinateCalculator,u=i.isVerticalChart,c=u?r.y:r.x,d=u?r.x:r.y,p=this.parentSeries.dataSeries;if(!p)return l.HitTestInfo.empty();var h=p.getNativeXValues(),f=p.getNativeYValues(),y=s.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,p,c,p.dataDistributionCalculator.isSortedAscending),g=s.hitTestHelpers.createHitTestInfo(this.parentSeries,n,a,u,p,h,f,c,d,y,0);if(y>=0){var v=this.parentSeries.pointMarker.width,m=n.isCategoryCoordinateCalculator,S=void 0,b=void 0;if(p.dataDistributionCalculator.isSortedAscending){var P=m?0:h.get(0);S=n.getCoordinate(P);var C=m?h.size()-1:h.get(h.size()-1);b=n.getCoordinate(C)}else{var x=p.getXRange();S=n.getCoordinate(x.min),b=n.getCoordinate(x.max)}g.isWithinDataBounds=(0,o.testIsInInterval)(c,S,b,v/2),g.isHit=g.isWithinDataBounds}else g.isHit=!1;return g},ScatterSeriesHitTestProvider}(a.BaseHitTestProvider);t.ScatterSeriesHitTestProvider=u},57182:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.StackedColumnSeriesHitTestProvider=void 0;var o=r(93343),a=r(23089),s=r(76867),l=r(38701),u=function(e){function StackedColumnSeriesHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(StackedColumnSeriesHitTestProvider,e),StackedColumnSeriesHitTestProvider.prototype.hitTest=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return l.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,a=i.yCoordinateCalculator,u=i.isVerticalChart,c=u?r.y:r.x,d=u?r.x:r.y,p=this.parentSeries.dataSeries;if(!p)return l.HitTestInfo.empty();var h=s.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,p,c,p.dataDistributionCalculator.isSortedAscending),f=p.getNativeXValues(),y=p.getNativeYValues(),g=this.parentSeries,v=g.accumulatedValues,m=g.getGroupIndex,S=g.getGroupsCount,b=g.getColumnWidth,P=s.hitTestHelpers.createHitTestInfo(this.parentSeries,n,a,u,p,f,v,c,d,h,0);if(h>=0){var C=m(),x=S(),A=b(n),T=A/2,_=(.5+C-x/2)*A;P.xValue=n.getDataValue(P.xCoord+_);var R=y.get(h),E=v.get(h),w=a.getCoordinate(E),D=a.getCoordinate(E-R),O=P.xCoord+_;P.isHit=(0,o.testIsInBounds)(c,d,O-T,D,O+T,w);var I=n.isCategoryCoordinateCalculator,M=I?0:f.get(0),L=n.getCoordinate(M),k=I?f.size()-1:f.get(f.size()-1),N=n.getCoordinate(k);P.isWithinDataBounds=(0,o.testIsInInterval)(P.hitTestPoint.x,L,N,A*x/2),P.y1Value=y.get(h)}else P.isHit=!1;return P},StackedColumnSeriesHitTestProvider.prototype.hitTestDataPoint=function(e,t,r){throw void 0===r&&(r=a.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS),Error("hitTestDataPoint method is not supported for StackedColumnSeriesHitTestProvider")},StackedColumnSeriesHitTestProvider.prototype.hitTestForDataPointSelectionModifier=function(e,t,r){return void 0===r&&(r=a.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS),this.hitTest(e,t)},StackedColumnSeriesHitTestProvider.prototype.hitTestXSlice=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return l.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,a=i.yCoordinateCalculator,u=i.isVerticalChart,c=u?r.y:r.x,d=u?r.x:r.y,p=this.parentSeries.dataSeries;if(!p)return l.HitTestInfo.empty();var h=s.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,p,c,p.dataDistributionCalculator.isSortedAscending),f=p.getNativeXValues(),y=p.getNativeYValues(),g=this.parentSeries,v=g.accumulatedValues,m=g.getGroupIndex,S=g.getGroupsCount,b=g.getColumnWidth,P=s.hitTestHelpers.createHitTestInfo(this.parentSeries,n,a,u,p,f,v,c,d,h,0);if(h>=0){var C=m(),x=S(),A=b(n),T=A/2,_=n.isCategoryCoordinateCalculator,R=_?0:f.get(0),E=n.getCoordinate(R),w=_?f.size()-1:f.get(f.size()-1),D=n.getCoordinate(w);P.isWithinDataBounds=(0,o.testIsInInterval)(P.hitTestPoint.x,E,D,A*x/2);var O=(.5+C-x/2)*A;P.xValue=n.getDataValue(P.xCoord+O);var I=P.xCoord+O;P.isHit=(0,o.testIsInInterval)(c,I-T,I+T),P.y1Value=y.get(h)}else P.isHit=!1;return P},StackedColumnSeriesHitTestProvider}(a.BaseHitTestProvider);t.StackedColumnSeriesHitTestProvider=u},72240:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.StackedMountainSeriesHitTestProvider=void 0;var o=r(23089),a=r(76867),s=r(38701),l=function(e){function StackedMountainSeriesHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(StackedMountainSeriesHitTestProvider,e),StackedMountainSeriesHitTestProvider.prototype.hitTest=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return s.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,o=i.yCoordinateCalculator,l=i.isVerticalChart,u=l?r.y:r.x,c=l?r.x:r.y,d=this.parentSeries.dataSeries;if(!d)return s.HitTestInfo.empty();var p=a.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,d,u,d.dataDistributionCalculator.isSortedAscending),h=d.getNativeXValues(),f=this.parentSeries.accumulatedValues,y=a.hitTestHelpers.createHitTestInfo(this.parentSeries,n,o,l,d,h,f,u,c,p,0);if(p>=0){var g=a.hitTestHelpers.testIsHitForBand(this.parentSeries.isDigitalLine,n,o,h,function(e){return f.get(e)},function(e){return f.get(e)-d.getNativeYValues().get(e)},p,u,c,d);y.isHit=g.isHit,y.point2dataSeriesIndex=g.secondPointIndex}else y.isHit=!1;return y},StackedMountainSeriesHitTestProvider.prototype.hitTestXSlice=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return s.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,o=i.yCoordinateCalculator,l=i.isVerticalChart,u=l?r.y:r.x,c=l?r.x:r.y,d=this.parentSeries.dataSeries;if(!d)return s.HitTestInfo.empty();var p=a.hitTestHelpers.getNearestXPoint(this.webAssemblyContext,n,d,u,d.dataDistributionCalculator.isSortedAscending),h=d.getNativeXValues(),f=d.getNativeYValues(),y=this.parentSeries.accumulatedValues,g=a.hitTestHelpers.createHitTestInfo(this.parentSeries,n,o,l,d,h,y,u,c,p,0);return p>=0?(g.y1Value=f.get(p),g.isHit=g.isWithinDataBounds):g.isHit=!1,g},StackedMountainSeriesHitTestProvider.prototype.hitTestDataPoint=function(e,t,r){throw void 0===r&&(r=o.BaseHitTestProvider.DEFAULT_HIT_TEST_RADIUS),Error("hitTestDataPoint method is not supported for StackedMountainSeriesHitTestProvider")},StackedMountainSeriesHitTestProvider}(o.BaseHitTestProvider);t.StackedMountainSeriesHitTestProvider=l},88083:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.TextSeriesHitTestProvider=void 0;var o=r(93343),a=r(23089),s=r(76867),l=r(38701),u=function(e){function TextSeriesHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(TextSeriesHitTestProvider,e),TextSeriesHitTestProvider.prototype.hitTest=function(e,t,r){var i=this.getTranslatedHitTestPoint(e,t);if(!i)return l.HitTestInfo.empty();for(var n=this.currentRenderPassData,a=n.xCoordinateCalculator,u=n.yCoordinateCalculator,c=n.isVerticalChart,d=c?i.y:i.x,p=c?i.x:i.y,h=this.parentSeries.dataSeries,f=s.hitTestHelpers.getNearestXyPoint(this.webAssemblyContext,a,u,h,d,p,r),y=h.getNativeXValues(),g=h.getNativeYValues(),v=s.hitTestHelpers.createHitTestInfo(this.parentSeries,a,u,c,h,y,g,d,p,f.nearestPointIndex,r,f.distance),m=this.parentSeries.dataLabelProvider.dataLabels,S=!1,b=0;b<m.length;b++){var P=m[b].rect,C=P.left,x=P.top,A=P.right,T=P.bottom;if((0,o.testIsInBounds)(i.x,i.y,C,x,A,T)){S=!0;break}}return v.isHit=S,v},TextSeriesHitTestProvider}(a.BaseHitTestProvider);t.TextSeriesHitTestProvider=u},23331:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.UniformHeatmapHitTestProvider=void 0;var o=r(48484),a=r(23089),s=r(76867),l=r(38701),u=function(e){function UniformHeatmapHitTestProvider(){return null!==e&&e.apply(this,arguments)||this}return n(UniformHeatmapHitTestProvider,e),UniformHeatmapHitTestProvider.prototype.hitTest=function(e,t){var r=this.getTranslatedHitTestPoint(e,t);if(!r)return l.HitTestInfo.empty();var i=this.currentRenderPassData,n=i.xCoordinateCalculator,a=i.yCoordinateCalculator,u=i.isVerticalChart,c=u?r.y:r.x,d=u?r.x:r.y,p=this.parentSeries.dataSeries;if(!p)return l.HitTestInfo.empty();var h=s.hitTestHelpers.getNearestUniformHeatmapPoint(n,a,p,c,d),f=h.xIndex,y=h.yIndex,g=h.zValue,v=new l.HitTestInfo(this.parentSeries);v.dataSeriesName=this.parentSeries.type,v.dataSeriesType=p.type,v.hitTestPoint=new o.Point(c,d);var m=n.getDataValue(c),S=a.getDataValue(d);return v.hitTestPointValues=new o.Point(m,S),v.xValue=m,v.yValue=S,v.heatmapXIndex=f,v.heatmapYIndex=y,v.zValue=g,v.heatmapValue=g,v.xCoord=c,v.yCoord=d,v.isHit=-1!==f&&-1!==y,v.isWithinDataBounds=v.isHit,-1!==f&&-1!==y&&(v.metadata=p.getMetadataAt(y,f)),v},UniformHeatmapHitTestProvider.prototype.hitTestDataPoint=function(e,t){throw Error("hitTestDataPoint method is not supported for UniformHeatmapHitTestProvider")},UniformHeatmapHitTestProvider.prototype.hitTestXSlice=function(e,t){return this.hitTest(e,t)},UniformHeatmapHitTestProvider}(a.BaseHitTestProvider);t.UniformHeatmapHitTestProvider=u},76867:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hitTestHelpers=void 0;var i=r(94694),n=r(48484),o=r(15958),a=r(93343),s=r(38701),interpolateLinear=function(e,t,r,i,n){return r+(n-r)*(e-t)/(i-t)},getNearestXyPoint=function(e,t,r,i,n,o,a){var s=t.isCategoryCoordinateCalculator?i.getNativeIndexes():i.getNativeXValues();return getNearestPoint(e,t,r,s,i.getNativeYValues(),i.dataDistributionCalculator.isSortedAscending,n,o,a)},getNearestPoint=function(e,t,r,n,o,a,s,l,u){var c;try{return{nearestPointIndex:(c=e.SCRTHitTestHelper.GetNearestXyPoint(t.nativeCalculator,r.nativeCalculator,n,o,a,s,l,null!=u?u:1)).minD,distance:c.maxD}}finally{(0,i.deleteSafe)(c)}};t.hitTestHelpers={createHitTestInfo:function(e,t,r,i,o,l,u,c,d,p,h,f){var y=t.isCategoryCoordinateCalculator,g=new s.HitTestInfo(e);g.dataSeriesName=o.dataSeriesName,g.dataSeriesType=o.type,g.hitTestPoint=new n.Point(c,d);var v=t.getDataValue(c),m=r.getDataValue(d);if(g.hitTestPointValues=new n.Point(v,m),g.dataSeriesIndex=p,g.hitTestRadius=h,g.isCategoryAxis=y,g.distance=f,p>=0){var S=y?p:o.getNativeValue(l,p),b=o.getNativeValue(u,p);g.xCoord=t.getCoordinate(S),g.yCoord=r.getCoordinate(b),g.xValue=S,y&&(g.xCategoryValue=l.get(p)),g.yValue=b;var P=y?0:o.getNativeValue(l,0),C=y?l.size()-1:o.getNativeValue(l,l.size()-1);if(!o.dataDistributionCalculator.isSortedAscending)for(var x=0;x<o.count();x++){var A=o.getNativeValue(l,x);A<P&&(P=A),A>C&&(C=A)}g.isWithinDataBounds=(0,a.testIsInInterval)(v,P,C),g.metadata=o.getMetadataAt(p)}else g.isWithinDataBounds=!1;return g.isHit=void 0,g},getNearestPoint:getNearestPoint,getNearestXPoint:function(e,t,r,i,n){return getNearestXyPoint(e,t,t,r,i,0,0).nearestPointIndex},getNearestXyPoint:getNearestXyPoint,getNearestXyyPoint:function(e,t,r,n,o,a,s){var l,u,c,d=t.isCategoryCoordinateCalculator?n.getNativeIndexes():n.getNativeXValues(),p=n.getNativeYValues();try{u=(l=e.SCRTHitTestHelper.GetNearestXyPoint(t.nativeCalculator,r.nativeCalculator,d,p,n.dataDistributionCalculator.isSortedAscending,o,a,null!=s?s:1)).minD,c=l.maxD}finally{(0,i.deleteSafe)(l)}try{if(l=e.SCRTHitTestHelper.GetNearestXyPoint(t.nativeCalculator,r.nativeCalculator,d,n.getNativeY1Values(),n.dataDistributionCalculator.isSortedAscending,o,a,null!=s?s:1),c<l.maxD)return{nearestPointIndex:u,distance:c};return{nearestPointIndex:l.minD,distance:l.maxD}}finally{(0,i.deleteSafe)(l)}},getNearestUniformHeatmapPoint:function(e,t,r,i,n){var o=e.getDataValue(i),a=t.getDataValue(n),s=Math.floor((o-r.xStart)/r.xStep),l=Math.floor((a-r.yStart)/r.yStep);if(s<0||s>=r.arrayWidth||l<0||l>=r.arrayHeight)return{xIndex:-1,yIndex:-1,zValue:void 0};var u=r.getZValue(l,s);return{xIndex:s,yIndex:l,zValue:u}},getNearestNonUniformHeatmapPoint:function(e,t,r,i,n){var o=e.getDataValue(i),a=t.getDataValue(n),s=r.xCellOffsets,l=r.yCellOffsets,u=-1;if(o>=s[0]&&o<=s[s.length-1])for(var c=0;c<s.length;c++){var d=o>=s[c]&&o<=s[c+1];if(d){u=c;break}}var p=-1;if(a>=l[0]&&a<=l[l.length-1])for(var c=0;c<l.length-1;c++){var d=a>=l[c]&&a<=l[c+1];if(d){p=c;break}}if(u<0||u>=r.arrayWidth||p<0||p>=r.arrayHeight)return{xIndex:-1,yIndex:-1,zValue:void 0};var h=r.getZValue(p,u);return{xIndex:u,yIndex:p,zValue:h}},testIsHitForPoint:function(e,t,r,i,n,o,s,l,u){var c=e.isCategoryCoordinateCalculator?n:u.getNativeValue(r,n),d=u.getNativeValue(i,n),p=e.getCoordinate(c),h=t.getCoordinate(d);return(0,a.calcDistance)(o,s,p,h)<l},testIsHitForLine:function(e,t,r,i,n,o,s,l,u){var c,d,p,h,f,y=e.isCategoryCoordinateCalculator,g=y?n:u.getNativeValue(r,n),v=u.getNativeValue(i,n);g<=e.getDataValue(o)?(d=g,h=v,p=y?n+1:u.getNativeValue(r,n+1),f=u.getNativeValue(i,n+1),c=n+1):(d=y?n-1:u.getNativeValue(r,n-1),h=u.getNativeValue(i,n-1),c=n-1,p=g,f=v);var m=e.getCoordinate(d),S=e.getCoordinate(p),b=t.getCoordinate(h),P=t.getCoordinate(f),C=(0,a.calcDistance)(m,b,S,P),x=(0,a.calcDistance)(m,b,o,s),A=(0,a.calcDistance)(S,P,o,s);return{isHit:!(x>C+l)&&!(A>C+l)&&(0,a.calcDistanceFromLine)(o,s,m,b,S,P)<l,secondPointIndex:c}},testIsHitForBand:function(e,t,r,i,n,o,a,s,l,u){var c,d=t.getDataValue(s),p=t.isCategoryCoordinateCalculator,h=p?a:u.getNativeValue(i,a),f=h<=d,y=f?a+1:a-1;if(y<0||y>=i.size())return{isHit:!1,secondPointIndex:void 0};var g=p?y:u.getNativeValue(i,y),v=f?h:g,m=n(f?a:y),S=o(f?a:y),b=f?g:h,P=n(f?y:a),C=o(f?y:a),x=t.getCoordinate(v),A=t.getCoordinate(b),T=r.getCoordinate(m),_=r.getCoordinate(P),R=r.getCoordinate(S),E=r.getCoordinate(C);if(e)c=T<R?l>=T&&l<=R:l>=R&&l<=T;else{var w=interpolateLinear(s,x,T,A,_),D=interpolateLinear(s,x,R,A,E);c=w<D?l>=w&&l<=D:l>=D&&l<=w}return{isHit:c,secondPointIndex:y}},testIsHitForColumn:function(e,t,r,i,n,o,s,l){var u=r.getDataPointWidth,c=r.dataPointWidth,d=r.zeroLineY,p=r.dataSeries,h=e.isCategoryCoordinateCalculator?o:p.getNativeValue(i,o),f=p.getNativeValue(n,o),y=e.getCoordinate(h),g=t.getCoordinate(f),v=u(e,c),m=t.getCoordinate(d),S=v/2,b=m>g?m:g,P=m>g?g:m;return(0,a.testIsInBounds)(s,l,y-S,b,y+S,P)},testIsHitForOHLC:function(e,t,r,i,n,o,s,l){var u=r.getDataPointWidth,c=r.dataPointWidth,d=e.isCategoryCoordinateCalculator?n:i.getNativeValue(i.getNativeXValues(),n),p=e.getCoordinate(d),h=i.getNativeValue(i.getNativeOpenValues(),n),f=t.getCoordinate(h),y=i.getNativeValue(i.getNativeHighValues(),n),g=t.getCoordinate(y),v=i.getNativeValue(i.getNativeLowValues(),n),m=t.getCoordinate(v),S=i.getNativeValue(i.getNativeCloseValues(),n),b=t.getCoordinate(S),P=u(e,c)/2,C=(0,a.testIsInBounds)(o,s,p-P,b>f?b:f,p+P,b>f?f:b),x=(0,a.calcDistanceFromLineSegment)(o,s,p,g,p,m);return{isHit:C||x<l,openValue:h,highValue:y,lowValue:v,closeValue:S}},testIsHitForMountain:function(e,t,r,i,n,o,a,s){var l,u=i.getNativeXValues(),c=t.isCategoryCoordinateCalculator,d=c?o:i.getNativeValue(u,o),p=i.getNativeYValues(),h=d<=t.getDataValue(a),f=h?o+1:o-1;if(f<0||f>=i.count())return{isHit:!1,secondPointIndex:void 0};var y=c?f:u.get(f),g=h?i.getNativeValue(p,o):i.getNativeValue(p,f),v=h?i.getNativeValue(p,f):i.getNativeValue(p,o),m=t.getCoordinate(h?d:y),S=t.getCoordinate(h?y:d),b=r.getCoordinate(g),P=r.getCoordinate(v),C=r.getCoordinate(n);if(e)l=b<C?s>=b&&s<=C:s>=C&&s<=b;else{var x=interpolateLinear(a,m,b,S,P);l=x<C?s>=x&&s<=C:s>=C&&s<=x}return{isHit:l,secondPointIndex:f}},testIsHitForErrorBars:function(e,t,r,i,n,s,l,u){var c=r.getDataPointWidth,d=r.dataPointWidth,p=r.errorDirection,h=r.dataSeries,f=e.isCategoryCoordinateCalculator,y=p===o.EErrorDirection.Vertical,g=f?s:h.getNativeValue(i,s),v=h.getNativeValue(n,s),m=h.getNativeValue(h.getNativeHighValues(),s),S=h.getNativeValue(h.getNativeLowValues(),s);isNaN(m)&&(m=v),isNaN(S)&&(S=v);var b=e.getCoordinate(g),P=t.getCoordinate(v),C=y?t.getCoordinate(m):e.getCoordinate(m),x=y?t.getCoordinate(S):e.getCoordinate(S),A=c(y?e:t,d)/2,T=C>x?C:x,_=C>x?x:C;return{isHit:y?(0,a.testIsInBounds)(l,u,b-A,T,b+A,_):(0,a.testIsInBounds)(l,u,_,P+A,T,P-A),highValue:m,lowValue:S}},testIsHitForImpulse:function(e,t,r,i,n,o,s,l,u){var c=r.zeroLineY,d=r.dataSeries,p=e.isCategoryCoordinateCalculator?o:d.getNativeValue(i,o),h=d.getNativeValue(n,o),f=e.getCoordinate(p),y=t.getCoordinate(h),g=t.getCoordinate(c),v=g>y?g:y,m=g>y?y:g;return(0,a.testIsInBounds)(s,l,f,v,f,m,u)}}},55325:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoveredChangedArgs=void 0,t.HoveredChangedArgs=function(e,t,r,i){this.source=e,this.hoveredSeries=t,this.allSeries=r,this.hitTestInfo=i}},60533:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.NonUniformHeatmapRenderableSeries=void 0;var o=r(2003),a=r(55687),s=r(11474),l=r(9311),u=r(7755),c=r(41538),d=function(e){function NonUniformHeatmapRenderableSeries(t,r){var i=e.call(this,t,r)||this;return i.type=a.ESeriesType.NonUniformHeatmapSeries,i.drawingProviders=[],o.IS_TEST_ENV||i.drawingProviders.push(new u.NonUniformHeatmapDrawingProvider(t,i)),i.dataLabelProviderProperty||(i.dataLabelProviderProperty=new l.NonUniformHeatMapDataLabelProvider(null==r?void 0:r.dataLabels),i.dataLabelProviderProperty.onAttach(i.webAssemblyContext,i)),i}return n(NonUniformHeatmapRenderableSeries,e),NonUniformHeatmapRenderableSeries.prototype.newHitTestProvider=function(){return new c.NonUniformHeatmapHitTestProvider(this,this.webAssemblyContext)},NonUniformHeatmapRenderableSeries}(s.BaseHeatmapRenderableSeries);t.NonUniformHeatmapRenderableSeries=d},46356:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRenderDataTransform=void 0;var o=r(15492),a=r(94694),s=r(92530),l=r(51134),u=r(60100),c=function(e){function BaseRenderDataTransform(t,r,i){var n=e.call(this)||this;return n.requiresTransform=!0,n.parentSeries=t,n.wasmContext=r,n.parentSeries.dataSeries,n.pointSeries=n.createPointSeries(),n.drawingProviders=null!=i?i:[],n}return n(BaseRenderDataTransform,e),BaseRenderDataTransform.prototype.runTransform=function(e){if(this.requiresTransform){s.Guard.notNull(e,"renderPassData"),s.Guard.notNull(e.pointSeries,"renderPassData.pointSeries");var t=this.runTransformInternal(e);return t===this.pointSeries&&(this.requiresTransform=!1),this.makeRenderPassData(e,t)}return this.makeRenderPassData(e,this.pointSeries)},BaseRenderDataTransform.prototype.onDataChange=function(e){this.requiresTransform=!0},BaseRenderDataTransform.prototype.delete=function(){this.pointSeries=(0,a.deleteSafe)(this.pointSeries),this.wasmContext=void 0},BaseRenderDataTransform.prototype.makeRenderPassData=function(e,t){var r=new l.NumberRange(0,t.xValues.size()-1);return t.xRange=e.pointSeries.xRange,t.fifoStartIndex=e.pointSeries.fifoStartIndex,new u.RenderPassData(r,e.getxCoordinateCalculator,e.getyCoordinateCalculator,e.isVerticalChart,t,e.resamplingHash)},BaseRenderDataTransform}(o.DeletableEntity);t.BaseRenderDataTransform=c},88872:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SplineRenderDataTransform=void 0;var o=r(51134),a=r(60376),s=function(e){function SplineRenderDataTransform(){var t=null!==e&&e.apply(this,arguments)||this;return t.interpolationPoints=10,t.warnOnSplineFailure=!0,t}return n(SplineRenderDataTransform,e),SplineRenderDataTransform.prototype.createPointSeries=function(){return new a.XyPointSeriesResampled(this.wasmContext,new o.NumberRange(0,0))},SplineRenderDataTransform.prototype.runTransformInternal=function(e){var t=this.parentSeries.xAxis.isCategoryAxis?e.pointSeries.indexes:e.pointSeries.xValues,r=e.pointSeries.yValues,i=t.size(),n=this.parentSeries.dataSeries.dataDistributionCalculator.containsNaN;return(this.wasmContext.SCRTSplineHelperCubicSpline(t,r,this.pointSeries.xValues,this.pointSeries.yValues,i,this.interpolationPoints,this.parentSeries.dataSeries.dataDistributionCalculator.containsNaN),!n&&isNaN(this.pointSeries.yValues.get(0)))?(this.warnOnSplineFailure&&console.warn("Could not calculate spline values.  X data may contain duplicates.  Falling back to original values.\n    To disable this warning set warnOnSplineFailure = false."),e.pointSeries):this.pointSeries},SplineRenderDataTransform}(r(46356).BaseRenderDataTransform);t.SplineRenderDataTransform=s},11853:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyySplineRenderDataTransform=void 0;var o=r(51134),a=r(92060),s=function(e){function XyySplineRenderDataTransform(){var t=null!==e&&e.apply(this,arguments)||this;return t.interpolationPoints=10,t.warnOnSplineFailure=!0,t}return n(XyySplineRenderDataTransform,e),XyySplineRenderDataTransform.prototype.createPointSeries=function(){return new a.XyyPointSeriesResampled(this.wasmContext,new o.NumberRange(0,0))},XyySplineRenderDataTransform.prototype.runTransformInternal=function(e){var t=this.parentSeries.xAxis.isCategoryAxis?e.pointSeries.indexes:e.pointSeries.xValues,r=e.pointSeries.yValues,i=e.pointSeries.y1Values,n=t.size(),o=this.parentSeries.dataSeries.dataDistributionCalculator.containsNaN;return(this.wasmContext.SCRTSplineHelperCubicSpline(t,r,this.pointSeries.xValues,this.pointSeries.yValues,n,this.interpolationPoints,o),!o&&isNaN(this.pointSeries.yValues.get(0)))?(this.warnOnSplineFailure&&console.warn("Could not calculate spline values.  X data may contain duplicates.  Falling back to original values.\n    To disable this warning set warnOnSplineFailure = false."),e.pointSeries):(this.wasmContext.SCRTSplineHelperCubicSpline(t,i,this.pointSeries.xValues,this.pointSeries.y1Values,n,this.interpolationPoints,o),this.pointSeries)},XyySplineRenderDataTransform}(r(46356).BaseRenderDataTransform);t.XyySplineRenderDataTransform=s},67046:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RolloverModifierRenderableSeriesProps=void 0;var i=r(94694),n=r(61239),o=r(72830),a=function(){function RolloverModifierRenderableSeriesProps(e,t){void 0===t&&(t=!1),this.tooltipLegendOffsetX=20,this.tooltipLegendOffsetY=20,this.showsRolloverProperty=!0,this.tooltipTextColorProperty=n.SciChartSurfaceBase.DEFAULT_THEME.textAnnotationForeground,this.renderableSeries=e,this.isY1=t}return RolloverModifierRenderableSeriesProps.copy=function(e,t){t.markerColorProperty=e.markerColor,t.showsRolloverProperty=e.showRollover,t.tooltipColorProperty=e.tooltipColor,t.tooltipDataTemplateProperty=e.tooltipDataTemplate,t.tooltipLabelX=e.tooltipLabelX,t.tooltipLabelY=e.tooltipLabelY,t.tooltipLegendOffsetX=e.tooltipLegendOffsetX,t.tooltipLegendOffsetY=e.tooltipLegendOffsetY,t.tooltipTemplate=e.tooltipTemplate,t.tooltipTextColorProperty=e.tooltipTextColorProperty,t.tooltipTitleProperty=e.tooltipTitle,t.shadowColorProperty=e.shadowColorProperty,t.invalidateParentCallback=e.invalidateParentCallback},RolloverModifierRenderableSeriesProps.prototype.setInvalidateParentCallback=function(e){this.invalidateParentCallback=e},Object.defineProperty(RolloverModifierRenderableSeriesProps.prototype,"showRollover",{get:function(){return this.showsRolloverProperty},set:function(e){this.showsRolloverProperty=e,this.notifyPropertyChanged(o.PROPERTY.SHOWS_ROLLOVER)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifierRenderableSeriesProps.prototype,"tooltipColor",{get:function(){return this.tooltipColorProperty?this.tooltipColorProperty:this.getRenderableSeriesStroke()?this.getRenderableSeriesStroke():n.SciChartSurfaceBase.DEFAULT_THEME.textAnnotationBackground},set:function(e){this.tooltipColorProperty=e,this.notifyPropertyChanged(o.PROPERTY.TOOLTIP_COLOR)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifierRenderableSeriesProps.prototype,"tooltipTextColor",{get:function(){return this.tooltipTextColorProperty},set:function(e){this.tooltipTextColorProperty=e,this.notifyPropertyChanged(o.PROPERTY.TOOLTIP_TEXT_COLOR)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifierRenderableSeriesProps.prototype,"tooltipTitle",{get:function(){return this.tooltipTitleProperty},set:function(e){this.tooltipTitleProperty=e,this.notifyPropertyChanged(o.PROPERTY.TOOLTIP_TITLE)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifierRenderableSeriesProps.prototype,"markerColor",{get:function(){return this.markerColorProperty?this.markerColorProperty:this.getRenderableSeriesStroke()?this.getRenderableSeriesStroke():n.SciChartSurfaceBase.DEFAULT_THEME.textAnnotationBackground},set:function(e){this.markerColorProperty=e,this.notifyPropertyChanged(o.PROPERTY.MARKER_COLOR)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifierRenderableSeriesProps.prototype,"shadowColor",{get:function(){return this.shadowColorProperty},set:function(e){this.shadowColorProperty=e,this.notifyPropertyChanged(o.PROPERTY.TOOLTIP_SHADOW_COLOR)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifierRenderableSeriesProps.prototype,"tooltipDataTemplate",{get:function(){return this.tooltipDataTemplateProperty},set:function(e){this.tooltipDataTemplateProperty=e,this.notifyPropertyChanged(o.PROPERTY.TOOLTIP_DATA_TEMPLATE)},enumerable:!1,configurable:!0}),Object.defineProperty(RolloverModifierRenderableSeriesProps.prototype,"tooltipLegendTemplate",{get:function(){return this.tooltipLegendTemplateProperty},set:function(e){console.warn("tooltipLegendTemplate property on the RolloverModifierRenderableSeriesProps will be removed in version 2.0, please set tooltipLegendTemplate on the RolloverModifier instead"),this.tooltipLegendTemplateProperty=e},enumerable:!1,configurable:!0}),RolloverModifierRenderableSeriesProps.prototype.delete=function(){var e,t;this.rolloverModifier=void 0,(null===(e=this.marker)||void 0===e?void 0:e.isDeleted)||(this.marker=(0,i.deleteSafe)(this.marker)),this.marker=void 0,(null===(t=this.tooltip)||void 0===t?void 0:t.isDeleted)||(this.tooltip=(0,i.deleteSafe)(this.tooltip)),this.tooltip=void 0},RolloverModifierRenderableSeriesProps.prototype.notifyPropertyChanged=function(e){this.invalidateParentCallback&&this.invalidateParentCallback()},RolloverModifierRenderableSeriesProps.prototype.getRenderableSeriesStroke=function(){return this.isY1?this.renderableSeries.strokeY1Property:this.renderableSeries.strokeProperty},RolloverModifierRenderableSeriesProps}();t.RolloverModifierRenderableSeriesProps=a},72830:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).MARKER_COLOR="MARKER_COLOR",r.SHOWS_ROLLOVER="SHOWS_ROLLOVER",r.TOOLTIP_COLOR="TOOLTIP_COLOR",r.TOOLTIP_DATA_TEMPLATE="TOOLTIP_DATA_TEMPLATE",r.TOOLTIP_TEXT_COLOR="TOOLTIP_TEXT_COLOR",r.TOOLTIP_TITLE="TOOLTIP_TITLE",r.TOOLTIP_SHADOW_COLOR="TOOLTIP_SHADOW_COLOR"},98709:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionChangedArgs=void 0,t.SelectionChangedArgs=function(e,t,r,i){this.source=e,this.selectedSeries=t,this.allSeries=r,this.hitTestInfo=i}},11454:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeriesHoveredArgs=void 0,t.SeriesHoveredArgs=function(e,t){this.sourceSeries=e,this.hovered=t}},15426:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeriesSelectedArgs=void 0,t.SeriesSelectedArgs=function(e,t){this.sourceSeries=e,this.isSelected=t}},37861:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeriesVisibleChangedArgs=void 0,t.SeriesVisibleChangedArgs=function(e,t){this.sourceSeries=e,this.isVisible=t}},85611:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ShaderEffect=void 0;var o=r(2003),a=r(94694),s=r(35855),l=r(92530),u=r(48484),c=r(91383),d=r(48053),p=r(86710),h=r(3488),f=r(94485),y=function(e){function ShaderEffect(t,r,i){var n=e.call(this)||this;return l.Guard.notNull(t,"webAssemblyContext"),o.IS_TEST_ENV||l.Guard.notNull(r,"seriesEffect"),n.webAssemblyContext=t,n.propertyChanged=new s.EventHandler,n.nativeEffect=r,n.intensity=(null==i?void 0:i.intensity)||1,n.range=(null==i?void 0:i.range)||0,n.offset=(null==i?void 0:i.offset)||new u.Point(0,0),n.color=(null==i?void 0:i.color)||"#444444",n}return n(ShaderEffect,e),ShaderEffect.prototype.delete=function(){this.nativeEffect=(0,a.deleteSafe)(this.nativeEffect),this.webAssemblyContext=void 0},ShaderEffect.prototype.getNativeEffect=function(){return this.nativeEffect},Object.defineProperty(ShaderEffect.prototype,"intensity",{get:function(){return this.intensityProperty},set:function(e){this.intensityProperty=e,this.nativeEffect.SetIntensity(e),this.notifyPropertyChanged(h.PROPERTY.INTENSITY)},enumerable:!1,configurable:!0}),Object.defineProperty(ShaderEffect.prototype,"offset",{get:function(){return this.offsetProperty},set:function(e){l.Guard.notNull(e,"offset"),this.offsetProperty=e;var t=new this.webAssemblyContext.TSRVector2(e.x,e.y);this.nativeEffect.SetOffset(t),t.delete(),this.notifyPropertyChanged(h.PROPERTY.OFFSET)},enumerable:!1,configurable:!0}),Object.defineProperty(ShaderEffect.prototype,"color",{get:function(){return this.colorProperty},set:function(e){this.colorProperty=e;var t=(0,d.parseColorToTArgb)(e),r=(0,f.getVector4)(this.webAssemblyContext,0,0,0,0);(0,p.updateTsrVector4)(t,r),this.nativeEffect.SetColor(r),this.notifyPropertyChanged(h.PROPERTY.COLOR)},enumerable:!1,configurable:!0}),Object.defineProperty(ShaderEffect.prototype,"range",{get:function(){return this.rangeProperty},set:function(e){this.rangeProperty=e,this.nativeEffect.SetRange(e),this.notifyPropertyChanged(h.PROPERTY.RANGE)},enumerable:!1,configurable:!0}),ShaderEffect.prototype.notifyPropertyChanged=function(e){var t;null===(t=this.propertyChanged)||void 0===t||t.raiseEvent(new c.PropertyChangedEventArgs(e))},ShaderEffect.prototype.toJSON=function(){var e={color:this.color,intensity:this.intensity,offset:this.offset,range:this.range};return{type:this.type,options:e}},ShaderEffect}(r(15492).DeletableEntity);t.ShaderEffect=y},180:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ShadowEffect=void 0;var o=r(48484),a=r(5399),s=function(e){function ShadowEffect(t,r){var i=e.call(this,t,new t.SCRTShadowEffect,{offset:(null==r?void 0:r.offset)||new o.Point(10,10),range:(null==r?void 0:r.range)||1,color:r?"rgba(".concat((null==r?void 0:r.brightness)||68,",").concat((null==r?void 0:r.brightness)||68,",").concat((null==r?void 0:r.brightness)||68,",1)"):"#444444"})||this;return i.type=a.EShaderEffectType.Shadow,i}return n(ShadowEffect,e),ShadowEffect}(r(85611).ShaderEffect);t.ShadowEffect=s},85497:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SplineBandRenderableSeries=void 0;var o=r(94694),a=r(51134),s=r(55687),l=r(51877),u=r(23144),c=r(3351),d=r(84331),p=r(60100),h=r(36072),f=r(3578),y=r(3488),g=r(11853),v=function(e){function SplineBandRenderableSeries(t,r){var i,n,o,a=this;return(a=e.call(this,t,r)||this).type=s.ESeriesType.SplineBandSeries,a.isSplineProperty=!0,a.interpolationPointsProperty=10,a.interpolationPointsProperty=null!==(i=null==r?void 0:r.interpolationPoints)&&void 0!==i?i:a.interpolationPointsProperty,a.renderDataTransform=new g.XyySplineRenderDataTransform(a,t,[a.drawingProviders[0]]),a.renderDataTransform.interpolationPoints=a.interpolationPoints,(null===(n=a.paletteProvider)||void 0===n?void 0:n.onAttached)&&(null===(o=a.paletteProvider)||void 0===o||o.onAttached(a)),a}return n(SplineBandRenderableSeries,e),Object.defineProperty(SplineBandRenderableSeries.prototype,"isSpline",{get:function(){return this.isSplineProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SplineBandRenderableSeries.prototype,"interpolationPoints",{get:function(){return this.interpolationPointsProperty},set:function(e){this.interpolationPointsProperty=e,this.renderDataTransform.interpolationPoints=this.interpolationPoints,this.renderDataTransform.requiresTransform=!0,this.notifyPropertyChanged(y.PROPERTY.INTERPOLATION_POINTS)},enumerable:!1,configurable:!0}),Object.defineProperty(SplineBandRenderableSeries.prototype,"xSplineValues",{get:function(){if(!this.splineRenderPassData)throw Error("Spline values are not available until after first render, or call updateSplineValues");return this.splineRenderPassData.pointSeries.xValues},enumerable:!1,configurable:!0}),Object.defineProperty(SplineBandRenderableSeries.prototype,"ySplineValues",{get:function(){if(!this.splineRenderPassData)throw Error("Spline values are not available until after first render, or call updateSplineValues");return this.splineRenderPassData.pointSeries.yValues},enumerable:!1,configurable:!0}),Object.defineProperty(SplineBandRenderableSeries.prototype,"y1SplineValues",{get:function(){if(!this.splineRenderPassData)throw Error("Spline values are not available until after first render, or call updateSplineValues");return this.splineRenderPassData.pointSeries.y1Values},enumerable:!1,configurable:!0}),SplineBandRenderableSeries.prototype.delete=function(){e.prototype.delete.call(this)},Object.defineProperty(SplineBandRenderableSeries.prototype,"warnOnSplineFailure",{get:function(){return this.renderDataTransform.warnOnSplineFailure},set:function(e){this.renderDataTransform.warnOnSplineFailure=e},enumerable:!1,configurable:!0}),SplineBandRenderableSeries.prototype.updateSplineValues=function(){this.dataSeries&&this.parentSurface&&(this.currentRenderPassData||(this.currentRenderPassData=new p.RenderPassData(this.getIndicesRange(this.xAxis.visibleRange,this.xAxis.isCategoryAxis),this.xAxis.getCurrentCoordinateCalculator,this.yAxis.getCurrentCoordinateCalculator,this.xAxis.isVerticalChart,new d.XyyPointSeriesWrapped(this.dataSeries))),this.splineRenderPassData=this.renderDataTransform.runTransform(this.currentRenderPassData))},SplineBandRenderableSeries.prototype.onSplineFailure=function(){},SplineBandRenderableSeries.prototype.getYRange=function(e,t){if(void 0===t&&(t=!1),this.isRunningAnimation)return this.dataSeries.getWindowedYRange(e,!0,t,c.EDataSeriesValueType.Default,this.yRangeMode);this.updateSplineValues();var r,i,n,s=this.xSplineValues,d=this.ySplineValues,p=this.y1SplineValues;if(1===s.size()){var h=Math.min(d.get(0),p.get(0)),f=Math.max(d.get(0),p.get(0));return new a.NumberRange(h,f)}var y=t?e:(0,u.getIndicesRange)(this.webAssemblyContext,s,e,null===(r=this.dataSeries)||void 0===r?void 0:r.dataDistributionCalculator.isSortedAscending),g=Math.max(Math.floor(y.min),0),v=Math.min(Math.ceil(y.max),s.size()-1);if(!(v<g))try{if(i=this.webAssemblyContext.NumberUtil.MinMaxWithIndex(d,g,v-g+1),!(0,l.isRealNumber)(i.minD)||!(0,l.isRealNumber)(i.maxD)||(n=this.webAssemblyContext.NumberUtil.MinMaxWithIndex(p,g,v-g+1),!(0,l.isRealNumber)(n.minD)||!(0,l.isRealNumber)(n.maxD)))return;return new a.NumberRange(Math.min(i.minD,n.minD),Math.max(i.maxD,n.maxD))}finally{(0,o.deleteSafe)(i),(0,o.deleteSafe)(n)}},SplineBandRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={interpolationPoints:this.interpolationPoints};return Object.assign(r.options,i),r},SplineBandRenderableSeries.prototype.setAnimationVectors=function(e){var t=this.dataSeries;t.xInitialAnimationValues||t.createAnimationVectors(),this.updateSplineValues(),h.animationHelpers.setSplineBandAnimationVectors(this.webAssemblyContext,e,this.dataSeries,e.dataSeries,this.xSplineValues,this.ySplineValues,this.y1SplineValues,this.xAxis.isCategoryAxis,this.interpolationPoints)},SplineBandRenderableSeries.prototype.updateAnimationProperties=function(e,t){var r=t.animation;r.updateSeriesProperties(this,t.initialStyles,t.animationProgress);var i=this.dataSeries;i&&h.animationHelpers.updateSplineBandAnimationProperties(this.webAssemblyContext,r,e,i,this.xSplineValues,this.ySplineValues,this.y1SplineValues),this.invalidateParentCallback&&this.invalidateParentCallback()},SplineBandRenderableSeries}(f.BaseBandRenderableSeries);t.SplineBandRenderableSeries=v},49826:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SplineLineRenderableSeries=void 0;var o=r(55687),a=r(23144),s=r(3351),l=r(80554),u=r(60100),c=r(36072),d=r(5234),p=r(3488),h=r(88872),f=function(e){function SplineLineRenderableSeries(t,r){var i,n,a,s=this;return(s=e.call(this,t,r)||this).type=o.ESeriesType.SplineLineSeries,s.isSplineProperty=!0,s.interpolationPointsProperty=10,s.interpolationPointsProperty=null!==(i=null==r?void 0:r.interpolationPoints)&&void 0!==i?i:s.interpolationPointsProperty,s.renderDataTransform=new h.SplineRenderDataTransform(s,t,[s.drawingProviders[0]]),s.renderDataTransform.interpolationPoints=s.interpolationPoints,(null===(n=s.paletteProvider)||void 0===n?void 0:n.onAttached)&&(null===(a=s.paletteProvider)||void 0===a||a.onAttached(s)),s}return n(SplineLineRenderableSeries,e),Object.defineProperty(SplineLineRenderableSeries.prototype,"xSplineValues",{get:function(){if(!this.splineRenderPassData)throw Error("Spline values are not available until after first render, or call updateSplineValues");return this.splineRenderPassData.pointSeries.xValues},enumerable:!1,configurable:!0}),Object.defineProperty(SplineLineRenderableSeries.prototype,"ySplineValues",{get:function(){if(!this.splineRenderPassData)throw Error("Spline values are not available until after first render, or call updateSplineValues");return this.splineRenderPassData.pointSeries.yValues},enumerable:!1,configurable:!0}),Object.defineProperty(SplineLineRenderableSeries.prototype,"isSpline",{get:function(){return this.isSplineProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SplineLineRenderableSeries.prototype,"interpolationPoints",{get:function(){return this.interpolationPointsProperty},set:function(e){this.interpolationPointsProperty=e,this.renderDataTransform.interpolationPoints=this.interpolationPoints,this.renderDataTransform.requiresTransform=!0,this.notifyPropertyChanged(p.PROPERTY.INTERPOLATION_POINTS)},enumerable:!1,configurable:!0}),Object.defineProperty(SplineLineRenderableSeries.prototype,"warnOnSplineFailure",{get:function(){return this.renderDataTransform.warnOnSplineFailure},set:function(e){this.renderDataTransform.warnOnSplineFailure=e},enumerable:!1,configurable:!0}),SplineLineRenderableSeries.prototype.delete=function(){e.prototype.delete.call(this)},SplineLineRenderableSeries.prototype.updateSplineValues=function(){this.dataSeries&&this.parentSurface&&(this.currentRenderPassData||(this.currentRenderPassData=new u.RenderPassData(this.getIndicesRange(this.xAxis.visibleRange,this.xAxis.isCategoryAxis),this.xAxis.getCurrentCoordinateCalculator,this.yAxis.getCurrentCoordinateCalculator,this.xAxis.isVerticalChart,new l.XyPointSeriesWrapped(this.dataSeries))),this.splineRenderPassData=this.renderDataTransform.runTransform(this.currentRenderPassData))},SplineLineRenderableSeries.prototype.onSplineFailure=function(){},SplineLineRenderableSeries.prototype.getYRange=function(e,t){return(void 0===t&&(t=!1),this.isRunningAnimation)?this.dataSeries.getWindowedYRange(e,!0,t,s.EDataSeriesValueType.Default,this.yRangeMode):(this.updateSplineValues(),(0,a.getWindowedYRange)(this.webAssemblyContext,this.splineRenderPassData.pointSeries.xValues,this.splineRenderPassData.pointSeries.yValues,e,!0,t,this.dataSeries.dataDistributionCalculator.isSortedAscending))},SplineLineRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={interpolationPoints:this.interpolationPoints};return Object.assign(r.options,i),r},SplineLineRenderableSeries.prototype.setAnimationVectors=function(e){var t=this.dataSeries;t.xInitialAnimationValues||t.createAnimationVectors(),this.updateSplineValues(),c.animationHelpers.setSplineAnimationVectors(this.webAssemblyContext,e,this.dataSeries,e.dataSeries,this.splineRenderPassData.pointSeries.xValues,this.splineRenderPassData.pointSeries.yValues,this.xAxis.isCategoryAxis,this.interpolationPoints)},SplineLineRenderableSeries.prototype.updateAnimationProperties=function(e,t){var r=t.animation;r.updateSeriesProperties(this,t.initialStyles,t.animationProgress);var i=this.dataSeries;i&&c.animationHelpers.updateSplineAnimationProperties(this.webAssemblyContext,r,e,i,this.splineRenderPassData.pointSeries.xValues,this.splineRenderPassData.pointSeries.yValues),this.invalidateParentCallback&&this.invalidateParentCallback()},SplineLineRenderableSeries}(d.BaseLineRenderableSeries);t.SplineLineRenderableSeries=f},52234:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SplineMountainRenderableSeries=void 0;var o=r(55687),a=r(23144),s=r(3351),l=r(80554),u=r(60100),c=r(36072),d=r(15877),p=r(3488),h=r(88872),f=function(e){function SplineMountainRenderableSeries(t,r){var i,n,a,s=this;return(s=e.call(this,t,r)||this).type=o.ESeriesType.SplineMountainSeries,s.isSplineProperty=!0,s.interpolationPointsProperty=10,s.interpolationPointsProperty=null!==(i=null==r?void 0:r.interpolationPoints)&&void 0!==i?i:s.interpolationPointsProperty,s.renderDataTransform=new h.SplineRenderDataTransform(s,t,[s.drawingProviders[0]]),s.renderDataTransform.interpolationPoints=s.interpolationPoints,(null===(n=s.paletteProvider)||void 0===n?void 0:n.onAttached)&&(null===(a=s.paletteProvider)||void 0===a||a.onAttached(s)),s}return n(SplineMountainRenderableSeries,e),Object.defineProperty(SplineMountainRenderableSeries.prototype,"isSpline",{get:function(){return this.isSplineProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SplineMountainRenderableSeries.prototype,"interpolationPoints",{get:function(){return this.interpolationPointsProperty},set:function(e){this.interpolationPointsProperty=e,this.renderDataTransform.interpolationPoints=this.interpolationPoints,this.renderDataTransform.requiresTransform=!0,this.notifyPropertyChanged(p.PROPERTY.INTERPOLATION_POINTS)},enumerable:!1,configurable:!0}),Object.defineProperty(SplineMountainRenderableSeries.prototype,"xSplineValues",{get:function(){if(!this.splineRenderPassData)throw Error("Spline values are not available until after first render, or call updateSplineValues");return this.splineRenderPassData.pointSeries.xValues},enumerable:!1,configurable:!0}),Object.defineProperty(SplineMountainRenderableSeries.prototype,"ySplineValues",{get:function(){if(!this.splineRenderPassData)throw Error("Spline values are not available until after first render, or call updateSplineValues");return this.splineRenderPassData.pointSeries.yValues},enumerable:!1,configurable:!0}),Object.defineProperty(SplineMountainRenderableSeries.prototype,"warnOnSplineFailure",{get:function(){return this.renderDataTransform.warnOnSplineFailure},set:function(e){this.renderDataTransform.warnOnSplineFailure=e},enumerable:!1,configurable:!0}),SplineMountainRenderableSeries.prototype.delete=function(){e.prototype.delete.call(this)},SplineMountainRenderableSeries.prototype.updateSplineValues=function(){this.dataSeries&&this.parentSurface&&(this.currentRenderPassData||(this.currentRenderPassData=new u.RenderPassData(this.getIndicesRange(this.xAxis.visibleRange,this.xAxis.isCategoryAxis),this.xAxis.getCurrentCoordinateCalculator,this.yAxis.getCurrentCoordinateCalculator,this.xAxis.isVerticalChart,new l.XyPointSeriesWrapped(this.dataSeries))),this.splineRenderPassData=this.renderDataTransform.runTransform(this.currentRenderPassData))},SplineMountainRenderableSeries.prototype.onSplineFailure=function(){},SplineMountainRenderableSeries.prototype.getYRange=function(e,t){return(void 0===t&&(t=!1),this.isRunningAnimation)?this.dataSeries.getWindowedYRange(e,!0,t,s.EDataSeriesValueType.Default,this.yRangeMode):(this.updateSplineValues(),(0,a.getWindowedYRange)(this.webAssemblyContext,this.splineRenderPassData.pointSeries.xValues,this.splineRenderPassData.pointSeries.yValues,e,!0,t,this.dataSeries.dataDistributionCalculator.isSortedAscending))},SplineMountainRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={interpolationPoints:this.interpolationPoints};return Object.assign(r.options,i),r},SplineMountainRenderableSeries.prototype.setAnimationVectors=function(e){var t=this.dataSeries;t.xInitialAnimationValues||t.createAnimationVectors(),this.updateSplineValues(),c.animationHelpers.setSplineAnimationVectors(this.webAssemblyContext,e,this.dataSeries,e.dataSeries,this.splineRenderPassData.pointSeries.xValues,this.splineRenderPassData.pointSeries.yValues,this.xAxis.isCategoryAxis,this.interpolationPoints)},SplineMountainRenderableSeries.prototype.updateAnimationProperties=function(e,t){var r=t.animation;r.updateSeriesProperties(this,t.initialStyles,t.animationProgress);var i=this.dataSeries;i&&c.animationHelpers.updateSplineAnimationProperties(this.webAssemblyContext,r,e,i,this.splineRenderPassData.pointSeries.xValues,this.splineRenderPassData.pointSeries.yValues),this.invalidateParentCallback&&this.invalidateParentCallback()},SplineMountainRenderableSeries}(d.BaseMountainRenderableSeries);t.SplineMountainRenderableSeries=f},50376:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.StackedColumnCollection=void 0;var o=r(94694),a=r(51134),s=r(55687),l=r(41591),u=r(6701),c=r(3488),d=r(20717),p=function(e){function StackedColumnCollection(t,r){var i,n,o=this;return(o=e.call(this,t,r)||this).type=s.ESeriesType.StackedColumnCollection,o.seriesGroups={},o.dataPointWidthProperty=.5,o.zeroLineYProperty=0,o.dataPointWidthProperty=null!==(i=null==r?void 0:r.dataPointWidth)&&void 0!==i?i:o.dataPointWidthProperty,o.zeroLineYProperty=null!==(n=null==r?void 0:r.zeroLineY)&&void 0!==n?n:o.zeroLineYProperty,o.getColumnWidth=o.getColumnWidth.bind(o),o.detachChildSeries=o.detachChildSeries.bind(o),o.attachChildSeries=o.attachChildSeries.bind(o),o.collectionChanged.subscribe(function(e){var t,r;null===(t=e.getOldItems())||void 0===t||t.forEach(o.detachChildSeries),null===(r=e.getNewItems())||void 0===r||r.forEach(o.attachChildSeries)}),o}return n(StackedColumnCollection,e),StackedColumnCollection.prototype.delete=function(){this.nativeDrawingProvider=(0,o.deleteSafe)(this.nativeDrawingProvider),e.prototype.delete.call(this)},StackedColumnCollection.prototype.updateAccumulatedVectors=function(){var e=this,t=this.getDataSeriesValuesCount();if(this.isAccumulatedVectorDirty&&t){this.checkXValuesCorrect(),this.isAccumulatedVectorDirty=!1,this.clearAccumulatedVectors(t),this.updateGroups();var r=this.seriesGroups,i=this.getGroupsCount();Object.keys(r).forEach(function(e,t){r[e].forEach(function(e){e.setGroupsCount(i),e.setGroupIndex(t)})});for(var _loop_1=function(t){n.accumulatedValues0.push_back(n.zeroLineY),Object.keys(r).forEach(function(i){var n,o=r[i];e.isOneHundredPercent&&(n=o.reduce(function(e,r){return e+r.dataSeries.getNativeYValues().get(t)},0));var a=0;o.forEach(function(r){var i=r.dataSeries.getNativeYValues().get(t);e.isOneHundredPercent&&(i=100*i/n);var o=a+i;r.accumulatedValues.push_back(o),a=o})})},n=this,o=0;o<t;o++)_loop_1(o)}},StackedColumnCollection.prototype.draw=function(e,t){var r=this;if(this.canDraw){if(this.updateHitTestProviders(t),!this.isEnoughDataToDraw())return;this.updateAccumulatedVectors();var i=t.xCoordinateCalculator.isCategoryCoordinateCalculator,n=this.getFirstSeries().dataSeries,o=this.parentSurface.seriesViewRect;if(null==n?void 0:n.fifoCapacity)throw Error("Sorry, fifo is not currently supported for stacked series");var a=t.isVerticalChart,s=t.xCoordinateCalculator,l=t.yCoordinateCalculator,u=i?n.getNativeIndexes():n.getNativeXValues(),c=this.seriesGroups,d=this.getGroupsCount(),p=this.getColumnWidth(s);Object.keys(c).forEach(function(t,i){var n;c[t].forEach(function(t,c){var h=0===c?r.accumulatedValues0:n.accumulatedValues,f=t.accumulatedValues;drawColumns(r.webAssemblyContext,e,s,l,a,r.nativeDrawingProvider,u,h,f,t.getFillBrush(),t.getStrokePen(),o,p,0,d,i),n=t})})}},StackedColumnCollection.prototype.getXRange=function(){if(!this.isEnoughDataToDraw())return new a.NumberRange;var e=this.getFirstSeries().dataSeries.xRange,t=this.getFirstSeries().dataSeries.count();return(0,d.getXRange)(e,t,this.dataPointWidth)},StackedColumnCollection.prototype.getYRange=function(t,r){var i=e.prototype.getYRange.call(this,t,r);return new a.NumberRange(Math.min(i.min,this.zeroLineY),Math.max(i.max,this.zeroLineY))},StackedColumnCollection.prototype.onAttach=function(t){e.prototype.onAttach.call(this,t),this.nativeDrawingProvider=new this.webAssemblyContext.SCRTStackedColumnSeriesDrawingProvider},StackedColumnCollection.prototype.notifyPropertyChanged=function(t){e.prototype.notifyPropertyChanged.call(this,t),(t===c.PROPERTY.DATA_SERIES||t===c.PROPERTY.IS_VISIBLE||t===c.PROPERTY.IS_ONE_HUNDRED_PERCENT||t===c.PROPERTY.STACKED_GROUP_ID)&&(this.isAccumulatedVectorDirty=!0)},StackedColumnCollection.prototype.hasDataSeriesValues=function(){return this.isEnoughDataToDraw()},StackedColumnCollection.prototype.getColumnWidth=function(e){var t=this.dataPointWidth,r=this.getFirstSeries().dataSeries,i=e.isCategoryCoordinateCalculator,n=i?r.getNativeIndexes():r.getNativeXValues(),o=this.parentSurface.seriesViewRect,a=this.getGroupsCount();return(0,l.getDataPointWidth)(n,e,o.width,t,i,this.webAssemblyContext)/a},StackedColumnCollection.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={dataPointWidth:this.dataPointWidth,zeroLineY:this.zeroLineY};return Object.assign(r.options,i),r},Object.defineProperty(StackedColumnCollection.prototype,"dataPointWidth",{get:function(){return this.dataPointWidthProperty},set:function(e){this.dataPointWidthProperty=e,this.notifyPropertyChanged(c.PROPERTY.DATA_POINT_WIDTH)},enumerable:!1,configurable:!0}),Object.defineProperty(StackedColumnCollection.prototype,"zeroLineY",{get:function(){return this.zeroLineYProperty},set:function(e){this.zeroLineYProperty=e,this.notifyPropertyChanged(c.PROPERTY.ZERO_LINE_Y)},enumerable:!1,configurable:!0}),StackedColumnCollection.prototype.detachChildSeries=function(e){e.onDetachFromParentCollection(),this.invalidateParent()},StackedColumnCollection.prototype.attachChildSeries=function(e){e.onAttachToParentCollection(this,this.getParentSurface,this.notifyPropertyChanged,this.getColumnWidth),this.invalidateParent()},StackedColumnCollection.prototype.checkXValuesCorrect=function(){var e=this.getDataSeriesValuesCount();this.getVisibleSeries().forEach(function(t){var r;if((null===(r=t.dataSeries)||void 0===r?void 0:r.count())!==e)throw Error("All stacked series in on collection should have the same amount of X Values")})},StackedColumnCollection.prototype.clearAccumulatedVectors=function(e){this.accumulatedValues0.clear(),this.accumulatedValues0.reserve(e),this.asArray().forEach(function(t){t.accumulatedValues.clear(),t.accumulatedValues.reserve(e)})},StackedColumnCollection.prototype.getLastVisibleSeries=function(){return this.getVisibleSeries().slice(-1)[0]},StackedColumnCollection.prototype.updateGroups=function(){var e={};this.getVisibleSeries().forEach(function(t){var r=t.stackedGroupId;e[r]||(e[r]=[]),e[r].push(t)}),this.seriesGroups=e},StackedColumnCollection.prototype.getGroupsCount=function(){return Object.keys(this.seriesGroups).length},StackedColumnCollection}(u.BaseStackedCollection);t.StackedColumnCollection=p;var drawColumns=function(e,t,r,i,n,o,a,s,l,u,c,d,p,h,f,y){var g=new e.SCRTStackedColumnDrawingParams;g.count=a.size(),g.columnWidth=p<=0?1:p,g.spacing=h,g.viewportWidth=d.width,g.viewportHeight=d.height,g.verticalChart=n,g.stackedGroupCount=f,g.stackedGroupIndex=y,g.forceShaderMethod=!0,c&&g.SetLinesPen(c),u&&g.SetFillBrush(u);var v=t.getNativeContext();o.DrawPointsVec(v,a,l,s,r.nativeCalculator,i.nativeCalculator,g),g.delete()}},30637:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.StackedColumnRenderableSeries=void 0;var o=r(94694),a=r(55687),s=r(12840),l=r(8355),u=r(63869),c=r(61239),d=r(96778),p=r(3488),h=r(57182),f=function(e){function StackedColumnRenderableSeries(t,r){var i,n,o,u,d,p=this;return(p=e.call(this,t,r)||this).type=a.ESeriesType.StackedColumnSeries,p.fillProperty="#7e8486",p.spacingProperty=0,p.stackedGroupIdProperty="default",p.getGroupIndex=p.getGroupIndex.bind(p),p.getGroupsCount=p.getGroupsCount.bind(p),p.getColumnWidth=p.getColumnWidth.bind(p),p.fillBrushCache=new s.BrushCache(t),p.strokePenCache=new l.Pen2DCache(t),p.fill=null!==(i=null==r?void 0:r.fill)&&void 0!==i?i:p.fillProperty,p.stroke=null!==(n=null==r?void 0:r.stroke)&&void 0!==n?n:c.SciChartSurfaceBase.DEFAULT_THEME.mountainLineColor,p.strokeThickness=null!==(o=null==r?void 0:r.strokeThickness)&&void 0!==o?o:1,p.spacingProperty=null!==(u=null==r?void 0:r.spacing)&&void 0!==u?u:p.spacingProperty,p.stackedGroupIdProperty=null!==(d=null==r?void 0:r.stackedGroupId)&&void 0!==d?d:p.stackedGroupIdProperty,p}return n(StackedColumnRenderableSeries,e),StackedColumnRenderableSeries.prototype.delete=function(){this.strokePenCache=(0,o.deleteSafe)(this.strokePenCache),this.fillBrushCache=(0,o.deleteSafe)(this.fillBrushCache),e.prototype.delete.call(this)},StackedColumnRenderableSeries.prototype.onAttachToParentCollection=function(e,t,r,i){if(this.parentCollection)throw Error("Invalid operation in StackedColumnRenderableSeries.onAttachToParentCollection, this series has been already attached to collection. Please detach it from the collection before attaching to another");this.parentCollection=e,this.getParentSurfaceFn=t,this.notifyParentPropertyChangedFn=r,this.getColumnWidthFn=i;var n=this.stroke,o=this.strokeThickness,a=this.fill,u=this.opacity;(0,l.createPenInCache)(this.strokePenCache,n,o,u),(0,s.createBrushInCache)(this.fillBrushCache,a,u)},StackedColumnRenderableSeries.prototype.getFillBrush=function(){return(0,s.getScrtBrushFromCache)(this.fillBrushCache)},StackedColumnRenderableSeries.prototype.getStrokePen=function(){var e=this.stroke,t=this.strokeThickness,r=this.opacity;return(0,l.createPenInCache)(this.strokePenCache,e,t,r)},StackedColumnRenderableSeries.prototype.getGroupIndex=function(){return this.groupIndex},StackedColumnRenderableSeries.prototype.setGroupIndex=function(e){this.groupIndex=e},StackedColumnRenderableSeries.prototype.getGroupsCount=function(){return this.groupsCount},StackedColumnRenderableSeries.prototype.setGroupsCount=function(e){this.groupsCount=e},StackedColumnRenderableSeries.prototype.getColumnWidth=function(e){return this.getColumnWidthFn(e)},StackedColumnRenderableSeries.prototype.onDpiChanged=function(e){this.notifyPropertyChanged(p.PROPERTY.STROKE)},StackedColumnRenderableSeries.prototype.notifyPropertyChanged=function(t){e.prototype.notifyPropertyChanged.call(this,t),(t===p.PROPERTY.STROKE||t===p.PROPERTY.STROKE_THICKNESS||t===p.PROPERTY.OPACITY)&&(0,l.createPenInCache)(this.strokePenCache,this.stroke,this.strokeThickness,this.opacity),(t===p.PROPERTY.FILL||t===p.PROPERTY.OPACITY)&&(0,s.createBrushInCache)(this.fillBrushCache,this.fill,this.opacity)},Object.defineProperty(StackedColumnRenderableSeries.prototype,"fill",{get:function(){return(0,u.stripAutoColor)(this.fillProperty)},set:function(e){this.fillProperty=e,this.notifyPropertyChanged(p.PROPERTY.FILL)},enumerable:!1,configurable:!0}),Object.defineProperty(StackedColumnRenderableSeries.prototype,"drawingProviders",{get:function(){throw Error("drawingProviders property is not supported for StackedColumnRenderableSeries")},set:function(e){throw Error("drawingProviders property is not supported for StackedColumnRenderableSeries")},enumerable:!1,configurable:!0}),Object.defineProperty(StackedColumnRenderableSeries.prototype,"effect",{get:function(){throw Error("effect property is not supported for StackedColumnRenderableSeries")},set:function(e){throw Error("effect property is not supported for StackedColumnRenderableSeries")},enumerable:!1,configurable:!0}),Object.defineProperty(StackedColumnRenderableSeries.prototype,"spacing",{get:function(){return this.spacingProperty},set:function(e){this.spacingProperty=e,this.notifyPropertyChanged(p.PROPERTY.SPACING)},enumerable:!1,configurable:!0}),Object.defineProperty(StackedColumnRenderableSeries.prototype,"stackedGroupId",{get:function(){return this.stackedGroupIdProperty},set:function(e){this.stackedGroupIdProperty=e,this.notifyPropertyChanged(p.PROPERTY.STACKED_GROUP_ID)},enumerable:!1,configurable:!0}),StackedColumnRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={fill:this.fill,stroke:this.stroke,strokeThickness:this.strokeThickness,spacing:this.spacing,stackedGroupId:this.stackedGroupId};return Object.assign(r.options,i),r},StackedColumnRenderableSeries.prototype.resolveAutoColors=function(t,r,i){if(e.prototype.resolveAutoColors.call(this,t,r,i),this.fillProperty.startsWith(u.AUTO_COLOR)){var n=i.getFillColor(t,r,this.webAssemblyContext);this.fill=u.AUTO_COLOR+this.adjustAutoColor("fill",n)}},StackedColumnRenderableSeries.prototype.newHitTestProvider=function(){return new h.StackedColumnSeriesHitTestProvider(this,this.webAssemblyContext)},StackedColumnRenderableSeries}(d.BaseStackedRenderableSeries);t.StackedColumnRenderableSeries=f},97561:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.StackedMountainCollection=void 0;var o=r(51134),a=r(55687),s=r(84331),l=r(60100),u=r(6701),c=r(3488),d=function(e){function StackedMountainCollection(t,r){var i=e.call(this,t,r)||this;return i.type=a.ESeriesType.StackedMountainCollection,i.detachChildSeries=i.detachChildSeries.bind(i),i.attachChildSeries=i.attachChildSeries.bind(i),i.collectionChanged.subscribe(function(e){var t,r;null===(t=e.getOldItems())||void 0===t||t.forEach(i.detachChildSeries),null===(r=e.getNewItems())||void 0===r||r.forEach(i.attachChildSeries)}),i}return n(StackedMountainCollection,e),StackedMountainCollection.prototype.updateAccumulatedVectors=function(){var e=this,t=this.getDataSeriesValuesCount();if(this.isAccumulatedVectorDirty&&t){this.checkXValuesCorrect(),this.isAccumulatedVectorDirty=!1,this.clearAccumulatedVectors(t);for(var _loop_1=function(t){r.accumulatedValues0.push_back(0);var i,n=0;r.isOneHundredPercent&&(i=r.getVisibleSeries().reduce(function(e,r){return e+r.dataSeries.getNativeYValues().get(t)},0)),r.getVisibleSeries().forEach(function(r){var o=r.dataSeries.getNativeYValues().get(t);e.isOneHundredPercent&&(o=100*o/i);var a=n+o;r.accumulatedValues.push_back(a),n=a})},r=this,i=0;i<t;i++)_loop_1(i)}},StackedMountainCollection.prototype.draw=function(e,t){var r,i=this;if(this.canDraw){if(this.updateHitTestProviders(t),!this.isEnoughDataToDraw())return;if(null===(r=this.getFirstSeries().dataSeries)||void 0===r?void 0:r.fifoCapacity)throw Error("Sorry, fifo is not currently supported for stacked series");this.updateAccumulatedVectors();var n=this.parentSurface.getXAxisById(this.xAxisId);this.getVisibleSeries().reduceRight(function(r,o,a,u){var c=o.accumulatedValues,d=0===a?i.accumulatedValues0:u[a-1].accumulatedValues,p=new s.XyyPointSeriesWrapped(o.dataSeries,d,c),h=new l.RenderPassData(void 0,t.getxCoordinateCalculator,t.getyCoordinateCalculator,n.isVerticalChart,p);return o.strokeY1=0===a?"transparent":u[a-1].stroke,o.strokeY1DashArray=0===a?[]:u[a-1].strokeDashArray,o.draw(e,h),o},void 0)}},StackedMountainCollection.prototype.getXRange=function(){return this.isEnoughDataToDraw()?this.getFirstSeries().dataSeries.xRange:new o.NumberRange},StackedMountainCollection.prototype.onAttach=function(t){e.prototype.onAttach.call(this,t),this.getVisibleSeries().forEach(function(e){e.onAttach(t)})},StackedMountainCollection.prototype.onDetach=function(){this.getVisibleSeries().forEach(function(e){e.onDetach()}),e.prototype.onDetach.call(this)},StackedMountainCollection.prototype.notifyPropertyChanged=function(t){e.prototype.notifyPropertyChanged.call(this,t),(t===c.PROPERTY.DATA_SERIES||t===c.PROPERTY.IS_VISIBLE||t===c.PROPERTY.IS_ONE_HUNDRED_PERCENT)&&(this.isAccumulatedVectorDirty=!0)},StackedMountainCollection.prototype.hasDataSeriesValues=function(){return this.isEnoughDataToDraw()},StackedMountainCollection.prototype.detachChildSeries=function(e){e.onDetachFromParentCollection(),this.invalidateParent()},StackedMountainCollection.prototype.attachChildSeries=function(e){e.onAttachToParentCollection(this,this.getParentSurface,this.notifyPropertyChanged),this.parentSurface&&e.onAttach(this.parentSurface),this.invalidateParent()},StackedMountainCollection.prototype.checkXValuesCorrect=function(){var e=this.getDataSeriesValuesCount();this.getVisibleSeries().forEach(function(t){if(t.dataSeries.count()!==e)throw Error("All stacked series in on collection should have the same amount of X Values")})},StackedMountainCollection.prototype.clearAccumulatedVectors=function(e){this.accumulatedValues0.clear(),this.accumulatedValues0.reserve(e),this.asArray().forEach(function(t){t.accumulatedValues.clear(),t.accumulatedValues.reserve(e)})},StackedMountainCollection.prototype.getLastVisibleSeries=function(){return this.getVisibleSeries().slice(-1)[0]},StackedMountainCollection}(u.BaseStackedCollection);t.StackedMountainCollection=d},50487:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.StackedMountainRenderableSeries=void 0;var o=r(94694),a=r(55687),s=r(80554),l=r(63869),u=r(61239),c=r(96778),d=r(3488),p=r(63143),h=r(46578),f=r(72240),y=function(e){function StackedMountainRenderableSeries(t,r){var i,n,o,s=this;return(s=e.call(this,t,r)||this).type=a.ESeriesType.StackedMountainSeries,s.fillProperty="#7e8486",s.strokeY1Property="transparent",s.strokeDashArrayProperty=[],s.strokeY1DashArrayProperty=[],s.fillProperty=null!==(i=null==r?void 0:r.fill)&&void 0!==i?i:s.fillProperty,s.stroke=null!==(n=null==r?void 0:r.stroke)&&void 0!==n?n:u.SciChartSurfaceBase.DEFAULT_THEME.mountainLineColor,s.strokeDashArrayProperty=null!==(o=null==r?void 0:r.strokeDashArray)&&void 0!==o?o:s.strokeDashArrayProperty,s.drawingProviders.push(new p.BandSeriesDrawingProvider(t,s,function(e){return e.y1Values},function(e){return e.yValues}),new h.PointMarkerDrawingProvider(t,s,function(e){return e.y1Values})),s}return n(StackedMountainRenderableSeries,e),StackedMountainRenderableSeries.prototype.onAttachToParentCollection=function(e,t,r){if(this.parentCollection)throw Error("Invalid operation in StackedMountainRenderableSeries.onAttachToParentCollection, this series has been already attached to collection. Please detach it from the collection before attaching to another");this.parentCollection=e,this.getParentSurfaceFn=t,this.notifyParentPropertyChangedFn=r},StackedMountainRenderableSeries.prototype.onAttach=function(e){if(this.invalidateParentCallback)throw Error("Invalid operation in sciChartSurface.attachSeries, this series has already been attached to a SciChartSurface. Please detach it from a SciChartSurface before attaching to another");this.invalidateParentCallback=e.invalidateElement,this.drawingProviders.forEach(function(e){return e.onAttachSeries()}),this.rolloverModifierProps.setInvalidateParentCallback(e.invalidateElement)},StackedMountainRenderableSeries.prototype.onDetach=function(){this.invalidateParentCallback=void 0,this.drawingProviders.forEach(function(e){return e.onDetachSeries()}),this.rolloverModifierProps.setInvalidateParentCallback(void 0)},StackedMountainRenderableSeries.prototype.draw=function(e,t){var r;this.currentRenderPassData=t,null===(r=this.hitTestProvider)||void 0===r||r.update(t);try{e.pushShaderEffect(this.effect),this.drawingProviders.forEach(function(r){return r.draw(e,t)})}finally{e.popShaderEffect()}},StackedMountainRenderableSeries.prototype.onDpiChanged=function(t){e.prototype.onDpiChanged.call(this,t),this.notifyPropertyChanged(d.PROPERTY.STROKE)},Object.defineProperty(StackedMountainRenderableSeries.prototype,"fill",{get:function(){return(0,l.stripAutoColor)(this.fillProperty)},set:function(e){this.fillProperty!==e&&(this.fillProperty=e,this.drawingProviders.forEach(function(e){return e.onSeriesPropertyChange(d.PROPERTY.FILL)}),this.drawingProviders.forEach(function(e){return e.onSeriesPropertyChange(d.PROPERTY.FILL_Y1)}),this.notifyPropertyChanged(d.PROPERTY.FILL))},enumerable:!1,configurable:!0}),Object.defineProperty(StackedMountainRenderableSeries.prototype,"strokeY1",{get:function(){return this.strokeY1Property},set:function(e){this.strokeY1Property!==e&&(this.strokeY1Property=e,this.drawingProviders.forEach(function(e){return e.onSeriesPropertyChange(d.PROPERTY.STROKE_Y1)}))},enumerable:!1,configurable:!0}),Object.defineProperty(StackedMountainRenderableSeries.prototype,"fillY1",{get:function(){return(0,l.stripAutoColor)(this.fillProperty)},set:function(e){throw Error("Setting fillY1 property is not supported on StackedMountainRenderableSeries")},enumerable:!1,configurable:!0}),Object.defineProperty(StackedMountainRenderableSeries.prototype,"strokeDashArray",{get:function(){return this.strokeDashArrayProperty},set:function(e){this.strokeDashArrayProperty=e,this.notifyPropertyChanged(d.PROPERTY.STROKE_DASH_ARRAY)},enumerable:!1,configurable:!0}),Object.defineProperty(StackedMountainRenderableSeries.prototype,"strokeY1DashArray",{get:function(){return this.strokeY1DashArrayProperty},set:function(e){this.strokeY1DashArrayProperty=e,this.drawingProviders.forEach(function(e){return e.onSeriesPropertyChange(d.PROPERTY.STROKE_Y1_DASH_ARRAY)})},enumerable:!1,configurable:!0}),StackedMountainRenderableSeries.prototype.getCurrentRenderPassData=function(){return this.currentRenderPassData},StackedMountainRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r=e.prototype.toJSON.call(this,t),i={fill:this.fill,stroke:this.stroke,strokeThickness:this.strokeThickness,strokeDashArray:this.strokeDashArray,paletteProvider:this.paletteProvider};return Object.assign(r.options,i),r},StackedMountainRenderableSeries.prototype.delete=function(){this.drawingProviders.forEach(function(e){return e.delete()}),this.drawingProviders=[],this.effect=(0,o.deleteSafe)(this.effect),e.prototype.delete.call(this)},StackedMountainRenderableSeries.prototype.toPointSeries=function(e){return new s.XyPointSeriesWrapped(this.dataSeries)},StackedMountainRenderableSeries.prototype.hasStrokePaletteProvider=function(){var e=this.paletteProvider;return(null==e?void 0:e.overrideStrokeArgb)!==void 0},StackedMountainRenderableSeries.prototype.hasFillPaletteProvider=function(){var e=this.paletteProvider;return(null==e?void 0:e.overrideFillArgb)!==void 0},StackedMountainRenderableSeries.prototype.hasPointMarkerPaletteProvider=function(){var e=this.paletteProvider;return(null==e?void 0:e.overridePointMarkerArgb)!==void 0},StackedMountainRenderableSeries.prototype.resolveAutoColors=function(t,r,i){if(e.prototype.resolveAutoColors.call(this,t,r,i),this.fillProperty.startsWith(l.AUTO_COLOR)){var n=i.getFillColor(t,r,this.webAssemblyContext);this.fill=l.AUTO_COLOR+this.adjustAutoColor("fill",n)}},StackedMountainRenderableSeries.prototype.newHitTestProvider=function(){return new f.StackedMountainSeriesHitTestProvider(this,this.webAssemblyContext)},StackedMountainRenderableSeries}(c.BaseStackedRenderableSeries);t.StackedMountainRenderableSeries=y},27130:function(e,t,r){"use strict";var i,n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.UniformContoursRenderableSeries=t.EContourColorMapMode=t.COLOR_MAP_PREFIX=void 0;var a=r(55687),s=r(51877),l=r(87994),u=r(41591),c=r(3488),d=r(36149),p=r(25352),h=r(6763);t.COLOR_MAP_PREFIX="colorMap.",(i=t.EContourColorMapMode||(t.EContourColorMapMode={}))[i.AlternateColors=0]="AlternateColors",i[i.GradientColors=1]="GradientColors";var f=function(e){function UniformContoursRenderableSeries(t,r){var i,n,o,s=this;return(s=e.call(this,t,r)||this).type=a.ESeriesType.UniformContoursSeries,s.colorMapPropertyChanged=s.colorMapPropertyChanged.bind(s),null==r||!r.colorMap||"toJSON"in r.colorMap||(r.colorMap=new h.HeatmapColorMap(r.colorMap)),s.colorMap=null==r?void 0:r.colorMap,s.dataSeries=null==r?void 0:r.dataSeries,s.xAxisId=null!==(i=null==r?void 0:r.xAxisId)&&void 0!==i?i:l.AxisCore.DEFAULT_AXIS_ID,s.xAxisId=(null==r?void 0:r.yAxisId)||l.AxisCore.DEFAULT_AXIS_ID,s.zMin=(null==r?void 0:r.zMin)||NaN,s.zMax=(null==r?void 0:r.zMax)||NaN,s.zStep=(null==r?void 0:r.zStep)||NaN,s.majorLineStyle=(null==r?void 0:r.majorLineStyle)||UniformContoursRenderableSeries.DEFAULT_MAJOR_LINE_STYLE,s.minorLineStyle=(null==r?void 0:r.minorLineStyle)||UniformContoursRenderableSeries.DEFAULT_MINOR_LINE_STYLE,s.minorsPerMajor=(null==r?void 0:r.minorsPerMajor)||0,(null===(n=s.paletteProvider)||void 0===n?void 0:n.onAttached)&&(null===(o=s.paletteProvider)||void 0===o||o.onAttached(s)),s.dataLabelProviderProperty||(s.dataLabelProviderProperty=new d.ContoursDataLabelProvider(null==r?void 0:r.dataLabels),s.dataLabelProviderProperty.onAttach(s.webAssemblyContext,s)),s.drawingProviders=[],s.drawingProviders.push(new p.UniformContoursDrawingProvider(t,s)),s}return o(UniformContoursRenderableSeries,e),Object.defineProperty(UniformContoursRenderableSeries.prototype,"zMin",{get:function(){return this.zMinProperty},set:function(e){this.zMinProperty=e,this.notifyPropertyChanged(c.PROPERTY.Z_MIN)},enumerable:!1,configurable:!0}),Object.defineProperty(UniformContoursRenderableSeries.prototype,"zMax",{get:function(){return this.zMaxProperty},set:function(e){this.zMaxProperty=e,this.notifyPropertyChanged(c.PROPERTY.Z_MAX)},enumerable:!1,configurable:!0}),Object.defineProperty(UniformContoursRenderableSeries.prototype,"zStep",{get:function(){return this.zStepProperty},set:function(e){this.zStepProperty=e,this.notifyPropertyChanged(c.PROPERTY.Z_STEP)},enumerable:!1,configurable:!0}),Object.defineProperty(UniformContoursRenderableSeries.prototype,"colorMap",{get:function(){return this.colorMapProperty},set:function(e){var t,r;null===(t=this.colorMapProperty)||void 0===t||t.propertyChanged.unsubscribe(this.colorMapPropertyChanged),this.colorMapProperty=e,null===(r=this.colorMapProperty)||void 0===r||r.propertyChanged.subscribe(this.colorMapPropertyChanged),this.notifyPropertyChanged(c.PROPERTY.COLOR_MAP)},enumerable:!1,configurable:!0}),Object.defineProperty(UniformContoursRenderableSeries.prototype,"colorMapMode",{get:function(){return this.colorMapModeProperty},set:function(e){this.colorMapModeProperty=e,this.notifyPropertyChanged(c.PROPERTY.CONTOUR_COLOR_MAP_MODE)},enumerable:!1,configurable:!0}),Object.defineProperty(UniformContoursRenderableSeries.prototype,"majorLineStyle",{get:function(){return this.majorLineStyleProperty},set:function(e){this.majorLineStyleProperty=e,this.notifyPropertyChanged(c.PROPERTY.CONTOUR_MAJOR_LINE_STYLE)},enumerable:!1,configurable:!0}),Object.defineProperty(UniformContoursRenderableSeries.prototype,"minorLineStyle",{get:function(){return this.minorLineStyleProperty},set:function(e){this.minorLineStyleProperty=e,this.notifyPropertyChanged(c.PROPERTY.CONTOUR_MINOR_LINE_STYLE)},enumerable:!1,configurable:!0}),Object.defineProperty(UniformContoursRenderableSeries.prototype,"minorsPerMajor",{get:function(){return this.minorsPerMajorProperty},set:function(e){this.minorsPerMajorProperty=e,this.notifyPropertyChanged(c.PROPERTY.CONTOUR_MINORS_PER_MAJOR)},enumerable:!1,configurable:!0}),UniformContoursRenderableSeries.prototype.getContourDrawingParams=function(){var e,t,r=this.dataSeries,i=r.zRange,n=this.zMin&&(0,s.isRealNumber)(this.zMin)?this.zMin:i.min,o=this.zMax&&(0,s.isRealNumber)(this.zMax)?this.zMax:i.max;n=Math.max(n,i.min),o=Math.min(o,i.max);var a=this.zStep&&(0,s.isRealNumber)(this.zStep)?this.zStep:Math.abs(o-n)/UniformContoursRenderableSeries.DEFAULT_CONTOURS_COUNT,l=this.minorsPerMajor&&this.minorsPerMajor>0?a/(this.minorsPerMajor+1):a,u=null!==(e=this.minorLineStyle)&&void 0!==e?e:{strokeThickness:this.strokeThickness,color:this.stroke},c=null!==(t=this.majorLineStyle)&&void 0!==t?t:{strokeThickness:this.strokeThickness,color:this.stroke};return{xMax:r.xMax,yMin:r.yMin,yMax:r.yMax,xMin:r.xMin,zMin:n,zMax:o,majorStepZ:a,minorStepZ:l,minorLineStyle:u,majorLineStyle:c}},UniformContoursRenderableSeries.prototype.toPointSeries=function(e){},UniformContoursRenderableSeries.prototype.toJSON=function(t){void 0===t&&(t=!1);var r,i=e.prototype.toJSON.call(this,t),n={colorMap:null===(r=this.colorMap)||void 0===r?void 0:r.toJSON(),majorLineStyle:this.majorLineStyle,minorLineStyle:this.minorLineStyle,zMax:this.zMax,zMin:this.zMin,zStep:this.zStep,minorsPerMajor:this.minorsPerMajor};return Object.assign(i.options,n),i},UniformContoursRenderableSeries.prototype.colorMapPropertyChanged=function(e){this.notifyPropertyChanged(t.COLOR_MAP_PREFIX+e.propertyName)},UniformContoursRenderableSeries.prototype.newHitTestProvider=function(){},UniformContoursRenderableSeries.DEFAULT_CONTOURS_COUNT=15,UniformContoursRenderableSeries.DEFAULT_MAJOR_LINE_STYLE={strokeThickness:2,color:"white"},UniformContoursRenderableSeries.DEFAULT_MINOR_LINE_STYLE={strokeThickness:1,color:"white"},UniformContoursRenderableSeries}(u.BaseRenderableSeries);t.UniformContoursRenderableSeries=f},50758:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.UniformHeatmapRenderableSeries=void 0;var o=r(2003),a=r(55687),s=r(11474),l=r(38549),u=r(1811),c=r(23331),d=function(e){function UniformHeatmapRenderableSeries(t,r){var i=e.call(this,t,r)||this;return i.type=a.ESeriesType.UniformHeatmapSeries,i.drawingProviders=[],o.IS_TEST_ENV||i.drawingProviders.push(new u.UniformHeatmapDrawingProvider(t,i)),i.dataLabelProviderProperty||(i.dataLabelProviderProperty=new l.HeatMapDataLabelProvider(null==r?void 0:r.dataLabels),i.dataLabelProviderProperty.onAttach(i.webAssemblyContext,i)),i}return n(UniformHeatmapRenderableSeries,e),UniformHeatmapRenderableSeries.prototype.newHitTestProvider=function(){return new c.UniformHeatmapHitTestProvider(this,this.webAssemblyContext)},UniformHeatmapRenderableSeries}(s.BaseHeatmapRenderableSeries);t.UniformHeatmapRenderableSeries=d},17349:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyScatterRenderableSeries=void 0;var o=r(55687),a=r(99740),s=r(42761),l=r(41591),u=r(3488),c=r(99026),d=r(46578),p=r(2828),h=function(e){function XyScatterRenderableSeries(t,r){var i,n,a,l=this;return(l=e.call(this,t,r)||this).type=o.ESeriesType.ScatterSeries,l.scatterOpacityProperty=1,l.pointMarker||(l.pointMarker=new s.EllipsePointMarker(t,{width:10,height:10})),l.drawingProviders=[],l.drawingProviders.push(new d.PointMarkerDrawingProvider(t,l)),(null==r?void 0:r.animation)&&l.animationQueue.push(r.animation),l.dataLabelProviderProperty||(l.dataLabelProviderProperty=new c.DataLabelProvider(null==r?void 0:r.dataLabels),l.dataLabelProviderProperty.onAttach(l.webAssemblyContext,l)),(null===(i=l.paletteProvider)||void 0===i?void 0:i.onAttached)&&(null===(n=l.paletteProvider)||void 0===n||n.onAttached(l)),l.scatterOpacityProperty=null!==(a=null==r?void 0:r.opacity)&&void 0!==a?a:l.scatterOpacityProperty,l}return n(XyScatterRenderableSeries,e),XyScatterRenderableSeries.prototype.needsResampling=function(e){return!!this.dataSeries.fifoCapacity&&(e.resamplingMode=a.EResamplingMode.None,this.resamplerHelper.resetAndFillBasicNativeArgs(e,this.getNativeXValues()),!0)},XyScatterRenderableSeries.prototype.newHitTestProvider=function(){return new p.ScatterSeriesHitTestProvider(this,this.webAssemblyContext)},Object.defineProperty(XyScatterRenderableSeries.prototype,"opacity",{get:function(){return this.scatterOpacityProperty},set:function(e){this.scatterOpacityProperty=e,this.notifyPropertyChanged(u.PROPERTY.OPACITY),this.pointMarker&&(this.pointMarker.opacity=e,this.notifyPropertyChanged(u.PROPERTY.POINT_MARKER))},enumerable:!1,configurable:!0}),XyScatterRenderableSeries}(l.BaseRenderableSeries);t.XyScatterRenderableSeries=h},3488:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).BRUSH_UP="BRUSH_UP",r.BRUSH_DOWN="BRUSH_DOWN",r.COLOR="COLOR",r.COLOR_MAP="COLOR_MAP",r.CONTOUR_DRAWING_MODE="CONTOUR_DRAWING_MODE",r.CONTOUR_MINORS_PER_MAJOR="CONTOUR_MINORS_PER_MAJOR",r.CONTOUR_MINOR_LINE_STYLE="CONTOUR_MINOR_LINE_STYLE",r.CONTOUR_MAJOR_LINE_STYLE="CONTOUR_MAJOR_LINE_STYLE",r.CONTOUR_COLOR_MAP_MODE="CONTOUR_COLOR_MAP_MODE",r.CORNER_RADIUS="CORNER_RADIUS",r.DATA_POINT_WIDTH="dataPointWidth",r.DATA_POINT_WIDTH_MODE="DATA_POINT_WIDTH_MODE",r.DATA_SERIES="dataSeries",r.DRAWING_PROVIDERS="DRAWING_PROVIDERS",r.DRAW_NAN_AS="drawNaNAs",r.DRAW_CONNECTOR="DRAW_CONNECTOR",r.DRAW_WHISKERS="DRAW_WHISKERS",r.EFFECT="EFFECT",r.ENABLE_DRAWING_OPTIMISATIONS="ENABLE_DRAWING_OPTIMISATIONS",r.ERROR_DIRECTION="ERROR_DIRECTION",r.ERROR_MODE="ERROR_MODE",r.FILL="fill",r.FILL_Y1="FILL_Y1",r.FILL_LINEAR_GRADIENT="FILL_LINEAR_GRADIENT",r.FILL_VALUES_OUT_OF_RANGE="FILL_VALUES_OUT_OF_RANGE",r.GRADIENT_STOPS="GRADIENT_STOPS",r.HOVERED="HOVERED",r.INTERPOLATION_POINTS="INTERPOLATION_POINTS",r.IS_DIGITAL_LINE="IS_DIGITAL_LINE",r.IS_ONE_HUNDRED_PERCENT="IS_ONE_HUNDRED_PERCENT",r.IS_SELECTED="IS_SELECTED",r.IS_VISIBLE="IS_VISIBLE",r.INTENSITY="INTENSITY",r.LINE_TYPE="LINE_TYPE",r.MAXIMUM="MAXIMUM",r.MINIMUM="MINIMUM",r.OFFSET="OFFSET",r.OPACITY="OPACITY",r.PALETTE_PROVIDER="PALETTE_PROVIDER",r.PARENT_SURFACE="PARENT_SURFACE",r.POINT_MARKER="pointMarker",r.RANGE="RANGE",r.RESAMPLING_MODE="RESAMPLING_MODE",r.RESAMPLING_PRECISION="RESAMPLING_PRECISION",r.SPACING="SPACING",r.STACKED_GROUP_ID="STACKED_GROUP_ID",r.STROKE="STROKE",r.STROKE_Y1="STROKE_Y1",r.STROKE_DASH_ARRAY="STROKE_DASH_ARRAY",r.STROKE_Y1_DASH_ARRAY="STROKE_Y1_DASH_ARRAY",r.STROKE_DOWN="STROKE_DOWN",r.STROKE_UP="STROKE_UP",r.STROKE_THICKNESS="STROKE_THICKNESS",r.USE_LINEAR_TEXTURE_FILTERING="USE_LINEAR_TEXTURE_FILTERING",r.XAXIS_ID="XAXIS_ID",r.YAXIS_ID="YAXIS_ID",r.ZERO_LINE_Y="ZERO_LINE_Y",r.Z_STEP="Z_STEP",r.Z_MAX="Z_MAX",r.Z_MIN="Z_MIN",r.Z_MULTIPLIER="Z_MULTIPLIER",r.Z_LABEL_PROVIDER="Z_LABEL_PROVIDER",r.SERIES_TEXT_PROVIDER="SERIES_TEXT_PROVIDER",r.CLIPTOYRANGE="CLIPTOYRANGE",r.YRANGEMODE="YRANGEMODE"},1590:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.RubberBandSvgRect=void 0;var o=r(15492),a=r(49943),s=function(e){function RubberBandSvgRect(t,r,i,n){var o=e.call(this)||this;return o.svgTemplate=svgTemplate,o.x1Property=0,o.x2Property=0,o.y1Property=0,o.y2Property=0,o.isHiddenProperty=!0,o.svgRoot=t,o.create(r,i,n),o}return n(RubberBandSvgRect,e),Object.defineProperty(RubberBandSvgRect.prototype,"x1",{get:function(){return this.x1Property},set:function(e){this.x1Property=e,this.notifyPropertyChanged(a.PROPERTY.X1)},enumerable:!1,configurable:!0}),Object.defineProperty(RubberBandSvgRect.prototype,"x2",{get:function(){return this.x2Property},set:function(e){this.x2Property=e,this.notifyPropertyChanged(a.PROPERTY.X2)},enumerable:!1,configurable:!0}),Object.defineProperty(RubberBandSvgRect.prototype,"y1",{get:function(){return this.y1Property},set:function(e){this.y1Property=e,this.notifyPropertyChanged(a.PROPERTY.Y1)},enumerable:!1,configurable:!0}),Object.defineProperty(RubberBandSvgRect.prototype,"y2",{get:function(){return this.y2Property},set:function(e){this.y2Property=e,this.notifyPropertyChanged(a.PROPERTY.Y2)},enumerable:!1,configurable:!0}),Object.defineProperty(RubberBandSvgRect.prototype,"isHidden",{get:function(){return this.isHiddenProperty},set:function(e){this.isHiddenProperty=e,this.notifyPropertyChanged(a.PROPERTY.IS_HIDDEN)},enumerable:!1,configurable:!0}),RubberBandSvgRect.prototype.clear=function(){this.svgRoot.removeChild(this.svg)},RubberBandSvgRect.prototype.delete=function(){this.clear()},RubberBandSvgRect.prototype.create=function(e,t,r){if(this.svg&&this.clear(),this.svgRoot){var i=this.svgTemplate(e,t,r,0,0);this.svgRoot.appendChild(i),this.svg=i,this.svg.setAttribute("x","100px"),this.svg.setAttribute("y","100px")}},RubberBandSvgRect.prototype.update=function(e){if(this.svgRoot){if(e===a.PROPERTY.IS_HIDDEN&&(this.svg.style.display=this.isHidden?"none":"block"),e===a.PROPERTY.X1||e===a.PROPERTY.X2){var t=Math.abs(this.x2-this.x1);this.svg.setAttribute("x",this.x1.toString()),this.svg.setAttribute("width","".concat(t,"px"))}if(e===a.PROPERTY.Y1||e===a.PROPERTY.Y2){var r=Math.abs(this.y2-this.y1);this.svg.setAttribute("y",this.y1.toString()),this.svg.setAttribute("height","".concat(r,"px"))}}},RubberBandSvgRect.prototype.notifyPropertyChanged=function(e){this.update(e)},RubberBandSvgRect}(o.DeletableEntity);t.RubberBandSvgRect=s;var svgTemplate=function(e,t,r,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg");a.setAttributeNS(null,"width",i.toString()),a.setAttributeNS(null,"height",n.toString()),a.style.display="none";var s=document.createElementNS(o,"rect");return a.appendChild(s),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"fill",e),s.setAttributeNS(null,"stroke",t),s.setAttributeNS(null,"stroke-width",r.toString()),a}},49943:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).IS_HIDDEN="IS_HIDDEN",r.X1="X1",r.X2="X2",r.Y1="Y1",r.Y2="Y2"},3192:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartDefaults=void 0;var i=r(36108),n=function(){function SciChartDefaults(){}return SciChartDefaults.asyncLabels=!1,SciChartDefaults.useSharedCache=!1,SciChartDefaults.enableResampling=!0,SciChartDefaults.performanceWarnings=!0,SciChartDefaults.useNativeText=!1,SciChartDefaults.nativeFontTimeout=2e3,SciChartDefaults.watermarkPosition=i.EWatermarkPosition.BottomLeft,SciChartDefaults.watermarkRelativeToCanvas=!1,SciChartDefaults.wasmBufferSizesKb=8192,SciChartDefaults.createSuspended=!1,SciChartDefaults}();t.SciChartDefaults=n},27702:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartOverview=void 0;var l=r(80820),u=r(15492),c=r(51134),d=r(27817),p=r(18157),h=r(80467),f=r(73336),y=r(36943),g=r(28670),v=r(48307),m=r(34282),S=function(e){function SciChartOverview(t,r,i,n,o,a){var s=e.call(this)||this;return s.overviewXAxisProperty=o,s.overviewYAxisProperty=a,s.rangeSelectionModifierProperty=n,s.parentSciChartSurfaceProperty=t,s.overviewSciChartSurfaceProperty=r,s.overviewWasmContext=i,s}return n(SciChartOverview,e),SciChartOverview.create=function(e,t,r){return a(this,void 0,void 0,function(){var i,n,o,a,l,u;return s(this,function(s){switch(s.label){case 0:return[4,createSciChartOverview(e,t,r)];case 1:return n=(i=s.sent()).sciChartSurface,o=i.wasmContext,a=i.rangeSelectionModifier,l=i.xAxis,u=i.yAxis,[2,new SciChartOverview(e,n,o,a,l,u)]}})})},Object.defineProperty(SciChartOverview.prototype,"overviewSciChartSurface",{get:function(){return this.overviewSciChartSurfaceProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartOverview.prototype,"parentSciChartSurface",{get:function(){return this.parentSciChartSurfaceProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartOverview.prototype,"rangeSelectionModifier",{get:function(){return this.rangeSelectionModifierProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartOverview.prototype,"overviewXAxis",{get:function(){return this.overviewXAxisProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartOverview.prototype,"overviewYAxis",{get:function(){return this.overviewYAxisProperty},enumerable:!1,configurable:!0}),SciChartOverview.prototype.applyTheme=function(e){this.overviewSciChartSurface.applyTheme(e)},SciChartOverview.prototype.delete=function(){this.overviewSciChartSurface&&!this.overviewSciChartSurface.isDeleted&&this.overviewSciChartSurface.delete(),this.overviewWasmContext=void 0},SciChartOverview}(u.DeletableEntity);t.SciChartOverview=S;var createSciChartOverview=function(e,t,r){return a(void 0,void 0,void 0,function(){var i,n,a,u,S,b,P,C,x,A,T,_,R,E,w,D,O,I,M,L,k,N;return s(this,function(s){switch(s.label){case 0:return[4,m.SciChartSurface.create(t,r)];case 1:if(n=(i=s.sent()).wasmContext,a=i.sciChartSurface,u=null!==(M=null==r?void 0:r.mainAxisId)&&void 0!==M?M:f.AxisBase2D.DEFAULT_AXIS_ID,S=null!==(L=null==r?void 0:r.secondaryAxisId)&&void 0!==L?L:f.AxisBase2D.DEFAULT_AXIS_ID,b=e.getXAxisById(u),P=e.getYAxisById(S),!b)throw Error("Could not find a main axis with id ".concat(u,".")+((null==r?void 0:r.mainAxisId)?"":"Please specify mainAxisId in the options"));if(!b)throw Error("Could not find a secondary axis with id ".concat(S,".")+((null==r?void 0:r.secondaryAxisId)?"":"Please specify secondaryAxisId in the options"));return C=b.isXAxis?b:P,x=b.isXAxis?P:b,A=o({axisAlignment:C.axisAlignment,isVisible:!1,autoRange:d.EAutoRange.Always,visibleRange:C.visibleRange},null==r?void 0:r.overviewXAxisOptions),T=o({axisAlignment:x.axisAlignment,isVisible:!1,autoRange:d.EAutoRange.Always,visibleRange:x.visibleRange},null==r?void 0:r.overviewYAxisOptions),_=C.isCategoryAxis?new y.CategoryAxis(n,A):C.type===p.EAxisType.LogarithmicAxis?new g.LogarithmicAxis(n,A):new v.NumericAxis(n,A),R=x.isCategoryAxis?new y.CategoryAxis(n,T):C.type===p.EAxisType.LogarithmicAxis?new g.LogarithmicAxis(n,T):new v.NumericAxis(n,T),E=b.isXAxis?_:R,w=function(e){if(e.xAxisId===C.id&&e.yAxisId===x.id){var t=(0,l.buildSeries)(n,e.toJSON(!0))[0];return t.dataSeries=e.dataSeries,t.xAxisId=_.id,t.yAxisId=R.id,t}},D=e.renderableSeries.asArray().map(null!==(k=null==r?void 0:r.transformRenderableSeries)&&void 0!==k?k:w).filter(function(e){return e}),a.xAxes.add(_),a.yAxes.add(R),(I=a.renderableSeries).add.apply(I,D),a.zoomExtents(),(O=null!==(N=null==r?void 0:r.customRangeSelectionModifier)&&void 0!==N?N:new h.OverviewRangeSelectionModifier).xAxisId=_.id,O.yAxisId=R.id,O.onSelectedAreaChanged=function(e){e.equals(b.visibleRange)||(b.visibleRange=e)},O.selectedArea=new c.NumberRange(Math.max(_.visibleRange.min,b.visibleRange.min),Math.min(_.visibleRange.max,b.visibleRange.max)),a.chartModifiers.add(O),(null==r?void 0:r.rangeSelectionAnnotationSvgString)!==void 0&&(O.rangeSelectionAnnotation.svgString=r.rangeSelectionAnnotationSvgString),_.visibleRangeChanged.subscribe(function(e){var t=e.visibleRange,r=b.visibleRange.clip(t);O.selectedArea=r}),b.visibleRangeChanged.subscribe(function(e){var t=e.visibleRange.clip(E.visibleRange);t.equals(O.selectedArea)||(O.selectedArea=t)}),[2,{sciChartSurface:a,xAxis:_,yAxis:R,rangeSelectionModifier:O,wasmContext:n}]}})})}},24934:function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.PieSegment=void 0;var n=r(53247),o=r(48484),a=r(51894),s=r(92200),l=r(12344),u=r(6606),c=function(){function PieSegment(e){var t,r,i,l,u,c,d,p,h,f;this.colorProperty="grey",this.isSelectedProperty=!1,this.textProperty="",this.deltaProperty=15,this.shiftProperty=0,this.labelOffsetProperty=new o.Point(0,0),this.radiusAdjustmentProperty=1,this.id=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:(0,s.generateGuid)(),this.colorProperty=null!==(r=null==e?void 0:e.color)&&void 0!==r?r:this.colorProperty,this.colorLinearGradientProperty=null!==(i=null==e?void 0:e.colorLinearGradient)&&void 0!==i?i:this.colorLinearGradientProperty,this.isSelectedProperty=null!==(l=null==e?void 0:e.isSelected)&&void 0!==l?l:this.isSelectedProperty,this.textProperty=null!==(u=null==e?void 0:e.text)&&void 0!==u?u:this.textProperty,this.valueProperty=null!==(c=null==e?void 0:e.value)&&void 0!==c?c:this.valueProperty,this.deltaProperty=null!==(d=null==e?void 0:e.delta)&&void 0!==d?d:this.deltaProperty,this.showLabelProperty=null===(p=null==e?void 0:e.showLabel)||void 0===p||p,null==e||!e.labelProvider||"getSegmentText"in(null==e?void 0:e.labelProvider)||(e.labelProvider=(0,n.createType)(a.EBaseType.LabelProvider,e.labelProvider.type,void 0,e.labelProvider.options)),this.labelProviderProperty=null==e?void 0:e.labelProvider,this.labelOffsetProperty=null!==(h=null==e?void 0:e.labelOffset)&&void 0!==h?h:this.labelOffsetProperty,this.labelStyleProperty=null==e?void 0:e.labelStyle,this.radiusAdjustmentProperty=null!==(f=null==e?void 0:e.radiusAdjustment)&&void 0!==f?f:this.radiusAdjustmentProperty}return PieSegment.prototype.onAttach=function(e){this.parentSurface=e,this.labelProviderProperty&&this.labelProviderProperty.attachedToSurface(e),this.invalidateParentCallback=e.invalidateElement},PieSegment.prototype.onDetach=function(){this.invalidateParentCallback=void 0},Object.defineProperty(PieSegment.prototype,"showLabel",{get:function(){return this.showLabelProperty},set:function(e){this.showLabelProperty=e,this.notifyPropertyChanged(u.PROPERTY.SHOW_LABEL)},enumerable:!1,configurable:!0}),Object.defineProperty(PieSegment.prototype,"colorLinearGradient",{get:function(){return this.colorLinearGradientProperty},set:function(e){this.colorLinearGradientProperty=e,this.notifyPropertyChanged(u.PROPERTY.COLOR_LINEAR_GRADIENT)},enumerable:!1,configurable:!0}),Object.defineProperty(PieSegment.prototype,"color",{get:function(){return this.colorProperty},set:function(e){this.colorProperty=e,this.notifyPropertyChanged(u.PROPERTY.COLOR)},enumerable:!1,configurable:!0}),Object.defineProperty(PieSegment.prototype,"isSelected",{get:function(){return this.isSelectedProperty},set:function(e){this.isSelectedProperty!==e&&(this.isSelectedProperty=e,this.notifyPropertyChanged(u.PROPERTY.IS_SELECTED))},enumerable:!1,configurable:!0}),Object.defineProperty(PieSegment.prototype,"text",{get:function(){return this.textProperty},set:function(e){this.textProperty=e,this.notifyPropertyChanged(u.PROPERTY.TEXT)},enumerable:!1,configurable:!0}),Object.defineProperty(PieSegment.prototype,"labelProvider",{get:function(){return void 0===this.labelProviderProperty&&(this.labelProvider=new l.PieLabelProvider),this.labelProviderProperty},set:function(e){this.labelProviderProperty=e,this.notifyPropertyChanged(u.PROPERTY.LABEL_PROVIDER)},enumerable:!1,configurable:!0}),PieSegment.prototype.getPercentage=function(e){return 100*this.value/e},Object.defineProperty(PieSegment.prototype,"value",{get:function(){return this.valueProperty},set:function(e){this.oldValueProperty=this.valueProperty,this.valueProperty=e,this.notifyPropertyChanged(u.PROPERTY.VALUE)},enumerable:!1,configurable:!0}),Object.defineProperty(PieSegment.prototype,"oldValue",{get:function(){return this.oldValueProperty},enumerable:!1,configurable:!0}),Object.defineProperty(PieSegment.prototype,"delta",{get:function(){return this.deltaProperty},set:function(e){this.deltaProperty!==e&&(this.deltaProperty=e,this.notifyPropertyChanged(u.PROPERTY.DELTA))},enumerable:!1,configurable:!0}),Object.defineProperty(PieSegment.prototype,"shift",{get:function(){return this.shiftProperty},set:function(e){this.shiftProperty!==e&&(this.shiftProperty=e,this.notifyPropertyChanged(u.PROPERTY.SHIFT))},enumerable:!1,configurable:!0}),Object.defineProperty(PieSegment.prototype,"labelStyle",{get:function(){var e;return i(i({},null===(e=this.parentSurface)||void 0===e?void 0:e.labelStyle),this.labelStyleProperty)},set:function(e){this.labelStyleProperty=i(i({},this.labelStyleProperty),e),this.notifyPropertyChanged(u.PROPERTY.LABEL_STYLE)},enumerable:!1,configurable:!0}),Object.defineProperty(PieSegment.prototype,"labelOffset",{get:function(){return this.labelOffsetProperty},set:function(e){var t,r;(null===(t=this.labelOffsetProperty)||void 0===t?void 0:t.x)!==e.x&&(null===(r=this.labelOffsetProperty)||void 0===r?void 0:r.y)!==e.y&&(this.labelOffsetProperty=e,this.notifyPropertyChanged(u.PROPERTY.LABEL_OFFSET))},enumerable:!1,configurable:!0}),Object.defineProperty(PieSegment.prototype,"radiusAdjustment",{get:function(){return this.radiusAdjustmentProperty},set:function(e){this.radiusAdjustmentProperty=e,this.notifyPropertyChanged(u.PROPERTY.RADIUS_ADJUSTMENT)},enumerable:!1,configurable:!0}),PieSegment.prototype.toJSON=function(){var e;return{id:this.id,color:this.color,colorLinearGradient:this.colorLinearGradient,isSelected:this.isSelected,delta:this.delta,text:this.text,value:this.value,labelProvider:null===(e=this.labelProviderProperty)||void 0===e?void 0:e.toJSON(),labelOffset:this.labelOffset,labelStyle:this.labelStyle,radiusAdjustment:this.radiusAdjustment}},PieSegment.prototype.getLabelText=function(e){return this.labelProviderProperty?this.labelProvider.getSegmentText(this,e):this.parentSurface.labelProvider.getSegmentText(this,e)},PieSegment.prototype.notifyPropertyChanged=function(e){e===u.PROPERTY.LABEL_PROVIDER&&this.labelProviderProperty&&this.labelProviderProperty.attachedToSurface(this.parentSurface),this.invalidateParentCallback&&this.invalidateParentCallback(e)},PieSegment}();t.PieSegment=c},6606:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).COLOR="COLOR",r.COLOR_LINEAR_GRADIENT="COLOR_LINEAR_GRADIENT",r.DELTA="DELTA",r.IS_SELECTED="IS_SELECTED",r.PERCENTAGE="PERCENTAGE",r.TEXT="TEXT",r.VALUE="VALUE",r.SHIFT="SHIFT",r.LABEL_PROVIDER="LABEL_PROVIDER",r.LABEL_STYLE="LABEL_STYLE",r.LABEL_OFFSET="LABEL_OFFSET",r.RADIUS_ADJUSTMENT="RADIUS_ADJUSTMENT",r.SHOW_LABEL="SHOW_LABEL"},18397:function(e,t,r){"use strict";var i,n,o,a,s,l,u,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),d=this&&this.__assign||function(){return(d=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},p=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.addEventListenerToPieSegment=t.SciChartPieSurface=t.EPieValueMode=t.EPieType=t.ESizingMode=void 0;var h=r(64304),f=r(53247),y=r(2003),g=r(19513),v=r(15492),m=r(94694),S=r(35855),b=r(6695),P=r(19542),C=r(47494),x=r(51894),A=r(82042),T=r(92200),_=r(34297),R=r(78501),E=r(12344),w=r(75368),D=r(71413),O=r(61239),I=r(91462),M=r(41368),L=r(6606),k=Math.PI/180;(i=s=t.ESizingMode||(t.ESizingMode={})).Absolute="Absolute",i.Relative="Relative",(n=l=t.EPieType||(t.EPieType={})).Pie="Pie",n.Donut="Donut",(o=u=t.EPieValueMode||(t.EPieValueMode={}))[o.Percentage=0]="Percentage",o[o.Raw=1]="Raw";var N=function(e){function SciChartPieSurface(t,r){void 0===t&&(t={});var i,n,o,a,c,d,p,h,y,g,v,m,b,A,R,M,L=this;(L=e.call(this)||this).animate=!0,L.animationFrames=30,L.rendered=new S.EventHandler,L.pieTypeProperty=l.Pie,L.holeRadiusProperty=.5,L.holeRadiusSizingModeProperty=s.Relative,L.seriesSpacingProperty=0,L.labelRadiusProperty=1,L.titleDivs=[],L.sweepAnimationDone=!1,L.suspendUpdate=!1,L.themeProviderProperty=new _.SciChartJSDarkTheme,L.previousThemeProviderProperty=new _.SciChartJSDarkTheme,L.deletables=[],L.valueModeProperty=u.Percentage,L.labelStyleProperty={fontSize:14,fontFamily:"Arial",color:"#1e323d",fontWeight:"bold"},L.id=null!==(i=null==r?void 0:r.id)&&void 0!==i?i:(0,T.generateGuid)(),L.domChartRoot=t.domChartRoot,L.domCanvas2D=t.domCanvas2D,L.domSvgContainer=t.domSvgContainer,L.domSvgAdornerLayer=t.domSvgAdornerLayer,L.domDivContainer=t.domDivContainer;var k=L.domCanvas2D.width/I.DpiHelper.PIXEL_RATIO,N=L.domCanvas2D.height/I.DpiHelper.PIXEL_RATIO;return L.viewRect=new C.Rect(0,0,k,N),L.resizeSubscriptionToken=D.default.subscribeToResize(t.domCanvas2D,t.aspect,L),L.drawChart=L.drawChart.bind(L),L.deleteInternals=L.deleteInternals.bind(L),L.invalidateElement=L.invalidateElement.bind(L),L.detachPieSegment=L.detachPieSegment.bind(L),L.attachPieSegment=L.attachPieSegment.bind(L),L.pieSegments=new P.ObservableArray,L.pieSegments.collectionChanged.subscribe(function(e){var t,r;null===(t=e.getOldItems())||void 0===t||t.forEach(L.detachPieSegment),null===(r=e.getNewItems())||void 0===r||r.forEach(L.attachPieSegment),L.invalidateElement()}),L.applySciChartBackground(O.SciChartSurfaceBase.DEFAULT_THEME.sciChartBackground),L.legend=new w.SciChartPieLegend,L.legend.setRootDiv(L.domDivContainer),L.legend.setPieSegmentArray(L.pieSegments.asArray()),L.legend.setInvalidateParentSurface(L.invalidateElement),L.legend.setParentSurface(L),L.heightAspect=null!==(n=null==r?void 0:r.heightAspect)&&void 0!==n?n:0,L.widthAspect=null!==(o=null==r?void 0:r.widthAspect)&&void 0!==o?o:0,L.pieTypeProperty=null!==(a=null==r?void 0:r.pieType)&&void 0!==a?a:L.pieType,L.holeRadiusProperty=null!==(c=null==r?void 0:r.holeRadius)&&void 0!==c?c:L.holeRadius,L.animate=null!==(d=null==r?void 0:r.animate)&&void 0!==d?d:L.animate,L.holeRadiusSizingModeProperty=null!==(p=null==r?void 0:r.holeRadiusSizingMode)&&void 0!==p?p:L.holeRadiusSizingModeProperty,L.seriesSpacingProperty=null!==(h=null==r?void 0:r.seriesSpacing)&&void 0!==h?h:L.seriesSpacingProperty,L.labelRadiusProperty=null!==(y=null==r?void 0:r.labelRadiusAdjustment)&&void 0!==y?y:L.labelRadiusProperty,L.legend.showLegend=null!==(g=null==r?void 0:r.showLegend)&&void 0!==g?g:L.legend.showLegend,L.legend.animate=null!==(v=null==r?void 0:r.animateLegend)&&void 0!==v?v:L.legend.animate,L.legend.showCheckboxes=null!==(m=null==r?void 0:r.showLegendCheckBoxes)&&void 0!==m?m:L.legend.showCheckboxes,L.legend.showSeriesMarkers=null!==(b=null==r?void 0:r.showLegendSeriesMarkers)&&void 0!==b?b:L.legend.showSeriesMarkers,L.paddingProperty=null!==(A=null==r?void 0:r.padding)&&void 0!==A?A:L.paddingProperty,null==r||!r.labelProvider||"getSegmentText"in(null==r?void 0:r.labelProvider)||(r.labelProvider=(0,f.createType)(x.EBaseType.LabelProvider,r.labelProvider.type,void 0,r.labelProvider.options)),L.labelProvider=null!==(R=null==r?void 0:r.labelProvider)&&void 0!==R?R:new E.PieLabelProvider,L.valueModeProperty=null!==(M=null==r?void 0:r.valueMode)&&void 0!==M?M:L.valueModeProperty,L}return c(SciChartPieSurface,e),SciChartPieSurface.create=function(e,t){(0,h.ensureRegistrations)();var r,i,n=D.default.initCanvas(e,null!==(r=null==t?void 0:t.widthAspect)&&void 0!==r?r:0,null!==(i=null==t?void 0:t.heightAspect)&&void 0!==i?i:0,D.default.ECanvasType.svg,void 0,null==t?void 0:t.touchAction);return new Promise(function(e){p(p(p(p([],b.sciChartDestinations,!0),b.sciChart3DDestinations,!0),b.sciChartSingleDestinations,!0),b.sciChartPieDestinations,!0).filter(function(e){return e.sciChartSurface.domChartRoot.id===n.domChartRoot.id}).forEach(function(e){return e.sciChartSurface.delete()}),t=O.SciChartSurfaceBase.resolveOptions(t);var r,i,o,a=new SciChartPieSurface(n,t);a.applyTheme(null==t?void 0:t.theme),b.sciChartPieDestinations.push({canvasElementId:null===(r=n.domCanvas2D)||void 0===r?void 0:r.id,sciChartSurface:a,width:null===(i=n.domCanvas2D)||void 0===i?void 0:i.width,height:null===(o=n.domCanvas2D)||void 0===o?void 0:o.height}),a.setDestinations(b.sciChartPieDestinations),setTimeout(function(){return e(a)},0)})},Object.defineProperty(SciChartPieSurface.prototype,"isDeleted",{get:function(){return this.isDeletedProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartPieSurface.prototype,"labelProvider",{get:function(){return this.labelProviderProperty},set:function(e){e&&this.labelProviderProperty!==e&&(this.labelProviderProperty=e,this.notifyPropertyChanged(M.PROPERTY.LABEL_PROVIDER))},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartPieSurface.prototype,"labelStyle",{get:function(){return this.labelStyleProperty},set:function(e){this.labelStyleProperty=d(d({},this.labelStyle),e),this.notifyPropertyChanged(M.PROPERTY.TEXT_STYLE)},enumerable:!1,configurable:!0}),SciChartPieSurface.prototype.applyTheme=function(e){this.previousThemeProviderProperty=this.themeProviderProperty,this.themeProviderProperty=e,this.applySciChartBackground(e.sciChartBackground),this.labelStyle.color===this.previousThemeProvider.tickTextBrush&&(this.labelStyle={color:e.tickTextBrush}),this.invalidateElement()},Object.defineProperty(SciChartPieSurface.prototype,"themeProvider",{get:function(){return this.themeProviderProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartPieSurface.prototype,"previousThemeProvider",{get:function(){return this.previousThemeProviderProperty},enumerable:!1,configurable:!0}),SciChartPieSurface.prototype.setDestinations=function(e){this.destinations=e},Object.defineProperty(SciChartPieSurface.prototype,"otherSurfaces",{get:function(){var e=this;return this.destinations?this.destinations.map(function(e){return e.sciChartSurface}).filter(function(t){return t!==e}):[]},enumerable:!1,configurable:!0}),SciChartPieSurface.prototype.invalidateElement=function(e){this.isValidToDraw()&&(e===L.PROPERTY.VALUE&&(this.sweepAnimationDone=!1),this.update())},SciChartPieSurface.prototype.update=function(){var e;this.suspendUpdate||(this.draw(),null===(e=this.legend)||void 0===e||e.update())},SciChartPieSurface.prototype.delete=function(){var e,t=this;this.deleteInternals(),this.legend=(0,m.deleteSafe)(this.legend),this.labelProvider=(0,m.deleteSafe)(this.labelProvider),this.resizeSubscriptionToken=(0,m.deleteSafe)(this.resizeSubscriptionToken);var r=null===(e=this.destinations)||void 0===e?void 0:e.findIndex(function(e){return e.sciChartSurface.id===t.id});r>=0&&this.destinations.splice(r,1),this.isDeletedProperty=!0},SciChartPieSurface.prototype.deleteInternals=function(e){var t=this;this.svg&&(this.domSvgContainer.removeChild(this.svg),this.svg=void 0),e||(this.titleDivs.forEach(function(e){t.domDivContainer.removeChild(e)}),this.titleDivs=[]);for(var r=0,i=this.deletables;r<i.length;r++){var n=i[r];(0,m.deleteSafe)(n)}this.deletables=[]},SciChartPieSurface.prototype.addDeletable=function(e){this.deletables.push(e)},SciChartPieSurface.prototype.changeViewportSize=function(e,t){this.viewRect=new C.Rect(0,0,e,t),this.changeDomViewportSize(e,t),this.invalidateElement()},Object.defineProperty(SciChartPieSurface.prototype,"pieType",{get:function(){return this.pieTypeProperty},set:function(e){this.pieTypeProperty=e,this.notifyPropertyChanged(M.PROPERTY.PIE_TYPE)},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartPieSurface.prototype,"holeRadius",{get:function(){return this.holeRadiusProperty},set:function(e){this.holeRadiusProperty=e,this.notifyPropertyChanged(M.PROPERTY.HOLE_RADIUS)},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartPieSurface.prototype,"holeRadiusSizingMode",{get:function(){return this.holeRadiusSizingModeProperty},set:function(e){this.holeRadiusSizingModeProperty=e,this.notifyPropertyChanged(M.PROPERTY.HOLE_RADIUS_SIZING_MODE)},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartPieSurface.prototype,"padding",{get:function(){return this.paddingProperty},set:function(e){this.paddingProperty!==e&&(this.paddingProperty=e,this.updateLegendMargin(),this.notifyPropertyChanged(M.PROPERTY.PADDING))},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartPieSurface.prototype,"canvasBorder",{get:function(){return this.canvasBorderProperty},set:function(e){this.canvasBorderProperty!==e&&(this.canvasBorderProperty=e,this.updateLegendMargin(),this.notifyPropertyChanged(M.PROPERTY.PADDING))},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartPieSurface.prototype,"seriesSpacing",{get:function(){return this.seriesSpacingProperty},set:function(e){this.seriesSpacingProperty!==e&&(this.seriesSpacingProperty=e,this.notifyPropertyChanged(M.PROPERTY.SERIES_SPACING))},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartPieSurface.prototype,"valueMode",{get:function(){return this.valueModeProperty},set:function(e){this.valueModeProperty=e,this.notifyPropertyChanged(M.PROPERTY.VALUE_MODE)},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartPieSurface.prototype,"labelRadiusAdjustment",{get:function(){return this.labelRadiusProperty},set:function(e){this.labelRadiusProperty=e,this.notifyPropertyChanged(M.PROPERTY.VALUE_MODE)},enumerable:!1,configurable:!0}),SciChartPieSurface.prototype.toJSON=function(e){void 0===e&&(e=!1),t="toJSON"in this.themeProvider?this.themeProvider.toJSON():this.themeProvider;var t,r={surface:{animate:this.animate,animateLegend:this.legend.animate,heightAspect:this.heightAspect,widthAspect:this.widthAspect,holeRadius:this.holeRadius,holeRadiusSizingMode:this.holeRadiusSizingMode,pieType:this.pieType,showLegend:this.legend.showLegend,showLegendCheckBoxes:this.legend.showCheckboxes,showLegendSeriesMarkers:this.legend.showSeriesMarkers,padding:this.padding,canvasBorder:this.canvasBorder,seriesSpacing:this.seriesSpacing,labelProvider:this.labelProvider.toJSON(),valueMode:this.valueMode,labelRadiusAdjustment:this.labelRadiusAdjustment,animationFrames:this.animationFrames,theme:t},onCreated:this.onCreatedName};return e||(r.segments=this.pieSegments.asArray().map(function(e){return e.toJSON()})),{type:A.ESciChartSurfaceType.Pie2D,options:r}},SciChartPieSurface.prototype.calcTitlePosition=function(e,t,r,i,n,o,a,s,l){var u=i<r/2?2*r/3+i/6:(r+i)/2,c=(n+o)/2;return{left:e+Math.cos(k*c)*(u*this.labelRadiusProperty+a)-s/2,top:t+Math.sin(k*c)*(u*this.labelRadiusProperty+a)-l/2}},SciChartPieSurface.prototype.changeDomViewportSize=function(e,t){this.domSvgContainer&&(this.domSvgContainer.setAttribute("width",e.toString()),this.domSvgContainer.setAttribute("height",t.toString())),this.domSvgAdornerLayer&&(this.domSvgAdornerLayer.setAttribute("width",e.toString()),this.domSvgAdornerLayer.setAttribute("height",t.toString()))},SciChartPieSurface.prototype.notifyPropertyChanged=function(e){this.invalidateElement(),e===M.PROPERTY.LABEL_PROVIDER&&this.labelProviderProperty&&this.labelProviderProperty.attachedToSurface(this)},SciChartPieSurface.prototype.isValidToDraw=function(){return!0},SciChartPieSurface.prototype.detachPieSegment=function(e){e.onDetach()},SciChartPieSurface.prototype.attachPieSegment=function(e){e.onAttach(this)},SciChartPieSurface.prototype.updateLegendMargin=function(){var e,t,r,i=(null===(e=this.padding)||void 0===e?void 0:e.top)||0,n=(null===(t=this.canvasBorder)||void 0===t?void 0:t.border)||(null===(r=this.canvasBorder)||void 0===r?void 0:r.borderTop)||0;this.legend.margin=i+n+10},SciChartPieSurface.prototype.calculateViewRectWidth=function(e){var t,r,i,n,o;return(null===(t=this.padding)||void 0===t?void 0:t.left)&&(e-=this.padding.left),(null===(r=this.padding)||void 0===r?void 0:r.right)&&(e-=this.padding.right),(null===(i=this.canvasBorder)||void 0===i?void 0:i.border)?e-=2*this.canvasBorder.border:((null===(n=this.canvasBorder)||void 0===n?void 0:n.borderLeft)&&(e-=this.canvasBorder.borderLeft),(null===(o=this.canvasBorder)||void 0===o?void 0:o.borderRight)&&(e-=this.canvasBorder.borderRight)),e},SciChartPieSurface.prototype.calculateViewRectHeight=function(e){var t,r,i,n,o;return(null===(t=this.padding)||void 0===t?void 0:t.top)&&(e-=this.padding.top),(null===(r=this.padding)||void 0===r?void 0:r.bottom)&&(e-=this.padding.bottom),(null===(i=this.canvasBorder)||void 0===i?void 0:i.border)?e-=2*this.canvasBorder.border:((null===(n=this.canvasBorder)||void 0===n?void 0:n.borderTop)&&(e-=this.canvasBorder.borderTop),(null===(o=this.canvasBorder)||void 0===o?void 0:o.borderBottom)&&(e-=this.canvasBorder.borderBottom)),e},SciChartPieSurface.prototype.draw=function(){var e=this;if(0!==this.pieSegments.size()){if(this.sweepAnimationDone||!this.animate)this.deleteInternals(),this.drawChart();else{var r=this.animationFrames;this.suspendUpdate=!0;var i=this.invalidateElement,n=this.drawChart,o=this.deleteInternals;!function myLoop(t){setTimeout(function(){var a=t/r;o(!0),n(a),t===r&&(e.suspendUpdate=!1,e.sweepAnimationDone=!0,i()),++t<=r&&myLoop(t)},20)}(1)}y.IS_TEST_ENV||this.pieSegments.asArray().forEach(function(r){var i=e.domChartRoot.querySelector("[id='".concat(r.id,"']"));if(i){var n=(0,t.addEventListenerToPieSegment)(r,i,e.animate);e.addDeletable(n)}}),this.rendered.raiseEvent()}},SciChartPieSurface.prototype.drawChart=function(e){var t=this;void 0===e&&(e=1);var r=this.pieSegmentsTotalValue();if(r){var i=this.themeProviderProperty.sciChartBackground,n=this.pieSegments.asArray(),o=this.pieSegmentsTotalOldValue(),a=.8*Math.min(this.calculateViewRectWidth(this.viewRect.width),this.calculateViewRectHeight(this.viewRect.height))/2,u=0;this.pieType===l.Donut&&(u=this.holeRadiusSizingMode===s.Absolute?this.holeRadius:a*this.holeRadius);var c=this.calculateViewRectWidth(this.viewRect.width)/2,d=this.calculateViewRectHeight(this.viewRect.height)/2,p="<defs>",h="",f=0,y=0;n.forEach(function(n,s){if(0!==n.value){var v,m=null!==(v=n.oldValue)&&void 0!==v?v:0,S=360*f/r-90,b=360*(f+n.value)/r-90,P=360*y/o-90,C=360*(y+m)/o-90;f+=n.value,y+=m;var x=P+(S-P)*g.easing.inOutCubic(e),A=C+(b-C)*g.easing.inOutCubic(e),T=!!n.colorLinearGradient,_="grad".concat(n.id);if(T){var R=100*n.colorLinearGradient.startPoint.x,E=100*n.colorLinearGradient.startPoint.y,w=100*n.colorLinearGradient.endPoint.x,D=100*n.colorLinearGradient.endPoint.y,O='<linearGradient id="'.concat(_,'" x1="').concat(R,'%" y1="').concat(E,'%" x2="').concat(w,'%" y2="').concat(D,'%">');n.colorLinearGradient.gradientStops.forEach(function(e){var t=100*e.offset;O+='<stop offset="'.concat(t,'%" style="stop-color:').concat(e.color,';stop-opacity:1" />')}),O+="</linearGradient>",p+=O}var I=t.pieType===l.Donut?getDonutSectorPath(c,d,a*n.radiusAdjustment,u,x,A,n.shift+t.seriesSpacing):getSectorPath(c,d,a*n.radiusAdjustment,x,A,n.shift+t.seriesSpacing),M=T?'<g fill="url(#'.concat(_,')"><path id="').concat(n.id,'" stroke="').concat(i,'" stroke-width="').concat(2,'" d="').concat(I,'" /></g>'):'<path id="'.concat(n.id,'" stroke="').concat(i,'" stroke-width="').concat(2,'" d="').concat(I,'" fill="').concat(n.color,'" />');h+=M,(1===e||n.oldValue)&&t.drawSegmentLabel(n,s,r,x,A,c,d,a*n.radiusAdjustment,u)}}),p+="</defs>",this.adjustDomContainer();var v='<svg width="'.concat(this.calculateViewRectWidth(this.viewRect.width),'" height="').concat(this.calculateViewRectHeight(this.viewRect.height),'">').concat(p).concat(h,"</svg>"),m=R.annotationHelpers.createSvg(v,this.domSvgContainer);this.svg=m}},SciChartPieSurface.prototype.adjustDomContainer=function(){var e,t,r,i,n,o;this.padding&&this.padding.left&&(this.domSvgContainer.style.paddingLeft=this.padding.left+"px"),this.padding&&this.padding.right&&(this.domSvgContainer.style.paddingRight=this.padding.right+"px"),this.padding&&this.padding.top&&(this.domSvgContainer.style.paddingTop=this.padding.top+"px"),this.padding&&this.padding.bottom&&(this.domSvgContainer.style.paddingBottom=this.padding.bottom+"px"),this.canvasBorder&&(this.domSvgContainer.style.borderStyle="solid"),(null===(e=this.canvasBorder)||void 0===e?void 0:e.border)&&(this.domSvgContainer.style.borderWidth=this.canvasBorder.border+"px"),(null===(t=this.canvasBorder)||void 0===t?void 0:t.color)&&(this.domSvgContainer.style.borderColor=this.canvasBorder.color),(null===(r=this.canvasBorder)||void 0===r?void 0:r.borderBottom)&&(this.domSvgContainer.style.borderBottomWidth=this.canvasBorder.borderBottom+"px"),(null===(i=this.canvasBorder)||void 0===i?void 0:i.borderTop)&&(this.domSvgContainer.style.borderTopWidth=this.canvasBorder.borderTop+"px"),(null===(n=this.canvasBorder)||void 0===n?void 0:n.borderLeft)&&(this.domSvgContainer.style.borderLeftWidth=this.canvasBorder.borderLeft+"px"),(null===(o=this.canvasBorder)||void 0===o?void 0:o.borderRight)&&(this.domSvgContainer.style.borderRightWidth=this.canvasBorder.borderRight+"px")},SciChartPieSurface.prototype.drawSegmentLabel=function(e,t,r,i,n,o,a,s,l){if(!1!==e.showLabel){var u,c,d,p,h,f,y,g,v,m,S,b="segment"+t,P=this.titleDivs.find(function(e){return e.id===b});P||(P=document.createElement("div"),e.labelStyle,P.className="scichart-pie-text-container",P.id=b,P.style.position="absolute",P.style.pointerEvents="none",P.style.padding="5px",P.style.borderRadius="3px",this.titleDivs.push(P),this.domDivContainer.appendChild(P),P.style.display="block"),P.style.color=e.labelStyle.color,P.style.fontWeight=e.labelStyle.fontWeight,P.style.fontFamily=e.labelStyle.fontFamily,P.style.fontSize=e.labelStyle.fontSize.toString()+"px",P.innerHTML=e.getLabelText(r);var C=P.offsetWidth,x=P.offsetHeight,A=0,T=0;(null===(u=this.padding)||void 0===u?void 0:u.left)&&(A+=null===(c=this.padding)||void 0===c?void 0:c.left),(null===(d=this.padding)||void 0===d?void 0:d.top)&&(T+=null===(p=this.padding)||void 0===p?void 0:p.top),(null===(h=this.canvasBorder)||void 0===h?void 0:h.border)?(A+=null===(f=this.canvasBorder)||void 0===f?void 0:f.border,T+=null===(y=this.canvasBorder)||void 0===y?void 0:y.border):((null===(g=this.canvasBorder)||void 0===g?void 0:g.borderLeft)&&(A+=null===(v=this.canvasBorder)||void 0===v?void 0:v.borderLeft),(null===(m=this.canvasBorder)||void 0===m?void 0:m.borderTop)&&(A+=null===(S=this.canvasBorder)||void 0===S?void 0:S.borderTop));var _=this.calcTitlePosition(o+A,a+T,s,l,i,n,e.shift+this.seriesSpacing,C,x);P.style.left="".concat(_.left+e.labelOffset.x,"px"),P.style.top="".concat(_.top+e.labelOffset.y,"px")}},SciChartPieSurface.prototype.pieSegmentsTotalValue=function(){return this.pieSegments.asArray().reduce(function(e,t){return e+t.value},0)},SciChartPieSurface.prototype.pieSegmentsTotalOldValue=function(){var e=this.pieSegments.asArray().reduce(function(e,t){var r;return e+(null!==(r=t.oldValue)&&void 0!==r?r:0)},0);return e>0?e:1},SciChartPieSurface.prototype.applySciChartBackground=function(e){this.domCanvas2D.style.background=e},SciChartPieSurface}(v.DeletableEntity);t.SciChartPieSurface=N;var getSectorPath=function(e,t,r,i,n,o){var a=Math.abs(n-i)>180?1:0,s=(i+n)/2,l=Math.cos(k*s)*o,u=Math.sin(k*s)*o,c=Math.cos(k*n)*r+e+l,d=Math.sin(k*n)*r+t+u,p=Math.cos(k*i)*r+e+l,h=Math.sin(k*i)*r+t+u;return 1e-4>Math.abs(c-p)&&(p+=.001),"M".concat(e+l," ").concat(t+u," ").concat(c," ").concat(d," A").concat(r," ").concat(r," 0 ").concat(a," 0 ").concat(p," ").concat(h,"Z")},getDonutSectorPath=function(e,t,r,i,n,o,a){var s=Math.abs(o-n)>180?1:0,l=(n+o)/2,u=Math.cos(k*l)*a,c=Math.sin(k*l)*a,d=Math.cos(k*o)*r+e+u,p=Math.sin(k*o)*r+t+c,h=Math.cos(k*n)*r+e+u,f=Math.sin(k*n)*r+t+c,y=Math.cos(k*o)*i+e+u,g=Math.sin(k*o)*i+t+c,v=Math.cos(k*n)*i+e+u,m=Math.sin(k*n)*i+t+c;return"M".concat(d," ").concat(p," A").concat(r," ").concat(r," 0 ").concat(s," 0 ").concat(h," ").concat(f," L").concat(v," ").concat(m," A").concat(i," ").concat(i," 0 ").concat(s," 1 ").concat(y," ").concat(g,"Z")},B=!1;t.addEventListenerToPieSegment=function(e,t,r){var eventListener=function(t){if(!r){e.isSelected=!e.isSelected;return}if(!B){var i=e.isSelected,n=i?e.delta:0,o=i?-e.delta/10:e.delta/10;B=!0,e.isSelected=!e.isSelected,function myLoop(t){setTimeout(function(){e.shift=n+o*t,10===t&&(B=!1),++t<=10&&myLoop(t)},20)}(1)}};return t.addEventListener("click",eventListener),{eventListener:eventListener,eventType:"click",element:t,delete:function(){return t.removeEventListener("click",eventListener)}}}},41368:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).HOLE_RADIUS="HOLE_RADIUS",r.HOLE_RADIUS_SIZING_MODE="HOLE_RADIUS_SIZING_MODE",r.PIE_TYPE="PIE_TYPE",r.SERIES_SPACING="SERIES_SPACING",r.PADDING="PADDING",r.CANVAS_BORDER="CANVAS_BORDER",r.LABEL_PROVIDER="LABEL_PROVIDER",r.VALUE_MODE="VALUE_MODE",r.LABEL_RADIUS="LABEL_RADIUS",r.TEXT_STYLE="TEXT_STYLE"},34282:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},a=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.SciChartSubSurface=t.SciChartSurface=t.sciChartConfig=void 0;var l=r(64304),u=r(53247),c=r(2003),d=r(93940),p=r(19513),h=r(69405),f=r(94694),y=r(93766),g=r(35855),v=r(19542),m=r(47494),S=r(36313),b=r(82288),P=r(51894),C=r(55687),x=r(67475),A=r(96538),T=r(81762),_=r(48053),R=r(79361),E=r(28957),w=r(44258),D=r(12840),O=r(37129),I=r(92346),M=r(21075),L=r(54259),k=r(23297),N=r(56548),B=r(22148),V=r(73336),F=r(87994),j=r(61958),H=r(44132),z=r(49033),G=r(68289),U=r(94485),W=r(50376),X=r(97561),Y=r(71413),$=r(61239),K=r(91462),q=r(74875),Z=r(48484),J=r(3192),Q=r(38352),ee=r(19313),et=r(7556),er=r(6695),ei=r(55058),en=r(18638),eo=r(14464),ea=r(22099);t.sciChartConfig={};var es=function(e){function SciChartSurface(t,r){var i,n,o,a,s,l=this;(l=e.call(this,t,null==r?void 0:r.canvases)||this).preRender=new g.EventHandler,l.layersOffset=0,l.stepBetweenLayers=10,l.isSubSurface=!1,l.svgClippingMode=A.ESvgClippingMode.SeriesViewRect,l.renderNativeAxisLabelsImmediately=!1,l.watermarkPosition=J.SciChartDefaults.watermarkPosition,l.watermarkRelativeToCanvas=!1,l.animationList=[],l.titleStyleProperty={fontSize:60,fontFamily:"Arial",color:$.SciChartSurfaceBase.DEFAULT_THEME.chartTitleColor,fontWeight:"normal",fontStyle:"normal",lineSpacing:1.1,padding:S.Thickness.fromString("10 4 10 4"),multilineAlignment:et.EMultiLineAlignment.Center,rotation:void 0,alignment:ee.ETextAlignment.Center,position:ee.ETitlePosition.Top,placeWithinChart:!1,useNativeText:J.SciChartDefaults.useNativeText},l.paddingProperty=S.Thickness.fromNumber(10),l.zoomStateProperty=T.EZoomState.AtExtents,l.viewportBorderProperty={borderBottom:void 0,borderLeft:void 0,borderRight:void 0,borderTop:void 0,color:"#00000000",border:void 0},l.canvasBorderProperty={borderBottom:void 0,borderLeft:void 0,borderRight:void 0,borderTop:void 0,color:"#00000000",border:void 0},l.subChartsProperty=[],l.drawSeriesBehindAxisProperty=!1,l.autoColorModeProperty=b.EAutoColorMode.OnAddRemoveSeries,l.autoColorRequired=!0,l.xCoordSvgTrans=0,l.yCoordSvgTrans=0,l.subChartCounter=0;var u=null!==(n=null===(i=l.domCanvas2D)||void 0===i?void 0:i.width)&&void 0!==n?n:c.DEFAULT_WIDTH,d=null!==(a=null===(o=l.domCanvas2D)||void 0===o?void 0:o.height)&&void 0!==a?a:c.DEFAULT_HEIGHT;if(l.webAssemblyContext2D=t,!c.IS_TEST_ENV){var p=u/K.DpiHelper.PIXEL_RATIO,h=d/K.DpiHelper.PIXEL_RATIO;l.isCopyCanvasSurface?l.changeMasterCanvasViewportSize(t,p,h):l.changeWebGLCanvasViewportSize(t,p,h)}l.invalidateElement=l.invalidateElement.bind(l),l.onRenderSurfaceDraw=l.onRenderSurfaceDraw.bind(l);var f=l.domCanvas2D?new x.Size(u,d):new x.Size(c.DEFAULT_WIDTH,c.DEFAULT_HEIGHT);l.renderSurface=new O.RenderSurface(t,f,null===(s=l.domCanvas2D)||void 0===s?void 0:s.id),l.renderSurface.handleDraw=l.onRenderSurfaceDraw,l.sciChartRenderer=new k.SciChartRenderer(l),l.chartTitleRendererProperty=new Q.ChartTitleRenderer(l.webAssemblyContext2D),l.layoutManager=new L.LayoutManager,l.detachSeries=l.detachSeries.bind(l),l.attachSeries=l.attachSeries.bind(l),l.renderableSeries=new v.ObservableArray,l.renderableSeries.collectionChanged.subscribe(function(e){var t,r;null===(t=e.getOldItems())||void 0===t||t.forEach(l.detachSeries),null===(r=e.getNewItems())||void 0===r||r.forEach(l.attachSeries)}),l.detachAxis=l.detachAxis.bind(l),l.attachAxis=l.attachAxis.bind(l),l.xAxes=new v.ObservableArray,l.yAxes=new v.ObservableArray;var handler=function(e,t){var r,i;null===(r=e.getOldItems())||void 0===r||r.forEach(function(e){e.visibleRangeChanged.unsubscribeAll(),l.detachAxis(e)}),null===(i=e.getNewItems())||void 0===i||i.forEach(function(e){return l.attachAxis(e,t)})};return l.xAxes.collectionChanged.subscribe(function(e){return handler(e,!0)}),l.yAxes.collectionChanged.subscribe(function(e){return handler(e,!1)}),l.adornerLayer=new N.AdornerLayer(l),l.solidBrushCacheViewportBorder=new I.SolidBrushCache(t),l.solidBrushCacheCanvasBorder=new I.SolidBrushCache(t),c.IS_TEST_ENV||(l.watermarkProperties=new t.SCRTWaterMarkProperties,l.watermarkPropertyPosition=new t.TSRVector2(0,0),l.watermarkProperties.SetPosition(l.watermarkPropertyPosition),l.watermarkProperties.SetOpacity(.5),t.SCRTSetWaterMarkProperties(l.watermarkProperties)),l}return n(SciChartSurface,e),SciChartSurface.create=function(e,t){var r=ea.PerformanceDebugHelper.mark(ea.EPerformanceMarkType.InitializationStart,{contextId:null==t?void 0:t.id});return((0,l.ensureRegistrations)(),t=SciChartSurface.resolveOptions(t),c.IS_TEST_ENV)?this.createTest(e,t):(0,j.createMultichart)(e,t).then(function(e){var i;return e.sciChartSurface.applyOptions(t),ea.PerformanceDebugHelper.mark(ea.EPerformanceMarkType.InitializationEnd,{contextId:e.sciChartSurface.id,relatedId:null===(i=null==r?void 0:r.detail)||void 0===i?void 0:i.relatedId}),e})},SciChartSurface.disposeSharedWasmContext=function(){0===er.sciChart3DDestinations.length&&0===er.sciChartDestinations.length&&((0,j.disposeMultiChart)(),(0,ei.disposeMultiChart3d)()),e.disposeSharedWasmContext.call(this)},SciChartSurface.createSingle=function(e,t){var r=ea.PerformanceDebugHelper.mark(ea.EPerformanceMarkType.InitializationStart,{contextId:null==t?void 0:t.id});return((0,l.ensureRegistrations)(),t=SciChartSurface.resolveOptions(t),c.IS_TEST_ENV)?this.createTest(e,t):(0,H.createSingleInternal)(e,t).then(function(e){var i;return e.sciChartSurface.applyOptions(t),ea.PerformanceDebugHelper.mark(ea.EPerformanceMarkType.InitializationEnd,{contextId:e.sciChartSurface.id,relatedId:null===(i=null==r?void 0:r.detail)||void 0===i?void 0:i.relatedId}),e})},SciChartSurface.configure=function(e){var r,i;t.sciChartConfig.dataUrl=null!==(r=null==e?void 0:e.dataUrl)&&void 0!==r?r:void 0,t.sciChartConfig.wasmUrl=null!==(i=null==e?void 0:e.wasmUrl)&&void 0!==i?i:void 0},SciChartSurface.useWasmFromCDN=function(){t.sciChartConfig.dataUrl="https://cdn.jsdelivr.net/npm/scichart@".concat(h.libraryVersion,"/_wasm/scichart2d.data"),t.sciChartConfig.wasmUrl="https://cdn.jsdelivr.net/npm/scichart@".concat(h.libraryVersion,"/_wasm/scichart2d.wasm")},SciChartSurface.useWasmLocal=function(){SciChartSurface.configure(void 0)},SciChartSurface.loadWasmFromCDN=function(){return SciChartSurface.useWasmFromCDN()},SciChartSurface.loadWasmLocal=function(){return SciChartSurface.useWasmLocal()},SciChartSurface.isSubSurface=function(e){return e.isSubSurface},SciChartSurface.createTest=function(e,r){var i,n,o=Y.default.initCanvas(e,null!==(i=null==r?void 0:r.widthAspect)&&void 0!==i?i:0,null!==(n=null==r?void 0:r.heightAspect)&&void 0!==n?n:0,Y.default.ECanvasType.canvas2D),a=new SciChartSurface(t.sciChartConfig.testWasm,{canvases:o});return a.applyTheme(null==r?void 0:r.theme),a.applyOptions(r),new Promise(function(e){return e({wasmContext:a.webAssemblyContext2D,sciChartSurface:a})})},SciChartSurface.prototype.addSubChart=function(e){var t=SciChartSurface.resolveOptions(e);e=o(o({},e),t),this.subChartCounter++;var r=this.domChartRoot.id+"_"+this.subChartCounter.toString(),i=this.domChartRoot,n=i.clientWidth,a=i.clientHeight,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.id="".concat(r,"_SVG"),s.setAttribute("width",n.toString()),s.setAttribute("height",a.toString()),s.setAttribute("role","img"),s.setAttribute("xmlns","http://www.w3.org/2000/svg"),s.style.position="absolute",s.style.left="0",s.style.top="0",s.style.display="block",s.style.pointerEvents="none",i.appendChild(s);var l={domChartRoot:this.domChartRoot,domCanvasWebGL:this.domCanvasWebGL,domCanvas2D:this.domCanvas2D,domSvgContainer:s,domSvgAdornerLayer:this.domSvgAdornerLayer,domDivContainer:this.domDivContainer},u=new el(this.webAssemblyContext2D,{canvases:l,parentSurface:this,subSurfaceOptions:e});return(null==e?void 0:e.theme)&&u.applyTheme(e.theme),u.mouseManager.unsubscribe(),this.subChartsProperty.push(u),this.onAttachSubSurface(u),u.setIsInitialized(),u},SciChartSurface.prototype.removeSubChart=function(e){var t=this.subChartsProperty.findIndex(function(t){return t===e});t>-1&&(this.subChartsProperty.splice(t,1),e.delete())},Object.defineProperty(SciChartSurface.prototype,"subCharts",{get:function(){return this.subChartsProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"surfaceType",{get:function(){return $.ESurfaceType.SciChartSurfaceType},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"layoutManager",{get:function(){return this.layoutManagerProperty},set:function(e){this.layoutManagerProperty=e,this.layoutManagerProperty.sciChartSurface=this,this.invalidateElement()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"chartTitleRenderer",{get:function(){return this.chartTitleRendererProperty},set:function(e){var t;null===(t=this.chartTitleRendererProperty)||void 0===t||t.delete(),this.chartTitleRendererProperty=e,this.invalidateElement()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"dataLabelLayoutManager",{get:function(){return this.dataLabelLayoutManagerProperty},set:function(e){this.dataLabelLayoutManagerProperty=e,this.invalidateElement()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"title",{get:function(){return this.titleProperty},set:function(e){this.titleProperty!==e&&(this.titleProperty=e,this.invalidateElement())},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"titleStyle",{get:function(){return this.titleStyleProperty},set:function(e){this.titleStyleProperty!==e&&(this.titleStyleProperty=Object.assign({},this.titleStyleProperty,e),this.invalidateElement())},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"padding",{get:function(){return this.paddingProperty},set:function(e){this.paddingProperty.equals(e)||(this.paddingProperty=e,this.invalidateElement())},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"adjustedPadding",{get:function(){return K.DpiHelper.adjustThickness(this.padding)},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"debugRendering",{get:function(){return this.debugRenderingProperty},set:function(e){this.debugRenderingProperty=e,this.invalidateElement()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"autoColorMode",{get:function(){return this.autoColorModeProperty},set:function(e){this.autoColorModeProperty=e,e===b.EAutoColorMode.Never||this.autoColorRequired?e===b.EAutoColorMode.Never&&(this.autoColorRequired=!1):this.autoColorRequired=!0,this.invalidateElement()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"isInvalidated",{get:function(){var e;return null===(e=this.sciChartRenderer)||void 0===e?void 0:e.isInvalidated},enumerable:!1,configurable:!0}),SciChartSurface.prototype.applyTheme=function(t){var r=this.previousThemeProvider;this.titleStyle.color===r.chartTitleColor&&(this.titleStyle={color:t.chartTitleColor}),e.prototype.applyTheme.call(this,t),this.renderableSeries.asArray().forEach(function(e){return e.applyTheme(t)}),this.xAxes.asArray().forEach(function(e){return e.applyTheme(t)}),this.yAxes.asArray().forEach(function(e){return e.applyTheme(t)})},SciChartSurface.prototype.changeViewportSize=function(e,t){if(eo.Logger.debug("changeViewportSize"),e&&t&&!this.isDeleted){var r=e*K.DpiHelper.PIXEL_RATIO,i=t*K.DpiHelper.PIXEL_RATIO;this.renderSurface.viewportSize=new x.Size(r,i),this.isCopyCanvasSurface?(this.changeMasterCanvasViewportSize(this.webAssemblyContext2D,e,t),this.domCanvas2D&&K.DpiHelper.setSize(this.domCanvas2D,e,t)):this.changeWebGLCanvasViewportSize(this.webAssemblyContext2D,e,t),this.domSvgAdornerLayer&&(this.domSvgAdornerLayer.setAttribute("width",e.toString()),this.domSvgAdornerLayer.setAttribute("height",t.toString()));for(var n=0,o=this.subChartsProperty;n<o.length;n++)o[n].updateSubLayout();this.invalidateElement({force:!0})}},SciChartSurface.prototype.invalidateElement=function(e){if(eo.Logger.debug("Invalidating ".concat(null!==(r=null===(t=this.domChartRoot)||void 0===t?void 0:t.id)&&void 0!==r?r:this.id,": force=").concat(null==e?void 0:e.force," isSuspended=").concat(this.isSuspended," isInitialized=").concat(this.isInitialized,".")),(null==e?void 0:e.force)||!this.isSuspended&&!this.isDeleted&&this.isInitialized){ea.PerformanceDebugHelper.mark(this.sciChartRenderer.isInvalidated?ea.EPerformanceMarkType.Invalidate:ea.EPerformanceMarkType.LeadingInvalidate,{contextId:this.id}),this.sciChartRenderer.isInvalidated=!0;var t,r,i=this.domCanvas2D?this.domCanvas2D.id:"undefinedCanvasId";this.renderSurface.invalidateElement(i)}},SciChartSurface.prototype.doDrawingLoop=function(e){if(!this.isDeleted){e=null!=e?e:this.renderSurface.getRenderContext(),this.currentWebGlRenderContextProperty=e;try{var t=new q.UpdateSuspender(this,!1);try{this.autoColorRequired&&(this.themeProvider.strokePalette&&this.themeProvider.strokePalette.length>0||this.themeProvider.fillPalette&&this.themeProvider.fillPalette.length>0)&&(this.resolveAutoColors(),this.autoColorMode!==b.EAutoColorMode.Always&&(this.autoColorRequired=!1)),this.preRender.raiseEvent(e)}catch(e){(null==e?void 0:e.message)&&console.error(null==e?void 0:e.message),console.error(e)}finally{t.resume(),t.delete()}this.sciChartRenderer.render(e)}catch(e){if("BindingError"===e.name)console.error(e),console.warn("Binding errors can occur if a previous chart using the same div id was not deleted correctly, or if you try to share data or series between charts that use different webassembly contexts."),(0,U.freeCache)(this.webAssemblyContext2D).delete();else if(this.domChartRoot)console.error("Error from chart in div ".concat(this.domChartRoot.id,":"),e);else throw e}}},SciChartSurface.prototype.delete=function(t){if(void 0===t&&(t=!0),!this.isDeleted){for(var r=0,i=this.subChartsProperty;r<i.length;r++)i[r].delete();this.subChartsProperty=[],this.layoutManagerProperty.type===en.ELayoutManagerType.Synchronised&&this.layoutManagerProperty.verticalGroup.removeSurface(this),this.layoutManagerProperty.sciChartSurface=void 0,this.layoutManagerProperty=void 0,this.renderableSeries.asArray().forEach(function(e){return e.delete()}),this.renderableSeries.clear(),this.xAxes.asArray().forEach(function(e){return e.delete()}),this.yAxes.asArray().forEach(function(e){return e.delete()}),this.solidBrushCacheViewportBorder=(0,f.deleteSafe)(this.solidBrushCacheViewportBorder),this.solidBrushCacheCanvasBorder=(0,f.deleteSafe)(this.solidBrushCacheCanvasBorder),this.watermarkProperties=(0,f.deleteSafe)(this.watermarkProperties),this.watermarkPropertyPosition=(0,f.deleteSafe)(this.watermarkPropertyPosition),this.chartTitleRendererProperty=(0,f.deleteSafe)(this.chartTitleRenderer),this.sciChartRenderer=void 0,this.renderSurface=void 0,this.clearRootElement(t),e.prototype.delete.call(this)}},SciChartSurface.prototype.onDpiChanged=function(t){var r,i;ea.PerformanceDebugHelper.mark(ea.EPerformanceMarkType.DpiChange,{contextId:this.id}),eo.Logger.debug("onDpiChanged"),this.renderableSeries.asArray().forEach(function(e){return e.onDpiChanged(t)}),this.xAxes.asArray().forEach(function(e){return e.onDpiChanged()}),this.yAxes.asArray().forEach(function(e){return e.onDpiChanged()}),this.changeViewportSize(null===(r=this.getMainCanvas())||void 0===r?void 0:r.clientWidth,null===(i=this.getMainCanvas())||void 0===i?void 0:i.clientHeight),e.prototype.onDpiChanged.call(this,t)},SciChartSurface.prototype.getXAxisById=function(e){var t=this.xAxes.getById(e);return!t&&e===F.AxisCore.DEFAULT_AXIS_ID&&this.xAxes.size()>0&&(t=this.xAxes.get(0)),t},SciChartSurface.prototype.getYAxisById=function(e){var t=this.yAxes.getById(e);return!t&&e===F.AxisCore.DEFAULT_AXIS_ID&&this.yAxes.size()>0&&(t=this.yAxes.get(0)),t},SciChartSurface.prototype.updateStackedCollectionAccumulatedVectors=function(){this.renderableSeries.asArray().filter(function(e){return e.isStacked&&"size"in e}).forEach(function(e){return e.updateAccumulatedVectors()})},SciChartSurface.prototype.zoomExtents=function(e,t,r){void 0===e&&(e=0),void 0===t&&(t=p.easing.outExpo),void 0===r&&(r=function(){}),this.updateStackedCollectionAccumulatedVectors();var i=void 0===this.xAxes?0:this.xAxes.size(),n=void 0===this.yAxes?0:this.yAxes.size();if(0===i||0===n)throw Error("Cannot ZoomExtents when XAxes or YAxes is undefined or empty");var o=this.zoomExtentsXInternal(e,t,r);this.zoomExtentsYInternal(o,e,t,r)},SciChartSurface.prototype.zoomExtentsX=function(e,t){void 0===e&&(e=0),void 0===t&&(t=p.easing.outExpo),this.zoomExtentsXInternal(e,t)},SciChartSurface.prototype.zoomExtentsY=function(e,t){void 0===e&&(e=0),void 0===t&&(t=p.easing.outExpo),this.zoomExtentsYInternal(void 0,e,t)},SciChartSurface.prototype.updateWatermark=function(e,t){var r;if(!c.IS_TEST_ENV){this.watermarkPropertyPosition.x=e,this.watermarkPropertyPosition.y=t,this.watermarkProperties.m_fCanvasWidth=this.renderSurface.viewportSize.width,this.watermarkProperties.SetPosition(this.watermarkPropertyPosition);var i=null===(r=this.themeProvider)||void 0===r?void 0:r.isLightBackground;this.watermarkProperties.m_bIsDarkBackground=void 0!==i&&!i,this.webAssemblyContext2D.SCRTSetWaterMarkProperties(this.watermarkProperties)}},SciChartSurface.prototype.setZoomState=function(e){this.zoomStateProperty=e},Object.defineProperty(SciChartSurface.prototype,"zoomState",{get:function(){return this.zoomStateProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"viewportBorder",{get:function(){return this.viewportBorderProperty},set:function(e){this.viewportBorderProperty=o(o({},this.viewportBorderProperty),e),this.notifyPropertyChanged("ViewportBorder")},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"canvasBorder",{get:function(){return this.canvasBorderProperty},set:function(e){this.canvasBorderProperty=o(o({},this.canvasBorderProperty),e),this.notifyPropertyChanged("Border")},enumerable:!1,configurable:!0}),SciChartSurface.prototype.drawBorder=function(e){(0,G.drawBorder)(e,this.webAssemblyContext2D,this.solidBrushCacheViewportBorder,this.seriesViewRect,this.leftViewportBorder,this.topViewportBorder,this.rightViewportBorder,this.bottomViewportBorder,this.viewportBorder.color);var t=e.viewportSize,r=m.Rect.create(this.leftCanvasBorder,this.topCanvasBorder,t.width-this.leftCanvasBorder-this.rightCanvasBorder,t.height-this.topCanvasBorder-this.bottomCanvasBorder);(0,G.drawBorder)(e,this.webAssemblyContext2D,this.solidBrushCacheCanvasBorder,r,this.leftCanvasBorder,this.topCanvasBorder,this.rightCanvasBorder,this.bottomCanvasBorder,this.canvasBorder.color)},Object.defineProperty(SciChartSurface.prototype,"leftViewportBorder",{get:function(){var e,t;return null!==(t=null!==(e=this.viewportBorder.borderLeft)&&void 0!==e?e:this.viewportBorder.border)&&void 0!==t?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"rightViewportBorder",{get:function(){var e,t;return null!==(t=null!==(e=this.viewportBorder.borderRight)&&void 0!==e?e:this.viewportBorder.border)&&void 0!==t?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"topViewportBorder",{get:function(){var e,t;return null!==(t=null!==(e=this.viewportBorder.borderTop)&&void 0!==e?e:this.viewportBorder.border)&&void 0!==t?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"bottomViewportBorder",{get:function(){var e,t;return null!==(t=null!==(e=this.viewportBorder.borderBottom)&&void 0!==e?e:this.viewportBorder.border)&&void 0!==t?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"leftCanvasBorder",{get:function(){var e,t;return null!==(t=null!==(e=this.canvasBorder.borderLeft)&&void 0!==e?e:this.canvasBorder.border)&&void 0!==t?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"rightCanvasBorder",{get:function(){var e,t;return null!==(t=null!==(e=this.canvasBorder.borderRight)&&void 0!==e?e:this.canvasBorder.border)&&void 0!==t?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"topCanvasBorder",{get:function(){var e,t;return null!==(t=null!==(e=this.canvasBorder.borderTop)&&void 0!==e?e:this.canvasBorder.border)&&void 0!==t?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"bottomCanvasBorder",{get:function(){var e,t;return null!==(t=null!==(e=this.canvasBorder.borderBottom)&&void 0!==e?e:this.canvasBorder.border)&&void 0!==t?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurface.prototype,"currentWebGlRenderContext",{get:function(){return this.currentWebGlRenderContextProperty},enumerable:!1,configurable:!0}),SciChartSurface.prototype.onAnimate=function(e){if(e){this.renderableSeries.asArray().forEach(function(t){return t.onAnimate(e)});for(var t=[],r=0;r<this.animationList.length;r++){var i=this.animationList[r];i.isComplete||(i.update(e),i.isComplete||t.push(i))}this.animationList=t}},SciChartSurface.prototype.getAnimations=function(){return this.animationList},SciChartSurface.prototype.addAnimation=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];void 0!==t&&(t.forEach(function(t){return e.animationList.push(t)}),this.invalidateElement())},Object.defineProperty(SciChartSurface.prototype,"isRunningAnimation",{get:function(){for(var e=0;e<this.renderableSeries.size();e++)if(this.renderableSeries.get(e).isRunningAnimation)return!0;return this.animationList.some(function(e){return!e.isComplete})},enumerable:!1,configurable:!0}),SciChartSurface.prototype.getSeriesViewRectPadding=function(e){void 0===e&&(e=!0);var t=e?1:K.DpiHelper.PIXEL_RATIO,r=this.seriesViewRect,i=r.left/t,n=r.top/t,o=(this.domCanvas2D.width-r.right)/t,a=(this.domCanvas2D.height-r.bottom)/t;return new S.Thickness(n,o,a,i)},SciChartSurface.prototype.resolveAutoColors=function(e){if(!e){var t=this.renderableSeries.asArray().filter(function(e){return e.isStacked&&"size"in e});e=this.renderableSeries.size()-t.length;for(var r=0;r<t.length;r++)e+=t[r].size()}for(var i=0,n=0;n<this.renderableSeries.size();n++){var o=this.renderableSeries.get(n);o&&o.resolveAutoColors(i,e,this.themeProvider),o.isStacked&&"size"in o?i+=o.size():i+=1}},SciChartSurface.prototype.registerFont=function(e,t){return a(this,void 0,void 0,function(){var r=this;return s(this,function(i){return e.includes(".")||(e+=".ttf"),[2,new Promise(function(i,n){var o=r.webAssemblyContext2D.SCRTFileLoadCallbackInterface.implement({OnLoadComplete:function(r,n){r?i(!0):(console.error("Failed to load ".concat(e," from ").concat(t,".  Error: ").concat(n)),i(!1))}});r.webAssemblyContext2D.SCRTRegisterFile(e,t,o)})]})})},SciChartSurface.prototype.setCoordSvgTranslation=function(e,t){this.xCoordSvgTrans=e,this.yCoordSvgTrans=t},SciChartSurface.prototype.getCoordSvgTranslation=function(){return new Z.Point(this.xCoordSvgTrans,this.yCoordSvgTrans)},SciChartSurface.prototype.toJSON=function(e){var t,r;return void 0===e&&(e=!1),r="toJSON"in this.themeProvider?this.themeProvider.toJSON():this.themeProvider,{surface:{id:this.id,title:this.title,titleStyle:this.titleStyle,canvasBorder:this.canvasBorder,heightAspect:this.heightAspect,widthAspect:this.widthAspect,layoutManager:null===(t=this.layoutManager)||void 0===t?void 0:t.toJSON(),padding:this.padding,theme:r,viewportBorder:this.viewportBorder,loader:this.loaderJson,drawSeriesBehindAxis:this.drawSeriesBehindAxis,disableAspect:this.disableAspect,createSuspended:this.createSuspended,autoColorMode:this.autoColorMode,touchAction:this.touchActionProperty},xAxes:this.xAxes.asArray().map(function(e){return e.toJSON()}),yAxes:this.yAxes.asArray().map(function(e){return e.toJSON()}),series:this.renderableSeries.asArray().map(function(t){return t.toJSON(e)}),modifiers:this.chartModifiers.asArray().map(function(e){return e.toJSON()}),annotations:this.annotations.asArray().map(function(e){return e.toJSON()}),onCreated:this.onCreatedName,subCharts:this.subCharts.map(function(e){return e.toJSON()}),createSingle:"SciChartMasterCanvas"!==this.webAssemblyContext2D.canvas.id}},SciChartSurface.prototype.getNextState=function(e){return void 0===e&&(e=!1),a(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this.nextStateRender({resumeBefore:!0,invalidateOnResume:!0,suspendAfter:!0})];case 1:return t.sent(),[2,this.toJSON(e)]}})})},SciChartSurface.prototype.applyOptions=function(t){e.prototype.applyOptions.call(this,t),(null==t?void 0:t.layoutManager)&&("layoutChart"in t.layoutManager||(t.layoutManager=(0,u.createType)(P.EBaseType.LayoutManager,t.layoutManager.type,null,t.layoutManager.options)),this.layoutManager=t.layoutManager),(null==t?void 0:t.padding)&&(this.padding=t.padding),(null==t?void 0:t.viewportBorder)&&(this.viewportBorder=t.viewportBorder),(null==t?void 0:t.canvasBorder)&&(this.canvasBorder=t.canvasBorder),(null==t?void 0:t.loader)&&"toJSON"in t.loader&&(this.loaderJson=t.loader.toJSON()),(null==t?void 0:t.drawSeriesBehindAxis)&&(this.drawSeriesBehindAxisProperty=t.drawSeriesBehindAxis),(null==t?void 0:t.autoColorMode)&&(this.autoColorMode=t.autoColorMode),(null==t?void 0:t.title)&&(this.title=t.title),(null==t?void 0:t.titleStyle)&&(this.titleStyle=t.titleStyle),(null==t?void 0:t.touchAction)&&(this.touchActionProperty=t.touchAction)},SciChartSurface.prototype.detachChartModifier=function(t){e.prototype.detachChartModifier.call(this,t),this.subCharts.forEach(function(e){t.onDetachSubSurface(e)})},SciChartSurface.prototype.attachChartModifier=function(t){e.prototype.attachChartModifier.call(this,t),t.modifierType!==E.EModifierType.MultiChart2DModifier&&(t.setParentSurface(this),t.invalidateParentCallback=this.invalidateElement,t.onAttach(),this.subCharts.forEach(function(e){t.onAttachSubSurface(e)}),this.invalidateElement())},SciChartSurface.prototype.applySciChartBackground=function(e,t){void 0===t&&(t=!0),this.backgroundProperty=e;var r=this.webAssemblyContext2D.SCRTGetMainRenderContext2D();this.domChartRoot&&(this.domChartRoot.style.background=e),r&&(r.SetClearColor(0,0,0,0),r.Clear())},SciChartSurface.prototype.setClearAlphaParams=function(e,t){this.webAssemblyContext2D.SCRTSetClearAlphaParams(e,t)},SciChartSurface.prototype.zoomExtentsYInternal=function(e,t,r,i){void 0===t&&(t=0),void 0===r&&(r=p.easing.outExpo),void 0===i&&(i=function(){}),this.yAxes.asArray().forEach(function(n){var o=n.getWindowedYRange(e);o&&n.animateVisibleRange(o,t,r,i)})},SciChartSurface.prototype.zoomExtentsXInternal=function(e,t,r){void 0===e&&(e=0),void 0===t&&(t=p.easing.outExpo),void 0===r&&(r=function(){});var i=new y.Dictionary;return this.xAxes.asArray().forEach(function(n){var o=n.getMaximumRange();n.animateVisibleRange(o,e,t,r),i.add(n.id,o)}),i},SciChartSurface.prototype.onRenderSurfaceDraw=function(){var e;if(this.subChartsProperty.length>0){var t=new w.BatchRenderContext(this.webAssemblyContext2D,this.renderSurface.viewportSize,null===(e=this.domCanvas2D)||void 0===e?void 0:e.id),r=this.subChartsProperty.filter(function(e){return e.isVisible});0===r.length&&(t.doDraw=!0),this.doDrawingLoop(t),r.forEach(function(e,i){e.layersOffset=100*(i+1),i===r.length-1&&(t.doDraw=!0),e.doDrawingLoop(t)})}else this.doDrawingLoop();this.currentWebGlRenderContextProperty=(0,f.deleteSafe)(this.currentWebGlRenderContext)},SciChartSurface.prototype.detachSeries=function(e){e.type!==C.ESeriesType.StackedColumnSeries&&e.type!==C.ESeriesType.StackedMountainSeries&&(this.chartModifiers.asArray().forEach(function(t){t.onDetachSeries(e)}),e.onDetach(),this.autoColorMode===b.EAutoColorMode.OnAddRemoveSeries&&(this.autoColorRequired=!0),this.invalidateElement())},SciChartSurface.prototype.attachSeries=function(e){if(e.type===C.ESeriesType.StackedColumnSeries){var t=this.renderableSeries.asArray().find(function(e){return e.type===C.ESeriesType.StackedColumnCollection});if(!t){t=new W.StackedColumnCollection(this.webAssemblyContext2D);var r=this.renderableSeries.asArray().findIndex(function(t){return t===e});this.renderableSeries.insert(r,t)}t.add(e),this.renderableSeries.remove(e);return}if(e.type===C.ESeriesType.StackedMountainSeries){var t=this.renderableSeries.asArray().find(function(e){return e.type===C.ESeriesType.StackedMountainCollection});if(!t){t=new X.StackedMountainCollection(this.webAssemblyContext2D);var r=this.renderableSeries.asArray().findIndex(function(t){return t===e});this.renderableSeries.insert(r,t)}t.add(e),this.renderableSeries.remove(e)}(!e.isStacked||"size"in e)&&e.onAttach(this),this.themeProviderProperty&&e.applyTheme(this.themeProviderProperty),this.chartModifiers.asArray().forEach(function(t){t.onAttachSeries(e)}),this.autoColorMode===b.EAutoColorMode.OnAddRemoveSeries&&(this.autoColorRequired=!0),this.invalidateElement()},SciChartSurface.prototype.detachAxis=function(e){e.onDetach(),this.invalidateElement()},SciChartSurface.prototype.attachAxis=function(e,t){if(e.invalidateParentCallback)throw Error("Invalid operation in sciChartSurface.attachAxis, this axis has already been attached to a SciChartSurface. Please detach it from a SciChartSurface before attaching to another");var r=!1;t&&!this.xAxes.asArray().some(function(e){return e.isPrimaryAxis})&&(r=!0),t||this.yAxes.asArray().some(function(e){return e.isPrimaryAxis})||(r=!0),e.onAttach(this,t,r),this.themeProviderProperty&&e.applyTheme(this.themeProviderProperty),e.invalidateParentCallback=this.invalidateElement,this.invalidateElement()},SciChartSurface.prototype.onAttachSubSurface=function(e){this.chartModifiers.asArray().forEach(function(t){t.onAttachSubSurface(e)})},SciChartSurface.prototype.onDetachSubSurface=function(e){this.chartModifiers.asArray().forEach(function(t){t.onDetachSubSurface(e)})},Object.defineProperty(SciChartSurface.prototype,"drawSeriesBehindAxis",{get:function(){return this.drawSeriesBehindAxisProperty},set:function(e){this.drawSeriesBehindAxisProperty=e,this.invalidateElement()},enumerable:!1,configurable:!0}),SciChartSurface}($.SciChartSurfaceBase);t.SciChartSurface=es;var el=function(e){function SciChartSubSurface(t,r){var i,n,o,a,s,l,u,c,d,p,h,f,y,g,v,S=this;return(S=e.call(this,t,r)||this).isSubSurface=!0,S.topSectionClass="top-section",S.leftSectionClass="left-section",S.bottomSectionClass="bottom-section",S.rightSectionClass="right-section",S.backgroundProperty="transparent",S.isTransparentProperty=!0,S.subPositionProperty=new m.Rect(0,0,1,1),S.coordinateModeProperty=B.ECoordinateMode.Relative,S.parentXAxisIdProperty=V.AxisBase2D.DEFAULT_AXIS_ID,S.parentYAxisIdProperty=V.AxisBase2D.DEFAULT_AXIS_ID,S.isVisibleProperty=!0,S.sectionScaleProperty=1,S.parentSurfaceProperty=r.parentSurface,S.subChartContainerId=null===(i=r.subSurfaceOptions)||void 0===i?void 0:i.subChartContainerId,S.subPaddingProperty=null===(n=null==r?void 0:r.subSurfaceOptions)||void 0===n?void 0:n.subChartPadding,S.isTransparentProperty=null!==(a=null===(o=null==r?void 0:r.subSurfaceOptions)||void 0===o?void 0:o.isTransparent)&&void 0!==a?a:S.isTransparent,S.coordinateModeProperty=null!==(l=null===(s=null==r?void 0:r.subSurfaceOptions)||void 0===s?void 0:s.coordinateMode)&&void 0!==l?l:S.coordinateMode,S.parentXAxisIdProperty=null!==(c=null===(u=null==r?void 0:r.subSurfaceOptions)||void 0===u?void 0:u.parentXAxisId)&&void 0!==c?c:S.parentXAxisId,S.parentYAxisIdProperty=null!==(p=null===(d=null==r?void 0:r.subSurfaceOptions)||void 0===d?void 0:d.parentYAxisId)&&void 0!==p?p:S.parentYAxisId,S.sectionScaleProperty=null!==(f=null===(h=null==r?void 0:r.subSurfaceOptions)||void 0===h?void 0:h.sectionScale)&&void 0!==f?f:S.sectionScaleProperty,S.isVisible=null!==(g=null===(y=null==r?void 0:r.subSurfaceOptions)||void 0===y?void 0:y.isVisible)&&void 0!==g?g:S.isVisible,S.subChartContainerId&&(S.subChartContainer="string"==typeof S.subChartContainerId?document.querySelector("[id='".concat(S.subChartContainerId,"']")):S.subChartContainerId),S.applyOptions(r.subSurfaceOptions),S.subPosition=null!==(v=r.subSurfaceOptions.position)&&void 0!==v?v:S.subPositionProperty,S.backgroundFillBrushCache=new D.BrushCache(t),S.preRender.subscribe(function(e){S.coordinateMode===B.ECoordinateMode.DataValue&&S.updateSubLayout(!0)}),S}return n(SciChartSubSurface,e),Object.defineProperty(SciChartSubSurface.prototype,"isTransparent",{get:function(){return this.isTransparentProperty},set:function(e){this.isTransparentProperty!==e&&(this.isTransparentProperty=e,this.updateBackground())},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSubSurface.prototype,"subChartPadding",{get:function(){return this.subPaddingProperty},set:function(e){this.subPaddingProperty=e,this.updateSubLayout()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSubSurface.prototype,"coordinateMode",{get:function(){return this.coordinateModeProperty},set:function(e){this.coordinateModeProperty=e,this.updateSubLayout()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSubSurface.prototype,"parentXAxisId",{get:function(){return this.parentXAxisIdProperty},set:function(e){this.parentXAxisIdProperty=e,this.updateSubLayout()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSubSurface.prototype,"parentYAxisId",{get:function(){return this.parentYAxisIdProperty},set:function(e){this.parentYAxisIdProperty=e,this.updateSubLayout()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSubSurface.prototype,"subPosition",{get:function(){return this.subPositionProperty},set:function(e){if(!this.parentSurface)throw Error("subPosition can only be changed for subCharts.");m.Rect.isEqual(this.subPositionProperty,e)||(this.subPositionProperty=e,this.updateSubLayout())},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSubSurface.prototype,"isVisible",{get:function(){return this.isVisibleProperty},set:function(e){this.isVisibleProperty=e,this.invalidateElement()},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSubSurface.prototype,"sectionScale",{get:function(){return this.sectionScaleProperty},set:function(e){this.sectionScaleProperty=e,this.updateSubLayout()},enumerable:!1,configurable:!0}),SciChartSubSurface.prototype.updateSubLayout=function(e){void 0===e&&(e=!1),this.updateWrapper(this.subPosition);var t=this.getOffsets(this.subChartContainer);this.padding=this.calcPadding(this.parentSurface.renderSurface.viewportSize,this.subPositionProperty,t,e)},Object.defineProperty(SciChartSubSurface.prototype,"parentSurface",{get:function(){return this.parentSurfaceProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSubSurface.prototype,"surfaceType",{get:function(){return $.ESurfaceType.SciChartSurfaceType},enumerable:!1,configurable:!0}),SciChartSubSurface.prototype.changeViewportSize=function(e,t){this.renderSurface.viewportSize=this.parentSurface.renderSurface.viewportSize},SciChartSubSurface.prototype.getSubChartContainer=function(){return this.subChartContainer},SciChartSubSurface.prototype.getSubChartRect=function(){var e=this.renderSurface.viewportSize,t=e.width,r=e.height,i=this.adjustedPadding,n=i.top,o=i.left,a=i.bottom,s=i.right,l=t-o-s>0?t-o-s:0,u=r-n-a>0?r-n-a:0;return new m.Rect(o,n,l,u)},SciChartSubSurface.prototype.delete=function(t){void 0===t&&(t=!0),t&&this.domChartRoot.contains(this.domSvgContainer)&&this.domChartRoot.removeChild(this.domSvgContainer),this.backgroundFillBrushCache=(0,f.deleteSafe)(this.backgroundFillBrushCache),e.prototype.delete.call(this,!1)},SciChartSubSurface.prototype.toJSON=function(t){void 0===t&&(t=!1),"toJSON"in this.themeProvider?this.themeProvider.toJSON():this.themeProvider;var r,i=e.prototype.toJSON.call(this);return{surface:o(o({},i.surface),{isTransparent:this.isTransparent,isVisible:this.isVisible,sectionScale:this.sectionScale,subChartPadding:this.subPaddingProperty,position:this.subPosition,subChartContainerId:"string"==typeof this.subChartContainerId?this.subChartContainerId:null===(r=this.subChartContainerId)||void 0===r?void 0:r.id,coordinateMode:this.coordinateMode,parentXAxisId:this.parentXAxisId,parentYAxisId:this.parentYAxisId}),xAxes:this.xAxes.asArray().map(function(e){return e.toJSON()}),yAxes:this.yAxes.asArray().map(function(e){return e.toJSON()}),series:this.renderableSeries.asArray().map(function(e){return e.toJSON(t)}),modifiers:this.chartModifiers.asArray().map(function(e){return e.toJSON()}),annotations:this.annotations.asArray().map(function(e){return e.toJSON()})}},SciChartSubSurface.prototype.calcPadding=function(e,t,r,i){void 0===i&&(i=!1);var n,o,a,s,l,u,c,d,p=e.width,h=e.height,f=(0,R.translateToNotScaled)(p),y=(0,R.translateToNotScaled)(h),g=t.x,v=t.y,m=t.width,b=t.height,P=g,C=v,x=y-v-b,A=f-g-m;if(this.coordinateMode===B.ECoordinateMode.Relative)P=f*g+r.left,C=y*v+r.top,A=f-f*g-f*m+r.right,x=y-y*v-y*b+r.bottom;else if(this.coordinateMode===B.ECoordinateMode.DataValue&&i){var T=this.parentSurface.getXAxisById(this.parentXAxisId);if(!T)throw Error("No x axis with id ".concat(this.parentXAxisId," found on parent surface"));var _=T.getCurrentCoordinateCalculator(),E=this.parentSurface.getYAxisById(this.parentYAxisId);if(!E)throw Error("No y axis with id ".concat(this.parentYAxisId," found on parent surface"));var w=this.parentSurface.seriesViewRect,D=(0,R.translateToNotScaled)(w.left),O=(0,R.translateToNotScaled)(w.top),I=(0,R.translateToNotScaled)(w.bottom),M=(0,R.translateToNotScaled)(w.right),L=E.getCurrentCoordinateCalculator();P=T.isVerticalChart?L.getCoordinate(g):_.getCoordinate(g),C=T.isVerticalChart?_.getCoordinate(v):L.getCoordinate(v),P=Math.max((0,R.translateToNotScaled)(P),0),C=Math.max((0,R.translateToNotScaled)(C),0),P+=D,C+=O;var k=T.flippedCoordinates?g-m:g+m,N=E.flippedCoordinates?v+b:v-b;x=Math.max(y-O-(0,R.translateToNotScaled)(T.isVerticalChart?_.getCoordinate(N):L.getCoordinate(N)),y-I),A=Math.max(f-D-(0,R.translateToNotScaled)(T.isVerticalChart?L.getCoordinate(k):_.getCoordinate(k)),f-M)}return P+=null!==(o=null===(n=this.subPaddingProperty)||void 0===n?void 0:n.left)&&void 0!==o?o:0,C+=null!==(s=null===(a=this.subPaddingProperty)||void 0===a?void 0:a.top)&&void 0!==s?s:0,A+=null!==(u=null===(l=this.subPaddingProperty)||void 0===l?void 0:l.right)&&void 0!==u?u:0,x+=null!==(d=null===(c=this.subPaddingProperty)||void 0===c?void 0:c.bottom)&&void 0!==d?d:0,new S.Thickness(C,A,x,P)},SciChartSubSurface.prototype.applySciChartBackground=function(e,t){if(void 0===t&&(t=!0),this.backgroundProperty=e,!this.isTransparent){var r=new M.WebGlRenderContext2D(this.webAssemblyContext2D,this.renderSurface.viewportSize,this.renderSurface.canvasId),i=r.getNativeContext(),n=this.parentSurface.renderSurface.viewportSize,o=n.width,a=n.height;i.SetClipRect(this.adjustedPadding.left,this.adjustedPadding.top,o-this.adjustedPadding.right-this.adjustedPadding.left,a-this.adjustedPadding.bottom-this.adjustedPadding.top),i.SetClearColor(0,0,0,0),i.Clear(),i.SetClipRect(0,0,o,a);try{(0,_.parseColorToUIntArgb)(e);var s=(0,U.getVectorRectVertex)(this.webAssemblyContext2D);s.push_back((0,z.createNativeRect)(this.webAssemblyContext2D,this.adjustedPadding.left,this.adjustedPadding.top,this.renderSurface.viewportSize.width-this.adjustedPadding.right,this.renderSurface.viewportSize.height-this.adjustedPadding.bottom));var l=(0,D.createBrushInCache)(this.backgroundFillBrushCache,e,1);r.drawRects(s,l,0,0)}catch(e){d.performanceWarnings.subchartBackgroundNotSimpleColor.warn()}r.delete()}},SciChartSubSurface.prototype.updateWrapper=function(e){var t=this;if(this.parentSurface&&this.subChartContainer){var r=this.parentSurface.seriesViewRect;if(r||this.coordinateMode===B.ECoordinateMode.Relative){this.subChartContainer.style.pointerEvents="none",this.subChartContainer.style.position="absolute";var i=function(e){if(t.coordinateMode===B.ECoordinateMode.DataValue){var i=t.parentSurface.getXAxisById(t.parentXAxisId);if(!i)throw Error("No x axis with id ".concat(t.parentXAxisId," found on parent surface"));var n=t.parentSurface.getYAxisById(t.parentYAxisId);if(!n)throw Error("No y axis with id ".concat(t.parentYAxisId," found on parent surface"));var o=(0,R.translateDataValueRectToAbsolute)(e,i,n,r),a=(0,R.convertToHtmlPx)(o.x),s=(0,R.convertToHtmlPx)(o.y),l=(0,R.convertToHtmlPx)(o.width),u=(0,R.convertToHtmlPx)(o.height);return{left:a,top:s,width:l,height:u}}if(t.coordinateMode===B.ECoordinateMode.Relative){var a=(0,R.convertToRelativeHtmlSize)(e.x),c=(0,R.convertToRelativeHtmlSize)(e.y),l=(0,R.convertToRelativeHtmlSize)(e.width),u=(0,R.convertToRelativeHtmlSize)(e.height);return{left:a,top:c,width:l,height:u}}var a=(0,R.convertToHtmlPx)(e.x),d=(0,R.convertToHtmlPx)(e.y),l=(0,R.convertToHtmlPx)(e.width),u=(0,R.convertToHtmlPx)(e.height);return{left:a,top:d,width:l,height:u}}(e);this.subChartContainer.style.left=i.left,this.subChartContainer.style.top=i.top,this.subChartContainer.style.width=i.width,this.subChartContainer.style.height=i.height}}},SciChartSubSurface.prototype.getOffsets=function(e){if(!e)return{left:0,top:0,right:0,bottom:0};var t,r,i,n,o=e.getElementsByClassName(this.leftSectionClass)[0],a=e.getElementsByClassName(this.topSectionClass)[0],s=e.getElementsByClassName(this.rightSectionClass)[0],l=e.getElementsByClassName(this.bottomSectionClass)[0],u=null!==(t=null==o?void 0:o.clientWidth)&&void 0!==t?t:0,c=null!==(r=null==a?void 0:a.clientHeight)&&void 0!==r?r:0,d=null!==(i=null==s?void 0:s.clientWidth)&&void 0!==i?i:0,p=null!==(n=null==l?void 0:l.clientHeight)&&void 0!==n?n:0;return{left:u*this.sectionScaleProperty,top:c*this.sectionScaleProperty,right:d*this.sectionScaleProperty,bottom:p*this.sectionScaleProperty}},SciChartSubSurface}(es);t.SciChartSubSurface=el},61239:function(e,t,r){"use strict";var i,n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),a=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLocateFile=t.getMasterCanvas=t.createChartDestination=t.SciChartSurfaceBase=t.ESurfaceType=t.DebugForDpi=void 0;var l=r(53247),u=r(72127),c=r(86369),d=r(15492),p=r(94694),h=r(35855),f=r(6695),y=r(92530),g=r(95352),v=r(19542),m=r(91383),S=r(20342),b=r(51894),P=r(70250),C=r(92200);r(29502);var x=r(22099),A=r(28957),T=r(64838),_=r(91462),R=r(74875);t.DebugForDpi=!1,(i=t.ESurfaceType||(t.ESurfaceType={})).SciChartSurfaceType="SciChartSurfaceType",i.SciChart3DSurfaceType="SciChart3DSurfaceType";var E=function(e){function SciChartSurfaceBase(t,r){void 0===r&&(r={});var i=e.call(this)||this;return i.rendered=new h.EventHandler,i.themeProviderProperty=SciChartSurfaceBase.DEFAULT_THEME,i.previousThemeProviderProperty=SciChartSurfaceBase.DEFAULT_THEME,i.isInitializedProperty=!1,i.isDeletedProperty=!1,i.backgroundProperty=SciChartSurfaceBase.DEFAULT_THEME.sciChartBackground,i.idProperty=(0,C.generateGuid)(),i.suspendableIdProperty=(0,C.generateGuid)(),i.isAlphaEnabledProperty=!0,i.deletables=[],y.Guard.notNull(t,"webAssemblyContext"),i.domChartRoot=r.domChartRoot,i.domCanvasWebGL=r.domCanvasWebGL,i.domCanvas2D=r.domCanvas2D,i.domSvgContainer=r.domSvgContainer,i.domSvgAdornerLayer=r.domSvgAdornerLayer,i.domDivContainer=r.domDivContainer,i.sharedWasmContext=t,i.propertyChanged=new h.EventHandler,t.TSRSetDrawRequestsEnabled(!0),i.detachChartModifier=i.detachChartModifier.bind(i),i.attachChartModifier=i.attachChartModifier.bind(i),i.chartModifiers=new v.ObservableArray,i.chartModifiers.collectionChanged.subscribe(function(e){var t,r;null===(t=e.getOldItems())||void 0===t||t.forEach(function(e){return i.detachChartModifier(e)}),null===(r=e.getNewItems())||void 0===r||r.forEach(function(e){return i.attachChartModifier(e)})}),i.detachAnnotation=i.detachAnnotation.bind(i),i.attachAnnotation=i.attachAnnotation.bind(i),i.annotations=new v.ObservableArray,i.modifierAnnotations=new v.ObservableArray,i.annotations.collectionChanged.subscribe(function(e){var t,r;null===(t=e.getOldItems())||void 0===t||t.forEach(function(e){return i.detachAnnotation(e)}),null===(r=e.getNewItems())||void 0===r||r.forEach(function(e){return i.attachAnnotation(e)})}),i.modifierAnnotations.collectionChanged.subscribe(function(e){var t,r;null===(t=e.getOldItems())||void 0===t||t.forEach(function(e){return i.detachAnnotation(e)}),null===(r=e.getNewItems())||void 0===r||r.forEach(function(e){return i.attachAnnotation(e)})}),i.mouseManager=new g.MouseManager(i),r.domCanvasWebGL?i.mouseManager.subscribe(r.domCanvasWebGL):r.domCanvas2D&&i.mouseManager.subscribe(r.domCanvas2D),i.onDpiChanged=i.onDpiChanged.bind(i),_.DpiHelper.dpiChanged.subscribe(i.onDpiChanged),x.PerformanceDebugHelper.enableDebug&&i.enableRenderListener(),i}return o(SciChartSurfaceBase,e),SciChartSurfaceBase.disposeSharedWasmContext=function(){0===f.sciChart3DDestinations.length&&0===f.sciChartDestinations.length&&SciChartSurfaceBase.domMasterCanvas&&(document.body.removeChild(SciChartSurfaceBase.domMasterCanvas),SciChartSurfaceBase.domMasterCanvas=void 0),(0,u.forceReapplyLicense2D)(),(0,c.forceReapplyLicense3D)()},SciChartSurfaceBase.setRuntimeLicenseKey=function(e){u.licenseManager.setRuntimeLicenseKey(e)},SciChartSurfaceBase.UseCommunityLicense=function(){u.licenseManager.setRuntimeLicenseKey("community")},SciChartSurfaceBase.setServerLicenseEndpoint=function(e){u.licenseManager.setServerLicenseEndpoint(e)},SciChartSurfaceBase.setLicenseCallback=function(e){u.licenseManager.setLicenseCallback(e)},SciChartSurfaceBase.resolveOptions=function(e){if((null==e?void 0:e.theme)&&"type"in e.theme){if(!("applyOverrides"in e.theme)){var t=(0,l.createType)(b.EBaseType.ThemeProvider,e.theme.type,null,e.theme);"applyOverrides"in t&&t.applyOverrides(e.theme),e.theme=t}}else e?e.theme=SciChartSurfaceBase.DEFAULT_THEME:e={theme:SciChartSurfaceBase.DEFAULT_THEME};return null==e||!e.loader||"addChartLoader"in e.loader||(e.loader=(0,l.createType)(b.EBaseType.Loader,e.loader.type,null,e.loader)),e},Object.defineProperty(SciChartSurfaceBase.prototype,"id",{get:function(){return this.idProperty},set:function(e){this.idProperty=e},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurfaceBase.prototype,"background",{get:function(){return this.backgroundProperty},set:function(e){this.backgroundProperty=e,this.applySciChartBackground(e,this.isAlphaEnabledProperty),this.notifyPropertyChanged("Background")},enumerable:!1,configurable:!0}),SciChartSurfaceBase.prototype.updateBackground=function(){this.applySciChartBackground(this.backgroundProperty,this.isAlphaEnabledProperty)},Object.defineProperty(SciChartSurfaceBase.prototype,"isCopyCanvasSurface",{get:function(){return!this.domCanvasWebGL&&this.domCanvas2D},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurfaceBase.prototype,"seriesViewRect",{get:function(){return this.seriesViewRectProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurfaceBase.prototype,"otherSurfaces",{get:function(){var e=this;return this.destinations?this.destinations.map(function(e){return e.sciChartSurface}).filter(function(t){return t!==e}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurfaceBase.prototype,"isInitialized",{get:function(){return this.isInitializedProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurfaceBase.prototype,"isDeleted",{get:function(){return this.isDeletedProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurfaceBase.prototype,"isSuspended",{get:function(){return R.UpdateSuspender.getIsSuspended(this)},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurfaceBase.prototype,"suspendableId",{get:function(){return this.suspendableIdProperty},enumerable:!1,configurable:!0}),SciChartSurfaceBase.prototype.decrementSuspend=function(){},SciChartSurfaceBase.prototype.resumeUpdates=function(e){e.shouldResumeTarget&&(this.invalidateElement(),e===this.suspender&&(this.suspender=void 0))},SciChartSurfaceBase.prototype.resume=function(){var e;null===(e=this.suspender)||void 0===e||e.resume()},SciChartSurfaceBase.prototype.suspendUpdates=function(){return this.suspender=new R.UpdateSuspender(this),this.addDeletable(this.suspender),this.suspender},SciChartSurfaceBase.prototype.applyTheme=function(e){this.previousThemeProviderProperty=this.themeProviderProperty,this.themeProviderProperty=e,this.applySciChartBackground(e.sciChartBackground),this.chartModifiers.asArray().forEach(function(t){return t.applyTheme(e)}),this.invalidateElement()},Object.defineProperty(SciChartSurfaceBase.prototype,"themeProvider",{get:function(){return this.themeProviderProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SciChartSurfaceBase.prototype,"previousThemeProvider",{get:function(){return this.previousThemeProviderProperty},enumerable:!1,configurable:!0}),SciChartSurfaceBase.prototype.delete=function(e){var t,r=this;void 0===e&&(e=!0),this.isDeletedProperty=!0;var i=null===(t=this.destinations)||void 0===t?void 0:t.findIndex(function(e){return e.sciChartSurface.id===r.id});i>=0&&this.destinations.splice(i,1),_.DpiHelper.dpiChanged.unsubscribe(this.onDpiChanged),this.mouseManager.unsubscribe(),this.mouseManager=void 0,this.chartModifiers.asArray().forEach(function(e){return e.delete()}),this.modifierAnnotations.asArray().forEach(function(e){return e.delete()}),this.annotations.asArray().forEach(function(e){return e.delete()}),this.adornerLayer=void 0;for(var n=0,o=this.deletables;n<o.length;n++){var a=o[n];(0,p.deleteSafe)(a)}this.domChartRoot=void 0,this.domCanvasWebGL=void 0,this.domCanvas2D=void 0,this.domSvgContainer=void 0,this.domSvgAdornerLayer=void 0,this.domDivContainer=void 0,this.sharedWasmContext=void 0,this.deletables=[]},SciChartSurfaceBase.prototype.addDeletable=function(e){this.deletables.push(e)},SciChartSurfaceBase.prototype.getMainCanvas=function(){return this.domCanvasWebGL||this.domCanvas2D},SciChartSurfaceBase.prototype.setSeriesViewRect=function(e){this.seriesViewRectProperty=e},SciChartSurfaceBase.prototype.setDestinations=function(e){this.destinations=e},SciChartSurfaceBase.prototype.setIsInitialized=function(){this.isInitializedProperty=!0},SciChartSurfaceBase.prototype.onDpiChanged=function(e){this.annotations.asArray().forEach(function(t){return t.onDpiChanged(e)}),this.modifierAnnotations.asArray().forEach(function(t){return t.onDpiChanged(e)}),this.invalidateElement()},SciChartSurfaceBase.prototype.nextStateRender=function(e){return a(this,void 0,void 0,function(){var t=this;return s(this,function(r){return[2,new Promise(function(r,i){var listener=function(n){try{if(!n){if(null==e?void 0:e.suspendAfter){var o=t.suspendUpdates();r(o)}else r(null);t.rendered.unsubscribe(listener)}}catch(e){console.error(e),i(e)}};t.rendered.subscribe(listener),(null==e?void 0:e.resumeBefore)&&(t.resume(),(null==e?void 0:e.invalidateOnResume)&&t.invalidateElement())})]})})},Object.defineProperty(SciChartSurfaceBase.prototype,"chartModifierGroups",{get:function(){var e=this.chartModifiers.asArray().filter(function(e){return void 0!==e.modifierGroup}).map(function(e){return e.modifierGroup});return(0,P.getUniqueValues)(e)},enumerable:!1,configurable:!0}),SciChartSurfaceBase.prototype.enableRenderListener=function(){var e=this,listener=function(t){x.PerformanceDebugHelper.mark(t?x.EPerformanceMarkType.Rendered:x.EPerformanceMarkType.FullStateRendered,{contextId:e.id})};this.rendered.subscribe(listener),this.addDeletable({delete:function(){return e.rendered.unsubscribe(listener)}})},SciChartSurfaceBase.prototype.clearRootElement=function(e){if(e&&this.domChartRoot){var t=this.domChartRoot.style;t&&(t.background="",t.position=""),this.domChartRoot.hasOwnProperty("replaceChildren")?this.domChartRoot.replaceChildren():this.domChartRoot.innerHTML=""}},SciChartSurfaceBase.prototype.applyOptions=function(e){var t;this.idProperty=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:this.idProperty,this.widthAspect=null==e?void 0:e.widthAspect,this.heightAspect=null==e?void 0:e.heightAspect,this.disableAspect=null==e?void 0:e.disableAspect},SciChartSurfaceBase.prototype.detachChartModifier=function(e){e.modifierType!==A.EModifierType.MultiChart2DModifier&&(e.invalidateParentCallback=void 0,e.onDetach(),e.setParentSurface(void 0),this.invalidateElement())},SciChartSurfaceBase.prototype.attachChartModifier=function(e){if(e.modifierType===A.EModifierType.MultiChart2DModifier){if(this.chartModifiers.asArray().filter(function(t){return t===e}).length>1)throw Error("Invalid operation in sciChartSurface.attachChartModifier, this FinChartModifier has already been attached to this SciChartSurface.")}else if(e.invalidateParentCallback)throw Error("Invalid operation in sciChartSurface.attachChartModifier, this chartModifier has already been attached to a SciChartSurface. Please detach it from a SciChartSurface before attaching to another");this.themeProviderProperty&&e.applyTheme(this.themeProviderProperty)},SciChartSurfaceBase.prototype.notifyPropertyChanged=function(e){var t;null===(t=this.propertyChanged)||void 0===t||t.raiseEvent(new m.PropertyChangedEventArgs(e)),this.invalidateElement()},SciChartSurfaceBase.prototype.changeMasterCanvasViewportSize=function(e,t,r){if(SciChartSurfaceBase.domMasterCanvas){var i=t,n=r,o=SciChartSurfaceBase.domMasterCanvas.width/_.DpiHelper.PIXEL_RATIO,a=SciChartSurfaceBase.domMasterCanvas.height/_.DpiHelper.PIXEL_RATIO;o>i&&(i=o),a>n&&(n=a),_.DpiHelper.setSize(SciChartSurfaceBase.domMasterCanvas,i,n);var s=SciChartSurfaceBase.domMasterCanvas.width,l=SciChartSurfaceBase.domMasterCanvas.height;e.SCRTSetMainWindowSize(s,l)}},SciChartSurfaceBase.prototype.changeWebGLCanvasViewportSize=function(e,t,r){if(this.domCanvasWebGL){var i=t*_.DpiHelper.PIXEL_RATIO,n=r*_.DpiHelper.PIXEL_RATIO;_.DpiHelper.setSize(this.domCanvasWebGL,t,r),e.SCRTSetMainWindowSize(i,n)}},SciChartSurfaceBase.prototype.detachAnnotation=function(e){e.onDetach(),e.invalidateParentCallback=void 0,e.parentSurface=void 0,this.invalidateElement()},SciChartSurfaceBase.prototype.attachAnnotation=function(e){if(e.invalidateParentCallback)throw Error("Invalid operation in sciChartSurface.attachAnnotation, this annotation has already been attached to a SciChartSurface. Please detach it from a SciChartSurface before attaching to another");e.parentSurface=this,e.invalidateParentCallback=this.invalidateElement,e.onAttach(this),this.invalidateElement()},SciChartSurfaceBase.DEFAULT_THEME=new T.SciChartJSDarkv2Theme,SciChartSurfaceBase.AntiAliasWebGlBackbuffer=!1,SciChartSurfaceBase.wasmContextDisposeTimeout=0,SciChartSurfaceBase.autoDisposeWasmContext=!1,SciChartSurfaceBase}(d.DeletableEntity);t.SciChartSurfaceBase=E,t.createChartDestination=function(e){if(e)return{canvas:e,GetHeight:function(){return this.canvas.height},GetWidth:function(){return this.canvas.width},GetID:function(){return this.canvas.id}}},t.getMasterCanvas=function(){if(!E.domMasterCanvas){var e=document.createElement("canvas");e.id="SciChartMasterCanvas",e.style.display="none",e.style.position="absolute",e.style.left="0",e.style.top="0",t.DebugForDpi&&(e.style.background="#00000077",e.style.pointerEvents="none",e.style.left="",e.style.top="",e.style.display="inline"),e.addEventListener("webglcontextcreationerror",function(e){console.warn("WebGL Context creation error: ",e.statusMessage||"Unknown error")},!1),document.body.appendChild(e),S.WebGlHelper.getContext(e,{premultipliedAlpha:!0,antialias:E.AntiAliasWebGlBackbuffer}),E.domMasterCanvas=e}return E.domMasterCanvas},t.getLocateFile=function(e){return function(t,r){return t.endsWith(".wasm")&&e.wasmUrl?e.wasmUrl:t.endsWith(".data")&&e.dataUrl?e.dataUrl:r+t}}},56210:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasTexture=void 0;var o=r(2003),a=r(94694),s=r(3080),l=r(92530),u=function(e){function CanvasTexture(t,r,i){var n=e.call(this)||this;n.width=Math.floor(r),n.height=Math.floor(i),l.Guard.isTrue(n.width>0,"CanvasTexture.width must be greater than zero"),l.Guard.isTrue(n.height>0,"CanvasTexture.height must be greater than zero"),o.IS_TEST_ENV||(n.canvas=document.createElement("canvas"),n.canvas.width=n.width,n.canvas.height=n.height),n.wasmContext=t,n.intermediateVector=new n.wasmContext.UIntVector,n.intermediateVector.resize(n.height*n.width,0),n.originalIntermediateVector=new n.wasmContext.UIntVector,n.originalIntermediateVector.resize(n.height*n.width,0);var a=n.wasmContext.eTSRTextureFormat.TSR_TEXTUREFORMAT_A8B8G8R8;return n.tsrTextureCache=new s.TextureCache(t),n.tsrTextureCache.create(n.width,n.height,a),n}return n(CanvasTexture,e),CanvasTexture.prototype.getContext=function(){return this.canvas.getContext("2d",{willReadFrequently:!0})},CanvasTexture.prototype.getTexture=function(){return this.tsrTextureCache.value},CanvasTexture.prototype.clear=function(){this.getContext().clearRect(0,0,this.width,this.height),this.intermediateVector.fill(0),this.originalIntermediateVector.fill(0)},CanvasTexture.prototype.delete=function(){this.intermediateVector=(0,a.deleteSafe)(this.intermediateVector),this.originalIntermediateVector=(0,a.deleteSafe)(this.originalIntermediateVector),this.tsrTextureCache=(0,a.deleteSafe)(this.tsrTextureCache),this.wasmContext=void 0},CanvasTexture.prototype.copyTexture=function(){var e,t=this.width*this.height;if(!this.intermediateVector||this.intermediateVector.size()!==t)throw Error("CanvasTexture.ts: IntermediateVector size is ".concat(null===(e=this.intermediateVector)||void 0===e?void 0:e.size()," and expected ").concat(t));for(var r=this.getContext().getImageData(0,0,this.width,this.height).data,i=this.width*this.height,n=0;n<i;n++){var o=4*n,a=r[o+3];if(0!==a){var s=a<<24|r[o]<<16|r[o+1]<<8|r[o+2];this.intermediateVector.set(n,s>>>0),this.originalIntermediateVector.set(n,s>>>0)}}var l=this.tsrTextureCache.value;this.wasmContext.SCRTFillTextureAbgr(l,this.width,this.height,this.intermediateVector)},CanvasTexture.prototype.applyOpacity=function(e){this.wasmContext.SCRTMultiplyColorVectorOpacity(this.originalIntermediateVector,this.intermediateVector,e);var t=this.tsrTextureCache.value;this.wasmContext.SCRTFillTextureAbgr(t,this.width,this.height,this.intermediateVector)},CanvasTexture}(r(15492).DeletableEntity);t.CanvasTexture=u},91462:function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.DpiHelper=void 0;var n=r(2003),o=r(35855),a=r(36313),s=r(61239),l=function(){function DpiHelper(){}return DpiHelper.initialize=function(){DpiHelper.initialized||(DpiHelper.PIXEL_RATIO=1,DpiHelper.IsDpiScaleEnabled&&"undefined"!=typeof window&&window.devicePixelRatio&&(DpiHelper.PIXEL_RATIO=window.devicePixelRatio),s.DebugForDpi&&console.log("Initializing Dpi Helper. Scaling factor = "+DpiHelper.PIXEL_RATIO),DpiHelper.IsDpiScaleEnabled&&!n.IS_TEST_ENV&&window.addEventListener("resize",function(){var e=window.devicePixelRatio||1,t=DpiHelper.PIXEL_RATIO;t!==e&&(s.DebugForDpi&&console.log("Dpi Changing, was ".concat(t,", now ").concat(e)),DpiHelper.PIXEL_RATIO=e,DpiHelper.dpiChanged.raiseEvent({newValue:e,oldValue:t}))}),DpiHelper.initialized=!0)},DpiHelper.createCanvas=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var r=document.createElement("canvas");return e&&t&&DpiHelper.setSize(r,e,t),r},DpiHelper.setSize=function(e,t,r){DpiHelper.setWidth(e,t),DpiHelper.setHeight(e,r)},DpiHelper.setWidth=function(e,t){s.DebugForDpi&&console.log("setWidth ".concat(e.id," backBuffer=").concat(t*DpiHelper.PIXEL_RATIO," display=").concat(t)),e.width=t*DpiHelper.PIXEL_RATIO},DpiHelper.setHeight=function(e,t){s.DebugForDpi&&console.log("setHeight ".concat(e.id," backBuffer=").concat(t*DpiHelper.PIXEL_RATIO," display=").concat(t)),e.height=t*DpiHelper.PIXEL_RATIO},DpiHelper.adjustLineStyle=function(e,t){void 0===t&&(t=DpiHelper.PIXEL_RATIO);var r=i({},e);return r.end*=t,r.start*=t,r.strokeThickness*=t,r},DpiHelper.adjustTextStyle=function(e,t){void 0===t&&(t=DpiHelper.PIXEL_RATIO);var r=i({},e);return r.fontSize=Math.round(r.fontSize*t),e.padding&&(r.padding=DpiHelper.adjustThickness(e.padding,t)),r},DpiHelper.adjustStrokeSize=function(e,t){void 0===t&&(t=DpiHelper.PIXEL_RATIO);var r,n=i({},e),o=Math.round(e.strokeThickness*t);return n.strokeDashArray=null===(r=e.strokeDashArray)||void 0===r?void 0:r.map(function(e){return Math.round(e*t)}),n.strokeThickness=o>0||0===e.strokeThickness?o:1,n},DpiHelper.adjustThickness=function(e,t){return void 0===t&&(t=DpiHelper.PIXEL_RATIO),new a.Thickness(Math.round(e.top*t),Math.round(e.right*t),Math.round(e.bottom*t),Math.round(e.left*t))},DpiHelper.IsDpiScaleEnabled=!0,DpiHelper.dpiChanged=new o.EventHandler,DpiHelper}();t.DpiHelper=l},18237:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.measureTextWidth=t.measureTextHeight=t.TextureManager=void 0;var o=r(2003),a=r(15492),s=r(86599),l=r(90531),u=r(53134),c=r(48053),d=r(94485),p=r(91462),h=function(e){function TextureManager(t){var r=e.call(this)||this;return r.webAssemblyContext=t,o.IS_TEST_ENV||(r.canvas=document.createElement("canvas"),r.canvas.width=1920,r.canvas.height=1080,r.ctx=r.canvas.getContext("2d",{willReadFrequently:!0})),r}return n(TextureManager,e),TextureManager.prototype.createSimpleTextTexture=function(e,t,r,i,n,o){var a=0;return i&&(a=n?90:-90),this.createTextTexture([e],t,a,void 0,r,o)},TextureManager.prototype.createTextTextureNative=function(e,t,r,i,n,o){t.fontStyle,t.fontWeight;var a=t.fontFamily,s=t.fontSize,l=(t.padding,t.alignment,t.color),u=this.webAssemblyContext.SCRTGetMainRenderContext2D(),p=(0,d.getFontKey)(this.webAssemblyContext,{fontFamily:a,fontSize:null!=s?s:12}),h=n?(0,c.parseColorToUIntArgb)(n):0,f=u.CreateTextTextureColored(p,e.join("\n"),(0,c.parseColorToUIntArgb)(l),h);this.webAssemblyContext.SCRTSetTextureLinearSamplerEnabled(f,!1);var y=f.GetWidth(),g=f.GetHeight();return{bitmapTexture:f,textureWidth:y,textureHeight:g}},TextureManager.prototype.createTextTexture=function(e,r,i,n,a,s){if(o.IS_TEST_ENV)return{bitmapTexture:void 0,textureWidth:1,textureHeight:1};var c,d=r.fontStyle,p=r.fontWeight,h=r.fontFamily,f=r.fontSize,y=r.padding,g=r.alignment,v=r.color;this.ctx.save(),this.ctx.globalAlpha=null!=s?s:1,this.ctx.textBaseline="alphabetic",this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),a&&(this.ctx.fillStyle=a,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)),this.ctx.fillStyle=v,this.ctx.font=(0,u.getFontString)(d,p,f,h);for(var m=0,S=y.top+y.bottom,b=0,P=0,C=[],x=0;x<e.length;x++){var A=e[x],T=this.ctx.measureText(A),_=Math.round(T.actualBoundingBoxAscent+T.actualBoundingBoxDescent);C.push(_),_>b&&(b=_),0===x&&(P=T.actualBoundingBoxAscent);var R=Math.round(T.width+y.left+y.right);R>m&&(m=R),S+=_}var E=Math.round(b*((null!=n?n:1.1)-1));S+=(e.length-1)*E;var w=y.top+P,D=y.left;if(!m||!S)return{bitmapTexture:void 0,textureWidth:m,textureHeight:S};var O=m,I=S;if(i){var M=i*Math.PI/180;O=Math.round(m*Math.abs(Math.cos(M))+S*Math.abs(Math.sin(M))),I=Math.round(m*Math.abs(Math.sin(M))+S*Math.abs(Math.cos(M))),this.ctx.translate(O/2,I/2),this.ctx.rotate(M),this.ctx.translate(-m/2,-S/2)}for(var L=null!==(c=r.multilineAlignment)&&void 0!==c?c:g,k=m-y.right-y.left,x=0;x<e.length;x++){var A=e[x];if(L===l.ELabelAlignment.Center||L===l.ELabelAlignment.Right){var R=(0,t.measureTextWidth)(this.ctx,A);D=L===l.ELabelAlignment.Right?m-R-y.right:(k-R)/2+y.left}this.ctx.fillText(A,Math.round(D),Math.round(w)),w+=C[x]+E}return this.ctx.strokeStyle=v,this.ctx.restore(),this.createTextureFromCtxBuffer(O,I)},TextureManager.prototype.createAxisMarkerTexture=function(e,r,i,n,o,a,l,c,d,p){void 0===c&&(c=0),this.ctx.globalAlpha=null!=p?p:1,this.ctx.textBaseline="top",this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.font=(0,u.getFontString)(i,n,o,a);var h=(0,t.measureTextWidth)(this.ctx,r)+4*c,f=(0,t.measureTextHeight)(o)+2*c,y=calcAxisMarkerTextureParams(f,h,r,e),g=y.angle,v=y.alignmentLeft,m=y.alignmentTop,S=y.finalTextureWidth,b=y.finalTextureHeight,P=y.halfHeight;if(this.ctx.save(),this.ctx.translate((h+P)/2,f/2),this.ctx.rotate(g),this.ctx.translate(v,m),d){var C=new Path2D;C.moveTo(0,0),C.lineTo(h,0),C.lineTo(P+h,P),C.lineTo(h,f),C.lineTo(0,f),C.closePath(),this.ctx.fillStyle=d,this.ctx.fill(C)}return e!==s.EAxisAlignment.Right&&(this.ctx.fillStyle=l,this.ctx.fillText(r,2*c,c)),this.ctx.restore(),e===s.EAxisAlignment.Right&&(this.ctx.fillStyle=l,this.ctx.fillText(r,2*c+P,c)),this.createTextureFromCtxBuffer(S,b)},TextureManager.prototype.createTextureFromImage=function(e,t,r){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);var i=(null!=t?t:e.width)*p.DpiHelper.PIXEL_RATIO,n=(null!=r?r:e.height)*p.DpiHelper.PIXEL_RATIO;return this.ctx.drawImage(e,0,0,i,n),this.createTextureFromCtxBuffer(i,n)},TextureManager.prototype.getTextureContext=function(e,t){if(!o.IS_TEST_ENV)return e>this.canvas.width&&(this.canvas.width=e),t>this.canvas.height&&(this.canvas.height=t),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx},TextureManager.prototype.createTextureFromCtxBuffer=function(e,t){var r=this.ctx.getImageData(0,0,e,t);return this.createTextureFromImageData(r,e,t)},TextureManager.prototype.createTextureFromImageData=function(e,t,r){var i,n=this.webAssemblyContext.eTSRTextureFormat.TSR_TEXTUREFORMAT_A8B8G8R8,o=this.webAssemblyContext.SCRTCreateBitmapTexture(t,r,n);try{var a=e.data;this.webAssemblyContext.SCRTSetActiveTexture(o),i=this.webAssemblyContext._malloc(a.length),this.webAssemblyContext.HEAP8.set(a,i),this.webAssemblyContext.ccall("SCRTFillActiveTextureCharArray",null,["number","number","number"],[t,r,i])}catch(e){console.error(e)}finally{this.webAssemblyContext._free(i),this.webAssemblyContext.SCRTSetTextureLinearSamplerEnabled(o,!1)}return{bitmapTexture:o,textureWidth:t,textureHeight:r}},TextureManager.prototype.delete=function(){this.canvas=void 0,this.ctx=void 0,this.webAssemblyContext=void 0},TextureManager.prototype.createTextureFromCtx=function(e,t){var r=this.ctx.getImageData(0,0,e,t).data,i=e*t,n=new this.webAssemblyContext.UIntVector;n.resize(i,0);for(var o=0;o<i;o++){var a=4*o,s=r[a+3];if(0!==s){var l=r[a],u=r[a+1],c=s<<24|r[a+2]<<16|u<<8|l;n.set(o,c>>>0)}}var d=this.webAssemblyContext.eTSRTextureFormat.TSR_TEXTUREFORMAT_A8B8G8R8,p=this.webAssemblyContext.SCRTCreateBitmapTexture(e,t,d);return this.webAssemblyContext.SCRTFillTextureAbgr(p,e,t,n),n.delete(),{bitmapTexture:p,textureWidth:e,textureHeight:t}},TextureManager}(a.DeletableEntity);t.TextureManager=h,t.measureTextHeight=function(e){return e},t.measureTextWidth=function(e,t){return o.IS_TEST_ENV?1:Math.ceil(e.measureText(t).width)};var calcAxisMarkerTextureParams=function(e,t,r,i){var n=Math.ceil(e/2),o=0,a=0,l=0,u=t+n,c=e;switch(i){case s.EAxisAlignment.Left:o=0,a=-(t+n)/2,l=-e/2;break;case s.EAxisAlignment.Top:o=.5*Math.PI,a=-e/2,l=(t+n)/2-e,u=e,c=t+n;break;case s.EAxisAlignment.Right:o=Math.PI,a=-(t+n)/2,l=-e/2;break;case s.EAxisAlignment.Bottom:o=1.5*Math.PI,a=-t,l=-(t+n)/2,u=e,c=t+n}return{angle:o,alignmentLeft:a,alignmentTop:l,finalTextureWidth:u,finalTextureHeight:c,halfHeight:n}}},74875:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateSuspender=void 0;var o=r(15492),a=r(93766),s=r(92530),l=function(e){function UpdateSuspender(t,r){void 0===r&&(r=!0);var i=e.call(this)||this;return i.resumeTargetProperty=r,i.targetProperty=t,UpdateSuspender.suspendedInstances.containsKey(i.targetProperty.suspendableId)?i.increment(t):UpdateSuspender.suspendedInstances.add(t.suspendableId,{id:t.suspendableId,suspendable:t,suspendCount:1}),i}return n(UpdateSuspender,e),UpdateSuspender.getIsSuspended=function(e){return UpdateSuspender.suspendedInstances.containsKey(e.suspendableId)},UpdateSuspender.using=function(e,t){s.Guard.notNull(e,"target");var r=e.suspendUpdates();try{t()}finally{r.resume()}},Object.defineProperty(UpdateSuspender.prototype,"isSuspended",{get:function(){return UpdateSuspender.getIsSuspended(this.targetProperty)},enumerable:!1,configurable:!0}),Object.defineProperty(UpdateSuspender.prototype,"shouldResumeTarget",{get:function(){return this.resumeTargetProperty},enumerable:!1,configurable:!0}),UpdateSuspender.prototype.resume=function(){this.targetProperty.decrementSuspend(),0===this.decrement(this.targetProperty)&&(this.remove(),this.targetProperty.resumeUpdates(this))},UpdateSuspender.prototype.delete=function(){this.remove(),this.targetProperty=void 0},UpdateSuspender.prototype.remove=function(){UpdateSuspender.suspendedInstances.remove(this.targetProperty.suspendableId)},UpdateSuspender.prototype.increment=function(e){UpdateSuspender.suspendedInstances.item(e.suspendableId).suspendCount++},UpdateSuspender.prototype.decrement=function(e){var t=UpdateSuspender.suspendedInstances.item(e.suspendableId).suspendCount;return t--,UpdateSuspender.suspendedInstances.item(e.suspendableId).suspendCount=t,t},UpdateSuspender.suspendedInstances=new a.Dictionary,UpdateSuspender}(o.DeletableEntity);t.UpdateSuspender=l},92845:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyToCanvas=void 0;var i=r(14464);t.copyToCanvas=function(e,t){return function(r){i.Logger.debug("copyToCanvas");var n=t(r),o=null==n?void 0:n.sciChartSurface,a=null==n?void 0:n.sciChartSurface.domCanvas2D;if(a){var s=a.getContext("2d");s.clearRect(0,0,s.canvas.width,s.canvas.height),s.drawImage(e,0,0),o.rendered.raiseEvent(o.isInvalidated)}}}},61958:function(e,t,r){"use strict";var i,n,o=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.monitorWebGL=t.disposeMultiChart=t.initializeChartEngine2D=t.getSharedWasmContext=t.createMultichart=void 0;var s=r(94320),l=r(69405),u=r(92530),c=r(21075),d=r(72127),p=r(78237),h=r(3192),f=r(71413),y=r(34282),g=r(61239),v=r(6695),m=r(15492),S=r(94485),b=r(35911);r(29502);var P=r(20342),C=r(14464),x=r(92845),A=r(22099),T={wasmContext:void 0,getChildSurfaces:void 0,createChildSurface:void 0};t.createMultichart=function(e,r){return o(void 0,void 0,void 0,function(){var i,n,o,s,l,u,c,d,y,g;return a(this,function(a){switch(a.label){case 0:f.default.checkChartDivExists(e),i=f.default.initCanvas(e,null!==(d=null==r?void 0:r.widthAspect)&&void 0!==d?d:0,null!==(y=null==r?void 0:r.heightAspect)&&void 0!==y?y:0,f.default.ECanvasType.canvas2D,null==r?void 0:r.disableAspect,null==r?void 0:r.touchAction),o=(n=null!==(g=null==r?void 0:r.loader)&&void 0!==g?g:new p.DefaultSciChartLoader).addChartLoader(i.domDivContainer,null==r?void 0:r.theme),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,t.initializeChartEngine2D)()];case 2:return a.sent(),s=T.createChildSurface,l=T.wasmContext,u=s(i.domChartRoot.id,i,null==r?void 0:r.theme),[2,new Promise(function(e){setTimeout(function(){var t;(null!==(t=null==r?void 0:r.createSuspended)&&void 0!==t?t:h.SciChartDefaults.createSuspended)&&u.suspendUpdates(),n.removeChartLoader(i.domDivContainer,o),o=void 0,u.setIsInitialized(),e({wasmContext:l,sciChartSurface:u})},0)})];case 3:return console.error(c=a.sent()),n.removeChartLoader(i.domDivContainer,o),o=void 0,[2,Promise.reject(c)];case 4:return[2]}})})},t.getSharedWasmContext=function(){return o(void 0,void 0,void 0,function(){return a(this,function(e){switch(e.label){case 0:return[4,(0,t.initializeChartEngine2D)()];case 1:return[2,e.sent().wasmContext]}})})},t.initializeChartEngine2D=function(){return o(void 0,void 0,void 0,function(){var e,r,n;return a(this,function(o){switch(o.label){case 0:if(e=A.PerformanceDebugHelper.mark(A.EPerformanceMarkType.EngineInitStart),P.WebGlHelper.initialize(),!(!T.wasmContext||!T.createChildSurface||!T.getChildSurfaces))return[3,2];return i||((0,d.forceReapplyLicense2D)(),i=createMaster()),[4,i];case 1:r=o.sent(),T.wasmContext=r.wasmContext,(0,l.checkBuildStamp)(r.wasmContext),T.createChildSurface=r.createChildSurface,T.getChildSurfaces=r.getChildSurfaces,(0,t.monitorWebGL)(r.wasmContext),o.label=2;case 2:return A.PerformanceDebugHelper.mark(A.EPerformanceMarkType.EngineInitEnd,{relatedId:null===(n=null==e?void 0:e.detail)||void 0===n?void 0:n.relatedId}),[2,i]}})})},t.disposeMultiChart=function(){n&&n(),T.createChildSurface=void 0,T.getChildSurfaces=void 0,T.wasmContext=void 0,i=void 0,d.licenseManager.clear()},t.monitorWebGL=function(e){var restoreContext=function(){e.SCRTInitEngine2D(),e.TSRSetDrawRequestsEnabled(!0)};e.canvas.addEventListener("webglcontextlost",function(t){console.warn("WebGL context lost: ",t.statusMessage),t.preventDefault(),c.WebGlRenderContext2D.webGlResourcesRefs.forEach(function(e){e.invalidateCache()}),b.labelCache.resetCache(),(0,S.deleteCache)(e),e.SCRTShutdownEngine2D()},!1),e.canvas.addEventListener("webglcontextrestored",function(e){console.warn("WebGL context restored: ",e.statusMessage),restoreContext()},!1)};var createMaster=function(){var createChildSurfaceInner=function(e,t,r,i){u.Guard.notNull(i,"theme");var n=new y.SciChartSurface(e,{canvases:r});n.applyTheme(i);var o=f.default.subscribeToResize(r.domChartRoot,r.aspect,n,r.disableAspect);return n.addDeletable(o),n.setDestinations(v.sciChartDestinations),n},addDestination=function(e,t,r,i,n,o){var a=(0,g.createChartDestination)(r.domCanvas2D);if(!a){r.delete();return}var s=e.SCRTSurfaceDestination.implement(a);o.AddDestination(s),o.SetFPSCounterEnabled(!1),v.sciChartDestinations.push({canvasElementId:t,sciChartSurface:r,width:i,height:n})};return new Promise(function(e,t){var r=(0,g.getMasterCanvas)(),i=(0,g.getLocateFile)(y.sciChartConfig);new s({locateFile:i,noInitialRun:!0}).then(function(t,i){var o=(0,m.createWasmContextRevocableProxy)(t),a=o.proxy;n=function(){b.labelCache.resetCache(),a.TSRRequestExit(),s.delete(),a.SCRTGetGlobalSampleChartInterface().SetFrameRenderer(null),a.SCRTGetGlobalSampleChartInterface().delete(),a.SCRTSetGlobalSampleChartInterface(null),(0,S.deleteCache)(a),l.delete(),a.SCRTSetGlobalCopyToDestinationInterface(null),o.revoke(),o=void 0,n=void 0};var s=new a.SCRTFrameRenderer2D,l=a.SCRTCopyToDestinationInterface.implement({CopyToDestination:(0,x.copyToCanvas)(g.SciChartSurfaceBase.domMasterCanvas,getDestinationById)}),getChildSurfaces=function(){return v.sciChartDestinations.map(function(e){return e.sciChartSurface})},createChildSurface=function(e,t,r){u.Guard.notNull(r,"theme");var i=f.default.getCanvas2dId(e),n=v.sciChartDestinations.filter(function(e){return e.canvasElementId===i}),o=v.sciChartDestinations.filter(function(e){return e.canvasElementId!==i});for(c.ClearDestinations();v.sciChartDestinations.length>0;)v.sciChartDestinations.pop();o.forEach(function(e){return addDestination(a,e.canvasElementId,e.sciChartSurface,e.width,e.height,c)});var s=createChildSurfaceInner(a,e,t,r);return s.addDeletable({delete:function(){y.SciChartSurface.autoDisposeWasmContext&&0===s.otherSurfaces.length&&(y.SciChartSurface.wasmContextDisposeTimeout?setTimeout(function(){0===v.sciChartDestinations.length&&y.SciChartSurface.disposeSharedWasmContext()},y.SciChartSurface.wasmContextDisposeTimeout):y.SciChartSurface.disposeSharedWasmContext())}}),addDestination(a,i,s,t.domCanvas2D.width,t.domCanvas2D.height,c),n.forEach(function(e){return e.sciChartSurface.delete(!1)}),d.licenseManager.applyLicense2D(a,s,!1),s};a.canvas=r;var c=a.SCRTSampleChartInterface.implement({InitializeChart:function(){C.Logger.debug("InitializeChart"),e({getChildSurfaces:getChildSurfaces,createChildSurface:createChildSurface,wasmContext:a})},Draw:function(e){C.Logger.debug("Draw",e);var t=v.sciChartDestinations.find(function(t){return t.canvasElementId===e});t&&t.sciChartSurface.renderSurface.onRenderTimeElapsed()},Update:function(e){C.Logger.debug("sciChartInitCommon.ts Update",e)},ShutDownChart:function(){C.Logger.debug("sciChartInitCommon.ts ShutDownChart")}});c.SetFrameRenderer(s),c.SetWasmBufferSizesKb(h.SciChartDefaults.wasmBufferSizesKb),a.SCRTSetGlobalSampleChartInterface(c),a.SCRTSetGlobalCopyToDestinationInterface(l),a.TSRSetDrawRequestsEnabled(!0),g.SciChartSurfaceBase.domMasterCanvas&&a.SCRTSetMainWindowSize(g.SciChartSurfaceBase.domMasterCanvas.width,g.SciChartSurfaceBase.domMasterCanvas.height),a.callMain()}).catch(function(e){console.error(e),t("Could not load SciChart WebAssembly module.\n                Check your build process and ensure that your scichart2d.wasm, scichart2d.data and scichart2d.js files are from the same version")})})},getDestinationById=function(e){return v.sciChartDestinations.find(function(t){return t.canvasElementId===e})}},44132:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDrawEngineSingleChart=t.createSingleInternal=void 0;var i=r(94320),n=r(69405),o=r(92530),a=r(20342),s=r(14464),l=r(72127),u=r(78237),c=r(3192),d=r(71413),p=r(34282),h=r(61239),f=r(94485),y=r(15492),g=r(6695),v=r(35911),m=r(61958),S=r(22099);t.createSingleInternal=function(e,r){return new Promise(function(o,l){var f,g=d.default.initCanvas(e,null==r?void 0:r.widthAspect,null==r?void 0:r.heightAspect,void 0,null==r?void 0:r.disableAspect,null==r?void 0:r.touchAction),v=null!==(f=null==r?void 0:r.loader)&&void 0!==f?f:new u.DefaultSciChartLoader,b=v.addChartLoader(g.domDivContainer,null==r?void 0:r.theme);S.PerformanceDebugHelper.mark(S.EPerformanceMarkType.EngineInitStart);var P=a.WebGlHelper.getWebGlSupport();if(P===a.EWebGLSupport.WebGL2||P===a.EWebGLSupport.WebGL1){var C=(0,h.getLocateFile)(p.sciChartConfig);new i({locateFile:C,noInitialRun:!0}).then(function(e){v.removeChartLoader(g.domDivContainer,b),e.doNotCaptureKeyboard=!0;var i=(0,y.createWasmContextRevocableProxy)(e);(0,t.initDrawEngineSingleChart)(i.proxy,g,function(e){var t;(null!==(t=null==r?void 0:r.createSuspended)&&void 0!==t?t:c.SciChartDefaults.createSuspended)&&e.sciChartSurface.suspendUpdates(),e.sciChartSurface.addDeletable({delete:function(){i.revoke(),i=void 0}}),o(e)},null==r?void 0:r.theme),(0,n.checkBuildStamp)(e),(0,m.monitorWebGL)(e)}).catch(function(e){s.Logger.debug(e),v.removeChartLoader(g.domDivContainer,b),l("Could not load SciChart WebAssembly module.\n                    Check your build process and ensure that your scichart2d.wasm, scichart2d.data and scichart2d.js files are from the same version")})}else throw Error("Sorry Your browser does not support WebGL.")})},t.initDrawEngineSingleChart=function(e,t,r,i){o.Guard.notNull(i,"theme");var n,a=t.domCanvas2D.width,s=t.domCanvas2D.height;e.preRun.push(function(){return ENV.SDL_EMSCRIPTEN_KEYBOARD_ELEMENT="#chart_WebGL"}),e.canvas=t.domCanvasWebGL;var u=new e.SCRTFrameRenderer2D,h=t.domCanvasWebGL.id,y=e.SCRTSampleChartInterface.implement({InitializeChart:function(){(n=new p.SciChartSurface(e,{canvases:t})).applyTheme(i),g.sciChartSingleDestinations.push({canvasElementId:h,sciChartSurface:n,width:a,height:s}),n.setDestinations(g.sciChartSingleDestinations),n.addDeletable({delete:function(){e.TSRRequestExit(),u.delete(),e.SCRTGetGlobalSampleChartInterface().SetFrameRenderer(null),e.SCRTGetGlobalSampleChartInterface().delete(),e.SCRTSetGlobalSampleChartInterface(null),v.labelCache.resetCache()}}),setTimeout(function(){n.invalidateElement(),l.licenseManager.applyLicense2D(e,n,!0);var i=d.default.subscribeToResize(t.domChartRoot,t.aspect,n,t.disableAspect);n.addDeletable(i),n.addDeletable((0,f.freeCache)(e)),n.setIsInitialized(),r({wasmContext:e,sciChartSurface:n})},0)},Draw:function(e){n.renderSurface.onRenderTimeElapsed()},Update:function(e){},ShutDownChart:function(){}});y.SetFrameRenderer(u),y.SetFPSCounterEnabled(!1),y.SetWasmBufferSizesKb(c.SciChartDefaults.wasmBufferSizesKb),e.SCRTSetGlobalSampleChartInterface(y),e.callMain(),S.PerformanceDebugHelper.mark(S.EPerformanceMarkType.EngineInitEnd,{contextId:null==n?void 0:n.id})}},72127:function(e,t,r){"use strict";var i,n,o,a,s,l,u,c=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.licenseManager=t.updateLicenseDisplay=t.getLicenseInfo=t.applyLicense=t.forceReapplyLicense2D=t.getLicenseCookie=t.setCallbacks3D=t.setUseLicenseWizard=t.setRuntimeLicenseKey=t.setLicenseCallback=t.setIsDebugLicensing=t.setDependencies=void 0;var p=r(2003),h=r(69405),f=r(93766),y=r(6695),g=r(44466),v=r(63126),m=r(47405),S=r(61619),b=r(1107),P=r(6316),C=24278,x=24279,A=g.localStorageApi.getLicenseWizardPort();A&&(x=(C=A)+1);var T={fetchFromWizard:function(e){return c(void 0,void 0,void 0,function(){var t,r,i,n;return d(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,9]),t="http://localhost:"+C.toString()+e,[4,fetch(t)];case 1:return[2,r=o.sent()];case 2:if(i=o.sent(),debug("Could not connect to license wizard on port "+C.toString()),!("undefined"!=typeof localStorage)||!(n=g.localStorageApi.getLicenseWizardMaxPort()))return[3,8];o.label=3;case 3:if(!(x<=n))return[3,8];o.label=4;case 4:return o.trys.push([4,6,,7]),t="http://localhost:"+x.toString()+e,[4,fetch(t)];case 5:return r=o.sent(),C=x,[2,r];case 6:return o.sent(),debug("Could not connect to license wizard on port "+x.toString()),x+=1,[3,7];case 7:return[3,3];case 8:throw i;case 9:return[2]}})})},setCookie:function(e,t,r){return(0,b.setCookie)(e,t,r)},getCookie:function(e){return(0,b.getCookie)(e)},fetchForChallenge:function(e){return fetch(e)},updateLicenseDisplay:function(e,t,r,i){return updateLicenseDisplayInternal(e,t,r,i)},debug:function(e){return console.log(e)}};t.setDependencies=function(e){return T=e};var _=null;t.setIsDebugLicensing=function(e,t){void 0===t&&(t=!1),_=e,(t||!e)&&g.localStorageApi.setIsLicenseDebug(e)};var debug=function(e){null===_&&(_=g.localStorageApi.getIsLicenseDebug()),(p.IS_TEST_ENV||_)&&T.debug(e)};debug("SciChart version "+h.libraryVersion),t.setLicenseCallback=function(e){i=e};var R="",getRuntimeLicenseKey=function(){return R};t.setRuntimeLicenseKey=function(e){var r=R;if((R=e)!==r&&""!==R&&y.sciChartDestinations.length>0){var i=y.sciChartDestinations[0].sciChartSurface;(0,t.applyLicense)(i.sharedWasmContext,i)}};var E=!0;t.setUseLicenseWizard=function(e){E=e};var w=p.IS_TEST_ENV?.1:5,D=p.IS_TEST_ENV?12:10,O="api/license",setServerLicenseEndpoint=function(e){O=e},I=0,M={getLicenseChallenge3D:function(){},setChallengeResponse3D:function(e){},setNewLicense3D:function(e){},updateLicenseDisplay3D:function(){}},L=M;t.setCallbacks3D=function(e){return L=e};var getlicenseFromWizard=function(e,r){return c(void 0,void 0,void 0,function(){var i,o,a,s;return d(this,function(l){switch(l.label){case 0:if(r.isDeleted)return[2];l.label=1;case 1:if(l.trys.push([1,6,,7]),B!==S.LicenseCheckStatus.StartLookingForLicenseWizard&&B!==S.LicenseCheckStatus.LookingForLicenseWizard&&B!==S.LicenseCheckStatus.NoLicenseInWizard)return[2];return debug("Trying to get license from local license wizard"),i=void 0,[4,T.fetchFromWizard("/license")];case 2:if(!(i=l.sent()).ok)return[3,4];return[4,i.text()];case 3:return a=(o=setNewLicense(l.sent(),e,r)).requiresValidation,s=o.trialExpired,a?(debug("Got a developer license from local license wizard.  Validating..."),B=S.LicenseCheckStatus.ValidatingDeveloperLicense,dolicenseChallenge(e,r)):s?(B=S.LicenseCheckStatus.NoLicenseInWizard,debug("No valid license available in licensing wizard. Trying again in ".concat(w," seconds")),n=setTimeout(function(){return getlicenseFromWizard(e,r)},1e3*w)):(debug("Got a valid license from local license wizard."),B=S.LicenseCheckStatus.LicenseOK),[3,5];case 4:B=S.LicenseCheckStatus.NoLicenseInWizard,debug("No license available in licensing wizard. Trying again in ".concat(w," seconds")),n=setTimeout(function(){return getlicenseFromWizard(e,r)},1e3*w),l.label=5;case 5:return[3,7];case 6:return l.sent(),B=S.LicenseCheckStatus.LookingForLicenseWizard,(I+=1)<D?(debug("Could not find licensing wizard. Trying again in ".concat(w," seconds")),n=setTimeout(function(){return getlicenseFromWizard(e,r)},1e3*w)):(console.log("Failed to connect to licensing wizard. Refresh page to retry."),I=0,B=S.LicenseCheckStatus.FailedToFindLicenseWizard),[3,7];case 7:return void 0===e||r.isDeleted||((0,t.updateLicenseDisplay)((0,t.getLicenseInfo)(e),r,!0,!0),L.updateLicenseDisplay3D()),[2]}})})},setLicenseCookie=function(e,t,r,i){var n="".concat(e,",").concat(t,",").concat(r,",").concat(i);return T.setCookie("scLicense",n,365)};t.getLicenseCookie=function(){var e=T.getCookie("scLicense").split(",");return 4===e.length?{key:e[0],token:e[1],expiry:new Date(1e3*Number.parseInt(e[2],10)),lastValidated:new Date(1e3*Number.parseInt(e[3],10))}:{key:e[0],token:null,expiry:null,lastValidated:null}};var setChallengeResponse=function(e,t){var r=-1;void 0!==t&&(r=t.SCRTCredentials.ApplyLicenseResponse(e));var i=L.setChallengeResponse3D(e);return void 0!==i?i:r},k=0,dolicenseChallenge=function(e,r){return c(void 0,void 0,void 0,function(){var n,a,s,l,u,c,p,h,f,g,v,m,b,C;return d(this,function(d){switch(d.label){case 0:if(r.isDeleted)return[2];n=P.licenseManager2dState.getIsDev()?"license wizard":"server",d.label=1;case 1:if(d.trys.push([1,11,,12]),B!==S.LicenseCheckStatus.ValidatingDeveloperLicense)return[2];if(debug("Attempting to validate license with ".concat(n)),a=void 0,s=void 0,void 0!==e?(a=e.SCRTCredentials.GetLicenseChallenge(),s=e.SCRTCredentials.GetOrderId()):(a=(C=L.getLicenseChallenge3D()).challenge,s=C.orderId),l=void 0,u="orderid=".concat(s,"&challenge=").concat(a),!P.licenseManager2dState.getIsDev())return[3,3];return c="/validate?".concat(u),[4,T.fetchFromWizard(c)];case 2:case 4:return l=d.sent(),[3,7];case 3:if(!(void 0!==i))return[3,5];return[4,i(u)];case 5:return c="/"+O+(O.indexOf("?")>0?"&":"?")+u,[4,T.fetchForChallenge(c)];case 6:l=d.sent(),d.label=7;case 7:if(!l.ok)return[3,9];return[4,l.text()];case 8:return(p=d.sent()).startsWith("Error")?(debug("Server rejected the license challenge: "+p),B=S.LicenseCheckStatus.FailedToValidateDeveloperLicense):(h=setChallengeResponse(p,e))>0?((f=(0,t.getLicenseCookie)().key)||(f=getRuntimeLicenseKey()),g=Math.floor(new Date().getTime()/1e3),setLicenseCookie(f,p,h,g),debug("License validated"),B=S.LicenseCheckStatus.LicenseOK,k=0,o=setTimeout(function(){return dolicenseChallenge(e,r)},Math.floor(950*(h-g)))):(debug("license challenge response was invalid: "+p),B=S.LicenseCheckStatus.FailedToValidateDeveloperLicense),[3,10];case 9:if(P.licenseManager2dState.getIsDev())console.warn("Error during license validation: "+l.statusText),B=S.LicenseCheckStatus.FailedToValidateDeveloperLicense;else throw Error(l.statusText);d.label=10;case 10:return[3,12];case 11:if(d.sent(),!P.licenseManager2dState.getIsDev())return console.warn("Server license validation failed.  Looking for local developer license"),R="",B=S.LicenseCheckStatus.NoLicense,e.SCRTCredentials.ResetRuntimeLicense(),V=!1,P.licenseManager2dState.setIsDev(!0),B=S.LicenseCheckStatus.StartLookingForLicenseWizard,getlicenseFromWizard(e,r),y.sciChartDestinations.length>0&&!r.isDeleted&&(v=y.sciChartDestinations[0].sciChartSurface,(0,t.updateLicenseDisplay)((0,t.getLicenseInfo)(v.sharedWasmContext),v,!0,!1),L.updateLicenseDisplay3D()),[2];return(k+=1)<D?(debug("Could not find ".concat(n,"/").concat(O,". Trying again in ").concat(w," seconds")),o=setTimeout(function(){return dolicenseChallenge(e,r)},1e3*w)):(m=(0,t.getLicenseCookie)().expiry,b=P.licenseManager2dState.getIsDev()?"Please run the license wizard, ensure your license is activated, then refresh page to retry.":"Please check that the endpoint is configured correctly.",console.error("Failed to connect to ".concat(n,"/").concat(O,".  License must be revalidated before ").concat(m.toLocaleString(),". ").concat(b)),k=0,new Date>m&&(B=S.LicenseCheckStatus.FailedToFindLicenseWizard)),[3,12];case 12:return void 0===e||r.isDeleted||((0,t.updateLicenseDisplay)((0,t.getLicenseInfo)(e),r,!0,!0),L.updateLicenseDisplay3D()),[2]}})})},N=!0;t.forceReapplyLicense2D=function(){N=!0};var B=S.LicenseCheckStatus.NoLicense,V=!1,F=!1,applyLicense2D=function(e,r,i){debug("applyLicense 2D"),i||N?(0,t.applyLicense)(e,r):B!==S.LicenseCheckStatus.LicenseOK&&(0,t.updateLicenseDisplay)((0,t.getLicenseInfo)(e),r,!0,!1),i||(N=!1)};t.applyLicense=function(e,r){debug("applyLicense running");var i,o,a,s,l="",u=e.SCRTCredentials.GetLicenseType();debug("Initial license status is "+S.LicenseType[convertLicenseType(u,e)]);var c=getRuntimeLicenseKey();if((B===S.LicenseCheckStatus.NoLicense||B===S.LicenseCheckStatus.LicenseOK||B===S.LicenseCheckStatus.StartLookingForLicenseWizard||B===S.LicenseCheckStatus.LookingForLicenseWizard)&&c){debug("Runtime license found");var d=c.indexOf(";");if(d>0){var f=Math.floor(new Date().getTime()/1e3),y=c.substring(d+1);setLicenseCookie(c.substr(0,d),y,f+60,f)}else{e.SCRTCredentials.SetRuntimeLicenseKeyW(c);var g=convertLicenseType(u=e.SCRTCredentials.GetLicenseType(),e);if(debug("Runtime license status is "+S.LicenseType[g]),u===e.SCRTLicenseType.LICENSE_TYPE_FULL||u===e.SCRTLicenseType.LICENSE_TYPE_TRIAL||u===e.SCRTLicenseType.LICENSE_TYPE_COMMUNITY||u===e.SCRTLicenseType.LICENSE_TYPE_REQUIRES_VALIDATION)V=!0,l=c;else{var v=e.SCRTCredentials.GetLicenseErrors();window&&(null===(i=window.location)||void 0===i?void 0:i.hostname)&&!(null===(a=null===(o=window.location)||void 0===o?void 0:o.hostname)||void 0===a?void 0:a.includes("localhost"))||!v.startsWith("License is not valid for this domain")?_?debug("Runtime license is invalid: "+v):console.warn("Runtime license is invalid.  Call setIsDebugLicensing(true) for details."):debug("Runtime license is invalid: "+v),l=""}}}var m=(0,t.getLicenseCookie)();if(""===l&&m&&""!==m.key?(debug("Found license in cookie."),l=m.key,e.SCRTCredentials.SetRuntimeLicenseKeyW(l),(u=e.SCRTCredentials.GetLicenseType())===e.SCRTLicenseType.LICENSE_TYPE_FULL||u===e.SCRTLicenseType.LICENSE_TYPE_TRIAL||u===e.SCRTLicenseType.LICENSE_TYPE_REQUIRES_VALIDATION||(debug("License cookie is invalid. "+e.SCRTCredentials.GetLicenseErrors()),(0,b.deleteCookie)("scLicense"),l="",u=e.SCRTLicenseType.LICENSE_TYPE_COMMUNITY)):B===S.LicenseCheckStatus.FetchingFromServer&&(B=S.LicenseCheckStatus.NoLicense),""!==l){if(u===e.SCRTLicenseType.LICENSE_TYPE_COMMUNITY&&(e.SCRTCredentials.SetRuntimeLicenseKeyW(l),u=e.SCRTCredentials.GetLicenseType()),P.licenseManager2dState.setIsDev(e.SCRTCredentials.GetAllowDebugging()),u===e.SCRTLicenseType.LICENSE_TYPE_FULL||u===e.SCRTLicenseType.LICENSE_TYPE_TRIAL||u===e.SCRTLicenseType.LICENSE_TYPE_COMMUNITY){if(B=S.LicenseCheckStatus.LicenseOK,debug("license ok"),u===e.SCRTLicenseType.LICENSE_TYPE_COMMUNITY&&V&&!F){console.log("Using SciChart Community Edition. To use a license from the License Wizard, remove the call to UseCommunityLicense");var C=e.SCRTCredentials.GetLicenseDaysRemaining();console.log("The community license is valid for 6 months from the date the version in use was released.  This version ".concat(h.libraryVersion," has ").concat(C," day").concat(1===C?"":"s"," remaining")),F=!0}}else if(e.SCRTCredentials.RequiresValidation()){if(debug("license requires validation"),V&&P.licenseManager2dState.getIsDev())e.SCRTCredentials.ResetRuntimeLicense(),(0,b.deleteCookie)("scLicense"),B=S.LicenseCheckStatus.DevKeyInRuntimeKey;else if(m.expiry>new Date&&m.key===l){debug("current token in cookie");var x=setChallengeResponse(m.token,e);((u=e.SCRTCredentials.GetLicenseType())===e.SCRTLicenseType.LICENSE_TYPE_FULL||u===e.SCRTLicenseType.LICENSE_TYPE_TRIAL)&&(B=S.LicenseCheckStatus.LicenseOK);var f=Math.floor(new Date().getTime()/1e3);1e3*x>m.expiry.getTime()&&setLicenseCookie(l,m.token,x,f);var A=(new Date().getTime()-m.lastValidated.getTime())/1e3;debug("License expires in ".concat(x-f," seconds.  Last validated ").concat(A," seconds ago")),A>86400&&B!==S.LicenseCheckStatus.ValidatingDeveloperLicense&&(B=S.LicenseCheckStatus.ValidatingDeveloperLicense,dolicenseChallenge(e,r))}else B===S.LicenseCheckStatus.NoLicense&&(B=S.LicenseCheckStatus.ValidatingDeveloperLicense,dolicenseChallenge(e,r))}else debug("license is invalid: "+e.SCRTCredentials.GetLicenseErrors())}if(debug("checkstatus: "+S.LicenseCheckStatus[B]),B===S.LicenseCheckStatus.NoLicense){if(u===e.SCRTLicenseType.LICENSE_TYPE_COMMUNITY&&!F){console.log("Defaulting to SciChart Community Edition. Usage constitutes acceptance of our EULA and terms at https://www.scichart.com/community-licensing. See https://store.scichart.com for commercial licensing options.");var C=e.SCRTCredentials.GetLicenseDaysRemaining();console.log("The community license is valid for 6 months from the date the version in use was released.  This version ".concat(h.libraryVersion," has ").concat(C," day").concat(1===C?"":"s"," remaining")),!p.IS_TEST_ENV&&(null===(s=null==document?void 0:document.location)||void 0===s?void 0:s.hostname.startsWith("localhost"))&&E&&console.log("SciChart is looking for a paid developer activation from the scichart licensing wizard... To disable this call SciChartSurface.UseCommunityLicense()"),F=!0}void 0===n&&E&&(B=S.LicenseCheckStatus.StartLookingForLicenseWizard,P.licenseManager2dState.setIsDev(!0),getlicenseFromWizard(e,r))}void 0!==e&&((0,t.updateLicenseDisplay)((0,t.getLicenseInfo)(e),r,!0,!1),L.updateLicenseDisplay3D())};var openLicenseModal=function(){console.error("Modal not initialized")},setNewLicense=function(e,r,i){var n,o=!1;a&&(a.style.display="none"),V=!1,setLicenseCookie(e,null,null,null),void 0!==r&&(r.SCRTCredentials.SetRuntimeLicenseKeyW(e),o=r.SCRTCredentials.RequiresValidation(),n=r.SCRTCredentials.GetLicenseType()===r.SCRTLicenseType.LICENSE_TYPE_TRIAL_EXPIRED,(0,t.updateLicenseDisplay)((0,t.getLicenseInfo)(r),i,!0,!0));var s=L.setNewLicense3D(e);return void 0!==s&&(o=s.requiresValidation,n=s.trialExpired),{requiresValidation:o,trialExpired:n}},j=new f.Dictionary,insertStyleSheetRule=function(e,t){if(!j.containsKey(e)){var r=document.styleSheets;if(0===r.length){var i=document.createElement("style");i.appendChild(document.createTextNode("")),document.head.appendChild(i)}var n=r[r.length-1],o=n.insertRule(t,n.cssRules.length);j.add(e,o)}},createCloseDivStyles=function(){insertStyleSheetRule("licenseModalClose",".licenseModalClose {\n        color: #aaa;\n        float: right;\n        font-size: 28px;\n        font-weight: bold;\n      }"),insertStyleSheetRule("licenseModalClose:hover",".licenseModalClose:hover {\n        color: black;\n        text-decoration: none;\n        cursor: pointer;\n      }"),insertStyleSheetRule("licenseModalClose:focus",".licenseModalClose:focus {\n        color: black;\n        text-decoration: none;\n        cursor: pointer;\n      }")},createLicenseModal=function(e,r){(a=document.createElement("div")).id="scichartLicenseModal",a.style.display="none",a.style.position="fixed",a.style.zIndex="100",a.style.left="0",a.style.top="0",a.style.width="100%",a.style.height="100%",a.style.overflow="auto",a.style.backgroundColor="rgb(0,0,0)",a.style.backgroundColor="rgba(0,0,0,0.4)";var i=document.createElement("div");i.style.backgroundColor="#fefefe",i.style.position="absolute",i.style.left="50%",i.style.top="50%",i.style.transform="translate(-50%, -50%)",i.style.borderRadius="4px",i.style.padding="20px",i.style.maxWidth="460px",a.appendChild(i);var n=document.createElement("div");n.style.display="block",i.appendChild(n);var o=document.createElement("div");o.style.display="none",i.appendChild(o),openLicenseModal=function(){a.style.display="block",n.style.display="block",o.style.display="none"};var s=document.createElement("div");s.style.display="flex",s.style.padding="8px 16px",s.style.backgroundColor="#5cb85c",s.style.color="white",n.appendChild(s);var l=document.createElement("div");l.style.flexGrow="1",l.innerHTML=e,s.appendChild(l),createCloseDivStyles();var u=document.createElement("span");u.innerHTML="&times;",u.className="licenseModalClose",s.appendChild(u);var c=document.createElement("div");c.innerHTML="If you contact support with a licensing issue, we will ask you to send us the license debug log.\n    To toggle License debug mode use the button below and refresh the page, then check the console output.  \n    When copying the log, make sure to start from the beginning, indicated by the reported version number";var d=document.createElement("button");d.style.margin="10px";var setDebugModeSwitchLabel=function(){d.textContent=_?"Disable licensing debug mode":"Enable licensing debug mode"};setDebugModeSwitchLabel(),d.onclick=function(){(0,t.setIsDebugLicensing)(!_,!0),setDebugModeSwitchLabel()},n.appendChild(c),n.appendChild(d);var p=document.createElement("div");p.innerHTML=r,p.style.padding="8px 16px",p.style.backgroundColor="#5cb85c",p.style.color="white",n.appendChild(p),window.onclick=function(e){e.target===a&&(a.style.display="none")};var h=document.querySelector("[id='".concat(a.id,"']"));return null==h?document.body.appendChild(a):document.body.replaceChild(a,h),u.onclick=function(){a.style.display="none"},a},H="licenseMessage",z=null,G=null,updateLicenseMessageDOM=function(e,t){if(e){var r=t.cloneNode(!0),i=e.getElementsByClassName(H);if(i.length>0){var n=i[0];e.replaceChild(r,n)}else e.appendChild(r);E&&(r.onclick=openLicenseModal)}},convertLicenseType=function(e,t){var r=S.LicenseType.NoLicense;switch(e){case t.SCRTLicenseType.LICENSE_TYPE_NO_LICENSE:r=S.LicenseType.NoLicense;break;case t.SCRTLicenseType.LICENSE_TYPE_TRIAL:r=S.LicenseType.Trial;break;case t.SCRTLicenseType.LICENSE_TYPE_COMMUNITY:r=S.LicenseType.Community;break;case t.SCRTLicenseType.LICENSE_TYPE_FULL:r=S.LicenseType.Full;break;case t.SCRTLicenseType.LICENSE_TYPE_FULL_EXPIRED:r=S.LicenseType.Full_Expired;break;case t.SCRTLicenseType.LICENSE_TYPE_TRIAL_EXPIRED:r=S.LicenseType.Trial_Expired;break;case t.SCRTLicenseType.LICENSE_TYPE_SUBSCRIPTION_EXPIRED:r=S.LicenseType.Subscription_Expired;break;case t.SCRTLicenseType.LICENSE_TYPE_INVALID_DEVELOPER_LICENSE:r=S.LicenseType.Invalid_Developer;break;case t.SCRTLicenseType.LICENSE_TYPE_REQUIRES_VALIDATION:r=S.LicenseType.Requres_Validation;break;case t.SCRTLicenseType.LICENSE_TYPE_INVALID_LICENSE:r=S.LicenseType.Invalid}return r};t.getLicenseInfo=function(e){var t=convertLicenseType(e.SCRTCredentials.GetLicenseType(),e),r=e.SCRTCredentials.GetLicenseDaysRemaining();if((B===S.LicenseCheckStatus.LicenseOK||t===S.LicenseType.Community)&&P.licenseManager2dState.getLicenseType()!==t){t===S.LicenseType.Community?P.licenseManager2dState.setOrderId("Community"):P.licenseManager2dState.setOrderId(e.SCRTCredentials.GetEncryptedOrderId()),P.licenseManager2dState.setProductCode(e.SCRTCredentials.GetProductCode()),P.licenseManager2dState.setLicenseType(t),P.licenseManager2dState.setDevCount(e.SCRTCredentials.GetDeveloperCount());var i=e.SCRTCredentials.HasFeature("TE");P.licenseManager2dState.setTelemetry(i===e.SCRTLicenseType.LICENSE_TYPE_FULL||i===e.SCRTLicenseType.LICENSE_TYPE_TRIAL)}return _&&debug(e.SCRTCredentials.Dump()),{licenseType:t,daysRemaining:r,error:e.SCRTCredentials.GetLicenseErrors()}};var updateLicenseDisplayInternal=function(e,t,r,i){null==z&&((z=document.createElement("div")).className=H,(G=document.createElement("div")).className="licenseMessageChild",G.innerHTML="",z.appendChild(G));var n="",o="",a="",c=e.licenseType,d=e.daysRemaining,p=e.error;if(r&&c!==s||!r&&c!==l||B!==u){if(u=B,r?s=c:l=c,debug("".concat(r?"2D":"3D"," license status changed")),t.invalidateElement(),t.otherSurfaces.map(function(e){return e.invalidateElement()}),B===S.LicenseCheckStatus.StartLookingForLicenseWizard)return;var h='<a href="https://www.scichart.com/licensing-scichart-js"  target="_blank" style="color: white">www.scichart.com/licensing-scichart-js</a>',f='<a href="https://www.scichart.com/contact-us/"  target="_blank" style="color: orange">contact support</a>';c===S.LicenseType.NoLicense?(n="You need to have a license to use SciChart.  ",a="Instructions can be seen at ".concat(h)):c===S.LicenseType.Invalid?(n=p.startsWith("License is not valid for this domain")?"Sorry! The runtime license key is not valid for this domain</br>\n                Please ".concat(f," with your OrderID if you believe this to be incorrect. <u>Click for more information</u></br>\n                For local development, make sure the Licensing Wizard is running and activated.</br>\n                To use Community Edition, remove the call to setRuntimeLicenseKey"):p.startsWith("This version of SciChart can no longer be trialed")?"Sorry! This version of SciChart is too old to be trialed.  Please update to the latest version":p.startsWith("This version of SciChart can no longer be used for the community edition")?"Sorry! This version of SciChart is too old to be used for the community edition.  Please update to the latest version":"Sorry! Your license key appears to be invalid</br>Please ".concat(f," with your OrderID if you believe this to be incorrect."),a="Instructions can be seen at ".concat(h)):c===S.LicenseType.Invalid_Developer?(n="Sorry! You need a developer license to use SciChart on a domain not included in your runtime key.",a="Instructions can be seen at ".concat(h,"</br>\n                    Please ").concat(f," with your OrderID if you are experiencing issues.")):c===S.LicenseType.Requres_Validation?(n=P.licenseManager2dState.getIsDev()?"Your developer license must be validated by the SciChart Licensing Wizard running locally":"This runtime key must be validated by a server side key.",a="Instructions can be seen at ".concat(h,"</br>\n                    Please ").concat(f," with your OrderID if you are experiencing issues.")):c===S.LicenseType.Subscription_Expired?(n="Sorry! Your support subscription has expired.<br>",a="Please ".concat(f," us if you would like to renew your subscription.")):c===S.LicenseType.Trial_Expired&&d<1?(n="Sorry! Your trial has expired.",a="Please ".concat(f," if you require an extension.")):c===S.LicenseType.Trial_Expired&&d>1?(n="This version is too old to trial.",a="Please ".concat(f," if you require an extension.")):c===S.LicenseType.Trial&&d<=7?n="You have ".concat(d," day").concat(1===d?"":"s"," remaining of the trial."):c===S.LicenseType.Community&&d<=7?n="You have ".concat(d," day").concat(1===d?"":"s"," remaining on the community license for this version.  Please update to the latest version of SciChart"):(c===S.LicenseType.Full||(c===S.LicenseType.Trial||c===S.LicenseType.Community)&&d>7)&&(z.style.display="none",G.innerHTML=""),B!==S.LicenseCheckStatus.LicenseOK?(B===S.LicenseCheckStatus.FetchingFromServer&&(o="<br>Fetching license from server..."),B===S.LicenseCheckStatus.LookingForLicenseWizard?(c===S.LicenseType.Community&&(0,v.sendTelemetry)(),o="<br>Looking for Licensing Wizard..."):B===S.LicenseCheckStatus.FailedToFindLicenseWizard?o=P.licenseManager2dState.getIsDev()?"<br><u>Could not connect to the Licensing Wizard.  Please run it, then reload this page.</u>":"<br><u>Could not connect to the server licensing endpoint</u>":B===S.LicenseCheckStatus.ValidatingDeveloperLicense?o=P.licenseManager2dState.getIsDev()?"<br><u>Trying to validate your license...":"<br><u>Trying to validate your license with the server...</u>.":B===S.LicenseCheckStatus.FailedToValidateDeveloperLicense?o=P.licenseManager2dState.getIsDev()?"<br><u>Failed to validate your developer license with the Licensing Wizard.  If you have changed your activated license, try clearing your cookies for this site.</u>.":"<br><u>Failed to validate the runtime license with the server</u>.":B===S.LicenseCheckStatus.NoLicenseInWizard&&c===S.LicenseType.NoLicense?o="<br><u>Please use the Licensing wizard to start a trial or activate a serial key.  Click for more information</u>.":B===S.LicenseCheckStatus.DevKeyInRuntimeKey?o="<br><u>You have set a developer key as a runtime key, which will not work on any other machine.  Click for more information</u>":c===S.LicenseType.Trial_Expired&&d>1?o="<br><u>Please update to the latest version of SciChart. Click for more information</u>.":B===S.LicenseCheckStatus.NoLicenseInWizard&&c===S.LicenseType.Trial_Expired&&(o="<br><u>Please activate a serial key in the Licensing Wizard, or contact sales for an extension.  Click for more information</u>."),n&&(z.style.width="100%",z.style.height="100%",z.style.top="0",z.style.left="0",z.style.position="absolute",z.style.pointerEvents="auto",z.style.cursor="pointer",z.style.background=m.EColor.BackgroundColor,z.style.zIndex="10",G.style.display="block",G.style.color="orange",G.style.width="80%",G.style.position="absolute",G.style.left="50%",G.style.top="50%",G.style.transform="translate(-50%, -50%)",G.style.textAlign="center",G.style.pointerEvents="auto",E?(G.innerHTML=n+o,createLicenseModal(n,a)):G.innerHTML=n+'<br><a href="https://www.scichart.com/licensing-scichart-js/"  target="_blank" style="color: white">Click here for licensing information</a>')):(0,v.sendTelemetry)()}updateLicenseMessageDOM(t.domDivContainer,z),i&&t.otherSurfaces.forEach(function(e){updateLicenseMessageDOM(e.domDivContainer,z)})};t.updateLicenseDisplay=function(e,t,r,i){return T.updateLicenseDisplay(e,t,r,i)},t.licenseManager={clear:function(){y.sciChartDestinations.length||y.sciChartSingleDestinations.length||y.sciChart3DDestinations.length||(clearTimeout(n),clearTimeout(o),(0,t.setCallbacks3D)(M),G=null,z=null)},setRuntimeLicenseKey:function(e){return(0,t.setRuntimeLicenseKey)(e)},setIsDebugLicensing:function(e){return(0,t.setIsDebugLicensing)(e)},setLicenseCallback:function(e){return(0,t.setLicenseCallback)(e)},setServerLicenseEndpoint:function(e){return setServerLicenseEndpoint(e)},applyLicense2D:function(e,t,r){return applyLicense2D(e,t,r)}}},6316:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.licenseManager2dState=void 0;var i=r(61619),n=!1,o="",a="",s=1,l=i.LicenseType.NoLicense,u=!1;t.licenseManager2dState={getIsDev:function(){return n},setIsDev:function(e){n=e},getOrderId:function(){return o},setOrderId:function(e){o=e},getProductCode:function(){return a},setProductCode:function(e){a=e},getLicenseType:function(){return l},setLicenseType:function(e){l=e},getDevCount:function(){return s},setDevCount:function(e){s=e},getTelemetry:function(){return u},setTelemetry:function(e){u=e}}},78237:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultSciChartLoader=void 0;var i=r(92530),n=function(){function DefaultSciChartLoader(){}return DefaultSciChartLoader.prototype.addChartLoader=function(e,t){this.addLoaderStyles(),i.Guard.notNull(e,"domDivContainer"),i.Guard.notNull(t,"theme");var r=document.createElement("div");r.style.background=t.loadingAnimationBackground,r.style.height="100%",r.style.width="100%",r.style.position="relative",r.style.zIndex="11";var n=document.createElement("div"),o='<div><span style="background: '.concat(t.loadingAnimationForeground,'"/></div>');return n.innerHTML=o.repeat(8),n.classList.add("scichart_loader"),r.appendChild(n),e.appendChild(r),r},DefaultSciChartLoader.prototype.removeChartLoader=function(e,t){try{e.removeChild(t)}catch(e){console.error(e)}},DefaultSciChartLoader.prototype.toJSON=function(){return{type:this.type}},DefaultSciChartLoader.prototype.addLoaderStyles=function(){if(!DefaultSciChartLoader.hasStyles){var e=document.head,t=document.createElement("style");t.id=DefaultSciChartLoader.sciChartLoaderStylesId,e.appendChild(t),t.appendChild(document.createTextNode(o)),DefaultSciChartLoader.hasStyles=!0}},DefaultSciChartLoader.hasStyles=!1,DefaultSciChartLoader.sciChartLoaderStylesId="scichart_default_loader_styles_id",DefaultSciChartLoader}();t.DefaultSciChartLoader=n;var o="\n    .scichart_loader {\n      display: inline-block;\n      position: relative;\n      width: 80px;\n      height: 80px;\n      top: 50%;\n      transform: translateY(-50%);\n    }\n    .scichart_loader div {\n      animation: scichart_loader 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n      transform-origin: 40px 40px;\n    }\n    .scichart_loader div span {\n      display: block;\n      position: absolute;\n      width: 7px;\n      height: 7px;\n      border-radius: 50%;\n      margin: -4px 0 0 -4px;\n    }\n    .scichart_loader div:nth-child(1) {\n      animation-delay: -0.036s;\n    }\n    .scichart_loader div:nth-child(1) span {\n      top: 63px;\n      left: 63px;\n    }\n    .scichart_loader div:nth-child(2) {\n      animation-delay: -0.072s;\n    }\n    .scichart_loader div:nth-child(2) span {\n      top: 68px;\n      left: 56px;\n    }\n    .scichart_loader div:nth-child(3) {\n      animation-delay: -0.108s;\n    }\n    .scichart_loader div:nth-child(3) span {\n      top: 71px;\n      left: 48px;\n    }\n    .scichart_loader div:nth-child(4) {\n      animation-delay: -0.144s;\n    }\n    .scichart_loader div:nth-child(4) span {\n      top: 72px;\n      left: 40px;\n    }\n    .scichart_loader div:nth-child(5) {\n      animation-delay: -0.18s;\n    }\n    .scichart_loader div:nth-child(5) span {\n      top: 71px;\n      left: 32px;\n    }\n    .scichart_loader div:nth-child(6) {\n      animation-delay: -0.216s;\n    }\n    .scichart_loader div:nth-child(6) span {\n      top: 68px;\n      left: 24px;\n    }\n    .scichart_loader div:nth-child(7) {\n      animation-delay: -0.252s;\n    }\n    .scichart_loader div:nth-child(7) span {\n      top: 63px;\n      left: 17px;\n    }\n    .scichart_loader div:nth-child(8) {\n      animation-delay: -0.288s;\n    }\n    .scichart_loader div:nth-child(8) span {\n      top: 56px;\n      left: 12px;\n    }\n    @keyframes scichart_loader {\n      0% {\n        transform: rotate(0deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n"},71413:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,n,o=r(20342),a=r(22099),s=r(61239),l=r(91462);(i=n||(n={}))[i.canvasWebGL=0]="canvasWebGL",i[i.canvas2D=1]="canvas2D",i[i.svg=2]="svg";var getCanvas2dId=function(e){return"".concat(e,"_2D")},getCanvasSizes=function(e,t,r,i,n){void 0===i&&(i=0),void 0===n&&(n=0),o=i&&n?i/n:e&&t?void 0:1.5;var o,a=Math.round(e||600);if(o){var s=Math.round(a/o);return s>r&&(s=r),{width:a,height:s,aspectRatio:o}}var s=Math.round(t);return{width:a,height:s,aspectRatio:o}},getChartRootDomElement=function(e){var t="string"==typeof e?document.querySelector("#".concat(e)):e;if(!t)throw Error('Check div element with id "'.concat(t.id,'" exists'));if("div"!==t.nodeName.toLowerCase())throw Error('Element with id "'.concat(t.id,'" should be of type div'));return t},getMaxHeight=function(e){var t=e.style.maxHeight;if(t&&t.includes("px")){var r=parseInt(t.replace("px",""),10);if(!isNaN(r))return r}},u={checkChartDivExists:function(e){if("string"==typeof e){var t=document.querySelectorAll("[id=".concat(e,"]")).length;t>1?console.error('Please provide a unique ID for each chart div element, "'.concat(e,'" it is not a unique identifier')):0===t&&console.error('Chart div element with the ID "'.concat(e,'" is not present in the DOM'))}else if(!e)throw Error("Provided div element doesn't exist!")},ECanvasType:n,getCanvas2dId:getCanvas2dId,initCanvas:function(e,t,r,i,a,u){void 0===i&&(i=n.canvasWebGL),o.WebGlHelper.initialize(),l.DpiHelper.initialize();var c,d=getChartRootDomElement(e);d.innerHTML="",""===d.style.position&&(d.style.position="relative");var p=d.id,h=getCanvasSizes(d.offsetWidth,d.offsetHeight,getMaxHeight(d),t,r),f=h.width,y=h.height,g=h.aspectRatio;!a&&g&&(d.style.aspectRatio="".concat(g)),i===n.canvasWebGL&&((c=document.createElement("canvas")).id="".concat(p,"_WebGL"),c.style.position="absolute",c.style.display="block",c.style.width="100%",c.style.height="100%",o.WebGlHelper.getContext(c,{premultipliedAlpha:!0,antialias:s.SciChartSurfaceBase.AntiAliasWebGlBackbuffer}),d.appendChild(c));var v=document.createElement("canvas");v.id=getCanvas2dId(p),v.style.width="100%",v.style.height="100%",l.DpiHelper.setSize(v,f,y),v.style.position="absolute",i!==n.canvas2D&&(v.style.pointerEvents="none"),i===n.canvasWebGL?v.style.display="none":v.style.display="block",d.appendChild(v),v.style.touchAction=null!=u?u:"none",v.onselectstart=function(){return!1};var m=document.createElementNS("http://www.w3.org/2000/svg","svg");m.id="".concat(p,"_SVG"),m.setAttribute("width",f.toString()),m.setAttribute("height",y.toString()),m.setAttribute("role","img"),m.setAttribute("xmlns","http://www.w3.org/2000/svg"),m.style.position="absolute",m.style.display="block",m.style.width="100%",m.style.height="100%",i!==n.svg&&(m.style.pointerEvents="none"),d.appendChild(m);var S=document.createElementNS("http://www.w3.org/2000/svg","svg");S.id="".concat(p,"_Adorner"),S.setAttribute("width",f.toString()),S.setAttribute("height",y.toString()),S.setAttribute("role","img"),S.setAttribute("xmlns","http://www.w3.org/2000/svg"),S.style.position="absolute",S.style.display="block",S.style.pointerEvents="none",S.style.width="100%",S.style.height="100%",S.style.zIndex="1",d.appendChild(S);var b=document.createElement("div");return b.id="".concat(p,"_div"),b.style.width="100%",b.style.height="100%",b.style.position="relative",b.style.pointerEvents="none",b.style.textAlign="center",d.appendChild(b),i===n.canvasWebGL&&c.addEventListener("webglcontextlost",function(e){console.warn("WebGL context lost. Reloading the page."),e.preventDefault(),location.reload()},!1),{domChartRoot:d,domCanvasWebGL:c,domCanvas2D:v,domSvgContainer:m,domSvgAdornerLayer:S,domDivContainer:b,aspect:g,disableAspect:a}},subscribeToResize:function(e,t,r,i){var n=new ResizeObserver(function(t){for(var i=0;i<t.length;i++)!function(t){t.contentRect?(i=t.contentRect.width,n=t.contentRect.height):t.contentBoxSize?t.contentBoxSize.inlineSize?i=t.contentBoxSize.inlineSize:t.contentBoxSize[0]&&(i=t.contentBoxSize[0].inlineSize):(console.error("ResizeObserver is not supported"),i=900);var i,n,o=getMaxHeight(e);o&&n>o&&(n=o);var s=0!==i&&0!==n,u=r.domCanvas2D.width!==i*l.DpiHelper.PIXEL_RATIO||r.domCanvas2D.height!==n*l.DpiHelper.PIXEL_RATIO;s&&u&&setTimeout(function(){a.PerformanceDebugHelper.mark(a.EPerformanceMarkType.Resize,{contextId:r.id}),r.changeViewportSize(i,n)},0)}(t[i])});return n.observe(e,{box:"border-box"}),{delete:function(){return n.disconnect()}}}};t.default=u},15:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CameraController=t.ECameraProjectionMode=void 0;var i,n,o=r(35855),a=r(92530),s=r(91383),l=r(52652),u=r(53231);(i=n=t.ECameraProjectionMode||(t.ECameraProjectionMode={})).Perspective="Perspective",i.Orthogonal="Orthogonal";var c=function(){function CameraController(e,t){var r;this.aspectRatioProperty=1.5,this.idProperty="Default",this.farClipProperty=4e3,this.fieldOfViewProperty=60,this.nearClipProperty=1,this.orbitalPitchProperty=0,this.orbitalYawProperty=0,this.orthoHeightProperty=400,this.orthoWidthProperty=600,this.positionProperty=l.Vector3.zero,this.projectionModeProperty=n.Perspective,this.targetProperty=l.Vector3.zero,this.webAssemblyContext=e,this.propertyChanged=new o.EventHandler,this.resetToDefaults(),this.position=(null==t?void 0:t.position)||this.position,this.target=(null==t?void 0:t.target)||this.target,this.id=(null==t?void 0:t.id)||this.id,this.debugPositionsProperty=null!==(r=null==t?void 0:t.debugPositions)&&void 0!==r&&r}return Object.defineProperty(CameraController.prototype,"id",{get:function(){return this.idProperty},set:function(e){this.idProperty=e,this.notifyPropertyChanged(u.PROPERTY.CAMERA_ID)},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"orthoHeight",{get:function(){return this.orthoHeightProperty},set:function(e){this.orthoHeightProperty!==e&&(this.orthoHeightProperty=e,this.notifyPropertyChanged(u.PROPERTY.CAMERA_ORTHOHEIGHT))},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"orthoWidth",{get:function(){return this.orthoWidthProperty},set:function(e){this.orthoWidthProperty!==e&&(this.orthoWidthProperty=e,this.notifyPropertyChanged(u.PROPERTY.CAMERA_ORTHOWIDTH))},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"projectionMode",{get:function(){return this.projectionModeProperty},set:function(e){this.projectionModeProperty!==e&&(this.projectionModeProperty=e,this.notifyPropertyChanged(u.PROPERTY.CAMERA_PROJECTIONMODE))},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"aspectRatio",{get:function(){return this.aspectRatioProperty},set:function(e){this.aspectRatioProperty!==e&&(this.aspectRatioProperty=e,this.orthoWidth=this.orthoHeight*this.aspectRatioProperty,this.notifyPropertyChanged(u.PROPERTY.CAMERA_ASPECTRATIO))},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"isAttached",{get:function(){return this.isAttachedProperty},set:function(e){this.isAttachedProperty=e,this.notifyPropertyChanged(u.PROPERTY.CAMERA_ISATTACHED)},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"radius",{get:function(){return this.target.subtract(this.position).length},set:function(e){e<=1&&(e=1),this.radius!==e&&(this.position=this.target.subtract(this.forward.scalarMultiply(e)),this.notifyPropertyChanged(u.PROPERTY.CAMERA_RADIUS))},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"orbitalPitch",{get:function(){return this.orbitalPitchProperty},set:function(e){if(this.orbitalPitchProperty!==e){this.orbitalPitchProperty=e>90?89.9:e<-90?-89.9:e;var t=this.webAssemblyContext.Math3D.PitchAndYawToDirection(this.orbitalPitchProperty,this.orbitalYawProperty);try{var r=new l.Vector3(t.x,t.y,t.z);r=r.scalarMultiply(this.radius),this.position=this.target.subtract(r),this.notifyPropertyChanged(u.PROPERTY.CAMERA_ORBITALPITCH)}finally{null==t||t.delete()}}},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"orbitalYaw",{get:function(){return this.orbitalYawProperty},set:function(e){if(this.orbitalYawProperty!==e){this.orbitalYawProperty=e;var t=this.webAssemblyContext.Math3D.PitchAndYawToDirection(this.orbitalPitchProperty,this.orbitalYawProperty);try{var r=new l.Vector3(t.x,t.y,t.z);r=r.scalarMultiply(this.radius),this.position=this.target.subtract(r),this.notifyPropertyChanged(u.PROPERTY.CAMERA_ORBITALYAW)}finally{null==t||t.delete()}}},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"farClip",{get:function(){return this.farClipProperty},set:function(e){this.farClipProperty=e,this.notifyPropertyChanged(u.PROPERTY.CAMERA_FARCLIP)},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"nearClip",{get:function(){return this.nearClipProperty},set:function(e){this.nearClipProperty=e,this.notifyPropertyChanged(u.PROPERTY.CAMERA_NEARCLIP)},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"fieldOfView",{get:function(){return this.fieldOfViewProperty},set:function(e){this.fieldOfViewProperty=e,this.notifyPropertyChanged(u.PROPERTY.CAMERA_FIELDOFVIEW)},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"upGlobal",{get:function(){return new l.Vector3(0,1,0)},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"side",{get:function(){var e=this.forward,t=e.crossProduct(this.upGlobal).crossProduct(e).crossProduct(e);return t.normalize(),t},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"forward",{get:function(){var e=this.target.subtract(this.position);return e.normalize(),e},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"up",{get:function(){var e=this.forward,t=e.crossProduct(this.upGlobal).crossProduct(e);return t.normalize(),t},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"target",{get:function(){return this.targetProperty},set:function(e){var t,r;if(this.targetProperty!==e){this.targetProperty=e;try{t=this.forward.toTsrVector3(this.webAssemblyContext),r=this.webAssemblyContext.Math3D.DirectionToPitchAndYaw(t),this.orbitalPitchProperty=r.pitch,this.orbitalYawProperty=r.yaw,this.notifyPropertyChanged(u.PROPERTY.CAMERA_TARGET)}finally{null==t||t.delete(),null==r||r.delete()}}},enumerable:!1,configurable:!0}),Object.defineProperty(CameraController.prototype,"position",{get:function(){return this.positionProperty},set:function(e){var t,r;if(this.positionProperty!==e){this.positionProperty=e;try{t=this.forward.toTsrVector3(this.webAssemblyContext),r=this.webAssemblyContext.Math3D.DirectionToPitchAndYaw(t),this.orbitalPitchProperty=r.pitch,this.orbitalYawProperty=r.yaw,this.notifyPropertyChanged(u.PROPERTY.CAMERA_POSITION)}finally{null==t||t.delete(),null==r||r.delete()}}},enumerable:!1,configurable:!0}),CameraController.prototype.toOrthogonal=function(){this.projectionModeProperty!==n.Orthogonal&&(this.projectionModeProperty=n.Orthogonal,this.orthoWidthProperty=this.radius,this.orthoHeightProperty=this.orthoWidth/this.aspectRatio,this.notifyPropertyChanged(u.PROPERTY.CAMERA_PROJECTIONMODE))},CameraController.prototype.toPerspective=function(){this.projectionModeProperty!==n.Perspective&&(this.projectionModeProperty=n.Perspective,this.radius=this.orthoWidth,this.notifyPropertyChanged(u.PROPERTY.CAMERA_PROJECTIONMODE))},CameraController.prototype.resetToDefaults=function(){var e,t;this.positionProperty=new l.Vector3(-1e3,1e3,-1e3),this.targetProperty=new l.Vector3(0,0,0),this.fieldOfViewProperty=60,this.nearClipProperty=1,this.farClipProperty=4e3,this.projectionModeProperty=n.Perspective,this.aspectRatioProperty=1.5,this.orthoWidthProperty=600,this.orthoHeightProperty=400;try{e=this.forward.toTsrVector3(this.webAssemblyContext),t=this.webAssemblyContext.Math3D.DirectionToPitchAndYaw(e),this.orbitalPitch=t.pitch,this.orbitalYaw=t.yaw}finally{null==t||t.delete(),null==e||e.delete()}},CameraController.prototype.updateEngineCamera=function(e){var t,r,i;a.Guard.notNull(e,"tsrCamera");try{t=this.position.toTsrVector3(this.webAssemblyContext),r=this.target.toTsrVector3(this.webAssemblyContext),i=this.up.toTsrVector3(this.webAssemblyContext),e.SetLoc(t),e.SetAt(r),e.SetFarClip(this.farClip),e.SetNearClip(this.nearClip),e.SetFovAngle(this.webAssemblyContext.Math3D.DegToRad(this.fieldOfView)),e.SetProjectionMode(this.projectionMode===n.Perspective?this.webAssemblyContext.eTSRCameraProjectionMode.CAMERA_PROJECTIONMODE_PERSPECTIVE:this.webAssemblyContext.eTSRCameraProjectionMode.CAMERA_PROJECTIONMODE_ORTHOGONAL),e.SetOrthoWidth(this.orthoWidth),e.SetOrthoHeight(this.orthoHeight),e.SetAspectRatio(this.aspectRatio),e.SetYaw(this.webAssemblyContext.Math3D.DegToRad(this.orbitalYaw)),e.SetPitch(this.webAssemblyContext.Math3D.DegToRad(this.orbitalPitch)),e.SetUp(i)}finally{null==t||t.delete(),null==r||r.delete(),null==i||i.delete()}},CameraController.prototype.notifyPropertyChanged=function(e){var t;this.debugPositionsProperty&&(e===u.PROPERTY.CAMERA_POSITION||e===u.PROPERTY.CAMERA_TARGET)&&console.log("SciChart.js Camera P=".concat(this.position.toString(),", T=").concat(this.target.toString())),null===(t=this.propertyChanged)||void 0===t||t.raiseEvent(new s.PropertyChangedEventArgs(e))},CameraController.prototype.debugOutput=function(){var e=["Camera id='".concat(this.id,"': "),"  position: ".concat(this.position.toString()),"  target: ".concat(this.target.toString()),"  pitch: ".concat(this.orbitalPitch.toFixed(2)," degrees"),"  yaw: ".concat(this.orbitalYaw.toFixed(2)," degrees"),"  up Vector: ".concat(this.up.toString()),"  forward Vector: ".concat(this.forward.toString()),"  projectionMode: ".concat(this.projectionMode)];return this.projectionMode===n.Orthogonal?(e.push("  orthoWidth: ".concat(this.orthoWidth.toFixed(2))),e.push("  orthoHeight: ".concat(this.orthoHeight.toFixed(2)))):(e.push("  radius: ".concat(this.radius.toFixed(2))),e.push("  fieldOfView: ".concat(this.fieldOfView.toFixed(2)," degrees"))),e.forEach(function(e){return console.log(e)}),e},CameraController}();t.CameraController=c},41536:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ChartModifierBase3D=void 0;var o=r(28957),a=function(e){function ChartModifierBase3D(t){var r=e.call(this,t)||this;return r.typeMap=new Map,r}return n(ChartModifierBase3D,e),Object.defineProperty(ChartModifierBase3D.prototype,"modifierType",{get:function(){return o.EModifierType.Chart3DModifier},enumerable:!1,configurable:!0}),ChartModifierBase3D.prototype.toJSON=function(){var e={id:this.id,executeOn:this.executeOn};return{type:this.type,options:e}},ChartModifierBase3D}(o.ChartModifierBase);t.ChartModifierBase3D=a},35352:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CustomChartModifier3D=void 0;var o=r(81751),a=function(e){function CustomChartModifier3D(t){var r=e.call(this,t)||this;return r.type=o.EChart3DModifierType.Custom,r}return n(CustomChartModifier3D,e),CustomChartModifier3D}(r(41536).ChartModifierBase3D);t.CustomChartModifier3D=a},27506:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.MouseWheelZoomModifier3D=void 0;var o=r(81751),a=r(15),s=function(e){function MouseWheelZoomModifier3D(t){var r=e.call(this,t)||this;return r.type=o.EChart3DModifierType.MouseWheelZoom,r.mouseWheelSensitivity=(null==t?void 0:t.mouseWheelSensitivity)||.1,r}return n(MouseWheelZoomModifier3D,e),MouseWheelZoomModifier3D.prototype.modifierMouseWheel=function(t){e.prototype.modifierMouseWheel.call(this,t);var r=this.parentSurface;if(r){var i=r.camera;if(i){var n=t.mouseWheelDelta,o=i.radius,s=(o+n*this.mouseWheelSensitivity)/o;i.projectionMode===a.ECameraProjectionMode.Perspective?i.radius*=s:(i.orthoWidth*=s,i.orthoHeight*=s),t.handled=!0}}},MouseWheelZoomModifier3D.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={mouseWheelSensitivity:this.mouseWheelSensitivity};return Object.assign(t.options,r),t},MouseWheelZoomModifier3D}(r(41536).ChartModifierBase3D);t.MouseWheelZoomModifier3D=s},60138:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.OrbitModifier3D=void 0;var o=r(81751),a=function(e){function OrbitModifier3D(t){var r,i=this;return(i=e.call(this,t)||this).type=o.EChart3DModifierType.Orbit,i.enableZoom=!1,i.enableZoom=null!==(r=null==t?void 0:t.enableZoom)&&void 0!==r?r:i.enableZoom,i}return n(OrbitModifier3D,e),OrbitModifier3D.prototype.modifierMouseDown=function(t){if(!this.isAttached)throw Error("Should not call OrbitModifier3D.modifierMouseDown if not attached");this.executeOn===t.button&&(e.prototype.modifierMouseDown.call(this,t),this.activePointerEvents.set(t.pointerId,t))},OrbitModifier3D.prototype.modifierMouseMove=function(t){this.updatePointerInfo(t),this.previousPoint&&(this.enableZoom&&e.prototype.getIsActionAllowed.call(this,t)&&e.prototype.performModifierAction.call(this,t),this.getIsActionAllowed(t)&&this.performModifierAction(t))},OrbitModifier3D.prototype.modifierMouseUp=function(t){if(e.prototype.modifierMouseUp.call(this,t),this.activePointerEvents.size>0){var r=this.activePointerEvents.values().next().value;t.target.setPointerCapture(r.pointerId)}},OrbitModifier3D.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={enableZoom:this.enableZoom};return Object.assign(t.options,r),t},OrbitModifier3D.prototype.performModifierAction=function(e){var t=this.parentSurface.camera;if(t){var r=e.mousePoint,i=this.previousPoint.x-r.x,n=this.previousPoint.y-r.y;t.orbitalYaw+=.2*i,t.orbitalPitch-=.2*n}},OrbitModifier3D.prototype.getIsActionAllowed=function(e){return this.activePointerEvents.values().next().value.pointerId===e.pointerId&&!(this.activePointerEvents.size>1)},OrbitModifier3D}(r(27029).PinchZoomModifier3D);t.OrbitModifier3D=a},27029:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.PinchZoomModifier3D=void 0;var o=r(81751),a=r(15),s=function(e){function PinchZoomModifier3D(t){var r,i=this;return(i=e.call(this,t)||this).growFactor=.5,i.type=o.EChart3DModifierType.PinchZoom,i.growFactor=null!==(r=null==t?void 0:t.growFactor)&&void 0!==r?r:i.growFactor,i}return n(PinchZoomModifier3D,e),PinchZoomModifier3D.prototype.modifierMouseDown=function(t){if(e.prototype.modifierMouseDown.call(this,t),!this.isAttached)throw Error("Should not call PinchZoomModifier3D.modifierMouseDown if not attached");("touch"===t.pointerType||"pen"===t.pointerType)&&this.activePointerEvents.set(t.pointerId,t)},PinchZoomModifier3D.prototype.modifierMouseMove=function(t){var r;e.prototype.modifierMouseMove.call(this,t),null===(r=this.activePointerEvents.get(t.pointerId))||void 0===r||r.mousePoint,this.activePointerEvents.has(t.pointerId)&&this.activePointerEvents.set(t.pointerId,t),this.getIsActionAllowed(t)&&this.performModifierAction(t)},PinchZoomModifier3D.prototype.modifierMouseUp=function(t){e.prototype.modifierMouseUp.call(this,t),this.removeFromActiveTouchEvents(t)},PinchZoomModifier3D.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={growFactor:this.growFactor};return Object.assign(t.options,r),t},PinchZoomModifier3D.prototype.performZoom=function(e,t,r){var i=this.parentSurface;if(i){var n=i.camera;if(n){var o=Math.sqrt(Math.pow(t,2)+Math.pow(r,2)),s=Math.sqrt(Math.pow(this.previousHorizontalTouchPointsDistance,2)+Math.pow(this.previousVerticalTouchPointsDistance,2)),l=n.radius,u=(l+(s-o)*this.growFactor)/l;n.projectionMode===a.ECameraProjectionMode.Perspective?n.radius*=u:(n.orthoWidth*=u,n.orthoHeight*=u)}}},PinchZoomModifier3D.prototype.removeFromActiveTouchEvents=function(e){this.activePointerEvents.delete(e.pointerId),this.activePointerEvents.size<2&&(this.previousHorizontalTouchPointsDistance=void 0,this.previousVerticalTouchPointsDistance=void 0)},PinchZoomModifier3D.prototype.performModifierAction=function(e){var t=Array.from(this.activePointerEvents.values()),r=t[0].mousePoint,i=t[1].mousePoint,n=Math.abs(r.x-i.x),o=Math.abs(r.y-i.y);void 0!==this.previousHorizontalTouchPointsDistance&&void 0!==this.previousVerticalTouchPointsDistance&&this.performZoom(e.mousePoint,n,o),this.previousHorizontalTouchPointsDistance=n,this.previousVerticalTouchPointsDistance=o},PinchZoomModifier3D.prototype.getIsActionAllowed=function(e){return("touch"===e.pointerType||"pen"===e.pointerType)&&this.activePointerEvents.size>=2},PinchZoomModifier3D}(r(41536).ChartModifierBase3D);t.PinchZoomModifier3D=s},68249:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ResetCamera3DModifier=void 0;var o=r(54666),a=r(19513),s=r(51801),l=r(81751),u=r(15),c=function(e){function ResetCamera3DModifier(t){var r,i,n,o=this;return(o=e.call(this,t)||this).type=l.EChart3DModifierType.ZoomExtents,o.isAnimated=!0,o.animationDuration=400,o.easingFunction=a.easing.outExpo,o.isAnimated=null===(r=null==t?void 0:t.isAnimated)||void 0===r||r,o.animationDuration=null!==(i=null==t?void 0:t.animationDuration)&&void 0!==i?i:400,(null==t?void 0:t.easingFunction)&&"string"==typeof t.easingFunction&&(t.easingFunction=a.easing[t.easingFunction]),o.easingFunction=null!==(n=null==t?void 0:t.easingFunction)&&void 0!==n?n:a.easing.outExpo,o.destination=null==t?void 0:t.destination,o}return n(ResetCamera3DModifier,e),ResetCamera3DModifier.prototype.onAttach=function(){if(!this.destination){var e=this.parentSurface;if(e){var t=e.camera;t&&(this.destination={radius:t.radius,pitch:t.orbitalPitch,yaw:t.orbitalYaw,width:t.orthoWidth,height:t.orthoHeight})}}},ResetCamera3DModifier.prototype.modifierDoubleClick=function(e){var t,r,i=this.parentSurface;if(i){var n=i.camera;if(n){if(n.projectionMode===u.ECameraProjectionMode.Perspective){var a=new s.GenericAnimation({from:{radius:n.radius,pitch:n.orbitalPitch,yaw:n.orbitalYaw},to:null!==(t=this.destination)&&void 0!==t?t:{radius:1,pitch:0,yaw:0},onAnimate:function(e,t,r){n.radius=o.DoubleAnimator.interpolate(e.radius,t.radius,r),n.orbitalPitch=o.DoubleAnimator.interpolate(e.pitch,t.pitch,r),n.orbitalYaw=o.DoubleAnimator.interpolate(e.yaw,t.yaw,r)},duration:this.isAnimated?this.animationDuration:0,ease:this.easingFunction});i.addAnimation(a)}else{var a=new s.GenericAnimation({from:{width:n.orthoWidth,height:n.orthoHeight},to:null!==(r=this.destination)&&void 0!==r?r:{width:1,height:1},onAnimate:function(e,t,r){n.orthoWidth=o.DoubleAnimator.interpolate(e.width,t.width,r),n.orthoHeight=o.DoubleAnimator.interpolate(e.height,t.height,r)},duration:this.isAnimated?this.animationDuration:0,ease:this.easingFunction});i.addAnimation(a)}e.handled=!0}}},ResetCamera3DModifier.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this),r={animationDuration:this.animationDuration,easingFunction:this.easingFunction.name,isAnimated:this.isAnimated,destination:this.destination};return Object.assign(t.options,r),t},ResetCamera3DModifier}(r(41536).ChartModifierBase3D);t.ResetCamera3DModifier=c},55076:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.adjustTooltipPosition3D=t.TooltipModifier3D=void 0;var o=r(25),a=r(22148),s=r(94694),l=r(81751),u=r(79361),c=r(53644),d=r(8085),p=r(27632),h=function(e){function TooltipModifier3D(t){var r,i,n,o,a,s,u,c,d,p,h,f,y=this;return(y=e.call(this,t)||this).type=l.EChart3DModifierType.Tooltip,y.showTooltip=!0,y.includedSeriesMap=new Map,y.tooltipSvgTemplateProperty=defaultTooltipTemplate3D,y.tooltipContainerBackgroundProperty="#228B22",y.tooltipTextStrokeProperty="#fff",y.tooltipDataTemplateProperty=defaultTooltipDataTemplate3D,y.crosshairStrokeProperty=null!==(r=null==t?void 0:t.crosshairStroke)&&void 0!==r?r:"#FF6600",y.crosshairStrokeThicknessProperty=null!==(i=null==t?void 0:t.crosshairStrokeThickness)&&void 0!==i?i:2,y.isCrosshairVisibleProperty=null===(n=null==t?void 0:t.isCrosshairVisible)||void 0===n||n,(null==t?void 0:t.tooltipSvgTemplate)&&"string"==typeof t.tooltipSvgTemplate&&(y.typeMap.set("tooltipSvgTemplate",t.tooltipSvgTemplate),t.tooltipSvgTemplate=getFunction(EBaseType.OptionFunction,t.tooltipSvgTemplate)),y.tooltipSvgTemplateProperty=null!==(o=null==t?void 0:t.tooltipSvgTemplate)&&void 0!==o?o:y.tooltipSvgTemplateProperty,y.tooltipContainerBackgroundProperty=null!==(a=null==t?void 0:t.tooltipContainerBackground)&&void 0!==a?a:y.tooltipContainerBackgroundProperty,y.tooltipTextStrokeProperty=null!==(s=null==t?void 0:t.tooltipTextStroke)&&void 0!==s?s:y.tooltipTextStrokeProperty,y.showTooltip=null!==(u=null==t?void 0:t.showTooltip)&&void 0!==u?u:y.showTooltip,y.placementDivIdProperty=null!==(c=null==t?void 0:t.placementDivId)&&void 0!==c?c:y.placementDivIdProperty,(null==t?void 0:t.tooltipLegendTemplate)&&"string"==typeof t.tooltipLegendTemplate&&(y.typeMap.set("tooltipLegendTemplate",t.tooltipLegendTemplate),t.tooltipLegendTemplate=getFunction(EBaseType.OptionFunction,t.tooltipLegendTemplate)),y.tooltipLegendTemplateProperty=null!==(d=null==t?void 0:t.tooltipLegendTemplate)&&void 0!==d?d:y.tooltipLegendTemplateProperty,y.tooltipLegendOffsetXProperty=null!==(p=null==t?void 0:t.tooltipLegendOffsetX)&&void 0!==p?p:y.tooltipLegendOffsetX,y.tooltipLegendOffsetYProperty=null!==(h=null==t?void 0:t.tooltipLegendOffsetY)&&void 0!==h?h:y.tooltipLegendOffsetY,(null==t?void 0:t.tooltipDataTemplate)&&"string"==typeof t.tooltipDataTemplate&&(y.typeMap.set("tooltipDataTemplate",t.tooltipDataTemplate),t.tooltipDataTemplate=getFunction(EBaseType.OptionFunction,t.tooltipDataTemplate)),y.tooltipDataTemplateProperty=null!==(f=null==t?void 0:t.tooltipDataTemplate)&&void 0!==f?f:y.tooltipDataTemplateProperty,y}return n(TooltipModifier3D,e),TooltipModifier3D.prototype.includeSeries=function(e,t){this.includedSeriesMap.set(e,t)},TooltipModifier3D.prototype.getIncludedSeries=function(){var e=this;return this.parentSurface.renderableSeries.asArray().filter(function(t){return t.isVisible&&!1!==e.includedSeriesMap.get(t)})},Object.defineProperty(TooltipModifier3D.prototype,"isCrosshairVisible",{get:function(){return this.isCrosshairVisibleProperty},set:function(e){var t;this.isCrosshairVisibleProperty=e,null===(t=this.parentSurface)||void 0===t||t.invalidateElement()},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipModifier3D.prototype,"crosshairStroke",{get:function(){return this.crosshairStrokeProperty},set:function(e){var t;this.crosshairStrokeProperty=e,null===(t=this.parentSurface)||void 0===t||t.invalidateElement()},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipModifier3D.prototype,"crosshairStrokeThickness",{get:function(){return this.crosshairStrokeThicknessProperty},set:function(e){var t;this.crosshairStrokeThicknessProperty=e,null===(t=this.parentSurface)||void 0===t||t.invalidateElement()},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipModifier3D.prototype,"tooltipSvgTemplate",{get:function(){return this.tooltipSvgTemplateProperty},set:function(e){this.tooltipSvgTemplateProperty=e,this.tooltipAnnotation&&(this.tooltipAnnotation.tooltipSvgTemplate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipModifier3D.prototype,"tooltipLegendTemplate",{get:function(){return this.tooltipLegendTemplateProperty},set:function(e){this.tooltipLegendTemplateProperty=e,this.tooltipAnnotation&&(this.tooltipAnnotation.tooltipLegendTemplate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipModifier3D.prototype,"tooltipDataTemplate",{get:function(){return this.tooltipDataTemplateProperty},set:function(e){this.tooltipDataTemplateProperty=e,this.tooltipAnnotation&&(this.tooltipAnnotation.tooltipDataTemplate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipModifier3D.prototype,"tooltipContainerBackground",{get:function(){return this.tooltipContainerBackgroundProperty},set:function(e){this.tooltipContainerBackgroundProperty!==e&&(this.tooltipContainerBackgroundProperty=e,this.tooltipAnnotation&&(this.tooltipAnnotation.containerBackground=e))},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipModifier3D.prototype,"tooltipLegendOffsetX",{get:function(){return this.tooltipLegendOffsetXProperty},set:function(e){this.tooltipLegendOffsetXProperty!==e&&(this.tooltipLegendOffsetXProperty=e,this.tooltipAnnotation&&(this.tooltipAnnotation.tooltipLegendOffsetX=e))},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipModifier3D.prototype,"tooltipLegendOffsetY",{get:function(){return this.tooltipLegendOffsetYProperty},set:function(e){this.tooltipLegendOffsetYProperty!==e&&(this.tooltipLegendOffsetYProperty=e,this.tooltipAnnotation&&(this.tooltipAnnotation.tooltipLegendOffsetY=e))},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipModifier3D.prototype,"tooltipTextStroke",{get:function(){return this.tooltipTextStrokeProperty},set:function(e){this.tooltipTextStrokeProperty!==e&&(this.tooltipTextStrokeProperty=e,this.tooltipAnnotation&&(this.tooltipAnnotation.textStroke=e))},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipModifier3D.prototype,"placementDivId",{get:function(){return this.placementDivIdProperty},set:function(e){this.placementDivIdProperty!==e&&(this.placementDivIdProperty=e,this.notifyPropertyChanged("PLACEMENT_DIV_ID"))},enumerable:!1,configurable:!0}),TooltipModifier3D.prototype.onAttach=function(){e.prototype.onAttach.call(this),this.parentSurface&&(this.parentSurface.isHitTestEnabled=!0,this.crosshairEntity=(0,s.deleteSafe)(this.crosshairEntity),this.crosshairEntity=new p.CrosshairLinesSceneEntity(this.parentSurface.webAssemblyContext3D),this.parentSurface.rootEntity.children.add(this.crosshairEntity),this.tooltipAnnotation=new d.TooltipSvgAnnotation3D({xCoordinateMode:a.ECoordinateMode.Pixel,yCoordinateMode:a.ECoordinateMode.Pixel,tooltipSvgTemplate:this.tooltipSvgTemplate,containerBackground:this.tooltipContainerBackground,textStroke:this.tooltipTextStroke,tooltipLegendTemplate:this.tooltipLegendTemplate,tooltipLegendOffsetX:this.tooltipLegendOffsetX,tooltipLegendOffsetY:this.tooltipLegendOffsetY,placementDivId:this.placementDivId,tooltipDataTemplate:this.tooltipDataTemplate}),this.parentSurface.modifierAnnotations.add(this.tooltipAnnotation))},TooltipModifier3D.prototype.onDetach=function(){e.prototype.onDetach.call(this),this.parentSurface&&(this.parentSurface.rootEntity.children.remove(this.crosshairEntity),this.tooltipAnnotation.delete(),this.parentSurface.modifierAnnotations.remove(this.tooltipAnnotation)),this.crosshairEntity=(0,s.deleteSafe)(this.crosshairEntity)},TooltipModifier3D.prototype.modifierMouseMove=function(t){this.activePointerEvents.set(t.pointerId,t),e.prototype.modifierMouseMove.call(this,t),this.getIsActionAllowed(t)&&this.update()},TooltipModifier3D.prototype.onParentSurfaceRendered=function(){this.update()},TooltipModifier3D.prototype.update=function(){var e,t,r,i,n,o=this;if(this.mousePoint){var a=this.mousePoint,s=a.x,l=a.y,c=this.getIncludedSeries().map(function(e){return e.hitTest(o.mousePoint)}).find(function(e){return e.isHit});if(null==c?void 0:c.isHit){if(this.crosshairEntity&&this.isCrosshairVisible&&(this.crosshairEntity.worldDimensions=null===(e=this.parentSurface)||void 0===e?void 0:e.worldDimensions,this.crosshairEntity.cameraPosition=null===(r=null===(t=this.parentSurface)||void 0===t?void 0:t.camera)||void 0===r?void 0:r.position,this.crosshairEntity.stroke=this.crosshairStroke,this.crosshairEntity.strokeThickness=this.crosshairStrokeThickness,this.crosshairEntity.location=c.hitWorldCoords,this.crosshairEntity.isVisible=this.isCrosshairVisible,null===(i=this.parentSurface)||void 0===i||i.invalidateElement()),this.tooltipAnnotation.isHidden=!this.showTooltip,this.showTooltip){var d=(0,u.translateToNotScaled)(s),p=(0,u.translateToNotScaled)(l);this.tooltipAnnotation.x1=d,this.tooltipAnnotation.y1=p}(this.showTooltip||this.tooltipLegendTemplate)&&(this.tooltipAnnotation.seriesInfo=c)}else this.tooltipAnnotation.seriesInfo=void 0,this.crosshairEntity.isVisible=!1,this.tooltipAnnotation.isHidden=!0,null===(n=this.parentSurface)||void 0===n||n.invalidateElement()}},TooltipModifier3D}(r(41536).ChartModifierBase3D);t.TooltipModifier3D=h;var defaultTooltipDataTemplate3D=function(e,t){var r=[];return t.title&&r.push(t.title),e&&e.isHit&&(e.dataSeriesName&&r.push(e.dataSeriesName),e.dataSeriesType===c.EDataSeriesType3D.Xyz3D?(r.push("X: ".concat(e.xValue)),r.push("Y: ".concat(e.yValue)),r.push("Z: ".concat(e.zValue))):e.dataSeriesType===c.EDataSeriesType3D.UniformGrid3D&&(r.push("X: ".concat(e.xValue)),r.push("Y: ".concat(e.yValue)),r.push("Z: ".concat(e.zValue)))),r},defaultTooltipTemplate3D=function(e,r){var i,n="id_".concat(Date.now()),a=(null!==(i=r.tooltipDataTemplate)&&void 0!==i?i:defaultTooltipDataTemplate3D)(e,r);if(0===a.length)return"<svg></svg>";var s=(0,o.calcTooltipSize)(a),l=s.width,u=s.height;(0,t.adjustTooltipPosition3D)(l,u,r);var c="";a.forEach(function(e,t){c+='<tspan x="8" dy="1.2em">'.concat(e,"</tspan>")});var d=r.containerBackground,p=r.textStroke;return'<svg class="scichart__cursor-tooltip" width="'.concat(l,'" height="').concat(u,'">\n        <defs>\n            <filter id="').concat(n,'" x="0" y="0" width="200%" height="200%">\n                <feOffset result="offOut" in="SourceAlpha" dx="3" dy="3" />\n                <feGaussianBlur result="blurOut" in="offOut" stdDeviation="3" />\n                <feBlend in="SourceGraphic" in2="blurOut" mode="normal" />\n            </filter>\n        </defs>\n        <rect rx="4" ry="4" width="95%" height="90%" fill="').concat(d,'" filter="url(#').concat(n,')" />\n        <svg width="100%">\n            <text x="8" y="3" font-size="13" font-family="Verdana" dy="0" fill="').concat(p,'">').concat(c,"</text>\n        </svg>\n    </svg>")};t.adjustTooltipPosition3D=function(e,t,r){var i=r.parentSurface.seriesViewRect,n=r.x1,o=r.y1,a=(0,u.translateToNotScaled)(i.width)-n<e?-e:5,s=(0,u.translateToNotScaled)(i.height)-o<t?-t:5;r.xCoordShift=a,r.yCoordShift=s}},53644:function(e,t,r){"use strict";var i,n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDataSeries3D=t.EDataSeriesType3D=void 0;var a=r(15492),s=r(35855);(i=t.EDataSeriesType3D||(t.EDataSeriesType3D={})).Xyz3D="Xyz",i.UniformGrid3D="UniformGrid3D",i.NonUniformGrid3D="NonUniformGrid3D";var l=function(e){function BaseDataSeries3D(t,r){var i,n=this;return(n=e.call(this)||this).webAssemblyContext=t,n.dataSeriesNameProperty=null!==(i=null==r?void 0:r.dataSeriesName)&&void 0!==i?i:n.dataSeriesNameProperty,n.dataChanged=new s.EventHandler,n.isModifiedProperty=!0,n}return o(BaseDataSeries3D,e),Object.defineProperty(BaseDataSeries3D.prototype,"dataSeriesName",{get:function(){return this.dataSeriesNameProperty},set:function(e){this.dataSeriesNameProperty=e,this.notifyDataChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(BaseDataSeries3D.prototype,"isModified",{get:function(){return this.isModifiedProperty},enumerable:!1,configurable:!0}),BaseDataSeries3D.prototype.getIsDeleted=function(){return this.isDeleted},BaseDataSeries3D.prototype.delete=function(){this.isDeleted=!0,this.webAssemblyContext=void 0},BaseDataSeries3D.prototype.notifyDataChanged=function(){this.isModifiedProperty=!0,this.dataChanged.raiseEvent()},BaseDataSeries3D.prototype.resetModified=function(){this.isModifiedProperty=!1},BaseDataSeries3D}(a.DeletableEntity);t.BaseDataSeries3D=l},12378:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseGridDataSeries3D=void 0;var o=r(51134),a=function(e){function BaseGridDataSeries3D(t,r){var i=e.call(this,t,r)||this;return i.setYValues(null==r?void 0:r.yValues),i}return n(BaseGridDataSeries3D,e),Object.defineProperty(BaseGridDataSeries3D.prototype,"yRange",{get:function(){if(!this.yRangeCached){for(var e=-Number.MAX_VALUE,t=Number.MAX_VALUE,r=0;r<this.zSizeProperty;r++)for(var i=0;i<this.xSizeProperty;i++){var n=this.yValuesProperty[r][i];e=Math.max(n,e),t=Math.min(n,t)}this.yRangeCached=new o.NumberRange(t,e)}return this.yRangeCached},enumerable:!1,configurable:!0}),Object.defineProperty(BaseGridDataSeries3D.prototype,"zSize",{get:function(){return this.zSizeProperty},enumerable:!1,configurable:!0}),Object.defineProperty(BaseGridDataSeries3D.prototype,"xSize",{get:function(){return this.xSizeProperty},enumerable:!1,configurable:!0}),BaseGridDataSeries3D.prototype.setYValues=function(e){if(!e||!e[0]){this.yValuesProperty=void 0,this.xSizeProperty=0,this.zSizeProperty=0;return}var t=e[0].length;e.forEach(function(e){if(!e)throw Error("Each row in YValues must be defined. See how to declare a 2D array in Javascript here https://stackoverflow.com/a/966234/303612");if(e.length!==t)throw Error("Each row in YValues must be the same length, so that the overall 2D array is square")});var r=e[0].length,i=e.length;this.xSizeProperty=r,this.zSizeProperty=i,this.yValuesProperty=e,this.notifyDataChanged()},BaseGridDataSeries3D.prototype.getYValues=function(){return this.yValuesProperty},BaseGridDataSeries3D.prototype.getYValue=function(e,t){try{return this.yValuesProperty[e][t]}catch(r){return console.log("error at get z,x ".concat(e,", ").concat(t)),0}},BaseGridDataSeries3D.prototype.setYValue=function(e,t,r){this.yValuesProperty[e][t]=r,this.notifyDataChanged()},BaseGridDataSeries3D.prototype.notifyDataChanged=function(){e.prototype.notifyDataChanged.call(this),this.yRangeCached=void 0},BaseGridDataSeries3D}(r(53644).BaseDataSeries3D);t.BaseGridDataSeries3D=a},51987:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.UniformGridDataSeries3D=void 0;var o=r(51134),a=r(53644),s=function(e){function UniformGridDataSeries3D(t,r){var i=e.call(this,t,r)||this;return i.type=a.EDataSeriesType3D.UniformGrid3D,i.xStartProperty=(null==r?void 0:r.xStart)||0,i.xStepProperty=(null==r?void 0:r.xStep)||1,i.zStartProperty=(null==r?void 0:r.zStart)||0,i.zStepProperty=(null==r?void 0:r.zStep)||1,i}return n(UniformGridDataSeries3D,e),Object.defineProperty(UniformGridDataSeries3D.prototype,"xStart",{get:function(){return this.xStartProperty},set:function(e){this.xStartProperty=e,this.notifyDataChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(UniformGridDataSeries3D.prototype,"xStep",{get:function(){return this.xStepProperty},set:function(e){this.xStepProperty=e,this.notifyDataChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(UniformGridDataSeries3D.prototype,"zStart",{get:function(){return this.zStartProperty},set:function(e){this.zStartProperty=e,this.notifyDataChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(UniformGridDataSeries3D.prototype,"zStep",{get:function(){return this.zStepProperty},set:function(e){this.zStepProperty=e,this.notifyDataChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(UniformGridDataSeries3D.prototype,"xRange",{get:function(){return new o.NumberRange(this.xStart,this.xStart+this.xStep*(this.xSize-1))},enumerable:!1,configurable:!0}),Object.defineProperty(UniformGridDataSeries3D.prototype,"zRange",{get:function(){return new o.NumberRange(this.zStart,this.zStart+this.zStep*(this.zSize-1))},enumerable:!1,configurable:!0}),UniformGridDataSeries3D.prototype.getX=function(e){return this.xStart+e*this.xStep},UniformGridDataSeries3D.prototype.getZ=function(e){return this.zStart+e*this.zStep},UniformGridDataSeries3D}(r(12378).BaseGridDataSeries3D);t.UniformGridDataSeries3D=s},19640:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyzDataSeries3D=void 0;var o=r(94694),a=r(92530),s=r(51134),l=r(53644),u=function(e){function XyzDataSeries3D(t,r){var i=e.call(this,t,r)||this;return i.type=l.EDataSeriesType3D.Xyz3D,i.xValues=new t.SCRTDoubleVector,i.yValues=new t.SCRTDoubleVector,i.zValues=new t.SCRTDoubleVector,i.metadata=[],(null==r?void 0:r.xValues)&&(null==r?void 0:r.yValues)&&(null==r?void 0:r.zValues)&&i.appendRange(r.xValues,r.yValues,r.zValues,null==r?void 0:r.metadata),i}return n(XyzDataSeries3D,e),XyzDataSeries3D.prototype.getNativeXValues=function(){return this.xValues},XyzDataSeries3D.prototype.getNativeYValues=function(){return this.yValues},XyzDataSeries3D.prototype.getNativeZValues=function(){return this.zValues},XyzDataSeries3D.prototype.getMetadataValues=function(){return this.metadata},Object.defineProperty(XyzDataSeries3D.prototype,"xRange",{get:function(){var e=this.webAssemblyContext.NumberUtil.MinMax(this.xValues),t=new s.NumberRange(e.minD,e.maxD);return e.delete(),t},enumerable:!1,configurable:!0}),Object.defineProperty(XyzDataSeries3D.prototype,"yRange",{get:function(){var e=this.webAssemblyContext.NumberUtil.MinMax(this.yValues),t=new s.NumberRange(e.minD,e.maxD);return e.delete(),t},enumerable:!1,configurable:!0}),Object.defineProperty(XyzDataSeries3D.prototype,"zRange",{get:function(){var e=this.webAssemblyContext.NumberUtil.MinMax(this.zValues),t=new s.NumberRange(e.minD,e.maxD);return e.delete(),t},enumerable:!1,configurable:!0}),XyzDataSeries3D.prototype.append=function(e,t,r,i){this.getIsDeleted()||(this.xValues.push_back(e),this.yValues.push_back(t),this.zValues.push_back(r),this.metadata.push(i),this.notifyDataChanged())},XyzDataSeries3D.prototype.appendRange=function(e,t,r,i){if(!this.getIsDeleted()){a.Guard.arraysSameLength(e,"xValues",t,"yValues"),a.Guard.arraysSameLength(t,"yValues",r,"zValues");for(var n=this.xValues,o=this.yValues,s=this.zValues,l=0;l<e.length;l++)if(n.push_back(e[l]),o.push_back(t[l]),s.push_back(r[l]),i){var u=i[l];this.metadata.push(u)}else this.metadata.push(void 0);this.notifyDataChanged()}},XyzDataSeries3D.prototype.update=function(e,t,r,i,n){this.getIsDeleted()||(this.xValues.set(e,t),this.yValues.set(e,r),this.zValues.set(e,i),this.metadata[e]=n,this.notifyDataChanged())},XyzDataSeries3D.prototype.insert=function(e,t,r,i,n){if(!this.getIsDeleted()){if(e<0||e>=this.count())throw Error("Start index is out of range");this.xValues.insertAt(e,t),this.yValues.insertAt(e,r),this.zValues.insertAt(e,i),this.metadata.splice(e,0,n),this.notifyDataChanged()}},XyzDataSeries3D.prototype.insertRange=function(e,t,r,i,n){if(!this.getIsDeleted()){if(a.Guard.arraysSameLength(t,"xValues",r,"yValues"),a.Guard.arraysSameLength(i,"zValues",r,"yValues"),e<0||e>=this.count())throw Error("Start index is out of range");for(var o=t.length,s=0;s<o;s++,e++)this.xValues.insertAt(e,t[s]),this.yValues.insertAt(e,r[s]),this.zValues.insertAt(e,i[s]),this.metadata.splice(e,0,n?n[s]:void 0);this.notifyDataChanged()}},XyzDataSeries3D.prototype.removeAt=function(e){if(!this.getIsDeleted()){if(e<0||e>=this.count())throw Error("index is out of range");this.xValues.removeAt(e),this.yValues.removeAt(e),this.zValues.removeAt(e),this.metadata.splice(e,1),this.notifyDataChanged()}},XyzDataSeries3D.prototype.removeRange=function(e,t){if(!this.getIsDeleted()){if(e<0||e+t>this.count())throw Error("index is out of range");this.xValues.removeRange(e,t),this.yValues.removeRange(e,t),this.zValues.removeRange(e,t),this.metadata.splice(e,t),this.notifyDataChanged()}},XyzDataSeries3D.prototype.clear=function(){this.getIsDeleted()||(this.xValues.clear(),this.yValues.clear(),this.zValues.clear(),this.metadata=[],this.notifyDataChanged())},XyzDataSeries3D.prototype.delete=function(){this.xValues=(0,o.deleteSafe)(this.xValues),this.yValues=(0,o.deleteSafe)(this.yValues),this.zValues=(0,o.deleteSafe)(this.zValues),this.metadata=[],e.prototype.delete.call(this)},XyzDataSeries3D.prototype.count=function(){return this.xValues?this.xValues.size():0},XyzDataSeries3D}(l.BaseDataSeries3D);t.XyzDataSeries3D=u},52652:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Vector3=void 0;var i=r(92530),n=function(){function Vector3(e,t,r){this.xProperty=e,this.yProperty=t,this.zProperty=r}return Object.defineProperty(Vector3,"zero",{get:function(){return Vector3.zeroVector},enumerable:!1,configurable:!0}),Object.defineProperty(Vector3.prototype,"x",{get:function(){return this.xProperty},enumerable:!1,configurable:!0}),Object.defineProperty(Vector3.prototype,"y",{get:function(){return this.yProperty},enumerable:!1,configurable:!0}),Object.defineProperty(Vector3.prototype,"z",{get:function(){return this.zProperty},enumerable:!1,configurable:!0}),Vector3.prototype.toTsrVector3=function(e){return i.Guard.notNull(e,"webAssemblyContext"),new e.TSRVector3(this.x,this.y,this.z)},Vector3.prototype.subtract=function(e){return new Vector3(this.x-e.x,this.y-e.y,this.z-e.z)},Vector3.prototype.add=function(e){return new Vector3(this.x+e.x,this.y+e.y,this.z+e.z)},Vector3.prototype.scalarMultiply=function(e){return new Vector3(this.x*e,this.y*e,this.z*e)},Vector3.prototype.dotProduct=function(e){return this.x*e.x+this.y*e.y+this.z*e.z},Vector3.prototype.crossProduct=function(e){return new Vector3(this.y*e.z-this.z*e.y,this.z*e.x-this.x*e.z,this.x*e.y-this.y*e.x)},Object.defineProperty(Vector3.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},enumerable:!1,configurable:!0}),Vector3.prototype.normalize=function(){var e=1/this.length;if(0===e)throw Error("Vector3 magnitude is zero, cannot normalize!");this.xProperty=this.xProperty*e,this.yProperty=this.yProperty*e,this.zProperty=this.zProperty*e},Vector3.prototype.toString=function(){return"Vector3 (".concat(this.xProperty.toFixed(2),", ").concat(this.yProperty.toFixed(2),", ").concat(this.zProperty.toFixed(2),")")},Vector3.zeroVector=new Vector3(0,0,0),Vector3}();t.Vector3=n},8085:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.TooltipSvgAnnotation3D=void 0;var o=r(78501),a=r(52354),s=r(38437),l=r(61670),u=function(e){function TooltipSvgAnnotation3D(t){var r,i,n,o,s,l,u,c,d=this;if((d=e.call(this,t)||this).type=a.EAnnotationType.SVG,d.tooltipLegendOffsetXProperty=10,d.tooltipLegendOffsetYProperty=10,d.isDirty=!0,d.isHidden=!0,d.titleProperty=null!==(r=null==t?void 0:t.title)&&void 0!==r?r:d.titleProperty,d.tooltipSvgTemplateProperty=null!==(i=null==t?void 0:t.tooltipSvgTemplate)&&void 0!==i?i:d.tooltipSvgTemplateProperty,d.containerBackgroundProperty=null!==(n=null==t?void 0:t.containerBackground)&&void 0!==n?n:d.containerBackgroundProperty,d.textStrokeProperty=null!==(o=null==t?void 0:t.textStroke)&&void 0!==o?o:d.textStrokeProperty,d.tooltipLegendTemplateProperty=null!==(s=null==t?void 0:t.tooltipLegendTemplate)&&void 0!==s?s:d.tooltipLegendTemplateProperty,d.tooltipLegendOffsetXProperty=null!==(l=null==t?void 0:t.tooltipLegendOffsetX)&&void 0!==l?l:d.tooltipLegendOffsetXProperty,d.tooltipLegendOffsetYProperty=null!==(u=null==t?void 0:t.tooltipLegendOffsetY)&&void 0!==u?u:d.tooltipLegendOffsetYProperty,d.placementDivIdProperty=null!==(c=null==t?void 0:t.placementDivId)&&void 0!==c?c:d.placementDivId,d.tooltipDataTemplateProperty=null==t?void 0:t.tooltipDataTemplate,d.placementDivId){var p=document.querySelector("[id='".concat(d.placementDivId,"']"));d.svgDivRoot=p}return d}return n(TooltipSvgAnnotation3D,e),Object.defineProperty(TooltipSvgAnnotation3D.prototype,"seriesInfo",{get:function(){return this.seriesInfoProperty},set:function(e){this.seriesInfoProperty!==e&&(this.seriesInfoProperty=e,this.notifyPropertyChanged(l.PROPERTY.SERIES_INFOS))},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipSvgAnnotation3D.prototype,"title",{get:function(){return this.titleProperty},set:function(e){this.titleProperty!==e&&(this.titleProperty=e,this.notifyPropertyChanged(l.PROPERTY.TITLE))},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipSvgAnnotation3D.prototype,"tooltipSvgTemplate",{get:function(){return this.tooltipSvgTemplateProperty},set:function(e){this.tooltipSvgTemplateProperty=e,this.notifyPropertyChanged(l.PROPERTY.TOOLTIP_SVG_TEMPLATE)},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipSvgAnnotation3D.prototype,"tooltipLegendTemplate",{get:function(){return this.tooltipLegendTemplateProperty},set:function(e){this.tooltipLegendTemplateProperty=e,this.notifyPropertyChanged(l.PROPERTY.TOOLTIP_LEGEND_TEMPLATE)},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipSvgAnnotation3D.prototype,"tooltipDataTemplate",{get:function(){return this.tooltipDataTemplateProperty},set:function(e){this.tooltipDataTemplateProperty=e,this.notifyPropertyChanged(l.PROPERTY.TOOLTIP_DATA_TEMPLATE)},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipSvgAnnotation3D.prototype,"containerBackground",{get:function(){return this.containerBackgroundProperty},set:function(e){this.containerBackgroundProperty!==e&&(this.containerBackgroundProperty=e,this.notifyPropertyChanged(l.PROPERTY.CONTAINER_BACKGROUND))},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipSvgAnnotation3D.prototype,"tooltipLegendOffsetX",{get:function(){return this.tooltipLegendOffsetXProperty},set:function(e){this.tooltipLegendOffsetXProperty!==e&&(this.tooltipLegendOffsetXProperty=e,this.notifyPropertyChanged(l.PROPERTY.TOOLTIP_LEGEND_OFFSET_X))},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipSvgAnnotation3D.prototype,"tooltipLegendOffsetY",{get:function(){return this.tooltipLegendOffsetYProperty},set:function(e){this.tooltipLegendOffsetYProperty!==e&&(this.tooltipLegendOffsetYProperty=e,this.notifyPropertyChanged(l.PROPERTY.TOOLTIP_LEGEND_OFFSET_Y))},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipSvgAnnotation3D.prototype,"textStroke",{get:function(){return this.textStrokeProperty},set:function(e){this.textStrokeProperty!==e&&(this.textStrokeProperty=e,this.notifyPropertyChanged(l.PROPERTY.TEXT_STROKE))},enumerable:!1,configurable:!0}),Object.defineProperty(TooltipSvgAnnotation3D.prototype,"placementDivId",{get:function(){return this.placementDivIdProperty},set:function(e){this.placementDivIdProperty!==e&&(this.placementDivIdProperty=e,this.notifyPropertyChanged("PLACEMENT_DIV_ID"))},enumerable:!1,configurable:!0}),TooltipSvgAnnotation3D.prototype.update=function(e,t,r,i){this.isDirty&&(this.isDirty=!1,this.svg&&this.delete(),this.create(e,t,r,i),this.placementDivId?this.updateExternalLegendTooltip():(this.updateTooltip(r,i),this.updateLegendTooltip()))},TooltipSvgAnnotation3D.prototype.delete=function(){this.parentSurface&&!this.parentSurface.isDeleted&&this.svg&&(this.placementDivId?this.svgDivRoot.removeChild(this.svg):this.svgRoot.removeChild(this.svg),this.setSvg(void 0),this.svgLegend&&(this.svgRoot.removeChild(this.svgLegend),this.svgLegend=void 0))},TooltipSvgAnnotation3D.prototype.notifyPropertyChanged=function(t){e.prototype.notifyPropertyChanged.call(this,t),this.isDirty=!0},TooltipSvgAnnotation3D.prototype.create=function(e,t,r,i){if(!this.tooltipSvgTemplate)throw Error("Please provide a tooltipSvgTemplate for CursorTooltipSvgAnnotation");var n=this.tooltipSvgTemplate(this.seriesInfo,this);if(this.placementDivId){var a=o.annotationHelpers.createSvg(n,this.svgDivRoot);this.setSvg(a)}else{var a=o.annotationHelpers.createSvg(n,this.svgRoot);this.setSvg(a)}},TooltipSvgAnnotation3D.prototype.updateTooltip=function(e,t){var r,i,n,o,a=null!==(r=this.xCoordShift)&&void 0!==r?r:0,s=null!==(i=this.yCoordShift)&&void 0!==i?i:0;this.svg.style.display=this.isHidden?"none":"block";var l=null!==(n=this.x1)&&void 0!==n?n:0,u=null!==(o=this.y1)&&void 0!==o?o:0,c=a+l+e,d=s+u+t;isNaN(c)||isNaN(d)?this.svg.style.display="none":(this.setSvgAttribute("x",c),this.setSvgAttribute("y",d))},TooltipSvgAnnotation3D.prototype.updateLegendTooltip=function(){if(this.tooltipLegendTemplate){var e=this.seriesInfo?this.tooltipLegendTemplate(this.seriesInfo,this):"<svg></svg>";this.svgLegend&&this.svgRoot.removeChild(this.svgLegend);var t=o.annotationHelpers.createSvg(e,this.svgRoot);this.svgLegend=t,this.svgLegend.setAttribute("x",this.tooltipLegendOffsetX.toString()),this.svgLegend.setAttribute("y",this.tooltipLegendOffsetY.toString())}},TooltipSvgAnnotation3D.prototype.updateExternalLegendTooltip=function(){if(this.tooltipLegendTemplate){var e=this.seriesInfo?this.tooltipLegendTemplate(this.seriesInfo,this):"<svg style='display: none'></svg>";this.svgLegend&&this.svgLegend.removeChild(this.svgLegend);var t=o.annotationHelpers.createSvg(e,this.svgRoot);this.svgLegend=t}},TooltipSvgAnnotation3D}(s.SvgAnnotationBase);t.TooltipSvgAnnotation3D=u},83339:function(e,t,r){"use strict";var i,n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.AxisBase3D=t.EWhichAxis=void 0;var s=r(87994),l=r(61239),u=r(91462),c=r(51134),d=r(48053),p=r(40067),h=r(36233);(i=o=t.EWhichAxis||(t.EWhichAxis={}))[i.xAxis=0]="xAxis",i[i.yAxis=1]="yAxis",i[i.zAxis=2]="zAxis";var f=function(e){function AxisBase3D(t,r){var i,n,o,a,s,u=this;return(u=e.call(this,r)||this).labelDepthTestEnabledProperty=!1,u.planeBorderColorProperty=l.SciChartSurfaceBase.DEFAULT_THEME.planeBorderColor,u.axisPlaneBackgroundFillProperty=l.SciChartSurfaceBase.DEFAULT_THEME.axisPlaneBackgroundFill,u.isYAxisProperty=!1,u.isZAxisProperty=!1,u.labelStyle=new p.AxisBase3DLabelStyle(u),u.webAssemblyContext3D=t,u.isXAxisProperty=!1,u.tickLabelsOffsetProperty=null!==(i=null==r?void 0:r.tickLabelsOffset)&&void 0!==i?i:10,u.titleOffsetProperty=null!==(n=null==r?void 0:r.titleOffset)&&void 0!==n?n:50,u.planeBorderColorProperty=null!==(o=null==r?void 0:r.planeBorderColor)&&void 0!==o?o:u.planeBorderColorProperty,u.planeBorderThicknessProperty=null!==(a=null==r?void 0:r.planeBorderThickness)&&void 0!==a?a:2,u.axisPlaneBackgroundFillProperty=null!==(s=null==r?void 0:r.planeBackgroundFill)&&void 0!==s?s:u.axisPlaneBackgroundFillProperty,u}return a(AxisBase3D,e),AxisBase3D.prototype.applyTheme=function(e){var t,r,i,n,o,a,s=this.parentSurface.previousThemeProvider;(null===(t=this.labelStyle)||void 0===t?void 0:t.foreground)===s.labelForegroundBrush&&(this.labelStyle.foreground=e.labelForegroundBrush),this.axisBandsFill===s.axisBandsFill&&(this.axisBandsFill=e.axisBandsFill),(null===(r=this.majorGridLineStyle)||void 0===r?void 0:r.color)===s.majorGridLineBrush&&(this.majorGridLineStyle={color:e.majorGridLineBrush}),(null===(i=this.majorTickLineStyle)||void 0===i?void 0:i.color)===s.majorGridLineBrush&&(this.majorTickLineStyle={color:e.majorGridLineBrush}),(null===(n=this.minorGridLineStyle)||void 0===n?void 0:n.color)===s.minorGridLineBrush&&(this.minorGridLineStyle={color:e.minorGridLineBrush}),(null===(o=this.minorTickLineStyle)||void 0===o?void 0:o.color)===s.minorGridLineBrush&&(this.minorTickLineStyle={color:e.minorGridLineBrush}),(null===(a=this.axisTitleStyle)||void 0===a?void 0:a.color)===s.axisTitleColor&&(this.axisTitleStyle={color:e.axisTitleColor}),this.planeBorderColor===s.planeBorderColor&&(this.planeBorderColor=e.planeBorderColor),this.axisPlaneBackgroundFill===s.axisPlaneBackgroundFill&&(this.axisPlaneBackgroundFill=e.axisPlaneBackgroundFill)},Object.defineProperty(AxisBase3D.prototype,"isYAxis",{get:function(){return this.isYAxisProperty},enumerable:!1,configurable:!0}),AxisBase3D.prototype.setIsYAxis=function(e){this.isYAxisProperty=e,this.notifyPropertyChanged(h.PROPERTY.IS_Y_AXIS)},Object.defineProperty(AxisBase3D.prototype,"isZAxis",{get:function(){return this.isZAxisProperty},enumerable:!1,configurable:!0}),AxisBase3D.prototype.setIsZAxis=function(e){this.isZAxisProperty=e,this.notifyPropertyChanged(h.PROPERTY.IS_Z_AXIS)},Object.defineProperty(AxisBase3D.prototype,"labelDepthTestEnabled",{get:function(){return this.labelDepthTestEnabledProperty},set:function(e){this.labelDepthTestEnabledProperty=e,this.notifyPropertyChanged(h.PROPERTY.LABEL_DEPTH_TEST)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3D.prototype,"planeBorderThickness",{get:function(){return this.planeBorderThicknessProperty},set:function(e){this.planeBorderThicknessProperty=e,this.notifyPropertyChanged(h.PROPERTY.PLANE_BORDER_THICKNESS)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3D.prototype,"planeBorderColor",{get:function(){return this.planeBorderColorProperty},set:function(e){this.planeBorderColorProperty=e,this.notifyPropertyChanged(h.PROPERTY.PLANE_BORDER_COLOR)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3D.prototype,"tickLabelAlignment",{get:function(){return this.tickLabelAlignmentProperty},set:function(e){this.tickLabelAlignmentProperty=e,this.notifyPropertyChanged(h.PROPERTY.TICK_LABEL_ALIGNMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3D.prototype,"positiveSideClipping",{get:function(){return this.positiveSideClippingProperty},set:function(e){this.positiveSideClippingProperty=e,this.notifyPropertyChanged(h.PROPERTY.POSITIVE_SIDE_CLIPPING)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3D.prototype,"negativeSideClipping",{get:function(){return this.negativeSideClippingProperty},set:function(e){this.negativeSideClippingProperty=e,this.notifyPropertyChanged(h.PROPERTY.NEGATIVE_SIDE_CLIPPING)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3D.prototype,"axisPlaneBackgroundFill",{get:function(){return this.axisPlaneBackgroundFillProperty},set:function(e){this.axisPlaneBackgroundFillProperty=e,this.notifyPropertyChanged(h.PROPERTY.AXIS_PLANE_BACKGROUND_FILL)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3D.prototype,"titleOffset",{get:function(){return this.titleOffsetProperty},set:function(e){this.titleOffsetProperty=e,this.notifyPropertyChanged(h.PROPERTY.TITLE_OFFSET)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3D.prototype,"backgroundColor",{get:function(){return this.axisPlaneBackgroundFill},set:function(e){this.axisPlaneBackgroundFill=e,this.notifyPropertyChanged(h.PROPERTY.BACKGROUND_COLOR)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3D.prototype,"tickLabelsOffset",{get:function(){return this.tickLabelsOffsetProperty},set:function(e){this.tickLabelsOffsetProperty=e,this.notifyPropertyChanged(h.PROPERTY.TICK_LABELS_OFFSET)},enumerable:!1,configurable:!0}),AxisBase3D.prototype.onAttach=function(e,t,r,i){this.parentSurface=e,this.setIsXAxis(t),this.setIsYAxis(r),this.setIsZAxis(i)},AxisBase3D.prototype.toAxisDescriptor=function(){var e="transparent",t=this.getTickCoordsAndLabels(),r=t.majorTickCoords,i=t.minorTickCoords,n=t.majorTickLabels;return{axisTitle:Array.isArray(this.axisTitle)?this.axisTitle.join(" "):this.axisTitle,axisSize:this.getAxisSize(),backgroundColor:(0,d.parseColorToTArgb)(this.axisPlaneBackgroundFill||e),bandColor:(0,d.parseColorToTArgb)(this.axisBandsFill||"#202123"),borderColor:(0,d.parseColorToTArgb)(this.planeBorderColor||e),borderThickness:this.planeBorderThickness,drawBands:this.drawMajorBands,drawMajorGridlines:this.drawMajorGridLines,drawMajorTicks:this.drawMajorTickLines,drawMinorGridlines:this.drawMinorGridLines,drawMinorTicks:this.drawMinorTickLines,isVisible:this.isVisible,labelDepthTestEnabled:this.labelDepthTestEnabled,labelStyle:{alignment:this.labelStyle.alignment,dpiScaling:this.labelStyle.dpiScaling/96,fontFamily:this.labelStyle.fontFamily,fontSize:this.labelStyle.fontSize*u.DpiHelper.PIXEL_RATIO,foreground:(0,d.parseColorToUIntArgb)(this.labelStyle.foreground)},majorCoordinates:r,majorLineStyle:toLineStyle(this.majorGridLineStyle),minorLineStyle:toLineStyle(this.minorGridLineStyle),majorTickStyle:toTickStyle(this.majorTickLineStyle),minorTickStyle:toTickStyle(this.minorTickLineStyle),minorCoordinates:i,smoothLabelOverlapAvoidance:!1,tickLabels:n,tickLabelsOffset:this.tickLabelsOffset*u.DpiHelper.PIXEL_RATIO,titleOffset:this.titleOffset*u.DpiHelper.PIXEL_RATIO,titleStyle:void 0}},AxisBase3D.prototype.validateAxis=function(){},AxisBase3D.prototype.getMaximumRange=function(){var e,t,r,i,n,a=new c.NumberRange(NaN,NaN);if((null===(t=null===(e=this.parentSurface)||void 0===e?void 0:e.renderableSeries)||void 0===t?void 0:t.size())>0){var s=void 0;if(this.isXAxis)s=o.xAxis;else if(this.isYAxis)s=o.yAxis;else if(this.isZAxis)s=o.zAxis;else throw Error("AxisBase3D: isXAxis, isYAxis, isZAxis flag are not set");(a=null!==(r=this.getMaximumRangeAs(this.parentSurface.renderableSeries,s))&&void 0!==r?r:a).isZero()&&(a=this.coerceZeroVisibleRange(a)),(null===(i=this.growBy)||void 0===i?void 0:i.isDefined())&&(a=a.growBy(this.growBy))}var l=(null===(n=this.visibleRange)||void 0===n?void 0:n.isDefined())?this.visibleRange:this.getDefaultNonZeroRange();return(null==a?void 0:a.isDefined())?a:l},AxisBase3D.prototype.getMaximumRangeAs=function(e,t){var r;return e.asArray().forEach(function(e){if(e.isVisible&&e.dataSeries){var i=t===o.xAxis?e.dataSeries.xRange:t===o.yAxis?e.dataSeries.yRange:e.dataSeries.zRange;(null==i?void 0:i.isDefined())&&(r=r?i.union(r):i)}}),r},AxisBase3D.prototype.getAxisSize=function(){if(!this.parentSurface)return 0;var e=this.parentSurface.worldDimensions;if(!e)throw Error("Must set property sciChart3DSurface.worldDimensions to a valid Vector3 with X,Y,Z world size");return this.isXAxis?e.x:this.isYAxis?e.y:e.z},AxisBase3D.prototype.getLabels=function(e){var t=this;return e.map(function(e){return t.labelProvider.formatLabel(e)})},AxisBase3D.prototype.getTicks=function(){var e=this.getMaxAutoTicks();if(this.autoTicks){var t=this.deltaCalculator.getDeltaFromRange(this.visibleRange.min,this.visibleRange.max,this.minorsPerMajor,e);this.minorDeltaProperty=t.min,this.majorDeltaProperty=t.max}return{majorTicks:this.tickProvider.getMajorTicks(this.minorDeltaProperty,this.majorDeltaProperty,this.visibleRange),minorTicks:this.tickProvider.getMinorTicks(this.minorDeltaProperty,this.majorDeltaProperty,this.visibleRange)}},AxisBase3D.prototype.getTickCoordsAndLabels=function(){var e=this.getCurrentCoordinateCalculator(),getTickCoords=function(t){return t.map(function(t){return e.getCoordinate(t)})},t=this.getTicks(),r=t.majorTicks,i=t.minorTicks,n=this.getLabels(r),o=getTickCoords(r),a=getTickCoords(i);return{majorTicks:r,majorTickLabels:n,majorTickCoords:o,minorTicks:i,minorTickCoords:a}},AxisBase3D}(s.AxisCore);t.AxisBase3D=f;var toLineStyle=function(e){return{stroke:(0,d.parseColorToTArgb)(e.color),strokeThickness:e.strokeThickness*u.DpiHelper.PIXEL_RATIO,start:1,end:1}},toTickStyle=function(e){return{stroke:(0,d.parseColorToTArgb)(e.color),strokeThickness:e.strokeThickness*u.DpiHelper.PIXEL_RATIO,start:0,end:e.tickSize*u.DpiHelper.PIXEL_RATIO}}},40067:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AxisBase3DLabelStyle=void 0;var i=r(61239),n=r(36233),o=function(){function AxisBase3DLabelStyle(e){this.dpiScalingProperty=96,this.fontFamilyProperty="Arial",this.fontSizeProperty=14,this.foregroundProperty=i.SciChartSurfaceBase.DEFAULT_THEME.labelForegroundBrush,this.parentAxis=e}return Object.defineProperty(AxisBase3DLabelStyle.prototype,"alignment",{get:function(){return this.alignmentProperty},set:function(e){this.alignmentProperty=e,this.notifyPropertyChanged(n.TEXT_STYLE_PROPERTY.ALIGNMENT)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3DLabelStyle.prototype,"dpiScaling",{get:function(){return this.dpiScalingProperty},set:function(e){this.dpiScalingProperty=e,this.notifyPropertyChanged(n.TEXT_STYLE_PROPERTY.DPI_SCALING)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3DLabelStyle.prototype,"fontFamily",{get:function(){return this.fontFamilyProperty},set:function(e){this.fontFamilyProperty=e,this.notifyPropertyChanged(n.TEXT_STYLE_PROPERTY.FONT_FAMILY)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3DLabelStyle.prototype,"fontSize",{get:function(){return this.fontSizeProperty},set:function(e){this.fontSizeProperty=e,this.notifyPropertyChanged(n.TEXT_STYLE_PROPERTY.FONT_SIZE)},enumerable:!1,configurable:!0}),Object.defineProperty(AxisBase3DLabelStyle.prototype,"foreground",{get:function(){return this.foregroundProperty},set:function(e){this.foregroundProperty=e,this.notifyPropertyChanged(n.TEXT_STYLE_PROPERTY.FOREGROUND)},enumerable:!1,configurable:!0}),AxisBase3DLabelStyle.prototype.notifyPropertyChanged=function(e){var t,r=null===(t=this.parentAxis)||void 0===t?void 0:t.invalidateParentCallback;r&&r()},AxisBase3DLabelStyle}();t.AxisBase3DLabelStyle=o},4555:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.toScrtTextStyle=t.updateScrtLineStyle=t.updateScrtAxisDescriptor=t.AxisCubeEntity=void 0;var o=r(6130),a=r(86710),s=r(94539),l=r(69071),u=function(e){function AxisCubeEntity(t,r){var i=e.call(this,t)||this;return i.type=o.ESceneEntityType.AxisCubeEntity,i.sciChart3DSurface=r,i.setNativeEntity(t.SCRTAxisCubeEntity.implement(i)),i}return n(AxisCubeEntity,e),AxisCubeEntity.prototype.Update=function(r){var i,n,o=this;if(this.currentRenderPassData){var a=this.nativeEntity,s=a.GetDescriptorPtr(),u=this.currentRenderPassData.sceneDescriptor.axisCubeDescriptor,c=u.xAxisDescriptor,d=u.yAxisDescriptor,p=u.zAxisDescriptor;(0,l.getDescriptorsEqual)(c,this.lastXDescriptor)&&(0,l.getDescriptorsEqual)(d,this.lastYDescriptor)&&(0,l.getDescriptorsEqual)(p,this.lastZDescriptor)||a.DestroyMeshes(),this.lastXDescriptor=c,this.lastYDescriptor=d,this.lastZDescriptor=p,[[s.GetXAxisDescPtr(),c],[s.GetYAxisDescPtr(),d],[s.GetZAxisDescPtr(),p]].forEach(function(e){return(0,t.updateScrtAxisDescriptor)(o.webAssemblyContext,e[0],e[1])}),e.prototype.Update.call(this,r),(null===(i=this.sciChart3DSurface)||void 0===i?void 0:i.isAxisCubeRendered)||(null===(n=this.sciChart3DSurface)||void 0===n||n.setIsAxisCubeRendered(),setTimeout(function(){var e;return null===(e=o.sciChart3DSurface)||void 0===e?void 0:e.invalidateElement()},0))}},AxisCubeEntity}(s.BaseSceneEntity3D);t.AxisCubeEntity=u,t.updateScrtAxisDescriptor=function(e,r,i){r.m_strTitle=null!==(n=i.axisTitle)&&void 0!==n?n:"",r.m_fRangeSize=i.axisSize,r.m_fTitleOffset=i.titleOffset,r.m_fTextOffset=i.tickLabelsOffset,r.m_bBandsEnabled=i.drawBands,r.m_bMajorLinesEnabled=i.drawMajorGridlines,r.m_bMajorTicksEnabled=i.drawMajorTicks,r.m_bMinorLinesEnabled=i.drawMinorGridlines,r.m_bMinorTicksEnabled=i.drawMinorTicks,r.m_fBorderThickness=i.borderThickness,(0,a.updateTsrVector4)(i.borderColor,r.GetBorderColorPtr()),(0,a.updateTsrVector4)(i.backgroundColor,r.GetBackgroundColorPtr()),(0,a.updateTsrVector4)(i.bandColor,r.GetBandColorPtr()),(0,t.updateScrtLineStyle)(i.majorLineStyle,r.GetMajorLineStylePtr()),(0,t.updateScrtLineStyle)(i.minorLineStyle,r.GetMinorLineStylePtr()),(0,t.toScrtTextStyle)(i.labelStyle,r.GetTextStylePtr()),(0,t.updateScrtLineStyle)(i.majorTickStyle,r.GetMajorTickStylePtr()),(0,t.updateScrtLineStyle)(i.minorTickStyle,r.GetMinorTickStylePtr());var n,o=new e.FloatVector;i.majorCoordinates.forEach(function(e){return o.push_back(e)}),r.SetMajors(o),o.delete();var s=new e.FloatVector;i.minorCoordinates.forEach(function(e){return s.push_back(e)}),r.SetMinors(s),s.delete();var l=new e.WStringVector;i.tickLabels.forEach(function(e){return l.push_back(e)}),r.SetMajorLabels(l),l.delete()},t.updateScrtLineStyle=function(e,t){t.m_fStrokeThickness=e.strokeThickness,t.m_fStart=e.start,t.m_fEnd=e.end,(0,a.updateTsrVector4)(e.stroke,t.GetStrokeColorPtr())},t.toScrtTextStyle=function(e,t){return t.m_fSize=e.fontSize,t.m_strFont=e.fontFamily,t.m_uiARGBColor=e.foreground,t.m_fDpiScaling=e.dpiScaling,e.alignment&&t.SetAlignment(e.alignment),t}},42961:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EAxisSideClipping=void 0,(r=t.EAxisSideClipping||(t.EAxisSideClipping={}))[r.Default=0]="Default",r[r.None=1]="None",r[r.VisibleRange=2]="VisibleRange"},72875:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ETextAlignment3D=void 0,(r=t.ETextAlignment3D||(t.ETextAlignment3D={}))[r.Default=0]="Default",r[r.Camera=1]="Camera",r[r.ScreenHorizontal=2]="ScreenHorizontal",r[r.ScreenAutoRotated=3]="ScreenAutoRotated"},69071:function(e,t){"use strict";function getLineStylesEqual(e,t){return(void 0!==e||void 0===t)&&(void 0!==t||void 0===e)&&(void 0===e&&void 0===t||e.start===t.start&&e.end===t.end&&getTArgbEqual(e.stroke,t.stroke)&&e.strokeThickness===t.strokeThickness)}function getTArgbEqual(e,t){return(void 0!==e||void 0===t)&&(void 0!==t||void 0===e)&&(void 0===e&&void 0===t||e.red===t.red&&e.green===t.green&&e.blue===t.blue&&e.opacity===t.opacity)}function getTextStylesEqual(e,t){return(void 0!==e||void 0===t)&&(void 0!==t||void 0===e)&&(void 0===e&&void 0===t||e.alignment===t.alignment&&e.dpiScaling===t.dpiScaling&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.foreground===t.foreground)}function getArraysEqual(e,t){if(void 0===e&&void 0!==t||void 0===t&&void 0!==e)return!1;if(void 0===t&&void 0===e)return!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.getArraysEqual=t.getTextStylesEqual=t.getTArgbEqual=t.getLineStylesEqual=t.getDescriptorsEqual=void 0,t.getDescriptorsEqual=function(e,t){return void 0===e?void 0===t:void 0===t?void 0===e:e.axisTitle===t.axisTitle&&e.axisSize===t.axisSize&&getTArgbEqual(e.backgroundColor,t.backgroundColor)&&getTArgbEqual(e.bandColor,t.bandColor)&&getTArgbEqual(e.borderColor,t.borderColor)&&getArraysEqual(e.majorCoordinates,t.majorCoordinates)&&getArraysEqual(e.minorCoordinates,t.minorCoordinates)&&getArraysEqual(e.tickLabels,t.tickLabels)&&getLineStylesEqual(e.majorLineStyle,t.majorLineStyle)&&getLineStylesEqual(e.minorLineStyle,t.minorLineStyle)&&getLineStylesEqual(e.majorTickStyle,t.majorTickStyle)&&getLineStylesEqual(e.minorTickStyle,t.minorTickStyle)&&getTextStylesEqual(e.titleStyle,t.titleStyle)&&getTextStylesEqual(e.labelStyle,t.labelStyle)&&e.drawMajorGridlines===t.drawMajorGridlines&&e.drawMinorGridlines===t.drawMinorGridlines&&e.drawMajorTicks===t.drawMajorTicks&&e.drawMinorTicks===t.drawMinorTicks&&e.drawBands===t.drawBands&&e.isVisible===t.isVisible&&e.borderThickness===t.borderThickness&&e.labelDepthTestEnabled===t.labelDepthTestEnabled&&e.titleOffset===t.titleOffset&&e.tickLabelsOffset===t.tickLabelsOffset&&e.smoothLabelOverlapAvoidance===t.smoothLabelOverlapAvoidance},t.getLineStylesEqual=getLineStylesEqual,t.getTArgbEqual=getTArgbEqual,t.getTextStylesEqual=getTextStylesEqual,t.getArraysEqual=getArraysEqual},81967:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.NumericAxis3D=void 0;var o=r(51295),a=r(24184),s=r(58807),l=r(34993),u=r(3274),c=r(19513),d=r(56529),p=r(51134),h=r(18157),f=function(e){function NumericAxis3D(t,r){var i,n=this;return(n=e.call(this,t,r)||this).type=h.EAxisType.NumericAxis3D,n.tickProvider=new s.NumericTickProvider(n.webAssemblyContext3D),n.labelProvider=new u.NumericLabelProvider,n.deltaCalculator=new l.NumericDeltaCalculator(n.webAssemblyContext3D),(null==r?void 0:r.precision)&&(r.labelPrecision=r.precision),n.labelProvider=null!==(i=null==r?void 0:r.labelProvider)&&void 0!==i?i:new u.NumericLabelProvider(r),n}return n(NumericAxis3D,e),NumericAxis3D.prototype.getDefaultNonZeroRange=function(){return new p.NumberRange(0,10)},NumericAxis3D.prototype.animateVisibleRange=function(e,t,r,i){var n,o=this;if(void 0===r&&(r=c.easing.outCubic),void 0===i&&(i=function(){}),t<=0){this.visibleRange=e||this.visibleRange,i();return}return null===(n=this.visibleRangeAnimationToken)||void 0===n||n.cancel(),this.visibleRangeAnimationToken=d.NumberRangeAnimator.animate(this.visibleRange,e,t,function(e){o.visibleRangeProperty=e},function(){o.visibleRangeAnimationToken=void 0,i()},r),this.parentSurface.addAnimation(this.visibleRangeAnimationToken),this.visibleRangeAnimationToken},NumericAxis3D.prototype.getCurrentCoordinateCalculatorInternal=function(){var e=this.visibleRange.min,t=this.visibleRange.max,r=this.getAxisSize();return this.flippedCoordinatesProperty?new a.NumericCoordinateCalculator(this.webAssemblyContext3D,r,e,t):new o.FlippedNumericCoordinateCalculator(this.webAssemblyContext3D,r,e,t)},NumericAxis3D}(r(83339).AxisBase3D);t.NumericAxis3D=f},36233:function(e,t){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_STYLE_PROPERTY=t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).AXIS_PLANE_BACKGROUND_FILL="AXIS_PLANE_BACKGROUND_FILL",r.IS_Y_AXIS="IS_Y_AXIS",r.IS_Z_AXIS="IS_Z_AXIS",r.LABEL_DEPTH_TEST="LABEL_DEPTH_TEST",r.NEGATIVE_SIDE_CLIPPING="NEGATIVE_SIDE_CLIPPING",r.PLANE_BORDER_COLOR="PLANE_BORDER_COLOR",r.PLANE_BORDER_THICKNESS="PLANE_BORDER_THICKNESS",r.POSITIVE_SIDE_CLIPPING="POSITIVE_SIDE_CLIPPING",r.TICK_LABEL_ALIGNMENT="TICK_LABEL_ALIGNMENT",r.TICK_LABELS_OFFSET="TICK_LABELS_OFFSET",r.TITLE_OFFSET="TITLE_OFFSET",r.BACKGROUND_COLOR="BACKGROUND_COLOR",(i=t.TEXT_STYLE_PROPERTY||(t.TEXT_STYLE_PROPERTY={})).ALIGNMENT="ALIGNMENT",i.DPI_SCALING="DPI_SCALING",i.FONT_FAMILY="FONT_FAMILY",i.FONT_SIZE="FONT_SIZE",i.FOREGROUND="FOREGROUND"},53231:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).CAMERA_POSITION="CAMERA_POSITION",r.CAMERA_TARGET="CAMERA_TARGET",r.CAMERA_ORTHOHEIGHT="CAMERA_ORTHOHEIGHT",r.CAMERA_ORTHOWIDTH="CAMERA_ORTHOWIDTH",r.CAMERA_FIELDOFVIEW="CAMERA_FIELDOFVIEW",r.CAMERA_PROJECTIONMODE="CAMERA_PROJECTIONMODE",r.CAMERA_ISATTACHED="CAMERA_ISATTACHED",r.CAMERA_ORBITALPITCH="CAMERA_ORBITALPITCH",r.CAMERA_ORBITALYAW="CAMERA_ORBITALYAW",r.CAMERA_RADIUS="CAMERA_RADIUS",r.CAMERA_FORWARD="CAMERA_FORWARD",r.CAMERA_SIDE="CAMERA_SIDE",r.CAMERA_UP="CAMERA_UP",r.CAMERA_UPGLOBAL="CAMERA_UPGLOBAL",r.CAMERA_ASPECTRATIO="CAMERA_ASPECTRATIO",r.CAMERA_ID="CAMERA_ID",r.CAMERA_FARCLIP="CAMERA_FARCLIP",r.CAMERA_NEARCLIP="CAMERA_NEARCLIP",r.SURFACE_CAMERA="SURFACE_CAMERA",r.SURFACE_XAXIS="SURFACE_XAXIS",r.SURFACE_YAXIS="SURFACE_YAXIS",r.SURFACE_ZAXIS="SURFACE_ZAXIS",r.SURFACE_VIEWPORT_MANAGER="SURFACE_VIEWPORT_MANAGER",r.SURFACE_WORLD_DIMENSIONS="SURFACE_WORLD_DIMENSIONS"},61906:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultViewportManager3D=void 0;var o=function(e){function DefaultViewportManager3D(){return null!==e&&e.apply(this,arguments)||this}return n(DefaultViewportManager3D,e),DefaultViewportManager3D}(r(72654).ViewportManager3DBase);t.DefaultViewportManager3D=o},43322:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.GizmoEntity=void 0;var o=r(6130),a=function(e){function GizmoEntity(t){var r=e.call(this,t)||this;return r.type=o.ESceneEntityType.GizmoEntity,r.setNativeEntity(t.SCRTXyzGizmoEntity.implement(r)),r}return n(GizmoEntity,e),Object.defineProperty(GizmoEntity.prototype,"enableGizmo",{get:function(){return this.nativeEntity.GetOverrideEnableGizmo()},set:function(e){this.nativeEntity.SetOverrideEnableGizmo(e)},enumerable:!1,configurable:!0}),GizmoEntity}(r(94539).BaseSceneEntity3D);t.GizmoEntity=a},47288:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMeshPointMarker3D=void 0;var o=r(78154),a=function(e){function BaseMeshPointMarker3D(t,r){return e.call(this,t,r)||this}return n(BaseMeshPointMarker3D,e),Object.defineProperty(BaseMeshPointMarker3D.prototype,"markerType",{get:function(){return o.EMarkerType.InstancedMesh},enumerable:!1,configurable:!0}),BaseMeshPointMarker3D}(o.BasePointMarker3D);t.BaseMeshPointMarker3D=a},78154:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePointMarker3D=t.EMarkerType=void 0;var i,n=r(35855),o=r(92530),a=r(91383),s=r(65051);(i=t.EMarkerType||(t.EMarkerType={}))[i.Pixel=0]="Pixel",i[i.TexturedQuad=1]="TexturedQuad",i[i.InstancedMesh=2]="InstancedMesh";var l=function(){function BasePointMarker3D(e,t){o.Guard.notNull(e,"webAssemblyContext"),this.webAssemblyContext=e,this.propertyChanged=new n.EventHandler,this.fillProperty=(null==t?void 0:t.fill)||"#FF3333",this.sizeProperty=(null==t?void 0:t.size)||3}return Object.defineProperty(BasePointMarker3D.prototype,"fill",{get:function(){return this.fillProperty},set:function(e){this.fillProperty=e,this.notifyPropertyChanged(s.PROPERTY.FILL)},enumerable:!1,configurable:!0}),Object.defineProperty(BasePointMarker3D.prototype,"size",{get:function(){return this.sizeProperty},set:function(e){this.sizeProperty=e,this.notifyPropertyChanged(s.PROPERTY.SIZE)},enumerable:!1,configurable:!0}),BasePointMarker3D.prototype.notifyPropertyChanged=function(e){var t;null===(t=this.propertyChanged)||void 0===t||t.raiseEvent(new a.PropertyChangedEventArgs(e))},BasePointMarker3D}();t.BasePointMarker3D=l},21104:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTexturePointMarker3D=void 0;var o=r(78154),a=function(e){function BaseTexturePointMarker3D(t,r){return e.call(this,t,r)||this}return n(BaseTexturePointMarker3D,e),Object.defineProperty(BaseTexturePointMarker3D.prototype,"markerType",{get:function(){return o.EMarkerType.TexturedQuad},enumerable:!1,configurable:!0}),BaseTexturePointMarker3D}(o.BasePointMarker3D);t.BaseTexturePointMarker3D=a},65051:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).FILL="Fill",r.SIZE="Size"},77551:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.TrianglePointMarker3D=t.EllipsePointMarker3D=t.QuadPointMarker=t.PixelPointMarker3D=t.CylinderPointMarker3D=t.PyramidPointMarker3D=t.CubePointMarker3D=t.SpherePointMarker3D=void 0;var o=r(47288),a=r(78154),s=r(21104),l=function(e){function SpherePointMarker3D(t,r){return e.call(this,t,r)||this}return n(SpherePointMarker3D,e),Object.defineProperty(SpherePointMarker3D.prototype,"pointsMesh",{get:function(){return this.webAssemblyContext.SCRTGetTemplateMesh(this.webAssemblyContext.eSCRTMesh.SCRT_MESH_SPHERE)},enumerable:!1,configurable:!0}),SpherePointMarker3D}(o.BaseMeshPointMarker3D);t.SpherePointMarker3D=l;var u=function(e){function CubePointMarker3D(t,r){return e.call(this,t,r)||this}return n(CubePointMarker3D,e),Object.defineProperty(CubePointMarker3D.prototype,"pointsMesh",{get:function(){return this.webAssemblyContext.SCRTGetTemplateMesh(this.webAssemblyContext.eSCRTMesh.SCRT_MESH_CUBE)},enumerable:!1,configurable:!0}),CubePointMarker3D}(o.BaseMeshPointMarker3D);t.CubePointMarker3D=u;var c=function(e){function PyramidPointMarker3D(t,r){return e.call(this,t,r)||this}return n(PyramidPointMarker3D,e),Object.defineProperty(PyramidPointMarker3D.prototype,"pointsMesh",{get:function(){return this.webAssemblyContext.SCRTGetTemplateMesh(this.webAssemblyContext.eSCRTMesh.SCRT_MESH_PYRAMID)},enumerable:!1,configurable:!0}),PyramidPointMarker3D}(o.BaseMeshPointMarker3D);t.PyramidPointMarker3D=c;var d=function(e){function CylinderPointMarker3D(t,r){return e.call(this,t,r)||this}return n(CylinderPointMarker3D,e),Object.defineProperty(CylinderPointMarker3D.prototype,"pointsMesh",{get:function(){return this.webAssemblyContext.SCRTGetTemplateMesh(this.webAssemblyContext.eSCRTMesh.SCRT_MESH_CYLINDER)},enumerable:!1,configurable:!0}),CylinderPointMarker3D}(o.BaseMeshPointMarker3D);t.CylinderPointMarker3D=d;var p=function(e){function PixelPointMarker3D(t,r){var i=e.call(this,t,r)||this;return i.size=0,i}return n(PixelPointMarker3D,e),Object.defineProperty(PixelPointMarker3D.prototype,"markerType",{get:function(){return a.EMarkerType.Pixel},enumerable:!1,configurable:!0}),PixelPointMarker3D}(a.BasePointMarker3D);t.PixelPointMarker3D=p;var h=function(e){function QuadPointMarker(t,r){return e.call(this,t,r)||this}return n(QuadPointMarker,e),Object.defineProperty(QuadPointMarker.prototype,"pointsTexture",{get:function(){return this.webAssemblyContext.SCRTGetTemplateTexture(this.webAssemblyContext.eSCRTTexture.SCRT_TEXTURE_SOLIDWHITE)},enumerable:!1,configurable:!0}),QuadPointMarker}(s.BaseTexturePointMarker3D);t.QuadPointMarker=h;var f=function(e){function EllipsePointMarker3D(t,r){return e.call(this,t,r)||this}return n(EllipsePointMarker3D,e),Object.defineProperty(EllipsePointMarker3D.prototype,"pointsTexture",{get:function(){return this.webAssemblyContext.SCRTGetTemplateTexture(this.webAssemblyContext.eSCRTTexture.SCRT_TEXTURE_CIRCLE)},enumerable:!1,configurable:!0}),EllipsePointMarker3D}(s.BaseTexturePointMarker3D);t.EllipsePointMarker3D=f;var y=function(e){function TrianglePointMarker3D(t,r){return e.call(this,t,r)||this}return n(TrianglePointMarker3D,e),Object.defineProperty(TrianglePointMarker3D.prototype,"pointsTexture",{get:function(){return this.webAssemblyContext.SCRTGetTemplateTexture(this.webAssemblyContext.eSCRTTexture.SCRT_TEXTURE_TRIANGLE)},enumerable:!1,configurable:!0}),TrianglePointMarker3D}(s.BaseTexturePointMarker3D);t.TrianglePointMarker3D=y},88676:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AxisCubeDescriptor=void 0,t.AxisCubeDescriptor=function(){}},94539:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSceneEntity3D=void 0;var o=r(15492),a=r(94694),s=r(92530),l=r(19542),u=r(6130),c=r(92200),d=function(e){function BaseSceneEntity3D(t){var r=e.call(this)||this;return r.id=(0,c.generateGuid)(),r.isVisible=!0,r.entityIdProperty=void 0,s.Guard.notNull(t,"webAssemblyContext"),r.webAssemblyContext=t,r.detachChild=r.detachChild.bind(r),r.attachChild=r.attachChild.bind(r),r.children=new l.ObservableArray,r.children.collectionChanged.subscribe(function(e){var t,i;null===(t=e.getOldItems())||void 0===t||t.forEach(r.detachChild),null===(i=e.getNewItems())||void 0===i||i.forEach(r.attachChild)}),r.onDpiChanged=r.onDpiChanged.bind(r),r}return n(BaseSceneEntity3D,e),Object.defineProperty(BaseSceneEntity3D.prototype,"entityIdProvider",{get:function(){return this.entityIdProviderProperty},set:function(e){var t=this;this.entityIdProviderProperty=e,!this.entityId&&this.entityIdProviderProperty&&(this.entityId=this.entityIdProviderProperty.getNextEntityId()),this.visitEntities(function(r){r!==t&&(r.entityIdProvider=e)})},enumerable:!1,configurable:!0}),Object.defineProperty(BaseSceneEntity3D.prototype,"entityId",{get:function(){return this.entityIdProperty},set:function(e){var t;this.entityIdProperty=e,null===(t=this.nativeEntityProperty)||void 0===t||t.SetEntityId(e),this.invalidateScene()},enumerable:!1,configurable:!0}),BaseSceneEntity3D.prototype.getRoot=function(){if(this.type===u.ESceneEntityType.RootSceneEntity)return this;for(var e=this.parent;void 0!==e;){if(e.type===u.ESceneEntityType.RootSceneEntity)return e;e=e.parent}},BaseSceneEntity3D.prototype.delete=function(){var e;this.children.asArray().forEach(function(e){return e.delete()}),null===(e=this.entityIdProvider)||void 0===e||e.releaseEntityId(this.entityId),this.nativeEntity&&this.world.RemoveEntity(this.nativeEntity),this.nativeEntityProperty=(0,a.deleteSafe)(this.nativeEntityProperty),this.webAssemblyContext=void 0},BaseSceneEntity3D.prototype.Update=function(e){if(this.currentRenderPassData){if(!this.nativeEntity)throw Error("BaseSceneEntity.nativeSceneEntity must be set by calling setEntity() in the constructor");this.isVisible&&this.nativeEntity.Update(e)}},BaseSceneEntity3D.prototype.Render=function(){if(this.currentRenderPassData){if(!this.nativeEntity)throw Error("BaseSceneEntity.nativeSceneEntity must be set by calling setEntity() in the constructor");this.isVisible&&this.nativeEntity.Render()}},BaseSceneEntity3D.prototype.onEngineRestart=function(){},BaseSceneEntity3D.prototype.onDpiChanged=function(e){},BaseSceneEntity3D.prototype.setRenderPassData=function(e){this.currentRenderPassData=e},BaseSceneEntity3D.prototype.getEntity=function(e){for(var t=0;t<this.children.size();t++){var r=this.children.get(t);if(r.type===e)return r}},BaseSceneEntity3D.prototype.invalidateScene=function(){var e,t;null===(t=null===(e=this.rootSceneEntity)||void 0===e?void 0:e.parentSurface)||void 0===t||t.invalidateElement()},BaseSceneEntity3D.prototype.onAttached=function(){this.parent.type,u.ESceneEntityType.SCRTSceneEntity},BaseSceneEntity3D.prototype.onDetached=function(){},BaseSceneEntity3D.prototype.visitEntities=function(e){e(this),this.children.asArray().forEach(function(t){t.visitEntities(e)})},Object.defineProperty(BaseSceneEntity3D.prototype,"nativeEntity",{get:function(){return this.nativeEntityProperty},enumerable:!1,configurable:!0}),BaseSceneEntity3D.prototype.attachChild=function(e){var t;null===(t=this.nativeEntity)||void 0===t||t.AddChildEntityInternal(e.nativeEntity),e.parent=this,e.entityIdProvider=this.entityIdProvider,e.onAttached()},BaseSceneEntity3D.prototype.detachChild=function(e){var t;null===(t=this.nativeEntity)||void 0===t||t.RemoveChildEntityInternal(e.nativeEntity),e.onDetached(),e.parent=void 0},BaseSceneEntity3D.prototype.setNativeEntity=function(e){var t;this.nativeEntityProperty=e,this.entityId&&(null===(t=this.nativeEntityProperty)||void 0===t||t.SetEntityId(this.entityId))},Object.defineProperty(BaseSceneEntity3D.prototype,"world",{get:function(){return this.getRoot().parentSurface.getSceneWorld()},enumerable:!1,configurable:!0}),BaseSceneEntity3D}(o.DeletableEntity);t.BaseSceneEntity3D=d},27632:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.CrosshairLinesSceneEntity=void 0;var o=r(94694),a=r(6130),s=r(48053),l=r(52652),u=function(e){function CrosshairLinesSceneEntity(t){var r=e.call(this,t)||this;return r.type=a.ESceneEntityType.Custom,r.strokeThickness=2,r.stroke="#FF6600",r.antiAliased=!0,r.setNativeEntity(t.SCRTSceneEntity.implement(r)),r}return n(CrosshairLinesSceneEntity,e),CrosshairLinesSceneEntity.prototype.delete=function(){e.prototype.delete.call(this),this.linesMesh=(0,o.deleteSafe)(this.linesMesh)},CrosshairLinesSceneEntity.prototype.Render=function(){if(this.isVisible&&this.worldDimensions&&this.cameraPosition&&this.location){var e=this.getWallVector();this.linesMesh=(0,o.deleteSafe)(this.linesMesh);var t=new this.webAssemblyContext.SCRTLinesMesh(this.strokeThickness,!1,this.antiAliased);t.SetVertexColor((0,s.parseColorToUIntArgb)(this.stroke)),this.inInWorldDimensions(this.location.x,this.location.y,0,this.worldDimensions)&&(t.SetVertex3(this.location.x,this.location.y,this.location.z),t.SetVertex3(this.location.x,this.location.y,e.z)),this.inInWorldDimensions(this.location.x,0,this.location.z,this.worldDimensions)&&(t.SetVertex3(this.location.x,this.location.y,this.location.z),t.SetVertex3(this.location.x,e.y,this.location.z)),this.inInWorldDimensions(0,this.location.y,0,this.worldDimensions)&&(t.SetVertex3(this.location.x,this.location.y,this.location.z),t.SetVertex3(e.x,this.location.y,this.location.z)),t.Freeze(),t.Render()}},CrosshairLinesSceneEntity.prototype.inInWorldDimensions=function(e,t,r,i){return t>=0&&t<=i.y&&r>=-i.z/2&&r<=i.z/2&&e>=-i.x/2&&e<=i.x/2},CrosshairLinesSceneEntity.prototype.getWallVector=function(){var e=this.cameraPosition.dotProduct(new l.Vector3(1,0,0))>0?-(.5*this.worldDimensions.x):.5*this.worldDimensions.x,t=this.cameraPosition.dotProduct(new l.Vector3(0,1,0))>0?0:this.worldDimensions.y,r=this.cameraPosition.dotProduct(new l.Vector3(0,0,1))>0?-(.5*this.worldDimensions.z):.5*this.worldDimensions.z;return new l.Vector3(e,t,r)},CrosshairLinesSceneEntity}(r(94539).BaseSceneEntity3D);t.CrosshairLinesSceneEntity=u},16878:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEntityIdProvider=void 0;var r=function(){function DefaultEntityIdProvider(){this.currentId=-1,this.maxId=4294967295}return DefaultEntityIdProvider.prototype.getNextEntityId=function(){var e=++this.currentId;if(e>=this.maxId)throw Error("The max Mesh ID has been exceeded.  Please see https://www.scichart.com/questions/wpf/maximum-mesh-id");return e},DefaultEntityIdProvider.prototype.releaseEntityId=function(e){},DefaultEntityIdProvider}();t.DefaultEntityIdProvider=r},7943:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.PointLine3DSceneEntity=void 0;var o=r(94694),a=r(6130),s=r(48053),l=r(53644),u=r(56071),c=r(78154),d=r(9959),p=r(27179),h=function(e){function PointLine3DSceneEntity(t,r){var i=e.call(this,t,r,new p.RenderableSeriesSceneEntityState)||this;return i.type=a.ESceneEntityType.PointLine3DSceneEntity,i.setNativeEntity(t.SCRTPointLine3DSceneEntity.implement(i)),i}return n(PointLine3DSceneEntity,e),PointLine3DSceneEntity.prototype.delete=function(){this.pointColors=(0,o.deleteSafe)(this.pointColors),this.pointScales=(0,o.deleteSafe)(this.pointScales),e.prototype.delete.call(this)},PointLine3DSceneEntity.prototype.Render=function(){this.nativeEntity.SetOpacity(this.parentSeries.opacity),e.prototype.Render.call(this)},PointLine3DSceneEntity.prototype.notifySeriesPropertyChanged=function(t){t===u.PROPERTY.STROKE_THICKNESS&&this.nativeEntity.SetLineStrokeThickness(this.parentSeries.strokeThickness),t===u.PROPERTY.STROKE&&this.nativeEntity.SetStrokeColor((0,s.parseColorToUIntArgb)(this.parentSeries.stroke)),t===u.PROPERTY.POINT_MARKER3D&&this.updateSeries(),e.prototype.notifySeriesPropertyChanged.call(this,t)},PointLine3DSceneEntity.prototype.hitTest=function(t){return e.prototype.hitTestXyz.call(this,t)},PointLine3DSceneEntity.prototype.updateSeries=function(){var e,t=this.parentSeries.dataSeries;if(t){if(t.type!==l.EDataSeriesType3D.Xyz3D)throw Error("DataSeries type for a PointLineRenderableSeries3D must be XyzDataSeries3D");var r=(0,s.parseColorToUIntArgb)(this.parentSeries.stroke);this.nativeEntity.SetLineStrokeThickness(this.parentSeries.strokeThickness),this.nativeEntity.SetIsLineStrips(this.parentSeries.isLineStrip),this.nativeEntity.SetIsLineAntialiased(this.parentSeries.isAntiAliased),this.nativeEntity.SetStrokeColor(r),this.updatePointMarker(this.parentSeries.pointMarker);var i=t.getNativeXValues(),n=t.getNativeYValues(),a=t.getNativeZValues(),u=t.getMetadataValues(),c=t.count(),d=this.rebuildPointMetadata(u,c,r),p=d.lineColors,h=d.pointColors,f=d.scales,y=d.hasDefaultColors,g=d.hasDefaultScales;try{(e=new this.webAssemblyContext.SCRTPointLines3DSceneEntityParams).useDefaultColors=y,e.useDefaultScale=g,e.SetCoordinateCalculators(this.currentRenderPassData.xCalc.nativeCalculator,this.currentRenderPassData.yCalc.nativeCalculator,this.currentRenderPassData.zCalc.nativeCalculator),this.nativeEntity.UpdateMeshesVec(i,n,a,h,p,f,e)}finally{(0,o.deleteSafe)(e)}}},PointLine3DSceneEntity.prototype.updatePointMarker=function(e){var t=this.webAssemblyContext.eSCRT_POINT_MARKER_TYPE;if(void 0===e||e.markerType===c.EMarkerType.Pixel)this.nativeEntity.SetPointMarkerType(t.SCRT_POINT_MARKER_TYPE_PIXEL),this.nativeEntity.SetPointSize(0);else if(e.markerType===c.EMarkerType.InstancedMesh){if(!e.pointsMesh)throw Error("Expected a BaseMeshPointMarker3D.pointsMesh on 3D pointmarker of type InstancedMesh");this.nativeEntity.SetPointMarkerType(t.SCRT_POINT_MARKER_TYPE_INSTANCED_MESH),this.nativeEntity.SetPointSize(e.size),this.nativeEntity.SetPointMarkerMesh(e.pointsMesh)}else if(e.markerType===c.EMarkerType.TexturedQuad){if(!e.pointsTexture)throw Error("Expected a BaseTexturePointMarker3D.pointsTexture on 3D pointmarker of type TexturedQuad");this.nativeEntity.SetPointMarkerType(t.SCRT_POINT_MARKER_TYPE_TEXTURED_QUAD),this.nativeEntity.SetPointSize(e.size),this.nativeEntity.SetPointMarkerTexture(e.pointsTexture)}else throw Error("PointLine3DSceneEntity: Unknown pointMarker.markerType "+e.markerType)},PointLine3DSceneEntity.prototype.rebuildPointMetadata=function(e,t,r){var i=this;this.pointColors||(this.pointColors=new this.webAssemblyContext.UIntVector),this.pointScales||(this.pointScales=new this.webAssemblyContext.FloatVector),this.pointColors.resize(t,r),this.pointScales.resize(t,1);var n=!0,o=!0;return e.forEach(function(e,t){var r;if(e){var a=null!==(r=e.vertexColorAbgr)&&void 0!==r?r:e.vertexColor;a&&(o=!1,i.pointColors.set(t,a)),e.pointScale&&(n=!1,i.pointScales.set(t,e.pointScale))}}),{lineColors:this.pointColors,pointColors:this.pointColors,scales:this.pointScales,hasDefaultScales:n,hasDefaultColors:o}},PointLine3DSceneEntity}(d.RenderableSeriesSceneEntity);t.PointLine3DSceneEntity=h},83692:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderPassInfo3D=void 0,t.RenderPassInfo3D=function(){}},9959:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.RenderableSeriesSceneEntity=void 0;var o=r(16247),a=function(e){function RenderableSeriesSceneEntity(t,r,i){var n=e.call(this,t)||this;return n.parentSeries=r,n.state=i,n.state.setInitialState(),n.hitTest=n.hitTest.bind(n),n}return n(RenderableSeriesSceneEntity,e),RenderableSeriesSceneEntity.prototype.Update=function(t){this.currentRenderPassData&&(this.state.validate(this.parentSeries,this.currentRenderPassData)||(this.updateSeries(),this.state.reset(this.parentSeries,this.currentRenderPassData)),e.prototype.Update.call(this,t))},RenderableSeriesSceneEntity.prototype.onEngineRestart=function(){e.prototype.onEngineRestart.call(this),this.state.setInitialState()},RenderableSeriesSceneEntity.prototype.notifySeriesPropertyChanged=function(e){this.state.setRenderableSeriesPropertyChanged()},RenderableSeriesSceneEntity.prototype.hitTestXyz=function(e){var t,r=Math.round(e.x),i=Math.round(e.y),n=this.webAssemblyContext.SCRTGetSelectionInfo(r,i),a=new o.HitTestInfo3D(this.parentSeries,!1);return a.isHit=n.m_uiSelectionIndex>0&&(null===(t=n.GetEntity())||void 0===t?void 0:t.GetEntityId())===this.entityId,a.selectionIndex=a.isHit?n.m_uiSelectionIndex:-1,a.hitTestPoint=e,a},RenderableSeriesSceneEntity}(r(94539).BaseSceneEntity3D);t.RenderableSeriesSceneEntity=a},27179:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenderableSeriesSceneEntityState=void 0;var r=function(){function RenderableSeriesSceneEntityState(e,t,r,i,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===i&&(i=!0),void 0===n&&(n={xVisibleMin:0,xVisibleMax:0,yVisibleMin:0,yVisibleMax:0,zVisibleMin:0,zVisibleMax:0,xWorldDimension:0,yWorldDimension:0,zWorldDimension:0}),this.isInitialStateProperty=e,this.isDataSeriesModifiedProperty=t,this.isRenderableSeriesPropertyChangedProperty=r,this.isAxisCubeStateChangedProperty=i,this.axisCubeState=n}return Object.defineProperty(RenderableSeriesSceneEntityState.prototype,"isInitialState",{get:function(){return this.isInitialStateProperty},enumerable:!1,configurable:!0}),RenderableSeriesSceneEntityState.prototype.setInitialState=function(){this.isInitialStateProperty=!0},Object.defineProperty(RenderableSeriesSceneEntityState.prototype,"isDataSeriesModified",{get:function(){return this.isDataSeriesModifiedProperty},enumerable:!1,configurable:!0}),Object.defineProperty(RenderableSeriesSceneEntityState.prototype,"isRenderableSeriesPropertyChanged",{get:function(){return this.isRenderableSeriesPropertyChangedProperty},enumerable:!1,configurable:!0}),RenderableSeriesSceneEntityState.prototype.setRenderableSeriesPropertyChanged=function(){this.isRenderableSeriesPropertyChangedProperty=!0},Object.defineProperty(RenderableSeriesSceneEntityState.prototype,"isAxisCubeStateChanged",{get:function(){return this.isAxisCubeStateChangedProperty},enumerable:!1,configurable:!0}),RenderableSeriesSceneEntityState.prototype.validate=function(e,t){return this.isDataSeriesModifiedProperty=e.dataSeries.isModified,this.isAxisCubeStateChangedProperty=Math.abs(this.axisCubeState.xVisibleMin-t.xCalc.visibleMin)>.001||Math.abs(this.axisCubeState.xVisibleMax-t.xCalc.visibleMax)>.001||Math.abs(this.axisCubeState.yVisibleMin-t.yCalc.visibleMin)>.001||Math.abs(this.axisCubeState.yVisibleMax-t.yCalc.visibleMax)>.001||Math.abs(this.axisCubeState.zVisibleMin-t.zCalc.visibleMin)>.001||Math.abs(this.axisCubeState.zVisibleMax-t.zCalc.visibleMax)>.001||Math.abs(this.axisCubeState.xWorldDimension-t.worldDimensions.x)>.001||Math.abs(this.axisCubeState.yWorldDimension-t.worldDimensions.y)>.001||Math.abs(this.axisCubeState.zWorldDimension-t.worldDimensions.z)>.001,!this.isInitialState&&!this.isDataSeriesModified&&!this.isDataSeriesModified&&!this.isAxisCubeStateChanged},RenderableSeriesSceneEntityState.prototype.reset=function(e,t){this.isInitialStateProperty=!1,this.isDataSeriesModifiedProperty=!1,this.isRenderableSeriesPropertyChangedProperty=!1,this.isAxisCubeStateChangedProperty=!1,this.axisCubeState={xVisibleMin:t.xCalc.visibleMin,xVisibleMax:t.xCalc.visibleMax,yVisibleMin:t.yCalc.visibleMin,yVisibleMax:t.yCalc.visibleMax,zVisibleMin:t.zCalc.visibleMin,zVisibleMax:t.zCalc.visibleMax,xWorldDimension:t.worldDimensions.x,yWorldDimension:t.worldDimensions.y,zWorldDimension:t.worldDimensions.z},e.dataSeries.resetModified()},RenderableSeriesSceneEntityState}();t.RenderableSeriesSceneEntityState=r},37929:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScatterPointsSceneEntity=void 0;var o=r(94694),a=r(6130),s=r(48053),l=r(53644),u=r(78154),c=r(56071),d=r(9959),p=r(27179),h=function(e){function ScatterPointsSceneEntity(t,r){var i=e.call(this,t,r,new p.RenderableSeriesSceneEntityState)||this;return i.type=a.ESceneEntityType.ScatterPointsSceneEntity,i.setNativeEntity(t.SCRTPoint3DSceneEntity.implement(i)),i}return n(ScatterPointsSceneEntity,e),ScatterPointsSceneEntity.prototype.delete=function(){this.pointColors=(0,o.deleteSafe)(this.pointColors),this.pointScales=(0,o.deleteSafe)(this.pointScales),e.prototype.delete.call(this)},ScatterPointsSceneEntity.prototype.Render=function(){this.nativeEntity.SetOpacity(this.parentSeries.opacity),e.prototype.Render.call(this)},ScatterPointsSceneEntity.prototype.notifySeriesPropertyChanged=function(t){t===c.PROPERTY.POINT_MARKER3D&&this.updateSeries(),e.prototype.notifySeriesPropertyChanged.call(this,t)},ScatterPointsSceneEntity.prototype.hitTest=function(t){return e.prototype.hitTestXyz.call(this,t)},ScatterPointsSceneEntity.prototype.updateSeries=function(){var e,t=this.parentSeries.dataSeries;if(t){if(t.type!==l.EDataSeriesType3D.Xyz3D)throw Error("DataSeries type for a ScatterRenderableSeries3D must be XyzDataSeries3D");var r=this.parentSeries.pointMarker;if(!r)throw Error("To render 3D Scatter, bubble or point-clouds, you must provider a PointMarker on BaseRenderableSeries3D");var i=this.webAssemblyContext.eSCRT_POINT_MARKER_TYPE,n=(0,s.parseColorToUIntArgb)(r.fill);switch(r.markerType){case u.EMarkerType.Pixel:this.nativeEntity.SetPointMarkerType(i.SCRT_POINT_MARKER_TYPE_PIXEL),this.nativeEntity.SetPointSize(0),this.nativeEntity.SetPointColor(n);break;case u.EMarkerType.TexturedQuad:if(!r.pointsTexture)throw Error("Expected a BaseTexturePointMarker3D.pointsTexture on 3D pointmarker of type TexturedQuad");this.nativeEntity.SetPointMarkerType(i.SCRT_POINT_MARKER_TYPE_TEXTURED_QUAD),this.nativeEntity.SetPointSize(r.size),this.nativeEntity.SetPointColor(n),this.nativeEntity.SetPointMarkerTexture(r.pointsTexture);break;case u.EMarkerType.InstancedMesh:if(!r.pointsMesh)throw Error("Expected a BaseMeshPointMarker3D.pointsMesh on 3D pointmarker of type InstancedMesh");this.nativeEntity.SetPointMarkerType(i.SCRT_POINT_MARKER_TYPE_INSTANCED_MESH),this.nativeEntity.SetPointSize(r.size),this.nativeEntity.SetPointColor(n),this.nativeEntity.SetPointMarkerMesh(r.pointsMesh);break;default:throw Error("Unknown pointMarker.markerType "+r.markerType)}var a=t.getNativeXValues(),c=t.getNativeYValues(),d=t.getNativeZValues(),p=t.getMetadataValues(),h=t.count(),f=this.rebuildPointMetadata(p,h,n),y=f.colors,g=f.scales;try{(e=new this.webAssemblyContext.SCRTPoint3DSceneEntityParams).useDefaultColors=!1,e.useDefaultScale=!1,e.SetCoordinateCalculators(this.currentRenderPassData.xCalc.nativeCalculator,this.currentRenderPassData.yCalc.nativeCalculator,this.currentRenderPassData.zCalc.nativeCalculator),this.nativeEntity.UpdateMeshesVec(a,c,d,y,g,e)}finally{(0,o.deleteSafe)(e)}}},ScatterPointsSceneEntity.prototype.rebuildPointMetadata=function(e,t,r){var i=this;return this.pointColors||(this.pointColors=new this.webAssemblyContext.UIntVector),this.pointScales||(this.pointScales=new this.webAssemblyContext.FloatVector),this.pointColors.resize(t,r),this.pointScales.resize(t,1),e.forEach(function(e,t){var r;if(e){var n=null!==(r=e.vertexColorAbgr)&&void 0!==r?r:e.vertexColor;n&&i.pointColors.set(t,n),e.pointScale&&i.pointScales.set(t,e.pointScale)}}),{colors:this.pointColors,scales:this.pointScales}},ScatterPointsSceneEntity}(d.RenderableSeriesSceneEntity);t.ScatterPointsSceneEntity=h},87565:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SceneDescriptor=void 0,t.SceneDescriptor=function(){}},20518:function(e,t,r){"use strict";var i,n,o,a=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SurfaceMeshSceneEntity=t.SurfaceMeshSceneEntityState=void 0;var s=r(94694),l=r(92530),u=r(51134),c=r(48484),d=r(6130),p=r(48053),h=r(86710),f=r(53644),y=r(56071),g=r(16247),v=r(84695),m=r(9959),S=r(27179);(i=o||(o={}))[i.SCRT_GRID_DRAWING_FEATURES_SOLID=1]="SCRT_GRID_DRAWING_FEATURES_SOLID",i[i.SCRT_GRID_DRAWING_FEATURES_WIREFRAME=2]="SCRT_GRID_DRAWING_FEATURES_WIREFRAME",i[i.SCRT_GRID_DRAWING_FEATURES_CONTOURS=4]="SCRT_GRID_DRAWING_FEATURES_CONTOURS",i[i.SCRT_GRID_DRAWING_FEATURES_SKIRT=8]="SCRT_GRID_DRAWING_FEATURES_SKIRT";var b=function(e){function SurfaceMeshSceneEntityState(){return null!==e&&e.apply(this,arguments)||this}return a(SurfaceMeshSceneEntityState,e),Object.defineProperty(SurfaceMeshSceneEntityState.prototype,"isColorMapTextureInvalid",{get:function(){return this.isColorMapTextureInvalidProperty},enumerable:!1,configurable:!0}),SurfaceMeshSceneEntityState.prototype.setColorMapTextureInvalid=function(){this.isColorMapTextureInvalidProperty=!0},SurfaceMeshSceneEntityState.prototype.validate=function(t,r){return e.prototype.validate.call(this,t,r)&&this.isColorMapTextureInvalid},SurfaceMeshSceneEntityState.prototype.reset=function(t,r){e.prototype.reset.call(this,t,r),this.isColorMapTextureInvalidProperty=!1},SurfaceMeshSceneEntityState}(S.RenderableSeriesSceneEntityState);t.SurfaceMeshSceneEntityState=b;var P=function(e){function SurfaceMeshSceneEntity(t,r){var i,n=this;return(n=e.call(this,t,r,new b)||this).type=d.ESceneEntityType.SurfaceMeshSceneEntity,n.setNativeEntity(t.SCRTGridMeshEntity.implement(n)),n.colorMapTexture=(0,s.deleteSafe)(n.colorMapTexture),n.colorMapTexture=null===(i=n.parentSeries.meshColorPalette)||void 0===i?void 0:i.getTexture(n.parentSeries.colorMapTextureSize),n}return a(SurfaceMeshSceneEntity,e),SurfaceMeshSceneEntity.prototype.notifySeriesPropertyChanged=function(t){(t===y.PROPERTY.MESH_COLOR_PALETTE||t===y.PROPERTY.MESH_PALETTE_MODE||t===y.PROPERTY.MESH_RESOLUTION||t===y.PROPERTY.COLOR_MAP_TEXTURE_SIZE)&&this.state.setColorMapTextureInvalid(),e.prototype.notifySeriesPropertyChanged.call(this,t)},SurfaceMeshSceneEntity.prototype.delete=function(){e.prototype.delete.call(this),this.colorMapTexture=(0,s.deleteSafe)(this.colorMapTexture)},SurfaceMeshSceneEntity.prototype.hitTest=function(e){var t,r=Math.round(e.x),i=Math.round(e.y),n=this.webAssemblyContext.SCRTGetSelectionInfo(r,i),o=new g.HitTestInfo3D(this.parentSeries,!1);return o.isHit=(null===(t=n.GetEntity())||void 0===t?void 0:t.GetEntityId())===this.entityId,o.selectionIjIndices=o.isHit?new c.Point(n.m_uiHeightMapIndexI,n.m_uiHeightMapIndexJ):void 0,o.hitTestPoint=e,o},SurfaceMeshSceneEntity.prototype.Render=function(){if(this.currentRenderPassData){if(!this.colorMapTexture||!this.parentSeries.dataSeries){console.log("Cannot draw a SurfaceMeshRenderableSeries3D without a meshColorPalette or dataSeries!");return}this.nativeEntity.SetOpacity(this.parentSeries.opacity);try{t=new this.webAssemblyContext.SCRTGridDrawingProperties;var t,r,i,n,a,l,c,d=0;this.hasFlag(this.parentSeries.drawMeshAs,[v.EDrawMeshAs.SOLID_WIREFRAME,v.EDrawMeshAs.SOLID_WIREFRAME,v.EDrawMeshAs.SOLID_WIREFRAME_WITH_CONTOURS])&&(d|=o.SCRT_GRID_DRAWING_FEATURES_WIREFRAME),this.hasFlag(this.parentSeries.drawMeshAs,[v.EDrawMeshAs.SOLID_WIREFRAME,v.EDrawMeshAs.SOLID_MESH,v.EDrawMeshAs.SOLID_WITH_CONTOURS,v.EDrawMeshAs.SOLID_WIREFRAME_WITH_CONTOURS])&&(d|=o.SCRT_GRID_DRAWING_FEATURES_SOLID),this.hasFlag(this.parentSeries.drawMeshAs,[v.EDrawMeshAs.CONTOURS,v.EDrawMeshAs.SOLID_WITH_CONTOURS,v.EDrawMeshAs.SOLID_WIREFRAME_WITH_CONTOURS])&&(d|=o.SCRT_GRID_DRAWING_FEATURES_CONTOURS),this.parentSeries.drawSkirt&&(d|=o.SCRT_GRID_DRAWING_FEATURES_SKIRT);var f=this.hasFlag(this.parentSeries.meshPaletteMode,[v.EMeshPaletteMode.HEIGHT_MAP_INTERPOLATED,v.EMeshPaletteMode.HEIGHT_MAP_SOLID_CELLS]),y=this.hasFlag(this.parentSeries.meshPaletteMode,[v.EMeshPaletteMode.HEIGHT_MAP_SOLID_CELLS,v.EMeshPaletteMode.TEXTURED_SOLID_CELLS]);if(t.SetDrawMeshAsInteger(d),t.m_bUseGradient=f,t.m_bUseSolidCells=y,t.m_fStrokeThickness=this.parentSeries.strokeThickness,t.m_fContourThickness=this.parentSeries.contourStrokeThickness,t.m_fContourInterval=this.parentSeries.contourInterval,t.m_fContourOffset=this.parentSeries.contourOffset,this.parentSeries.stroke){var g=(0,p.parseColorToTArgb)(this.parentSeries.stroke);(0,h.updateTsrVector4)(g,t.GetWireframeStrokePtr())}this.parentSeries.contourStroke&&(0,h.updateTsrVector4)((0,p.parseColorToTArgb)(this.parentSeries.contourStroke),t.GetContourColorPtr()),t.m_fHardNormals=this.parentSeries.cellHardnessFactor,t.m_fHighlight=this.parentSeries.highlight,t.m_fShininess=this.parentSeries.shininess,t.m_fLightingAmount=this.parentSeries.lightingFactor,this.nativeEntity.SetGridDrawingProperties(t)}finally{(0,s.deleteSafe)(t)}var m=this.currentRenderPassData.xCalc,S=this.currentRenderPassData.yCalc,b=this.currentRenderPassData.zCalc;try{var P=new u.NumberRange(this.parentSeries.minimum,this.parentSeries.maximum);r=this.rangeToSCRTAxisRange(this.webAssemblyContext,m,this.parentSeries.dataSeries.xRange),i=this.rangeToSCRTAxisRange(this.webAssemblyContext,S,P),n=this.rangeToSCRTAxisRange(this.webAssemblyContext,b,this.parentSeries.dataSeries.zRange),this.nativeEntity.SetMeshRange(r,i,n),a=this.toSCRTAxisRange(this.webAssemblyContext,m,m.visibleMin,m.visibleMax),l=this.toSCRTAxisRange(this.webAssemblyContext,S,S.visibleMin,S.visibleMax),c=this.toSCRTAxisRange(this.webAssemblyContext,b,b.visibleMin,b.visibleMax),this.nativeEntity.SetVisibleRange(a,l,c)}finally{(0,s.deleteSafe)(r),(0,s.deleteSafe)(i),(0,s.deleteSafe)(n),(0,s.deleteSafe)(a),(0,s.deleteSafe)(l),(0,s.deleteSafe)(c)}var C=this.parentSeries.yOffset?S.getCoordinate(this.parentSeries.yOffset):0;this.nativeEntity.SetHeightmapScaleOffset(this.parentSeries.heightScaleFactor,C),this.nativeEntity.SetTexture(this.colorMapTexture.getTexture()),e.prototype.Render.call(this)}},SurfaceMeshSceneEntity.prototype.updateSeries=function(){var e,t=this.parentSeries.dataSeries;if(t){l.Guard.isTrue(t.type===f.EDataSeriesType3D.UniformGrid3D||t.type===f.EDataSeriesType3D.NonUniformGrid3D,"SurfaceMeshSceneEntity dataSeries must be type UniformGrid3D or NonUniformGrid3D");var r=t.xSize,i=t.zSize;l.Guard.notNull(this.currentRenderPassData,"SurfaceMeshSceneEntity.currentRenderPassData"),this.state.isColorMapTextureInvalid&&(this.colorMapTexture=(0,s.deleteSafe)(this.colorMapTexture),this.colorMapTexture=null===(e=this.parentSeries.meshColorPalette)||void 0===e?void 0:e.getTexture(this.parentSeries.colorMapTextureSize));var n=this.state.isInitialState,o=this.state.isDataSeriesModified;if(n){var a=void 0;switch(this.parentSeries.meshResolution){case v.EMeshResolution.MESH_RESOLUTION_X1:a=this.webAssemblyContext.eSCRTGridMeshResolution.SCRT_GRID_MESH_RES_X1;break;case v.EMeshResolution.MESH_RESOLUTION_X2:a=this.webAssemblyContext.eSCRTGridMeshResolution.SCRT_GRID_MESH_RES_X2;break;case v.EMeshResolution.MESH_RESOLUTION_X4:a=this.webAssemblyContext.eSCRTGridMeshResolution.SCRT_GRID_MESH_RES_X4;break;default:throw Error("Unknown SurfaceMeshSceneEntity.meshResolution "+this.parentSeries.meshResolution)}var u=new this.webAssemblyContext.FloatVector,c=new this.webAssemblyContext.FloatVector,d=new this.webAssemblyContext.UIntVector;u.resize(r*i,0),c.resize(r*i,0),d.resize(r*i,0),this.nativeEntity.UpdateMeshesVec(u,c,d,r,i,a),(0,s.deleteSafe)(u),(0,s.deleteSafe)(c),(0,s.deleteSafe)(d)}if(o){var u=new this.webAssemblyContext.FloatVector,p=r*i;u.reserve(p);for(var h=this.currentRenderPassData.yCalc,y=0;y<t.zSize;y++)for(var g=0;g<t.xSize;g++)u.push_back(h.getCoordinate(t.getYValue(y,g)));this.nativeEntity.UpdateHeightCoordinatesVec(u,r,i),(0,s.deleteSafe)(u)}}},SurfaceMeshSceneEntity.prototype.hasFlag=function(e,t){return t.some(function(t){return t===e})},SurfaceMeshSceneEntity.prototype.toSCRTAxisRange=function(e,t,r,i){var n=new e.SCRTAxisRange;return n.m_fMin=t?t.getCoordinate(r):r,n.m_fMax=t?t.getCoordinate(i):i,n.m_fDiff=t?t.getCoordinate(i-r):i-r,n},SurfaceMeshSceneEntity.prototype.rangeToSCRTAxisRange=function(e,t,r){return this.toSCRTAxisRange(e,t,r.min,r.max)},SurfaceMeshSceneEntity}(m.RenderableSeriesSceneEntity);t.SurfaceMeshSceneEntity=P},89438:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRenderableSeries3D=void 0;var o=r(15492),a=r(94694),s=r(92200),l=r(53644),u=r(56071),c=r(62731),d=r(82376),p=r(72096),h=function(e){function BaseRenderableSeries3D(t,r){var i,n,o=this;return(o=e.call(this)||this).id=null!==(i=null==r?void 0:r.id)&&void 0!==i?i:(0,s.generateGuid)(),o.webAssemblyContext=t,o.dataSeriesDataChanged=o.dataSeriesDataChanged.bind(o),o.pointMarkerPropertyChanged=o.pointMarkerPropertyChanged.bind(o),o.onDpiChanged=o.onDpiChanged.bind(o),o.hitTest=o.hitTest.bind(o),o.enrichHitTest=o.enrichHitTest.bind(o),o.dataSeries=(null==r?void 0:r.dataSeries)||void 0,o.isVisibleProperty=(null==r?void 0:r.isVisible)===void 0||(null==r?void 0:r.isVisible),o.pointMarkerProperty=(null==r?void 0:r.pointMarker)||void 0,o.strokeProperty=(null==r?void 0:r.stroke)||"#FFFFFF",o.shininessProperty=(null==r?void 0:r.shininess)===void 0?64:r.shininess,o.opacityProperty=null!==(n=null==r?void 0:r.opacity)&&void 0!==n?n:1,o}return n(BaseRenderableSeries3D,e),BaseRenderableSeries3D.prototype.applyTheme=function(e){},Object.defineProperty(BaseRenderableSeries3D.prototype,"opacity",{get:function(){return this.opacityProperty},set:function(e){this.opacityProperty=e,this.notifyPropertyChanged(u.PROPERTY.OPACITY)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries3D.prototype,"sceneEntity",{get:function(){return this.sceneEntityProperty},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries3D.prototype,"shininess",{get:function(){return this.shininessProperty},set:function(e){this.shininessProperty=e,this.notifyPropertyChanged(u.PROPERTY.SHININESS)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries3D.prototype,"paletteProvider",{get:function(){return this.paletteProviderProperty},set:function(e){this.paletteProviderProperty=e,this.notifyPropertyChanged(u.PROPERTY.PALETTE_PROVIDER)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries3D.prototype,"stroke",{get:function(){return this.strokeProperty},set:function(e){this.strokeProperty=e,this.notifyPropertyChanged(u.PROPERTY.STROKE)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries3D.prototype,"dataSeries",{get:function(){return this.dataSeriesProperty},set:function(e){var t,r;this.dataSeriesProperty=e,null===(t=this.dataSeriesProperty)||void 0===t||t.dataChanged.unsubscribe(this.dataSeriesDataChanged),this.dataSeriesProperty=e,null===(r=this.dataSeriesProperty)||void 0===r||r.dataChanged.subscribe(this.dataSeriesDataChanged),this.notifyPropertyChanged(u.PROPERTY.DATA_SERIES)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries3D.prototype,"pointMarker",{get:function(){return this.pointMarkerProperty},set:function(e){this.detachPointMarker(this.pointMarkerProperty),this.pointMarkerProperty=e,this.attachPointMarker(this.pointMarkerProperty),this.notifyPropertyChanged(u.PROPERTY.POINT_MARKER3D)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries3D.prototype,"parentSurface",{get:function(){return this.parentSurfaceProperty},set:function(e){this.parentSurfaceProperty=e,this.notifyPropertyChanged(u.PROPERTY.PARENT_SURFACE)},enumerable:!1,configurable:!0}),Object.defineProperty(BaseRenderableSeries3D.prototype,"isVisible",{get:function(){return this.isVisibleProperty},set:function(e){this.isVisibleProperty=e,this.sceneEntityProperty&&(this.sceneEntityProperty.isVisible=this.isVisibleProperty),this.notifyPropertyChanged(u.PROPERTY.IS_VISIBLE)},enumerable:!1,configurable:!0}),BaseRenderableSeries3D.prototype.onAttach=function(e){if(this.parentSurface=e,this.invalidateParentCallback)throw Error("Invalid operation in sciChart3DSurface.attachSeries, this series has already been attached to a SciChart3DSurface. Please detach it from a SciChart3DSurface before attaching to another");this.invalidateParentCallback=e.invalidateElement},BaseRenderableSeries3D.prototype.onDetach=function(){this.invalidateParentCallback=void 0,this.parentSurface=void 0},BaseRenderableSeries3D.prototype.delete=function(){this.sceneEntityProperty=(0,a.deleteSafe)(this.sceneEntityProperty),this.dataSeries=(0,a.deleteSafe)(this.dataSeries)},BaseRenderableSeries3D.prototype.onDpiChanged=function(e){var t;null===(t=this.sceneEntityProperty)||void 0===t||t.onDpiChanged(e)},BaseRenderableSeries3D.prototype.hitTest=function(e){if(this.parentSurface&&!this.parentSurface.isHitTestEnabled)throw Error("Enable hit-test functions by setting SciChart3DSurface.isHitTestEnabled = true");var t=this.sceneEntity.hitTest;return t?this.enrichHitTest(t(e)):c.SeriesInfo3D.empty()},BaseRenderableSeries3D.prototype.dataSeriesDataChanged=function(){this.invalidateParentCallback&&this.invalidateParentCallback()},BaseRenderableSeries3D.prototype.enrichHitTest=function(e){var t,r=null===(t=e.associatedSeries)||void 0===t?void 0:t.dataSeries;if(!r)return c.SeriesInfo3D.empty();switch(r.type){case l.EDataSeriesType3D.Xyz3D:return new p.XyzSeriesInfo3D(this,e);case l.EDataSeriesType3D.UniformGrid3D:return new d.SurfaceMeshSeriesInfo3D(this,e);default:throw Error("Unknown data series type "+r.type)}},BaseRenderableSeries3D.prototype.setSceneEntity=function(e){this.sceneEntityProperty=e,this.sceneEntityProperty&&(this.sceneEntityProperty.isVisible=this.isVisible),this.notifyPropertyChanged(u.PROPERTY.SCENE_ENTITY)},BaseRenderableSeries3D.prototype.notifyPropertyChanged=function(e){var t;null===(t=this.sceneEntityProperty)||void 0===t||t.notifySeriesPropertyChanged(e),this.invalidateParentCallback&&this.invalidateParentCallback()},BaseRenderableSeries3D.prototype.attachPointMarker=function(e){e&&e.propertyChanged.subscribe(this.pointMarkerPropertyChanged)},BaseRenderableSeries3D.prototype.detachPointMarker=function(e){e&&e.propertyChanged.unsubscribe(this.pointMarkerPropertyChanged)},BaseRenderableSeries3D.prototype.pointMarkerPropertyChanged=function(e){this.notifyPropertyChanged("pointMarker."+e.propertyName)},BaseRenderableSeries3D}(o.DeletableEntity);t.BaseRenderableSeries3D=h},56071:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.PROPERTY=void 0,(r=t.PROPERTY||(t.PROPERTY={})).CELL_HARDNESS_FACTOR="CELL_HARDNESS_FACTOR",r.COLOR_MAP_TEXTURE_SIZE="COLOR_MAP_TEXTURE_SIZE",r.CONTOUR_STROKE="CONTOUR_STROKE",r.CONTOUR_OFFSET="CONTOUR_OFFSET",r.CONTOUR_INTERVAL="CONTOUR_INTERVAL",r.CONTOUR_STROKE_THICKNESS="CONTOUR_STROKE_THICKNESS",r.DATA_SERIES="DATA_SERIES",r.DRAW_MESH_AS="DRAW_MESH_AS",r.DRAW_SKIRT="DRAW_SKIRT",r.FILL="FILL",r.GRADIENT_STOPS="GRADIENT_STOPS",r.HEIGHT_SCALE_FACTOR="HEIGHT_SCALE_FACTOR",r.HIGHLIGHT="HIGHLIGHT",r.IS_ANTIALIASED="IS_ANTIALIASED",r.IS_LINE_STRIP="IS_LINE_STRIP",r.IS_VISIBLE="IS_VISIBLE",r.LIGHTING_FACTOR="LIGHTING_FACTOR",r.MAXIMUM="MAXIMUM",r.MESH_COLOR_PALETTE="MESH_COLOR_PALETTE",r.MESH_PALETTE_MODE="MESH_PALETTE_MODE",r.MESH_RESOLUTION="MESH_RESOLUTION",r.MINIMUM="MINIMUM",r.OPACITY="OPACITY",r.PALETTE_PROVIDER="PALETTE_PROVIDER",r.PARENT_SURFACE="PARENT_SURFACE",r.POINT_MARKER3D="POINT_MARKER3D",r.SCENE_ENTITY="SCENE_ENTITY",r.SHININESS="SHININESS",r.STROKE="STROKE",r.STROKE_THICKNESS="STROKE_THICKNESS",r.Y_OFFSET="Y_OFFSET"},59009:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ESeriesType3D=void 0,(r=t.ESeriesType3D||(t.ESeriesType3D={})).ScatterRenderableSeries3D="ScatterRenderableSeries3D",r.SurfaceMeshRenderableSeries3D="SurfaceMeshRenderableSeries3D",r.PointLineRenderableSeries3D="PointLineRenderableSeries3D"},16247:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HitTestInfo3D=void 0;var r=function(){function HitTestInfo3D(e,t){void 0===t&&(t=!1),this.isEmpty=t,this.associatedSeries=e}return HitTestInfo3D.empty=function(){return new HitTestInfo3D(void 0,!0)},HitTestInfo3D}();t.HitTestInfo3D=r},46976:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.PointLineRenderableSeries3D=void 0;var o=r(7943),a=r(89438),s=r(56071),l=r(59009),u=function(e){function PointLineRenderableSeries3D(t,r){var i,n,a,s=this;return(s=e.call(this,t,r)||this).type=l.ESeriesType3D.PointLineRenderableSeries3D,s.strokeThicknessProperty=null!==(i=null==r?void 0:r.strokeThickness)&&void 0!==i?i:2,s.isLineStripProperty=null===(n=null==r?void 0:r.isLineStrip)||void 0===n||n,s.isAntiAliasedProperty=null===(a=null==r?void 0:r.isAntiAliased)||void 0===a||a,s.setSceneEntity(new o.PointLine3DSceneEntity(t,s)),s}return n(PointLineRenderableSeries3D,e),Object.defineProperty(PointLineRenderableSeries3D.prototype,"strokeThickness",{get:function(){return this.strokeThicknessProperty},set:function(e){this.strokeThicknessProperty=e,this.notifyPropertyChanged(s.PROPERTY.STROKE_THICKNESS)},enumerable:!1,configurable:!0}),Object.defineProperty(PointLineRenderableSeries3D.prototype,"isLineStrip",{get:function(){return this.isLineStripProperty},set:function(e){this.isLineStripProperty=e,this.notifyPropertyChanged(s.PROPERTY.IS_LINE_STRIP)},enumerable:!1,configurable:!0}),Object.defineProperty(PointLineRenderableSeries3D.prototype,"isAntiAliased",{get:function(){return this.isAntiAliasedProperty},set:function(e){this.isAntiAliasedProperty=e,this.notifyPropertyChanged(s.PROPERTY.IS_ANTIALIASED)},enumerable:!1,configurable:!0}),PointLineRenderableSeries3D}(a.BaseRenderableSeries3D);t.PointLineRenderableSeries3D=u},66298:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ScatterRenderableSeries3D=void 0;var o=r(37929),a=r(89438),s=r(59009),l=function(e){function ScatterRenderableSeries3D(t,r){var i=e.call(this,t,r)||this;return i.type=s.ESeriesType3D.ScatterRenderableSeries3D,i.setSceneEntity(new o.ScatterPointsSceneEntity(t,i)),i}return n(ScatterRenderableSeries3D,e),ScatterRenderableSeries3D}(a.BaseRenderableSeries3D);t.ScatterRenderableSeries3D=l},62731:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeriesInfo3D=void 0;var r=function(){function SeriesInfo3D(e,t){var r;this.isEmpty=!1,this.renderableSeries=e,this.dataSeriesName=null===(r=null==e?void 0:e.dataSeries)||void 0===r?void 0:r.dataSeriesName,this.isHit=t.isHit,this.hitTestInfo=t}return SeriesInfo3D.empty=function(){var e=new SeriesInfo3D(void 0,void 0);return e.isEmpty=!0,e},SeriesInfo3D}();t.SeriesInfo3D=r},16100:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.GradientColorPalette=void 0;var o=r(56210),a=r(2003),s=r(92530),l=r(56071),u=function(e){function GradientColorPalette(t,r){var i=e.call(this,t)||this;return i.gradientStops=(null==r?void 0:r.gradientStops)||[{offset:0,color:"Red"},{offset:1,color:"Green"}],i}return n(GradientColorPalette,e),Object.defineProperty(GradientColorPalette.prototype,"gradientStops",{get:function(){return this.gradientStopsProperty},set:function(e){this.gradientStopsProperty=e,this.notifyPropertyChanged(l.PROPERTY.GRADIENT_STOPS)},enumerable:!1,configurable:!0}),GradientColorPalette.prototype.getTexture=function(e){if(!a.IS_TEST_ENV){s.Guard.notNull(e,"size"),s.Guard.isTrue(e.width>0,"size.width must be greater than 0"),s.Guard.isTrue(e.height>0,"size.height must be greater than 0"),s.Guard.notNull(this.gradientStopsProperty,"GradientColorPalette.gradientStops");var t=new o.CanvasTexture(this.webAssemblyContext,e.width,e.height);t.clear();var r=t.getContext(),i=e.width,n=r.createLinearGradient(0,0,i,0);return this.gradientStops.forEach(function(e){n.addColorStop(e.offset,e.color)}),r.fillStyle=n,r.fillRect(0,0,e.width,e.height),t.copyTexture(),t}},GradientColorPalette}(r(35700).MeshColorPalette);t.GradientColorPalette=u},35700:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeshColorPalette=void 0;var i=r(35855),n=r(91383),o=function(){function MeshColorPalette(e){this.webAssemblyContext=e,this.propertyChanged=new i.EventHandler}return MeshColorPalette.prototype.notifyPropertyChanged=function(e){var t;null===(t=this.propertyChanged)||void 0===t||t.raiseEvent(new n.PropertyChangedEventArgs(e))},MeshColorPalette}();t.MeshColorPalette=o},68118:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SolidColorBrushPalette=void 0;var o=r(56210),a=r(2003),s=r(92530),l=r(48053),u=r(56071),c=function(e){function SolidColorBrushPalette(t,r){var i=e.call(this,t)||this;return i.fillProperty=(null==r?void 0:r.fill)||"#777777",i}return n(SolidColorBrushPalette,e),Object.defineProperty(SolidColorBrushPalette.prototype,"fill",{get:function(){return this.fillProperty},set:function(e){this.fillProperty=e,this.notifyPropertyChanged(u.PROPERTY.FILL)},enumerable:!1,configurable:!0}),SolidColorBrushPalette.prototype.getTexture=function(e){if(s.Guard.notNull(e,"size"),s.Guard.isTrue(e.width>0,"size.width must be greater than 0"),s.Guard.isTrue(e.height>0,"size.height must be greater than 0"),!a.IS_TEST_ENV){if(isNaN((0,l.parseColorToUIntArgb)(this.fill)))throw Error("SolidColorBrushPalette.fill ".concat(this.fill," cannot be converted to an ABGR color"));var t=new o.CanvasTexture(this.webAssemblyContext,e.width,e.height);t.clear();var r=t.getContext();return r.fillStyle=this.fill,r.fillRect(0,0,e.width,e.height),t.copyTexture(),t}},SolidColorBrushPalette}(r(35700).MeshColorPalette);t.SolidColorBrushPalette=c},84695:function(e,t,r){"use strict";var i,n,o,a,s,l,u,c=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SurfaceMeshRenderableSeries3D=t.EMeshResolution=t.EMeshPaletteMode=t.EDrawMeshAs=void 0;var d=r(67475),p=r(20518),h=r(89438),f=r(56071),y=r(59009);(i=s=t.EDrawMeshAs||(t.EDrawMeshAs={})).WIREFRAME="WIREFRAME",i.SOLID_WIREFRAME="SOLID_WIREFRAME",i.SOLID_WIREFRAME_WITH_CONTOURS="SOLID_WIREFRAME_WITH_CONTOURS",i.SOLID_MESH="SOLID_MESH",i.SOLID_WITH_CONTOURS="SOLID_WITH_CONTOURS",i.CONTOURS="CONTOURS",(n=l=t.EMeshPaletteMode||(t.EMeshPaletteMode={})).HEIGHT_MAP_INTERPOLATED="HEIGHT_MAP_INTERPOLATED",n.HEIGHT_MAP_SOLID_CELLS="HEIGHT_MAP_SOLID_CELLS",n.TEXTURED_SOLID_CELLS="TEXTURED_SOLID_CELLS",(o=u=t.EMeshResolution||(t.EMeshResolution={}))[o.MESH_RESOLUTION_X1=1]="MESH_RESOLUTION_X1",o[o.MESH_RESOLUTION_X2=2]="MESH_RESOLUTION_X2",o[o.MESH_RESOLUTION_X4=4]="MESH_RESOLUTION_X4";var g=function(e){function SurfaceMeshRenderableSeries3D(t,r){var i=e.call(this,t,r)||this;return i.drawMeshAsProperty=(null==r?void 0:r.drawMeshAs)||s.SOLID_WIREFRAME,i.strokeThicknessProperty=(null==r?void 0:r.strokeThickness)!==void 0?null==r?void 0:r.strokeThickness:1,i.drawSkirtProperty=(null==r?void 0:r.drawSkirt)===void 0||(null==r?void 0:r.drawSkirt),i.meshColorPaletteProperty=null==r?void 0:r.meshColorPalette,i.minimumProperty=(null==r?void 0:r.minimum)!==void 0?null==r?void 0:r.minimum:0,i.maximumProperty=(null==r?void 0:r.maximum)!==void 0?null==r?void 0:r.maximum:1,i.meshPaletteModeProperty=(null==r?void 0:r.meshPaletteMode)||l.HEIGHT_MAP_INTERPOLATED,i.colorMapTextureSizeProperty=(null==r?void 0:r.colorMapTextureSize)||new d.Size(1024,1),i.heightScaleFactorProperty=(null==r?void 0:r.heightScaleFactor)!==void 0?null==r?void 0:r.heightScaleFactor:1,i.meshResolutionProperty=(null==r?void 0:r.meshResolution)||u.MESH_RESOLUTION_X1,i.yOffsetProperty=(null==r?void 0:r.yOffset)!==void 0?null==r?void 0:r.yOffset:0,i.cellHardnessFactorProperty=(null==r?void 0:r.cellHardnessFactor)!==void 0?null==r?void 0:r.cellHardnessFactor:1,i.lightingFactorProperty=(null==r?void 0:r.lightingFactor)!==void 0?null==r?void 0:r.lightingFactor:.8,i.contourStrokeThicknessProperty=(null==r?void 0:r.contourStrokeThickness)!==void 0?null==r?void 0:r.contourStrokeThickness:2,i.contourIntervalProperty=(null==r?void 0:r.contourInterval)!==void 0?null==r?void 0:r.contourInterval:20,i.contourOffsetProperty=(null==r?void 0:r.contourOffset)!==void 0?r.contourOffset:.1,i.contourStrokeProperty=(null==r?void 0:r.contourStroke)||"#FFFFFF",i.highlightProperty=(null==r?void 0:r.highlight)!==void 0?null==r?void 0:r.highlight:.05,i.setSceneEntity(new p.SurfaceMeshSceneEntity(t,i)),i}return c(SurfaceMeshRenderableSeries3D,e),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"type",{get:function(){return y.ESeriesType3D.SurfaceMeshRenderableSeries3D},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"colorMapTextureSize",{get:function(){return this.colorMapTextureSizeProperty},set:function(e){this.colorMapTextureSizeProperty=e,this.notifyPropertyChanged(f.PROPERTY.COLOR_MAP_TEXTURE_SIZE)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"drawMeshAs",{get:function(){return this.drawMeshAsProperty},set:function(e){this.drawMeshAsProperty=e,this.notifyPropertyChanged(f.PROPERTY.DRAW_MESH_AS)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"strokeThickness",{get:function(){return this.strokeThicknessProperty},set:function(e){this.strokeThicknessProperty=e,this.notifyPropertyChanged(f.PROPERTY.STROKE_THICKNESS)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"drawSkirt",{get:function(){return this.drawSkirtProperty},set:function(e){this.drawSkirtProperty=e,this.notifyPropertyChanged(f.PROPERTY.DRAW_SKIRT)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"meshColorPalette",{get:function(){return this.meshColorPaletteProperty},set:function(e){this.meshColorPaletteProperty=e,this.notifyPropertyChanged(f.PROPERTY.MESH_COLOR_PALETTE)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"minimum",{get:function(){return this.minimumProperty},set:function(e){this.minimumProperty=e,this.notifyPropertyChanged(f.PROPERTY.MINIMUM)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"maximum",{get:function(){return this.maximumProperty},set:function(e){this.maximumProperty=e,this.notifyPropertyChanged(f.PROPERTY.MAXIMUM)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"meshPaletteMode",{get:function(){return this.meshPaletteModeProperty},set:function(e){this.meshPaletteModeProperty=e,this.notifyPropertyChanged(f.PROPERTY.MESH_PALETTE_MODE)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"heightScaleFactor",{get:function(){return this.heightScaleFactorProperty},set:function(e){this.heightScaleFactorProperty=e,this.notifyPropertyChanged(f.PROPERTY.HEIGHT_SCALE_FACTOR)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"meshResolution",{get:function(){return this.meshResolutionProperty},set:function(e){this.meshResolutionProperty=e,this.notifyPropertyChanged(f.PROPERTY.MESH_RESOLUTION)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"yOffset",{get:function(){return this.yOffsetProperty},set:function(e){this.yOffsetProperty=e,this.notifyPropertyChanged(f.PROPERTY.Y_OFFSET)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"cellHardnessFactor",{get:function(){return this.cellHardnessFactorProperty},set:function(e){this.cellHardnessFactorProperty=e,this.notifyPropertyChanged(f.PROPERTY.CELL_HARDNESS_FACTOR)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"lightingFactor",{get:function(){return this.lightingFactorProperty},set:function(e){this.lightingFactorProperty=e,this.notifyPropertyChanged(f.PROPERTY.LIGHTING_FACTOR)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"contourStrokeThickness",{get:function(){return this.contourStrokeThicknessProperty},set:function(e){this.contourStrokeThicknessProperty=e,this.notifyPropertyChanged(f.PROPERTY.CONTOUR_STROKE_THICKNESS)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"contourInterval",{get:function(){return this.contourIntervalProperty},set:function(e){this.contourIntervalProperty=e,this.notifyPropertyChanged(f.PROPERTY.CONTOUR_INTERVAL)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"contourOffset",{get:function(){return this.contourOffsetProperty},set:function(e){this.contourOffsetProperty=e,this.notifyPropertyChanged(f.PROPERTY.CONTOUR_OFFSET)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"contourStroke",{get:function(){return this.contourStrokeProperty},set:function(e){this.contourStrokeProperty=e,this.notifyPropertyChanged(f.PROPERTY.CONTOUR_STROKE)},enumerable:!1,configurable:!0}),Object.defineProperty(SurfaceMeshRenderableSeries3D.prototype,"highlight",{get:function(){return this.highlightProperty},set:function(e){this.highlightProperty=e,this.notifyPropertyChanged(f.PROPERTY.HIGHLIGHT)},enumerable:!1,configurable:!0}),SurfaceMeshRenderableSeries3D}(h.BaseRenderableSeries3D);t.SurfaceMeshRenderableSeries3D=g},82376:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SurfaceMeshSeriesInfo3D=void 0;var o=r(93343),a=r(53644),s=r(52652),l=function(e){function SurfaceMeshSeriesInfo3D(t,r){var i=e.call(this,t,r)||this;return i.dataSeriesType=a.EDataSeriesType3D.UniformGrid3D,i.enrichSeriesInfo(),i}return n(SurfaceMeshSeriesInfo3D,e),SurfaceMeshSeriesInfo3D.prototype.enrichSeriesInfo=function(){if(this.isHit&&this.renderableSeries){var e=this.renderableSeries.dataSeries;if(e){var t={x:this.hitTestInfo.selectionIjIndices.x,z:this.hitTestInfo.selectionIjIndices.y},r={x:e.getX(t.x),y:e.getYValue(t.z,t.x),z:e.getZ(t.z)},i={x:e.getX(t.x+1),y:e.getYValue(t.z,t.x+1),z:e.getZ(t.z)},n={x:e.getX(t.x),y:e.getYValue(t.z+1,t.x),z:e.getZ(t.z+1)},a={x:e.getX(t.x+1),y:e.getYValue(t.z+1,t.x+1),z:e.getZ(t.z+1)},l=this.renderableSeries.parentSurface;if(l&&l.xAxis&&l.yAxis&&l.zAxis){var u=l.xAxis.getCurrentCoordinateCalculator(),c=l.yAxis.getCurrentCoordinateCalculator(),d=l.zAxis.getCurrentCoordinateCalculator(),p=new s.Vector3(u.getCoordinate(r.x),c.getCoordinate(r.y),d.getCoordinate(r.z)),h=new s.Vector3(u.getCoordinate(i.x),c.getCoordinate(i.y),d.getCoordinate(i.z)),f=new s.Vector3(u.getCoordinate(n.x),c.getCoordinate(n.y),d.getCoordinate(n.z)),y=new s.Vector3(u.getCoordinate(a.x),c.getCoordinate(a.y),d.getCoordinate(a.z)),g=l.worldToScreenCoord(p),v=l.worldToScreenCoord(h),m=l.worldToScreenCoord(f),S=l.worldToScreenCoord(y),b=(0,o.calcDistance)(g.x,g.y,this.hitTestInfo.hitTestPoint.x,this.hitTestInfo.hitTestPoint.y),P=(0,o.calcDistance)(v.x,v.y,this.hitTestInfo.hitTestPoint.x,this.hitTestInfo.hitTestPoint.y),C=(0,o.calcDistance)(m.x,m.y,this.hitTestInfo.hitTestPoint.x,this.hitTestInfo.hitTestPoint.y),x=(0,o.calcDistance)(S.x,S.y,this.hitTestInfo.hitTestPoint.x,this.hitTestInfo.hitTestPoint.y),A=.5*l.worldDimensions.x,T=.5*l.worldDimensions.z,_=Math.min(b,P,C,x);_===b&&(this.xIndex=t.x,this.zIndex=t.z,this.xValue=r.x,this.yValue=r.y,this.zValue=r.z,this.hitWorldCoords=new s.Vector3(p.x-A,p.y,p.z-T)),_===C&&(this.xIndex=t.x,this.zIndex=t.z+1,this.xValue=n.x,this.yValue=n.y,this.zValue=n.z,this.hitWorldCoords=new s.Vector3(f.x-A,f.y,f.z-T)),_===P&&(this.xIndex=t.x+1,this.zIndex=t.z,this.xValue=i.x,this.yValue=i.y,this.zValue=i.z,this.hitWorldCoords=new s.Vector3(h.x-A,h.y,h.z-T)),_===x&&(this.xIndex=t.x+1,this.zIndex=t.z+1,this.xValue=a.x,this.yValue=a.y,this.zValue=a.z,this.hitWorldCoords=new s.Vector3(y.x-A,y.y,y.z-T))}}}},SurfaceMeshSeriesInfo3D}(r(62731).SeriesInfo3D);t.SurfaceMeshSeriesInfo3D=l},72096:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.XyzSeriesInfo3D=void 0;var o=r(53644),a=r(52652),s=function(e){function XyzSeriesInfo3D(t,r){var i=e.call(this,t,r)||this;return i.dataSeriesType=o.EDataSeriesType3D.Xyz3D,i.enrichSeriesInfo(),i}return n(XyzSeriesInfo3D,e),XyzSeriesInfo3D.prototype.enrichSeriesInfo=function(){if(this.isHit&&this.renderableSeries){this.dataSeriesIndex=this.hitTestInfo.selectionIndex-1;var e=this.renderableSeries.dataSeries;if(e){this.xValue=e.getNativeXValues().get(this.dataSeriesIndex),this.yValue=e.getNativeYValues().get(this.dataSeriesIndex),this.zValue=e.getNativeZValues().get(this.dataSeriesIndex);var t=e.getMetadataValues();t&&t.length>this.dataSeriesIndex&&(this.pointMetadata=t[this.dataSeriesIndex]);var r=this.renderableSeries.parentSurface;if(r){var i=.5*r.worldDimensions.x,n=.5*r.worldDimensions.z,o=r.xAxis.getCurrentCoordinateCalculator().getCoordinate(this.xValue)-i,s=r.yAxis.getCurrentCoordinateCalculator().getCoordinate(this.yValue),l=r.zAxis.getCurrentCoordinateCalculator().getCoordinate(this.zValue)-n;this.hitWorldCoords=new a.Vector3(o,s,l)}}}},XyzSeriesInfo3D}(r(62731).SeriesInfo3D);t.XyzSeriesInfo3D=s},16688:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.RootSceneEntity=void 0;var o=r(6130),a=r(94539),s=r(16878),l=r(92530),u=function(e){function RootSceneEntity(t,r){var i=e.call(this,t)||this;return i.type=o.ESceneEntityType.RootSceneEntity,l.Guard.notNull(r,"parentSurface"),i.parentSurface=r,i.entityIdProvider=new s.DefaultEntityIdProvider,i}return n(RootSceneEntity,e),RootSceneEntity.prototype.attachChild=function(e){(null==e?void 0:e.nativeEntity)&&this.world.AddEntity(e.nativeEntity),e.entityIdProvider=this.entityIdProvider,e.parent=this,e.onAttached()},RootSceneEntity.prototype.detachChild=function(e){(null==e?void 0:e.nativeEntity)&&this.world.RemoveEntity(e.nativeEntity),e.onDetached(),e.parent=void 0},RootSceneEntity}(a.BaseSceneEntity3D);t.RootSceneEntity=u},87821:function(e,t,r){"use strict";var i=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SciChart3DRenderer=void 0;var n=r(52354),o=r(94694),a=r(92530),s=r(47494),l=r(27817),u=r(36108),c=r(22099),d=r(88676),p=r(83692),h=r(87565),f=function(){function SciChart3DRenderer(e,t){this.isInvalidated=!1,a.Guard.notNull(e,"scs"),this.scs=e,this.wasmContext=t}return SciChart3DRenderer.getSceneDescriptor=function(e){var t,r,i,n=new h.SceneDescriptor;return n.axisCubeDescriptor=new d.AxisCubeDescriptor,n.axisCubeDescriptor.dimensions=e.worldDimensions,n.axisCubeDescriptor.isVisible=!0,n.axisCubeDescriptor.xAxisDescriptor=null===(t=e.xAxis)||void 0===t?void 0:t.toAxisDescriptor(),n.axisCubeDescriptor.yAxisDescriptor=null===(r=e.yAxis)||void 0===r?void 0:r.toAxisDescriptor(),n.axisCubeDescriptor.zAxisDescriptor=null===(i=e.zAxis)||void 0===i?void 0:i.toAxisDescriptor(),n},SciChart3DRenderer.prepareRenderData=function(e){var t=new p.RenderPassInfo3D;return t.xCalc=e.xAxis.getCurrentCoordinateCalculator(),t.yCalc=e.yAxis.getCurrentCoordinateCalculator(),t.zCalc=e.zAxis.getCurrentCoordinateCalculator(),t.worldDimensions=e.worldDimensions,t.sceneDescriptor=SciChart3DRenderer.getSceneDescriptor(e),t},SciChart3DRenderer.tryPerformAutoRangeOn=function(e,t){if((!e.hasValidVisibleRange()||e.hasDefaultVisibleRange())&&e.autoRange===l.EAutoRange.Once||e.autoRange===l.EAutoRange.Always){var r=t.viewportManager.calculateAutoRange(e);r&&r!==e.visibleRange&&e.isValidRange(r)&&(e.visibleRange=r)}},SciChart3DRenderer.prototype.render=function(){if(!this.scs.isDeleted&&this.scs.isInitialized){if(!this.isSurfaceValid(this.scs))throw Error("SciChart3DSurface is not valid");var e,t=c.PerformanceDebugHelper.mark(c.EPerformanceMarkType.RenderStart,{contextId:this.scs.id});this.isInvalidated=!1,this.scs.webAssemblyContext3D.SCRTSetIsSelectionBufferEnabled(this.scs.isHitTestEnabled);var r=this.scs.getSceneWorld();if(!r){console.warn("SciChart3DRenderer: Undefined scene world!");return}this.scs.preRender.raiseEvent(),this.wasmContext.SCRTSetActiveWorld(r),this.updateWorldDimensions(r,this.scs.worldDimensions);var o=r.GetMainCamera();this.scs.camera.updateEngineCamera(o);var a=this.scs.viewportManager,l=a.width,u=a.height,d=new s.Rect(0,0,l,u);this.scs.setSeriesViewRect(d);var p=this.previousTime?Date.now()-this.previousTime:void 0;this.previousTime=Date.now(),this.scs.onAnimate(p),this.scs.updateBackground(),this.prepareAxes(this.scs.xAxis,this.scs.yAxis,this.scs.zAxis);var h=SciChart3DRenderer.prepareRenderData(this.scs);this.scs.rootEntity.visitEntities(function(e){return e.setRenderPassData(h)});var f=this.scs.annotations.asArray(),y=this.scs.modifierAnnotations.asArray();i(i([],f,!0),y,!0).filter(function(e){return e.type===n.EAnnotationType.SVG||e.type===n.EAnnotationType.SVGTextAnnotation||e.type===n.EAnnotationType.SVGCustomAnnotation}).forEach(function(e){return e.update(void 0,void 0,0,0)}),this.updateWatermark(),c.PerformanceDebugHelper.mark(c.EPerformanceMarkType.RenderEnd,{contextId:this.scs.id,relatedId:null===(e=null==t?void 0:t.detail)||void 0===e?void 0:e.relatedId}),this.scs.onSciChartRendered(),this.scs.isRunningAnimation&&setTimeout(this.scs.invalidateElement,0)}},SciChart3DRenderer.prototype.updateWatermark=function(){var e=this.scs.getMainCanvas().clientHeight,t=this.scs.getMainCanvas().clientWidth,r=5,i=e-10,n=Math.max(72,Math.min(.25*t,256)),o=42*n/256;switch(this.scs.watermarkPosition){case u.EWatermarkPosition.BottomRight:r=t-n-5,i=12;break;case u.EWatermarkPosition.TopLeft:r=5,i=e-(5+o);break;case u.EWatermarkPosition.TopRight:r=t-n-5,i=e-(5+o);break;case u.EWatermarkPosition.BottomLeft:r=5,i=12}this.scs.updateWatermark(r,i)},SciChart3DRenderer.prototype.isSurfaceValid=function(e,t){if(!e.xAxis)throw Error("Unable to draw SciChart3DSurface as the xAxis is undefined");if(!e.yAxis)throw Error("Unable to draw SciChart3DSurface as the yAxis is undefined");if(!e.zAxis)throw Error("Unable to draw SciChart3DSurface as the zAxis is undefined");return!0},SciChart3DRenderer.prototype.prepareAxes=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.forEach(function(t){t.validateAxis(),SciChart3DRenderer.tryPerformAutoRangeOn(t,e.scs),t.isMeasured=!0})},SciChart3DRenderer.prototype.updateWorldDimensions=function(e,t){var r;a.Guard.notNull(t,"worldDimensions");try{r=this.scs.worldDimensions.toTsrVector3(this.wasmContext),e.SetWorldDimensions(r)}finally{(0,o.deleteSafe)(r)}},SciChart3DRenderer}();t.SciChart3DRenderer=f},37606:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SciChart3DSurface=t.sciChartConfig3D=void 0;var o=r(61239),a=r(91462),s=r(2003),l=r(94694),u=r(19542),c=r(48484),d=r(15),p=r(52652),h=r(4555),f=r(53231),y=r(55058),g=r(60663),v=r(61906),m=r(43322),S=r(16688),b=r(87821),P=r(69405),C=r(3192),x=r(20342),A=r(6695),T=r(61958),_=r(35855),R=r(36313),E=r(22099);t.sciChartConfig3D={};var w=function(e){function SciChart3DSurface(t,r){var i,n,o,l,c=this;(c=e.call(this,t,null==r?void 0:r.canvases)||this).watermarkPosition=C.SciChartDefaults.watermarkPosition,c.preRender=new _.EventHandler,c.animationList=[],c.isAxisCubeRenderedProperty=!1,c.isHitTestEnabledProperty=!1;var d=null!==(n=null===(i=c.domCanvas2D)||void 0===i?void 0:i.width)&&void 0!==n?n:s.DEFAULT_WIDTH,f=null!==(l=null===(o=c.domCanvas2D)||void 0===o?void 0:o.height)&&void 0!==l?l:s.DEFAULT_HEIGHT;if(c.webAssemblyContext3D=t,!s.IS_TEST_ENV){var y=d/a.DpiHelper.PIXEL_RATIO,g=f/a.DpiHelper.PIXEL_RATIO;c.isCopyCanvasSurface?c.changeMasterCanvasViewportSize(t,y,g):c.changeWebGLCanvasViewportSize(t,y,g)}return c.invalidateElement=c.invalidateElement.bind(c),c.sciChart3DRenderer=new b.SciChart3DRenderer(c,t),c.viewportManager=new v.DefaultViewportManager3D(d,f),c.worldDimensionsProperty=(null==r?void 0:r.worldDimensions)||new p.Vector3(300,200,300),c.detachSeries=c.detachSeries.bind(c),c.attachSeries=c.attachSeries.bind(c),c.renderableSeries=new u.ObservableArray,c.renderableSeries.collectionChanged.subscribe(function(e){var t,r;null===(t=e.getOldItems())||void 0===t||t.forEach(function(e){return c.detachSeries(e)}),null===(r=e.getNewItems())||void 0===r||r.forEach(function(e){return c.attachSeries(e)})}),c.childPropertyChanged=c.childPropertyChanged.bind(c),c.sceneWorldProperty=new c.webAssemblyContext3D.SCRTSceneWorld,c.sceneWorldProperty.Init(),c.rootEntity=new S.RootSceneEntity(t,c),c.axisCubeEntity=new h.AxisCubeEntity(t,c),c.rootEntity.children.add(c.axisCubeEntity),c.gizmoEntity=new m.GizmoEntity(t),c.gizmoEntity.enableGizmo=!0,c.rootEntity.children.add(c.gizmoEntity),s.IS_TEST_ENV||(c.watermarkProperties=new t.SCRTWaterMarkProperties,c.watermarkProperties.m_fCanvasWidth=d,c.watermarkPropertyPosition=new t.TSRVector2(0,0),c.watermarkProperties.SetPosition(c.watermarkPropertyPosition),c.watermarkProperties.SetOpacity(.5),t.SCRT3DSetWaterMarkProperties(c.watermarkProperties)),c}return n(SciChart3DSurface,e),SciChart3DSurface.createSingle=function(e,t){var r=E.PerformanceDebugHelper.mark(E.EPerformanceMarkType.InitializationStart,{contextId:null==t?void 0:t.id});return(0,g.createSingle3dInternal)(e,t).then(function(e){var i;return e.sciChart3DSurface.applyOptions(t),E.PerformanceDebugHelper.mark(E.EPerformanceMarkType.InitializationEnd,{contextId:e.sciChart3DSurface.id,relatedId:null===(i=null==r?void 0:r.detail)||void 0===i?void 0:i.relatedId}),e})},SciChart3DSurface.configure=function(e){var r,i;t.sciChartConfig3D.dataUrl=null!==(r=null==e?void 0:e.dataUrl)&&void 0!==r?r:void 0,t.sciChartConfig3D.wasmUrl=null!==(i=null==e?void 0:e.wasmUrl)&&void 0!==i?i:void 0},SciChart3DSurface.useWasmFromCDN=function(){t.sciChartConfig3D.dataUrl="https://cdn.jsdelivr.net/npm/scichart@".concat(P.libraryVersion,"/_wasm/scichart3d.data"),t.sciChartConfig3D.wasmUrl="https://cdn.jsdelivr.net/npm/scichart@".concat(P.libraryVersion,"/_wasm/scichart3d.wasm")},SciChart3DSurface.loadWasmFromCDN=function(){return SciChart3DSurface.useWasmFromCDN()},SciChart3DSurface.loadWasmLocal=function(){return SciChart3DSurface.configure(void 0)},SciChart3DSurface.create=function(e,t){var r=E.PerformanceDebugHelper.mark(E.EPerformanceMarkType.InitializationStart,{contextId:null==t?void 0:t.id});return(0,y.createMultichart3d)(e,t).then(function(e){var i,n;return e.sciChart3DSurface.applyOptions(t),E.PerformanceDebugHelper.mark(E.EPerformanceMarkType.InitializationEnd,{contextId:null===(i=e.sciChart3DSurface)||void 0===i?void 0:i.id,relatedId:null===(n=null==r?void 0:r.detail)||void 0===n?void 0:n.relatedId}),e})},SciChart3DSurface.disposeSharedWasmContext=function(){0===A.sciChart3DDestinations.length&&0===A.sciChartDestinations.length&&((0,T.disposeMultiChart)(),(0,y.disposeMultiChart3d)()),e.disposeSharedWasmContext.call(this)},SciChart3DSurface.prototype.getSceneWorld=function(){return this.sceneWorldProperty},SciChart3DSurface.prototype.worldToScreenCoord=function(e){var t=this.getSceneWorld();if(t){var r=e.toTsrVector3(this.webAssemblyContext3D),i=t.TransformWorldToScreenCoords(r),n=new c.Point(i.x,i.y);return i.delete(),r.delete(),n}},SciChart3DSurface.prototype.delete=function(t){void 0===t&&(t=!0),this.renderableSeries.asArray().forEach(function(e){return e.delete()}),this.renderableSeries.clear(),this.xAxis=(0,l.deleteSafe)(this.xAxis),this.yAxis=(0,l.deleteSafe)(this.yAxis),this.zAxis=(0,l.deleteSafe)(this.zAxis),this.rootEntity=(0,l.deleteSafe)(this.rootEntity),this.watermarkProperties=(0,l.deleteSafe)(this.watermarkProperties),this.watermarkPropertyPosition=(0,l.deleteSafe)(this.watermarkPropertyPosition),this.sceneWorldProperty=(0,l.deleteSafe)(this.sceneWorldProperty),s.IS_TEST_ENV||this.webAssemblyContext3D.SCRTSetActiveWorld(null),this.clearRootElement(t),e.prototype.delete.call(this)},Object.defineProperty(SciChart3DSurface.prototype,"enableGizmo",{get:function(){return this.gizmoEntity.enableGizmo},set:function(e){this.gizmoEntity.enableGizmo=e},enumerable:!1,configurable:!0}),Object.defineProperty(SciChart3DSurface.prototype,"viewportManager",{get:function(){return this.viewportManagerProperty},set:function(e){var t,r;null===(t=this.viewportManagerProperty)||void 0===t||t.detachSciChartSurface(),this.viewportManagerProperty=e,null===(r=this.viewportManagerProperty)||void 0===r||r.attachSciChartSurface(this),this.notifyPropertyChanged(f.PROPERTY.SURFACE_VIEWPORT_MANAGER)},enumerable:!1,configurable:!0}),Object.defineProperty(SciChart3DSurface.prototype,"worldDimensions",{get:function(){return this.worldDimensionsProperty},set:function(e){this.worldDimensionsProperty=e,this.notifyPropertyChanged(f.PROPERTY.SURFACE_WORLD_DIMENSIONS)},enumerable:!1,configurable:!0}),Object.defineProperty(SciChart3DSurface.prototype,"camera",{get:function(){return this.cameraProperty},set:function(e){var t,r;null===(t=this.cameraProperty)||void 0===t||t.propertyChanged.unsubscribe(this.childPropertyChanged),this.cameraProperty=e,null===(r=this.cameraProperty)||void 0===r||r.propertyChanged.subscribe(this.childPropertyChanged),this.notifyPropertyChanged(f.PROPERTY.SURFACE_CAMERA)},enumerable:!1,configurable:!0}),Object.defineProperty(SciChart3DSurface.prototype,"xAxis",{get:function(){return this.xAxisProperty},set:function(e){this.detachAxis(this.xAxisProperty),this.xAxisProperty=e,this.attachAxis(this.xAxisProperty),this.notifyPropertyChanged(f.PROPERTY.SURFACE_XAXIS)},enumerable:!1,configurable:!0}),Object.defineProperty(SciChart3DSurface.prototype,"yAxis",{get:function(){return this.yAxisProperty},set:function(e){this.detachAxis(this.yAxisProperty),this.yAxisProperty=e,this.attachAxis(this.yAxisProperty),this.notifyPropertyChanged(f.PROPERTY.SURFACE_YAXIS)},enumerable:!1,configurable:!0}),Object.defineProperty(SciChart3DSurface.prototype,"zAxis",{get:function(){return this.zAxisProperty},set:function(e){this.detachAxis(this.zAxisProperty),this.zAxisProperty=e,this.attachAxis(this.zAxisProperty),this.notifyPropertyChanged(f.PROPERTY.SURFACE_ZAXIS)},enumerable:!1,configurable:!0}),Object.defineProperty(SciChart3DSurface.prototype,"isHitTestEnabled",{get:function(){return this.isHitTestEnabledProperty},set:function(e){e!==this.isHitTestEnabledProperty&&(this.isHitTestEnabledProperty=e,this.invalidateElement())},enumerable:!1,configurable:!0}),SciChart3DSurface.prototype.setIsAxisCubeRendered=function(){this.isAxisCubeRenderedProperty=!0},Object.defineProperty(SciChart3DSurface.prototype,"isAxisCubeRendered",{get:function(){return this.isAxisCubeRenderedProperty},enumerable:!1,configurable:!0}),SciChart3DSurface.prototype.invalidateElement=function(){if(!(this.isSuspended||this.isDeleted||!this.isInitialized||(null===(e=x.WebGlHelper.getContext(this.webAssemblyContext3D.canvas))||void 0===e?void 0:e.isContextLost()))){this.sciChart3DRenderer.isInvalidated=!0;var e,t=this.domCanvas2D?this.domCanvas2D.id:"undefinedCanvasId";this.webAssemblyContext3D.TSRRequestCanvasDraw(t)}},SciChart3DSurface.prototype.onDpiChanged=function(t){var r,i;this.renderableSeries.asArray().forEach(function(e){return e.onDpiChanged(t)}),this.changeViewportSize(null===(r=this.getMainCanvas())||void 0===r?void 0:r.clientWidth,null===(i=this.getMainCanvas())||void 0===i?void 0:i.clientHeight),e.prototype.onDpiChanged.call(this,t)},Object.defineProperty(SciChart3DSurface.prototype,"surfaceType",{get:function(){return o.ESurfaceType.SciChart3DSurfaceType},enumerable:!1,configurable:!0}),Object.defineProperty(SciChart3DSurface.prototype,"isInvalidated",{get:function(){var e;return null===(e=this.sciChart3DRenderer)||void 0===e?void 0:e.isInvalidated},enumerable:!1,configurable:!0}),SciChart3DSurface.prototype.onSciChartRendered=function(){this.chartModifiers.asArray().forEach(function(e){e.onParentSurfaceRendered()}),this.isCopyCanvasSurface||this.rendered.raiseEvent(this.sciChart3DRenderer.isInvalidated)},SciChart3DSurface.prototype.doDrawingLoop=function(){this.sciChart3DRenderer.render()},SciChart3DSurface.prototype.applyTheme=function(t){var r,i,n;e.prototype.applyTheme.call(this,t),this.renderableSeries.asArray().forEach(function(e){return e.applyTheme(t)}),null===(r=this.xAxis)||void 0===r||r.applyTheme(t),null===(i=this.yAxis)||void 0===i||i.applyTheme(t),null===(n=this.zAxis)||void 0===n||n.applyTheme(t),this.invalidateElement()},SciChart3DSurface.prototype.changeViewportSize=function(e,t){if(e&&t&&!this.isDeleted){var r=e*a.DpiHelper.PIXEL_RATIO,i=t*a.DpiHelper.PIXEL_RATIO;this.viewportManager.setSize(r,i),this.isCopyCanvasSurface?(this.changeMasterCanvasViewportSize(this.webAssemblyContext3D,e,t),this.domCanvas2D&&a.DpiHelper.setSize(this.domCanvas2D,e,t)):this.changeWebGLCanvasViewportSize(this.webAssemblyContext3D,e,t);var n=this.domSvgContainer;n&&(n.setAttribute("width",e.toString()),n.setAttribute("height",t.toString()),n.style.width=e+"px",n.style.height=t+"px",n.currentScale=1),this.domSvgAdornerLayer&&(this.domSvgAdornerLayer.setAttribute("width",e.toString()),this.domSvgAdornerLayer.setAttribute("height",t.toString())),this.invalidateElement()}},SciChart3DSurface.prototype.getAnimations=function(){return this.animationList},SciChart3DSurface.prototype.addAnimation=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];void 0!==t&&(t.forEach(function(t){return e.animationList.push(t)}),this.invalidateElement())},Object.defineProperty(SciChart3DSurface.prototype,"isRunningAnimation",{get:function(){return this.animationList.some(function(e){return!e.isComplete})},enumerable:!1,configurable:!0}),SciChart3DSurface.prototype.onAnimate=function(e){if(e){for(var t=[],r=0;r<this.animationList.length;r++){var i=this.animationList[r];i.isComplete||(i.update(e),i.isComplete||(this.invalidateElement(),t.push(i)))}this.animationList=t}},SciChart3DSurface.prototype.getXAxisById=function(e){return this.xAxis},SciChart3DSurface.prototype.getYAxisById=function(e){return this.yAxis},SciChart3DSurface.prototype.updateWatermark=function(e,t){var r,i;if(!s.IS_TEST_ENV){this.watermarkPropertyPosition.x=e,this.watermarkPropertyPosition.y=t,this.watermarkProperties.m_fCanvasWidth=null===(r=this.getMainCanvas())||void 0===r?void 0:r.clientWidth,this.watermarkProperties.SetPosition(this.watermarkPropertyPosition);var n=null===(i=this.themeProvider)||void 0===i?void 0:i.isLightBackground;this.watermarkProperties.m_bIsDarkBackground=void 0!==n&&!n,this.webAssemblyContext3D.SCRT3DSetWaterMarkProperties(this.watermarkProperties)}},SciChart3DSurface.prototype.getSeriesViewRectPadding=function(e){return R.Thickness.fromNumber(0)},SciChart3DSurface.prototype.applyOptions=function(t){e.prototype.applyOptions.call(this,t),this.camera=new d.CameraController(this.webAssemblyContext3D,null==t?void 0:t.cameraOptions),(null==t?void 0:t.worldDimensions)&&(this.worldDimensions=t.worldDimensions)},SciChart3DSurface.prototype.attachChartModifier=function(t){e.prototype.attachChartModifier.call(this,t),t.setParentSurface(this),t.invalidateParentCallback=this.invalidateElement,t.onAttach(),this.invalidateElement()},SciChart3DSurface.prototype.applySciChartBackground=function(e,t){void 0===t&&(t=!0),this.backgroundProperty=e,this.domChartRoot&&(this.domChartRoot.style.background=e),this.webAssemblyContext3D.SCRT3DSetClearColor(0,0,0,0)},SciChart3DSurface.prototype.detachSeries=function(e){this.rootEntity&&this.rootEntity.children.remove(e.sceneEntity),e.onDetach(),this.invalidateElement()},SciChart3DSurface.prototype.attachSeries=function(e){if(e.onAttach(this),!e.sceneEntity)throw Error("IRenderableSeries3D.sceneEntity must be set before attaching to SciChart3DSurface");this.rootEntity&&this.rootEntity.children.add(e.sceneEntity),this.invalidateElement()},SciChart3DSurface.prototype.detachAxis=function(e){e&&(e.invalidateParentCallback=void 0,e.parentSurface=void 0)},SciChart3DSurface.prototype.attachAxis=function(e){if(e){if(e.invalidateParentCallback)throw Error("Invalid operation in sciChart3DSurface.attachAxis, this axis has already been attached to a SciChart3DSurface. Please detach it from a SciChart3DSurface before attaching to another");e.onAttach(this,e===this.xAxis,e===this.yAxis,e===this.zAxis),this.themeProviderProperty&&e.applyTheme(this.themeProviderProperty),e.invalidateParentCallback=this.invalidateElement}},SciChart3DSurface.prototype.childPropertyChanged=function(e){this.invalidateElement()},SciChart3DSurface}(o.SciChartSurfaceBase);t.SciChart3DSurface=w},72654:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewportManager3DBase=void 0;var i=r(27817),n=function(){function ViewportManager3DBase(e,t){this.width=e,this.height=t}return ViewportManager3DBase.prototype.setSize=function(e,t){this.width=e,this.height=t},ViewportManager3DBase.prototype.attachSciChartSurface=function(e){if(this.isAttached)throw Error("This ViewportManager instance is already attached to a SciChart3DSurface. Detach it before attaching to another");this.parentSurface=e,this.isAttached=!0},ViewportManager3DBase.prototype.detachSciChartSurface=function(){this.isAttached=!1,this.parentSurface=void 0},ViewportManager3DBase.prototype.calculateAutoRange=function(e){if(e.autoRange===i.EAutoRange.Always||e.autoRange===i.EAutoRange.Once){var t=e.getMaximumRange();if(t&&t.isDefined)return t}return e.visibleRange},ViewportManager3DBase}();t.ViewportManager3DBase=n},55058:function(e,t,r){"use strict";var i,n,o=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,o){function fulfilled(e){try{step(i.next(e))}catch(e){o(e)}}function rejected(e){try{step(i.throw(e))}catch(e){o(e)}}function step(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((i=i.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){var r,i,n,o,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,i&&(n=2&o[0]?i.return:o[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,o[1])).done)return n;switch(i=0,n&&(o=[2&o[0],n.value]),o[0]){case 0:case 1:n=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(n=(n=a.trys).length>0&&n[n.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!n||o[1]>n[0]&&o[1]<n[3])){a.label=o[1];break}if(6===o[0]&&a.label<n[1]){a.label=n[1],n=o;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(o);break}n[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],i=0}finally{r=n=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.disposeMultiChart3d=t.createMultichart3d=void 0;var s=r(61562),l=r(64304),u=r(92845),c=r(72127),d=r(78237),p=r(3192),h=r(71413),f=r(61239),y=r(69405),g=r(15492),v=r(6695);r(29502);var m=r(86369),S=r(37606),b={wasmContext:void 0,getChildSurfaces:void 0,createChildSurface:void 0};t.createMultichart3d=function(e,t){return o(void 0,void 0,void 0,function(){var r,n,o,s,u,c,p,g,v,S,P,C,x;return a(this,function(a){switch(a.label){case 0:(0,l.ensureRegistrations)(),h.default.checkChartDivExists(e),r=h.default.initCanvas(e,null!==(v=null==t?void 0:t.widthAspect)&&void 0!==v?v:0,null!==(S=null==t?void 0:t.heightAspect)&&void 0!==S?S:0,h.default.ECanvasType.canvas2D,void 0,null==t?void 0:t.touchAction),o=(n=null!==(P=null==t?void 0:t.loader)&&void 0!==P?P:new d.DefaultSciChartLoader).addChartLoader(r.domDivContainer,null!==(C=null==t?void 0:t.theme)&&void 0!==C?C:f.SciChartSurfaceBase.DEFAULT_THEME),a.label=1;case 1:if(a.trys.push([1,4,,5]),!(!b.wasmContext||!b.createChildSurface||!b.getChildSurfaces))return[3,3];return i||((0,m.forceReapplyLicense3D)(),i=createMaster()),[4,i];case 2:s=a.sent(),(0,y.checkBuildStamp)(s.wasmContext),b.wasmContext=s.wasmContext,b.createChildSurface=s.createChildSurface,b.getChildSurfaces=s.getChildSurfaces,a.label=3;case 3:return u=b.createChildSurface,c=b.wasmContext,p=u(r.domChartRoot.id,r,null!==(x=null==t?void 0:t.theme)&&void 0!==x?x:f.SciChartSurfaceBase.DEFAULT_THEME),[2,new Promise(function(e){setTimeout(function(){n.removeChartLoader(r.domDivContainer,o),p.setIsInitialized(),e({wasmContext:c,sciChart3DSurface:p})},0)})];case 4:return console.error(g=a.sent()),n.removeChartLoader(r.domDivContainer,o),[2,Promise.reject(g)];case 5:return[2]}})})},t.disposeMultiChart3d=function(){n&&n(),b.createChildSurface=void 0,b.getChildSurfaces=void 0,b.wasmContext=void 0,i=void 0,c.licenseManager.clear()};var createMaster=function(){var createChildSurfaceInner=function(e,t,r,i){var n=new S.SciChart3DSurface(e,{canvases:r});n.applyTheme(i),n.setDestinations(v.sciChart3DDestinations);var o=h.default.subscribeToResize(r.domChartRoot,r.aspect,n);return n.addDeletable(o),n},addDestination=function(e,t,r,i,n,o){var a=(0,f.createChartDestination)(r.domCanvas2D);if(!a){r.delete();return}var s=e.SCRTSurfaceDestination.implement(a);o.AddDestination(s),v.sciChart3DDestinations.push({canvasElementId:t,sciChartSurface:r,width:i,height:n})};return new Promise(function(e,t){var r=(0,f.getLocateFile)(S.sciChartConfig3D);new s({locateFile:r,noInitialRun:!0}).then(function(t){var r=(0,g.createWasmContextRevocableProxy)(t),i=r.proxy;n=function(){i.TSRRequestExit(),a.delete(),i.SCRTGetGlobalSampleChartInterface().SetFrameRenderer(null),i.SCRTGetGlobalSampleChartInterface().delete(),i.SCRTSetGlobalSampleChartInterface(null),s.delete(),i.SCRTSetGlobalCopyToDestinationInterface(null),r.revoke(),r=void 0,n=void 0};var getChildSurfaces=function(){return v.sciChart3DDestinations.map(function(e){return e.sciChartSurface})},createChildSurface=function(e,t,r){var n=h.default.getCanvas2dId(e),a=v.sciChart3DDestinations.filter(function(e){return e.canvasElementId!==n});for(o.ClearDestinations(),v.sciChart3DDestinations.filter(function(e){return e.canvasElementId===n}).forEach(function(e){return e.sciChartSurface.delete()});v.sciChart3DDestinations.length>0;)v.sciChart3DDestinations.pop();a.forEach(function(e){return addDestination(i,e.canvasElementId,e.sciChartSurface,e.width,e.height,o)});var s=createChildSurfaceInner(i,e,t,r);return s.addDeletable({delete:function(){S.SciChart3DSurface.autoDisposeWasmContext&&0===s.otherSurfaces.length&&(S.SciChart3DSurface.wasmContextDisposeTimeout?setTimeout(function(){0===v.sciChart3DDestinations.length&&S.SciChart3DSurface.disposeSharedWasmContext()},S.SciChart3DSurface.wasmContextDisposeTimeout):S.SciChart3DSurface.disposeSharedWasmContext())}}),addDestination(i,n,s,t.domCanvas2D.width,t.domCanvas2D.height,o),(0,m.applyLicense3D)(i,s,!1),s};i.canvas=(0,f.getMasterCanvas)();var o=i.SCRTSampleChartInterface.implement({InitializeChart:function(){e({getChildSurfaces:getChildSurfaces,createChildSurface:createChildSurface,wasmContext:i})},Draw:function(e){var t=v.sciChart3DDestinations.find(function(t){return t.canvasElementId===e});t&&t.sciChartSurface.doDrawingLoop()},Update:function(e){},ShutDownChart:function(){}}),a=new i.SCRTFrameRenderer3D;o.SetFrameRenderer(a),o.SetFPSCounterEnabled(!1),o.SetWasmBufferSizesKb(p.SciChartDefaults.wasmBufferSizesKb),i.SCRTSetGlobalSampleChartInterface(o);var s=i.SCRTCopyToDestinationInterface.implement({CopyToDestination:(0,u.copyToCanvas)(f.SciChartSurfaceBase.domMasterCanvas,getDestinationById)});i.SCRTSetGlobalCopyToDestinationInterface(s),i.TSRSetDrawRequestsEnabled(!0),f.SciChartSurfaceBase.domMasterCanvas&&i.SCRTSetMainWindowSize(f.SciChartSurfaceBase.domMasterCanvas.width,f.SciChartSurfaceBase.domMasterCanvas.height),i.callMain()}).catch(function(){t("Could not load SciChart WebAssembly module.\n            Check your build process and ensure that your scichart3d.wasm, scichart3d.data and scichart3d.js files are from the same version")})})},getDestinationById=function(e){return v.sciChart3DDestinations.find(function(t){return t.canvasElementId===e})}},60663:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSingle3dInternal=void 0;var i=r(61562),n=r(64304),o=r(72127),a=r(78237),s=r(3192),l=r(71413),u=r(61239),c=r(69405),d=r(15492),p=r(20342),h=r(86369),f=r(37606);t.createSingle3dInternal=function(e,t){return(0,n.ensureRegistrations)(),new Promise(function(r,n){var o,s,h,y,g=l.default.initCanvas(e,null!==(o=null==t?void 0:t.widthAspect)&&void 0!==o?o:0,null!==(s=null==t?void 0:t.heightAspect)&&void 0!==s?s:0,void 0,void 0,null==t?void 0:t.touchAction),v=null!==(h=null==t?void 0:t.loader)&&void 0!==h?h:new a.DefaultSciChartLoader,m=v.addChartLoader(g.domDivContainer,null!==(y=null==t?void 0:t.theme)&&void 0!==y?y:u.SciChartSurfaceBase.DEFAULT_THEME),S=p.WebGlHelper.getWebGlSupport();if(S===p.EWebGLSupport.WebGL2||S===p.EWebGLSupport.WebGL1){var b=(0,u.getLocateFile)(f.sciChartConfig3D);new i({locateFile:b,noInitialRun:!0}).then(function(e){v.removeChartLoader(g.domDivContainer,m),e.doNotCaptureKeyboard=!0;var i,n=(0,d.createWasmContextRevocableProxy)(e);initDrawEngineSingleChart(n.proxy,g,function(e){e.sciChart3DSurface.addDeletable({delete:function(){n.revoke(),n=void 0}}),r(e)},null!==(i=null==t?void 0:t.theme)&&void 0!==i?i:u.SciChartSurfaceBase.DEFAULT_THEME),(0,c.checkBuildStamp)(e)}).catch(function(e){throw v.removeChartLoader(g.domDivContainer,m),e})}else throw Error("Sorry Your browser does not support WebGL.")})};var initDrawEngineSingleChart=function(e,t,r,i){e.preRun.push(function(){return ENV.SDL_EMSCRIPTEN_KEYBOARD_ELEMENT="#chart_WebGL"}),e.canvas=t.domCanvasWebGL;var n,a=e.SCRTSampleChartInterface.implement({InitializeChart:function(){(n=new f.SciChart3DSurface(e,{canvases:t})).applyTheme(i),n.addDeletable({delete:function(){e.TSRRequestExit(),u.delete(),e.SCRTGetGlobalSampleChartInterface().SetFrameRenderer(null),e.SCRTGetGlobalSampleChartInterface().delete(),e.SCRTSetGlobalSampleChartInterface(null),o.licenseManager.clear()}}),setTimeout(function(){n.invalidateElement(),(0,h.applyLicense3D)(e,n,!0);var i=l.default.subscribeToResize(t.domChartRoot,t.aspect,n);n.addDeletable(i),n.setIsInitialized(),r({wasmContext:e,sciChart3DSurface:n})},0)},Draw:function(e){n.isInitialized&&n.doDrawingLoop()},Update:function(e){},ShutDownChart:function(){}}),u=new e.SCRTFrameRenderer3D;a.SetFrameRenderer(u),a.SetFPSCounterEnabled(!1),a.SetWasmBufferSizesKb(s.SciChartDefaults.wasmBufferSizesKb),e.SCRTSetGlobalSampleChartInterface(a),e.callMain()}},86369:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyLicense3D=t.forceReapplyLicense3D=void 0;var i=r(72127);t.forceReapplyLicense3D=function(){n=!0};var n=!0;t.applyLicense3D=function(e,t,r){r||n?((0,i.setCallbacks3D)({getLicenseChallenge3D:function(){return{challenge:e.SCRTCredentials.GetLicenseChallenge(),orderId:e.SCRTCredentials.GetOrderId()}},setChallengeResponse3D:function(t){return e.SCRTCredentials.ApplyLicenseResponse(t)},setNewLicense3D:function(r){var n,o=!1;return e.SCRTCredentials.SetRuntimeLicenseKeyW(r),o=e.SCRTCredentials.RequiresValidation(),n=e.SCRTCredentials.GetLicenseType()===e.SCRTLicenseType.LICENSE_TYPE_TRIAL_EXPIRED,(0,i.updateLicenseDisplay)((0,i.getLicenseInfo)(e),t,!1,!0),{requiresValidation:o,trialExpired:n}},updateLicenseDisplay3D:function(){return(0,i.updateLicenseDisplay)((0,i.getLicenseInfo)(e),t,!1,!0)}}),(0,i.applyLicense)(e,t)):(0,i.updateLicenseDisplay)((0,i.getLicenseInfo)(e),t,!1,!1),r||(n=!1)}},95056:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationToken=void 0;var r=function(){function AnimationToken(e,t){this.token=e,this.onCompleted=t}return AnimationToken.prototype.cancelAnimation=function(){this.token&&(clearInterval(this.token),this.token=void 0)},AnimationToken.prototype.completeAnimation=function(){this.token&&(clearInterval(this.token),this.token=void 0),this.onCompleted&&this.onCompleted()},AnimationToken}();t.AnimationToken=r},22533:function(e,t,r){"use strict";var i,n,o,a,s,l=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.SeriesAnimationFiniteStateMachine=t.AnimationFiniteStateMachine=t.EAnimationStateTransition=t.EAnimationState=void 0;var u=r(35698);(i=a=t.EAnimationState||(t.EAnimationState={})).InitialState="InitialState",i.Delayed="Delayed",i.Running="Running",i.Completed="Completed",(n=s=t.EAnimationStateTransition||(t.EAnimationStateTransition={})).NoChange="NoChange",n.InitialState_Delayed="InitialState_Delayed",n.InitialState_Running="InitialState_Running",n.InitialState_Completed="InitialState_Completed",n.Delayed_Running="Delayed_Running",n.Running_Completed="Running_Completed";var c=function(){function AnimationFiniteStateMachine(e){this.stateProperty=a.InitialState,this.animationProperty=e}return Object.defineProperty(AnimationFiniteStateMachine.prototype,"state",{get:function(){return this.stateProperty},enumerable:!1,configurable:!0}),Object.defineProperty(AnimationFiniteStateMachine.prototype,"animation",{get:function(){return this.animationProperty},enumerable:!1,configurable:!0}),AnimationFiniteStateMachine.prototype.is=function(e){return e.includes(this.stateProperty)},AnimationFiniteStateMachine.prototype.update=function(e){return this.stateProperty===a.InitialState?this.animationProperty.delay?(this.toDelayed(),s.InitialState_Delayed):this.animationProperty.duration?(this.toRunning(),s.InitialState_Running):(this.toCompleted(),s.InitialState_Completed):this.stateProperty===a.Delayed?this.updateDelayedState(e):this.stateProperty===a.Running?this.updateRunningState(e):s.NoChange},Object.defineProperty(AnimationFiniteStateMachine.prototype,"animationProgress",{get:function(){if(this.stateProperty===a.Running){var e=u.NumberUtil.constrain(this.animationElapsed/this.animationProperty.duration,0,1);return this.animationProperty.ease(e)}return this.stateProperty===a.Completed?1:0},enumerable:!1,configurable:!0}),AnimationFiniteStateMachine.prototype.toCompleted=function(){this.stateProperty=a.Completed},AnimationFiniteStateMachine.prototype.validate=function(e,t){if(!e.includes(this.stateProperty))throw Error("Transition from state ".concat(this.stateProperty," to ").concat(t," if forbidden"))},AnimationFiniteStateMachine.prototype.toDelayed=function(){this.animationDelayStartTimestamp=Date.now(),this.animationDelayElapsed=0,this.stateProperty=a.Delayed},AnimationFiniteStateMachine.prototype.toRunning=function(){this.animationStartTimestamp=Date.now(),this.animationElapsed=0,this.stateProperty=a.Running},AnimationFiniteStateMachine.prototype.updateDelayedState=function(e){return(this.animationDelayElapsed+=e,this.animationDelayElapsed>=this.animationProperty.delay)?(this.toRunning(),s.Delayed_Running):s.NoChange},AnimationFiniteStateMachine.prototype.updateRunningState=function(e){return(this.animationElapsed+=e,this.animationElapsed>=this.animationProperty.duration)?(this.toCompleted(),s.Running_Completed):s.NoChange},AnimationFiniteStateMachine}();t.AnimationFiniteStateMachine=c;var d=function(e){function SeriesAnimationFiniteStateMachine(t,r){var i=e.call(this,t)||this;return r&&(i.initialStylesProperty=t.getSeriesStyle(r)),i}return l(SeriesAnimationFiniteStateMachine,e),Object.defineProperty(SeriesAnimationFiniteStateMachine.prototype,"animation",{get:function(){return this.animationProperty},enumerable:!1,configurable:!0}),Object.defineProperty(SeriesAnimationFiniteStateMachine.prototype,"initialStyles",{get:function(){return this.initialStylesProperty},enumerable:!1,configurable:!0}),SeriesAnimationFiniteStateMachine}(c);t.SeriesAnimationFiniteStateMachine=d},63705:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animateAny=void 0;var i=r(95056),n=r(92530),o=r(35698);t.animateAny=function(e,t,r,a,s,l,u){n.Guard.notNull(a,"onAnimate"),n.Guard.notNull(t,"from"),n.Guard.notNull(r,"to"),n.Guard.notNull(s,"interpolate");var c=new Date().getTime()+e;a(t);var d=new i.AnimationToken(setInterval(function(){var i=new Date().getTime(),n=u(o.NumberUtil.constrain(1-(c-i)/e,0,1));a(s(t,r,n)),i>c&&(1!==n&&a(s(t,r,u(1))),d.completeAnimation())},16.67),l);return d}},54666:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DoubleAnimator=void 0;var i=r(63705),n=r(19513),o=function(){function DoubleAnimator(){}return DoubleAnimator.animate=function(e,t,r,o,a,s){return void 0===s&&(s=n.easing.outExpo),(0,i.animateAny)(r,e,t,o,DoubleAnimator.interpolate,a,s)},DoubleAnimator.interpolate=function(e,t,r){return(t-e)*r+e},DoubleAnimator}();t.DoubleAnimator=o},19513:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoReverseEasing=t.easing=void 0,t.easing={linear:function(e){return e},quadratic:function(e){return e*(-(e*e)*e+4*e*e-6*e+4)},cubic:function(e){return e*(4*e*e-9*e+6)},elastic:function(e){return e*(33*e*e*e*e-106*e*e*e+126*e*e-67*e+15)},inQuad:function(e){return e*e},outQuad:function(e){return e*(2-e)},inOutQuad:function(e){return e<.5?2*e*e:-1+(4-2*e)*e},inCubic:function(e){return e*e*e},outCubic:function(e){return--e*e*e+1},inOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},inQuart:function(e){return e*e*e*e},outQuart:function(e){return 1- --e*e*e*e},inOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},inQuint:function(e){return e*e*e*e*e},outQuint:function(e){return 1+--e*e*e*e*e},inOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},inSine:function(e){return-Math.cos(e*(Math.PI/2))+1},outSine:function(e){return Math.sin(e*(Math.PI/2))},inOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},inExpo:function(e){return Math.pow(2,10*(e-1))},outExpo:function(e){return 1===e?1:-Math.pow(2,-10*e)+1},inOutExpo:function(e){return(e/=.5)<1?Math.pow(2,10*(e-1))/2:(-Math.pow(2,-10*--e)+2)/2},inCirc:function(e){return-Math.sqrt(1-e*e)+1},outCirc:function(e){return Math.sqrt(1-(e-=1)*e)},inOutCirc:function(e){return(e/=.5)<1?-(Math.sqrt(1-e*e)-1)/2:(Math.sqrt(1-(e-=2)*e)+1)/2}},t.autoReverseEasing={linear:function(e){return e<.5?2*e:2-2*e}}},51801:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericAnimation=void 0;var i=r(92200),n=r(22533),o=r(19513),a=function(){function GenericAnimation(e){var t,r,a,s;this.delay=0,this.duration=1e3,this.ease=o.easing.linear,this.id=null!==(t=null==e?void 0:e.id)&&void 0!==t?t:(0,i.generateGuid)(),this.delay=null!==(r=null==e?void 0:e.delay)&&void 0!==r?r:this.delay,this.duration=null!==(a=null==e?void 0:e.duration)&&void 0!==a?a:this.duration,(null==e?void 0:e.ease)&&"string"==typeof e.ease&&(e.ease=o.easing[e.ease]),this.ease=null!==(s=null==e?void 0:e.ease)&&void 0!==s?s:this.ease,this.from=e.from,this.to=e.to,this.onAnimate=e.onAnimate,this.onCompleted=null==e?void 0:e.onCompleted,this.animationFSM=new n.AnimationFiniteStateMachine(this),(null==e?void 0:e.setInitialValueImmediately)&&this.onAnimate(this.from,this.to,0)}return Object.defineProperty(GenericAnimation.prototype,"isComplete",{get:function(){return this.animationFSM.is([n.EAnimationState.Completed])},enumerable:!1,configurable:!0}),GenericAnimation.prototype.reset=function(){this.animationFSM=new n.AnimationFiniteStateMachine(this)},GenericAnimation.prototype.update=function(e){var t=this.animationFSM.update(e);[n.EAnimationStateTransition.InitialState_Running,n.EAnimationStateTransition.Delayed_Running].includes(t)&&this.onAnimate(this.from,this.to,0),this.animationFSM.is([n.EAnimationState.Running,n.EAnimationState.Completed])&&this.onAnimate(this.from,this.to,this.animationFSM.animationProgress),[n.EAnimationStateTransition.Running_Completed,n.EAnimationStateTransition.InitialState_Completed].includes(t)&&this.onCompleted&&this.onCompleted()},GenericAnimation.prototype.cancel=function(){this.animationFSM.toCompleted()},GenericAnimation}();t.GenericAnimation=a},56529:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberRangeAnimator=void 0;var i=r(92530),n=r(51134),o=r(19513),a=r(51801),s=function(){function NumberRangeAnimator(){}return NumberRangeAnimator.animate=function(e,t,r,i,n,s,l){return void 0===s&&(s=o.easing.outExpo),void 0===l&&(l=!1),new a.GenericAnimation({from:e,to:t,duration:r,onAnimate:function(e,t,r){i((l?NumberRangeAnimator.interpolateLog:NumberRangeAnimator.interpolate)(e,t,r))},delay:0,ease:s,onCompleted:n})},NumberRangeAnimator.interpolate=function(e,t,r){i.Guard.notNull(e,"from"),i.Guard.notNull(t,"to");var o=(t.min-e.min)*r+e.min,a=(t.max-e.max)*r+e.max;return new n.NumberRange(o,a)},NumberRangeAnimator.interpolateLog=function(e,t,r){i.Guard.notNull(e,"from"),i.Guard.notNull(t,"to");var o=Math.pow(t.min/e.min,r)*e.min,a=Math.pow(t.max/e.max,r)*e.max;return new n.NumberRange(o,a)},NumberRangeAnimator}();t.NumberRangeAnimator=s},69405:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkBuildStamp=t.libraryVersion=void 0;var r,i="2024-02-28T00:00:00";t.libraryVersion="3.3.570",t.checkBuildStamp=function(e){if(void 0!==r)return r;if(!e)return!1;if(e.SCRTCredentials.GetBuildStamp){var t=e.SCRTCredentials.GetBuildStamp();if(t===i)return r=!0;console.warn("Build stamp diff: JS - ".concat(i,"; WASM - ").concat(t))}return console.warn("The SciChart webassembly module is from a different version than the javascript that is calling it.\n    Ensure that your build process is copying the correct wasm and data files."),r=!1}},15492:function(e,t,r){"use strict";var i=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createWasmContextRevocableProxy=t.WasmContextProxyHandler=t.WasmObjectConstructorProxyHandler=t.DeletableEntityProxyHandler=t.DeletableEntity=t.createTrackableProxy=void 0;var n=r(29502);t.createTrackableProxy=function(e,t){void 0===t&&(t=!1);var r=(0,n.generateIdentifier)(e),i=Proxy.revocable(e,new o(r));return n.MemoryUsageHelper.objectRegistry.add(e,r,{proxy:i.proxy,revocableToken:i,isWasmObject:t}),i.proxy},t.DeletableEntity=function(e){};var o=function(){function DeletableEntityProxyHandler(e){this.disposableEntityId=e}return DeletableEntityProxyHandler.prototype.construct=function(e,t){return console.warn("construct called on Deletable",this.disposableEntityId),e},DeletableEntityProxyHandler.prototype.apply=function(e,t,r){console.warn("apply called on Deletable",this.disposableEntityId)},DeletableEntityProxyHandler.prototype.get=function(e,t,r){var i=this;return"delete"===t?function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n.MemoryUsageHelper.objectRegistry.remove(i.disposableEntityId)||console.warn("Failed to remove ".concat(i.disposableEntityId," from the Object Registry Probably it has been already deleted!")),e[t].apply(e,r)}:e[t]},DeletableEntityProxyHandler}();t.DeletableEntityProxyHandler=o;var a=function(){function WasmObjectConstructorProxyHandler(){}return WasmObjectConstructorProxyHandler.prototype.construct=function(e,r,n){var o=new(e.bind.apply(e,i([void 0],r,!1)));return(0,t.createTrackableProxy)(o,!0)},WasmObjectConstructorProxyHandler}();t.WasmObjectConstructorProxyHandler=a;var s={construct:function(){return s}},isConstructor=function(e){try{return new new Proxy(e,s),!0}catch(e){return!1}},l=function(){function WasmContextProxyHandler(){this.constructorProxyHandler=new a}return WasmContextProxyHandler.prototype.get=function(e,t,r){var i=e[t];return isConstructor(i)?new Proxy(i,this.constructorProxyHandler):i},WasmContextProxyHandler}();t.WasmContextProxyHandler=l,t.createWasmContextRevocableProxy=function(e){return n.MemoryUsageHelper.register(e,"wasmContext"),Proxy.revocable(e,{})}},94694:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteSafe=void 0,t.deleteSafe=function(e){null==e||e.delete()}},93766:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dictionary=void 0;var r=function(){function Dictionary(){this.items={},this.countProperty=0}return Dictionary.prototype.containsKey=function(e){return this.items.hasOwnProperty(e)},Object.defineProperty(Dictionary.prototype,"count",{get:function(){return this.countProperty},enumerable:!1,configurable:!0}),Dictionary.prototype.add=function(e,t){!this.items.hasOwnProperty(e)&&this.countProperty++,this.items[e]=t},Dictionary.prototype.remove=function(e){var t=this.items[e];return delete this.items[e],this.countProperty--,t},Dictionary.prototype.item=function(e){return this.items[e]},Object.defineProperty(Dictionary.prototype,"keys",{get:function(){return Object.keys(this.items)},enumerable:!1,configurable:!0}),Object.defineProperty(Dictionary.prototype,"values",{get:function(){var e=this;return this.keys.map(function(t){return e.items[t]})},enumerable:!1,configurable:!0}),Dictionary.prototype.clear=function(){this.items={},this.countProperty=0},Dictionary}();t.Dictionary=r},35855:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandler=void 0;var r=function(){function EventHandler(){this.handlers=[]}return EventHandler.prototype.subscribe=function(e){this.handlers.includes(e)||this.handlers.push(e)},EventHandler.prototype.unsubscribe=function(e){this.handlers=this.handlers.filter(function(t){return t!==e})},EventHandler.prototype.unsubscribeAll=function(){this.handlers=[]},EventHandler.prototype.raiseEvent=function(e){this.handlers.slice(0).forEach(function(t){return t(e)})},EventHandler}();t.EventHandler=r},6695:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sciChartPieDestinations=t.sciChart3DSingleDestinations=t.sciChartSingleDestinations=t.sciChart3DDestinations=t.sciChartDestinations=void 0,t.sciChartDestinations=[],t.sciChart3DDestinations=[],t.sciChartSingleDestinations=[],t.sciChart3DSingleDestinations=[],t.sciChartPieDestinations=[]},81921:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GradientParams=void 0,t.GradientParams=function(e,t,r){if(this.gradientStops=[],r.length<2)throw Error("At least two gradient point should be provided");if(e.x<0||e.y<0||e.x>1||e.y>1)throw Error("startPoint values should be within [0,1]");if(t.x<0||t.y<0||t.x>1||t.y>1)throw Error("endPoint values should be within [0,1]");r.forEach(function(e){if(e.offset<0||e.offset>1)throw Error("gradientStops offset should be within [0,1]")}),this.startPoint=e,this.endPoint=t,this.gradientStops=r}},92530:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Guard=void 0;var i=r(51877),n=function(){function Guard(){}return Guard.notNull=function(e,t){if(null==e)throw Error("Argument "+t+" must not be undefined")},Guard.isTrue=function(e,t){if(!e)throw Error(t)},Guard.arraysSameLength=function(e,t,r,i){if(this.notNull(e,t),this.notNull(r,i),e.length!==r.length)throw Error("Arrays ".concat(t," and ").concat(i," must have the same length"))},Guard.arraysSameLengthArr=function(e){var t=this;if(void 0===e&&(e=[]),e.forEach(function(e){t.notNull(e.arg,e.name)}),e.length>=0){var r=e[0].arg.length,i=e[0].name;e.forEach(function(e){if(e.arg.length!==r)throw Error("Arrays ".concat(i," and ").concat(e.name," must have the same length"))})}},Guard.argumentIsRealNumber=function(e,t){if(!(0,i.isRealNumber)(e))throw Error("Argument ".concat(t," must be a real number (not infinite, not NAN)"))},Guard.argumentIsRealInteger=function(e,t){if(!Number.isInteger(e)||!(0,i.isRealNumber)(e))throw Error("Argument ".concat(t," must be a real integer number (not infinite, not NAN)"))},Guard}();t.Guard=n},64769:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.List=void 0;var r=function(){function List(){this.items=[]}return List.prototype.size=function(){return this.items.length},List.prototype.add=function(e){this.items.push(e)},List.prototype.get=function(e){return this.items[e]},List}();t.List=r},95352:function(e,t,r){"use strict";var i,n,o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseManager=void 0;var a=r(4069),s=r(61239),l=r(91462),u=r(70250),c=r(92530);(i=n||(n={}))[i.Move=0]="Move",i[i.Down=1]="Down",i[i.Up=2]="Up",i[i.Wheel=3]="Wheel",i[i.Click=4]="Click",i[i.Leave=5]="Leave",i[i.Enter=6]="Enter",i[i.Cancel=7]="Cancel",i[i.Drop=8]="Drop";var d=function(){function MouseManager(e){this.isOver=!1,this.maxTapDuration=500,this.enableDoubleTapPolyfill=!0,this.forceDoubleTapPolyfill=!1,this.sciChartSurface=e,this.onPointerMove=this.onPointerMove.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onMouseWheel=this.onMouseWheel.bind(this),this.onDoubleClick=this.onDoubleClick.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onPointerCancel=this.onPointerCancel.bind(this),this.onDrop=this.onDrop.bind(this)}return MouseManager.prototype.subscribe=function(e){c.Guard.notNull(e,"source"),this.unsubscribe(),this.canvas=e,e.addEventListener("pointermove",this.onPointerMove),e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointerup",this.onPointerUp),e.addEventListener("pointercancel",this.onPointerCancel),e.addEventListener("wheel",this.onMouseWheel),e.addEventListener("dblclick",this.onDoubleClick),e.addEventListener("mouseleave",this.onMouseLeave),e.addEventListener("mouseenter",this.onMouseEnter),e.addEventListener("contextmenu",this.onContextMenu),e.addEventListener("drop",this.onDrop)},MouseManager.prototype.unsubscribe=function(){this.canvas&&(this.canvas.removeEventListener("pointermove",this.onPointerMove),this.canvas.removeEventListener("pointerdown",this.onPointerDown),this.canvas.removeEventListener("pointerup",this.onPointerUp),this.canvas.removeEventListener("pointercancel",this.onPointerCancel),this.canvas.removeEventListener("wheel",this.onMouseWheel),this.canvas.removeEventListener("dblclick",this.onDoubleClick),this.canvas.removeEventListener("mouseleave",this.onMouseLeave),this.canvas.removeEventListener("mouseenter",this.onMouseEnter),this.canvas.removeEventListener("contextmenu",this.onContextMenu),this.canvas.removeEventListener("drop",this.onDrop)),this.canvas=null},MouseManager.prototype.onPointerCancel=function(e){var t=a.ModifierMouseArgs.fromPointerEvent(e);this.modifierPointerCancel(t)},MouseManager.prototype.onPointerMove=function(e){var t=a.ModifierMouseArgs.fromPointerEvent(e);this.modifierMouseMove(t)},MouseManager.prototype.onPointerDown=function(e){var t=a.ModifierMouseArgs.fromPointerEvent(e);this.modifierMouseDown(t);var r=this.forceDoubleTapPolyfill||this.enableDoubleTapPolyfill&&!this.supportsDoubleTap,i="touch"===e.pointerType||"pen"===e.pointerType;if(r&&i){var n=new Date().getTime(),o=!!this.lastTapTime,s=n-this.lastTapTime<this.maxTapDuration,l=e.isPrimary;if(o&&l&&s){this.lastTapTime=void 0,this.doubleTapHandled=!0;var u=a.ModifierMouseArgs.fromPointerEvent(e);this.modifierDoubleClick(u)}else this.lastTapTime=n,this.doubleTapHandled=!1}else this.doubleTapHandled=!1},MouseManager.prototype.onPointerUp=function(e){var t=a.ModifierMouseArgs.fromPointerEvent(e);this.modifierMouseUp(t)},MouseManager.prototype.onDoubleClick=function(e){if(this.doubleTapHandled){this.supportsDoubleTap=!0;return}var t=a.ModifierMouseArgs.fromMouseEvent(e);this.modifierDoubleClick(t)},MouseManager.prototype.onMouseWheel=function(e){var t=a.ModifierMouseArgs.fromWheelEvent(e);this.modifierMouseWheel(t),t.handled&&e.preventDefault()},MouseManager.prototype.onMouseLeave=function(e){var t=a.ModifierMouseArgs.fromMouseEvent(e);this.modifierMouseLeave(t)},MouseManager.prototype.onMouseEnter=function(e){var t=a.ModifierMouseArgs.fromMouseEvent(e);this.modifierMouseEnter(t)},MouseManager.prototype.onContextMenu=function(e){e.preventDefault()},MouseManager.prototype.onDrop=function(e){var t=a.ModifierMouseArgs.fromMouseEvent(e);this.modifierDrop(t)},MouseManager.prototype.modifierPointerCancel=function(e){var t=this;if(e.isMaster&&e.target.releasePointerCapture(e.pointerId),this.chartModifiers.forEach(function(r){r.canReceiveMouseEvents&&(!e.handled||r.receiveHandledEvents)&&(e.isMaster||!e.isMaster&&r.modifierGroup===e.modifierGroup)&&r.modifierPointerCancel(e,t.sciChartSurface)}),e.isMaster){var r=this.getMasterData(this.sciChartSurface,e);this.chartModifierGroups.forEach(function(i){t.sciChartSurface.otherSurfaces.forEach(function(n){var o=a.ModifierMouseArgs.copy(e,i,t.sciChartSurface.seriesViewRect,n.seriesViewRect,r);n.mouseManager.modifierPointerCancel(o)})}),this.updateSubCharts(e,n.Cancel)}},MouseManager.prototype.modifierMouseMove=function(e){var t=this;if(this.sciChartSurface.surfaceType===s.ESurfaceType.SciChartSurfaceType){var r=this.sciChartSurface;if(r.adornerLayer.isAnnotationSelected){var i=r.adornerLayer.selectedAnnotation;i.isDraggingStarted&&i.onDragAdorner(e)}}if(this.chartModifiers.forEach(function(r){r.canReceiveMouseEvents&&(!e.handled||r.receiveHandledEvents)&&(e.isMaster||!e.isMaster&&r.modifierGroup===e.modifierGroup)&&r.modifierMouseMove(e,t.sciChartSurface)}),e.isMaster){var o=this.getMasterData(this.sciChartSurface,e);this.chartModifierGroups.forEach(function(r){t.sciChartSurface.otherSurfaces.forEach(function(i){var n=a.ModifierMouseArgs.copy(e,r,t.sciChartSurface.seriesViewRect,i.seriesViewRect,o);i.mouseManager.modifierMouseMove(n)})}),this.updateSubCharts(e,n.Move)}},MouseManager.prototype.modifierMouseDown=function(e){var t,r=this;e.isMaster&&(null===(t=e.target)||void 0===t||t.setPointerCapture(e.pointerId));var updateModifiers=function(){if(r.chartModifiers.forEach(function(t){t.canReceiveMouseEvents&&(!e.handled||t.receiveHandledEvents)&&(e.isMaster||!e.isMaster&&t.modifierGroup===e.modifierGroup)&&t.modifierMouseDown(e,r.sciChartSurface)}),e.isMaster){var t=r.getMasterData(r.sciChartSurface,e);r.chartModifierGroups.forEach(function(i){r.sciChartSurface.otherSurfaces.forEach(function(n){var o=a.ModifierMouseArgs.copy(e,i,r.sciChartSurface.seriesViewRect,n.seriesViewRect,t);n.mouseManager.modifierMouseDown(o)})}),r.updateSubCharts(e,n.Down)}};if(e.isMaster){if(this.sciChartSurface.surfaceType===s.ESurfaceType.SciChartSurfaceType){var i=this.sciChartSurface,o=i.adornerLayer.selectedAnnotation;o&&o.onDragStarted(e)||function(t){t.adornerLayer.selectAnnotation(e);var i=t.adornerLayer.selectedAnnotation;i?i.onDragStarted(e)&&r.modifierMouseMove(e):updateModifiers()}(i)}else updateModifiers()}else updateModifiers()},MouseManager.prototype.modifierMouseUp=function(e){var t,r=this;if(e.isMaster&&(null===(t=e.target)||void 0===t||t.releasePointerCapture(e.pointerId)),this.sciChartSurface.surfaceType===s.ESurfaceType.SciChartSurfaceType){var i=this.sciChartSurface;if(i.adornerLayer.isAnnotationSelected){var o=i.adornerLayer.selectedAnnotation;o.isDraggingStarted&&o.onDragEnded()}}if(this.chartModifiers.forEach(function(t){t.canReceiveMouseEvents&&(!e.handled||t.receiveHandledEvents)&&(e.isMaster||!e.isMaster&&t.modifierGroup===e.modifierGroup)&&t.modifierMouseUp(e,r.sciChartSurface)}),e.isMaster){var l=this.getMasterData(this.sciChartSurface,e);this.chartModifierGroups.forEach(function(t){r.sciChartSurface.otherSurfaces.forEach(function(i){var n=a.ModifierMouseArgs.copy(e,t,r.sciChartSurface.seriesViewRect,i.seriesViewRect,l);i.mouseManager.modifierMouseUp(n)})}),this.updateSubCharts(e,n.Up)}},MouseManager.prototype.modifierMouseWheel=function(e){var t=this;if(this.chartModifiers.forEach(function(r){r.canReceiveMouseEvents&&(!e.handled||r.receiveHandledEvents)&&(e.isMaster||!e.isMaster&&r.modifierGroup===e.modifierGroup)&&r.modifierMouseWheel(e,t.sciChartSurface)}),e.isMaster){var r=this.getMasterData(this.sciChartSurface,e);this.chartModifierGroups.forEach(function(i){t.sciChartSurface.otherSurfaces.forEach(function(n){var o=a.ModifierMouseArgs.copy(e,i,t.sciChartSurface.seriesViewRect,n.seriesViewRect,r);n.mouseManager.modifierMouseWheel(o)})}),this.updateSubCharts(e,n.Wheel)}},MouseManager.prototype.modifierDoubleClick=function(e){var t=this;if(this.chartModifiers.forEach(function(r){r.canReceiveMouseEvents&&(!e.handled||r.receiveHandledEvents)&&(e.isMaster||!e.isMaster&&r.modifierGroup===e.modifierGroup)&&r.modifierDoubleClick(e,t.sciChartSurface)}),e.isMaster){var r=this.getMasterData(this.sciChartSurface,e);this.chartModifierGroups.forEach(function(i){t.sciChartSurface.otherSurfaces.forEach(function(n){var o=a.ModifierMouseArgs.copy(e,i,t.sciChartSurface.seriesViewRect,n.seriesViewRect,r);n.mouseManager.modifierDoubleClick(o)})}),this.updateSubCharts(e,n.Click)}},MouseManager.prototype.modifierMouseLeave=function(e){var t=this;if(this.chartModifiers.forEach(function(r){r.canReceiveMouseEvents&&(!e.handled||r.receiveHandledEvents)&&(e.isMaster||!e.isMaster&&r.modifierGroup===e.modifierGroup)&&r.modifierMouseLeave(e,t.sciChartSurface)}),e.isMaster){var r=this.getMasterData(this.sciChartSurface,e);this.chartModifierGroups.forEach(function(i){t.sciChartSurface.otherSurfaces.forEach(function(n){var o=a.ModifierMouseArgs.copy(e,i,t.sciChartSurface.seriesViewRect,n.seriesViewRect,r);n.mouseManager.modifierMouseLeave(o)})}),this.updateSubCharts(e,n.Leave)}},MouseManager.prototype.modifierMouseEnter=function(e){var t=this;if(this.chartModifiers.forEach(function(r){r.canReceiveMouseEvents&&(!e.handled||r.receiveHandledEvents)&&(e.isMaster||!e.isMaster&&r.modifierGroup===e.modifierGroup)&&r.modifierMouseEnter(e,t.sciChartSurface)}),e.isMaster){var r=this.getMasterData(this.sciChartSurface,e);this.chartModifierGroups.forEach(function(i){t.sciChartSurface.otherSurfaces.forEach(function(n){var o=a.ModifierMouseArgs.copy(e,i,t.sciChartSurface.seriesViewRect,n.seriesViewRect,r);n.mouseManager.modifierMouseEnter(o)})}),this.updateSubCharts(e,n.Enter)}},MouseManager.prototype.modifierDrop=function(e){var t=this;if(this.chartModifiers.forEach(function(r){r.canReceiveMouseEvents&&(!e.handled||r.receiveHandledEvents)&&(e.isMaster||!e.isMaster&&r.modifierGroup===e.modifierGroup)&&r.modifierDrop(e,t.sciChartSurface)}),e.isMaster){var r=this.getMasterData(this.sciChartSurface,e);this.chartModifierGroups.forEach(function(i){t.sciChartSurface.otherSurfaces.forEach(function(n){var o=a.ModifierMouseArgs.copy(e,i,t.sciChartSurface.seriesViewRect,n.seriesViewRect,r);n.mouseManager.modifierDrop(o)})}),this.updateSubCharts(e,n.Drop)}},MouseManager.prototype.getMasterData=function(e,t){return{}},Object.defineProperty(MouseManager.prototype,"chartModifiers",{get:function(){return this.sciChartSurface.chartModifiers.asArray()},enumerable:!1,configurable:!0}),Object.defineProperty(MouseManager.prototype,"chartModifierGroups",{get:function(){var e=this.chartModifiers.filter(function(e){return void 0!==e.modifierGroup}).map(function(e){return e.modifierGroup});return(0,u.getUniqueValues)(e)},enumerable:!1,configurable:!0}),MouseManager.prototype.updateSubCharts=function(e,t){var r=this,i=this.sciChartSurface.subCharts;if(i&&0!==i.length){var s=null==i?void 0:i.find(function(t){var i=t.padding,n=i.top,o=i.left,a=i.bottom,s=i.right,u=e.mousePoint,c=u.x,d=u.y,p=c/l.DpiHelper.PIXEL_RATIO,h=d/l.DpiHelper.PIXEL_RATIO,f=r.sciChartSurface.renderSurface.viewportSize,y=f.width,g=f.height,v=y/l.DpiHelper.PIXEL_RATIO,m=g/l.DpiHelper.PIXEL_RATIO;return o<=p&&p<=v-s&&n<=h&&h<=m-a});null==i||i.forEach(function(l){var u=t,c=!0;if(l.mouseManager.isOver){if(l!==s){if(l.mouseManager.isOver=!1,u===n.Move){var d=new a.ModifierMouseArgs(e.mousePoint,e);r.processSubChartEvent(n.Leave,l,d,i,void 0)}u!==n.Cancel&&u!==n.Up&&(u=void 0)}}else if(l===s){if(l.mouseManager.isOver=!0,u===n.Move){var p=new a.ModifierMouseArgs(e.mousePoint,e);r.processSubChartEvent(n.Enter,l,p,i,void 0)}}else[n.Cancel,n.Up,n.Move].includes(u)||(u=void 0),c=!1;if(void 0!==u){var h=r.getMasterData(s,e);r.processSubChartEvent(u,l,o(o({},e),{isActiveSubChartEvent:c}),i,h)}})}},MouseManager.prototype.processSubChartEvent=function(e,t,r,i,n){var o=this;r.handled=!1,this.callEvent(e,t,r),r.isActiveSubChartEvent&&t.chartModifierGroups.forEach(function(s){i.filter(function(e){return e.id!==t.id}).forEach(function(i){var l=a.ModifierMouseArgs.copyForSubChart(r,s,t.seriesViewRect,i.seriesViewRect,n);o.callEvent(e,i,l)})})},MouseManager.prototype.callEvent=function(e,t,r){switch(e){case n.Cancel:t.mouseManager.modifierPointerCancel(r);break;case n.Click:t.mouseManager.modifierDoubleClick(r);break;case n.Down:t.mouseManager.modifierMouseDown(r);break;case n.Enter:t.mouseManager.modifierMouseEnter(r);break;case n.Leave:t.mouseManager.modifierMouseLeave(r);break;case n.Move:t.mouseManager.modifierMouseMove(r);break;case n.Up:t.mouseManager.modifierMouseUp(r);break;case n.Wheel:t.mouseManager.modifierMouseWheel(r);break;case n.Drop:t.mouseManager.modifierDrop(r)}},MouseManager}();t.MouseManager=d},51134:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberRange=void 0;var i=r(51877),n=r(93823),o=function(){function NumberRange(e,t){void 0===e&&(e=0),void 0===t&&(t=10),this.min=e,this.max=t}return NumberRange.prototype.union=function(e){var t=Math.min(this.min,e.min),r=Math.max(this.max,e.max);return new NumberRange(t,r)},NumberRange.prototype.clip=function(e){var t=Math.max(this.min,e.min),r=Math.min(this.max,e.max);return new NumberRange(t,r)},NumberRange.prototype.growBy=function(e){var t=this.max-this.min,r=this.min-e.min*(this.isZero()?this.min:t),i=this.max+e.max*(this.isZero()?this.max:t);if(r>i){var n=r;r=i,i=n}return new NumberRange(r,i)},NumberRange.prototype.growByLog=function(e,t){var r=this.min<0?-1:1,i=0!==this.min?(0,n.logToBase)(Math.abs(this.min),t):0,o=0!==this.max?(0,n.logToBase)(Math.abs(this.max),t):0,a=o-i,s=a*e.min,l=a*e.max,u=r*(0!==this.min?Math.pow(t,i-s):0),c=r*(0!==this.max?Math.pow(t,o+l):0);if(u>c){var d=c;c=u,u=d}return new NumberRange(u,c)},NumberRange.prototype.isDefined=function(){return(0,i.isRealNumber)(this.max)&&(0,i.isRealNumber)(this.min)},NumberRange.prototype.equals=function(e){return!!e&&e.min===this.min&&e.max===this.max},NumberRange.prototype.toString=function(){return"NumberRange (".concat(this.min,", ").concat(this.max,")")},Object.defineProperty(NumberRange.prototype,"diff",{get:function(){return this.max-this.min},enumerable:!1,configurable:!0}),NumberRange.prototype.isZero=function(){return this.min===this.max},NumberRange.areEqual=function(e,t){return e===t||!!e&&e.equals(t)},NumberRange}();t.NumberRange=o},35698:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NumberUtil=void 0;var r=function(){function NumberUtil(){}return NumberUtil.constrain=function(e,t,r){return Math.max(Math.min(e,r),t)},NumberUtil}();t.NumberUtil=r},19542:function(e,t,r){"use strict";var i,n=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function __(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)});Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableArray=t.ObservableArrayBase=void 0;var o=r(35855),a=r(25820),s=function(){function ObservableArrayBase(){this.items=[],this.collectionChanged=new o.EventHandler}return ObservableArrayBase.prototype.size=function(){return this.items.length},ObservableArrayBase.prototype.add=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t.forEach(function(t){return e.items.push(t)}),this.collectionChanged.raiseEvent(new a.ObservableArrayChangedArgs(a.EObservableArrayChangedAction.Add,t,void 0))},ObservableArrayBase.prototype.asArray=function(){return this.items},ObservableArrayBase.prototype.insert=function(e,t){if(e<0&&(e=0),e>=this.items.length){this.add(t);return}this.items.splice(e,0,t),this.collectionChanged.raiseEvent(new a.ObservableArrayChangedArgs(a.EObservableArrayChangedAction.Add,[t],void 0))},ObservableArrayBase.prototype.contains=function(e){return this.items.includes(e)},ObservableArrayBase.prototype.removeAt=function(e,t){if(void 0===t&&(t=!1),!(e<0)&&!(e>=this.items.length)){var r=this.items[e];this.items.splice(e,1),this.collectionChanged.raiseEvent(new a.ObservableArrayChangedArgs(a.EObservableArrayChangedAction.Remove,void 0,[r])),t&&(null==r?void 0:r.delete)&&r.delete()}},ObservableArrayBase.prototype.remove=function(e,t){void 0===t&&(t=!1);for(var r=0;r<this.size();r++)if(this.items[r]===e){this.removeAt(r,t);break}},ObservableArrayBase.prototype.clear=function(e){void 0===e&&(e=!1);var t=this.items;this.items=[],this.collectionChanged.raiseEvent(new a.ObservableArrayChangedArgs(a.EObservableArrayChangedAction.Reset,void 0,t)),e&&(null==t||t.forEach(function(e){(null==e?void 0:e.delete)&&e.delete()}))},ObservableArrayBase.prototype.get=function(e){return this.items[e]},ObservableArrayBase.prototype.set=function(e,t){this.items[e]=t,this.collectionChanged.raiseEvent(new a.ObservableArrayChangedArgs(a.EObservableArrayChangedAction.Replace,[t],void 0))},ObservableArrayBase}();t.ObservableArrayBase=s;var l=function(e){function ObservableArray(){return null!==e&&e.apply(this,arguments)||this}return n(ObservableArray,e),ObservableArray.prototype.getById=function(e){return this.items.find(function(t){return t.id===e})},ObservableArray}(s);t.ObservableArray=l},25820:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableArrayChangedArgs=t.EObservableArrayChangedAction=void 0,(r=t.EObservableArrayChangedAction||(t.EObservableArrayChangedAction={}))[r.Add=0]="Add",r[r.Remove=1]="Remove",r[r.Replace=2]="Replace",r[r.Reset=3]="Reset";var r,i=function(){function ObservableArrayChangedArgs(e,t,r){this.action=e,this.oldItems=r,this.newItems=t}return ObservableArrayChangedArgs.prototype.getAction=function(){return this.action},ObservableArrayChangedArgs.prototype.getNewItems=function(){return this.newItems},ObservableArrayChangedArgs.prototype.getOldItems=function(){return this.oldItems},ObservableArrayChangedArgs}();t.ObservableArrayChangedArgs=i},31085:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OneTimePerformanceWarning=void 0;var i=r(6316),n=r(3192),o=function(){function OneTimePerformanceWarning(e){this.warnedProperty=!1,this.messageProperty=e}return OneTimePerformanceWarning.prototype.warn=function(){return!!(n.SciChartDefaults.performanceWarnings&&!this.warnedProperty&&i.licenseManager2dState.getIsDev())&&(console.warn(this.messageProperty),this.warnedProperty=!0,!0)},OneTimePerformanceWarning}();t.OneTimePerformanceWarning=o},48484:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Point=void 0;var r=function(){function Point(e,t){this.x=e,this.y=t}return Point.prototype.toString=function(){return"Point (".concat(this.x,", ").concat(this.y,")")},Point}();t.Point=r},91383:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyChangedEventArgs=void 0,t.PropertyChangedEventArgs=function(e){this.propertyName=e}},47494:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rect=void 0;var i=r(48484),n=function(){function Rect(e,t,r,i){if(r<0||i<0)throw Error("Can not create Rect with negative width/height");this.x=e,this.y=t,this.width=r,this.height=i}return Rect.create=function(e,t,r,i){if(r<0||i<0)throw Error("Rect.create width and height cannot be less than zero");return new Rect(e,t,r,i)},Rect.createWithCoords=function(e,t,r,i){var n=r-e,o=i-t;return new Rect(e,t,n,o)},Rect.createWithPoints=function(e,t){var r=Math.min(e.x,t.x),i=Math.min(e.y,t.y),n=Math.max(Math.max(e.x,t.x)-r,0),o=Math.max(Math.max(e.y,t.y)-i,0);return Rect.create(r,i,n,o)},Rect.createCopy=function(e){return new Rect(e.x,e.y,e.width,e.height)},Rect.createZero=function(){return new Rect(0,0,0,0)},Rect.isEqual=function(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},Rect.clipPointToRect=function(e,t){var r=e.x<t.x?t.x:e.x>t.x+t.width?t.x+t.width:e.x,n=e.y<t.y?t.y:e.y>t.y+t.height?t.y+t.height:e.y;return new i.Point(r,n)},Object.defineProperty(Rect.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(Rect.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(Rect.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(Rect.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Rect}();t.Rect=n},63126:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendTelemetry=t.shouldSendTelemetry=t.getUserCookie=void 0;var i=r(6316),n=r(1107),o=r(69405),a=r(2003),s=r(92200),l=r(61619),u=!1,setUserCookie=function(e,t,r){var i="".concat(e,",").concat(t,",").concat(r);return(0,n.setCookie)("scUser",i,365)};t.getUserCookie=function(){var e=(0,n.getCookie)("scUser");if(e){var t=e.split(",");if(3===t.length)return{userId:t[0],sessionId:t[1],sessionStart:Number.parseInt(t[2],10)}}return{userId:(0,s.base64Id)(),sessionId:(0,s.base64Id)(),sessionStart:0}},t.shouldSendTelemetry=function(){return!(a.IS_TEST_ENV||u||i.licenseManager2dState.getLicenseType()!==l.LicenseType.Community&&!i.licenseManager2dState.getIsDev()||!i.licenseManager2dState.getTelemetry()||window&&!window.navigator.onLine)},t.sendTelemetry=function(){if((0,t.shouldSendTelemetry)()){var e=(0,t.getUserCookie)(),r=new Date().toISOString();if(!(Date.now()-e.sessionStart<36e5)){e.sessionId=(0,s.base64Id)(),e.sessionStart=Date.now(),setUserCookie(e.userId,e.sessionId,e.sessionStart);var n={time:r,iKey:"210b4d64-8147-471e-b6cb-244a2c939455",name:"Microsoft.ApplicationInsights.210b4d648147471eb6cb244a2c939455.Event",tags:{"ai.user.id":e.userId,"ai.session.id":e.sessionId,"ai.device.id":"browser","ai.device.type":"Browser"},data:{baseType:"EventData",baseData:{ver:2,name:"LicenseSet",properties:{platform:"JS",licenseType:i.licenseManager2dState.getLicenseType(),orderId:i.licenseManager2dState.getOrderId(),productCode:i.licenseManager2dState.getProductCode(),isDev:i.licenseManager2dState.getIsDev(),devCount:i.licenseManager2dState.getDevCount(),sciChartVersion:o.libraryVersion},measurements:{}}}};i.licenseManager2dState.getLicenseType()===l.LicenseType.Community&&(n.data.baseData.properties.url=window.location.href);var a=JSON.stringify([n]);fetch("https://dc.services.visualstudio.com/v2/track",{method:"POST",headers:{"Content-Type":"application/json"},body:a}).catch(function(e){}),u=!0}}}},36313:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Thickness=void 0;var i=r(92530),n=function(){function Thickness(e,t,r,i){this.top=e,this.right=t,this.bottom=r,this.left=i}return Thickness.fromString=function(e){i.Guard.notNull(e,"str");var t=e.split(" ").map(function(e){return parseFloat(e)});if(4!==t.length)throw Error("Expected string in the format '1 2 3 4' where values are top, right bottom and left");return new Thickness(t[0],t[1],t[2],t[3])},Thickness.fromNumber=function(e){return new Thickness(e,e,e,e)},Thickness.prototype.equals=function(e){return this.top===e.top&&this.right===e.right&&this.bottom===e.bottom&&this.left===e.left},Thickness}();t.Thickness=n},20342:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGlHelper=t.EWebGLSupport=void 0;var i,n,o=r(2003);(i=n=t.EWebGLSupport||(t.EWebGLSupport={})).WebGL2="WebGL 2",i.WebGL1="WebGL 1",i.NoWebGL="No WebGL support";var a=function(){function WebGlHelper(){}return WebGlHelper.initialize=function(){if(!WebGlHelper.initialized){if(!WebGlHelper.webGlSupport&&!o.IS_TEST_ENV){var e=document.createElement("canvas");e.getContext("webgl2")?WebGlHelper.webGlSupport=n.WebGL2:e.getContext("webgl")?WebGlHelper.webGlSupport=n.WebGL1:WebGlHelper.webGlSupport=n.NoWebGL}WebGlHelper.initialized=!0}},WebGlHelper.getWebGlSupport=function(){return WebGlHelper.webGlSupport},WebGlHelper.getContext=function(e,t){if(e&&!o.IS_TEST_ENV){if(WebGlHelper.webGlSupport===n.WebGL1)return e.getContext("webgl",t);if(WebGlHelper.webGlSupport===n.WebGL2)return e.getContext("webgl2",t);throw Error("SciChart: WebGL not supported!")}},WebGlHelper.webGlSupport=void 0,WebGlHelper.initialized=!1,WebGlHelper}();t.WebGlHelper=a},44466:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localStorageApi=void 0;var checkLocalStorageIsUndefined=function(){return"undefined"==typeof localStorage};t.localStorageApi={getIsLicenseDebug:function(){if(!checkLocalStorageIsUndefined())return"1"===localStorage.getItem("LICENSE_DEBUG")},setIsLicenseDebug:function(e){checkLocalStorageIsUndefined()||localStorage.setItem("LICENSE_DEBUG",e?"1":"0")},clearLicensingDebug:function(){checkLocalStorageIsUndefined()||localStorage.removeItem("LICENSE_DEBUG")},getLicenseWizardMaxPort:function(){if(!checkLocalStorageIsUndefined()){var e=Number(localStorage.getItem("LICENSE_WIZARD_MAXPORT"));if(!isNaN(e))return e}},getLicenseWizardPort:function(){if(!checkLocalStorageIsUndefined()){var e=Number(localStorage.getItem("LICENSE_WIZARD_PORT"));if(!isNaN(e))return e}}}},2003:function(e,t,r){"use strict";var i,n=r(28070);Object.defineProperty(t,"__esModule",{value:!0}),t.EPSILON=t.DEFAULT_HEIGHT=t.DEFAULT_WIDTH=t.IS_TEST_ENV=void 0;var o=!1;t.IS_TEST_ENV=o,void 0!==n&&(t.IS_TEST_ENV=o=(null===(i=n.env)||void 0===i?void 0:i.TEST_ENV)==="1"),t.DEFAULT_WIDTH=900,t.DEFAULT_HEIGHT=600,t.EPSILON=1e-4},93940:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceWarnings=void 0;var i=r(31085);t.performanceWarnings={dataDistributionFlagNaN:new i.OneTimePerformanceWarning("Data Distribution flag (BaseDataSeries.containsNaN = false) can be applied to improve performance. Read this website article https://www.scichart.com/documentation/js/current/DataResampling.html for more info. To disable this warning set SciChartDefaults.performanceWarnings = false"),dataDistributionFlagSortedAscending:new i.OneTimePerformanceWarning("Data Distribution flag (BaseDataSeries.isSorted = true) can be applied to improve performance. Read this website article https://www.scichart.com/documentation/js/current/DataResampling.html for more info. To disable this warning set SciChartDefaults.performanceWarnings = false"),subchartBackgroundNotSimpleColor:new i.OneTimePerformanceWarning("When using isTransparent: false on a SubChart, the background needs to be a simple color, not an html gradient (which the default theme uses). To disable this warning set SciChartDefaults.performanceWarnings = false"),dataLabelsSkippingMany:new i.OneTimePerformanceWarning("DataLabelProvider generated many more labels than it could display.  To improve performance consider increasing the pointGapThreshold, increasing the skipNumber, or decreasing the pointCountThreshold. To disable this warning set SciChartDefaults.performanceWarnings = false"),dateTimeDeltaCalculatorBadDelta:new i.OneTimePerformanceWarning("The DateTimeDeltaCalculator could not find a suitable delta given the current settings. \n        Either increase axis.maxAutoTicks, set axis.deltaCalculator.minTicks less than maxAutoTicks / 3, or set possibleDeltas to an array containing more closely spaced values.\n        To disable this warning set SciChartDefaults.performanceWarnings = false")}},51859:function(e,t){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.EVerticalAnchorPoint=t.EHorizontalAnchorPoint=void 0,(r=t.EHorizontalAnchorPoint||(t.EHorizontalAnchorPoint={})).Left="Left",r.Center="Center",r.Right="Right",(i=t.EVerticalAnchorPoint||(t.EVerticalAnchorPoint={})).Top="Top",i.Center="Center",i.Bottom="Bottom"},10239:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EAnimationType=void 0,(r=t.EAnimationType||(t.EAnimationType={})).Fade="Fade",r.Scale="Scale",r.Sweep="Sweep",r.Wave="Wave",r.Style="Style",r.Custom="Custom"},82288:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EAutoColorMode=void 0,(r=t.EAutoColorMode||(t.EAutoColorMode={})).Never="Never",r.Once="Once",r.OnAddRemoveSeries="OnAddRemoveSeries",r.Always="Always"},27817:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EAutoRange=void 0,(r=t.EAutoRange||(t.EAutoRange={})).Once="Once",r.Always="Always",r.Never="Never"},86599:function(e,t){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.handleInvalidAxisAlignment=t.getIsVertical=t.getIsHorizontal=t.EAxisAlignment=void 0,(r=i=t.EAxisAlignment||(t.EAxisAlignment={})).Right="Right",r.Left="Left",r.Top="Top",r.Bottom="Bottom",t.getIsHorizontal=function(e){return!![i.Bottom,i.Top].includes(e)||![i.Right,i.Left].includes(e)&&void 0},t.getIsVertical=function(e){return!1===(0,t.getIsHorizontal)(e)||!0!==(0,t.getIsHorizontal)(e)&&void 0},t.handleInvalidAxisAlignment=function(e){throw Error('Invalid Axis Alignment value: "'.concat(e,'"!'))}},18157:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EAxisType=void 0,(r=t.EAxisType||(t.EAxisType={})).CategoryAxis="CategoryAxis",r.NumericAxis="NumericAxis",r.LogarithmicAxis="LogarithmicAxis",r.NumericAxis3D="NumericAxis3D",r.DateTimeNumericAxis="DateTimeNumericAxis"},51894:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EBaseType=void 0,(r=t.EBaseType||(t.EBaseType={})).Axis="Axis",r.Annotation="Annotation",r.RenderableSeries="RenderableSeries",r.LayoutManager="LayoutManager",r.ThemeProvider="ThemeProvider",r.Chart2DModifier="Chart2DModifier",r.LabelProvider="LabelProvider",r.PointMarker="PointMarker",r.ShaderEffect="ShaderEffect",r.PaletteProvider="PaletteProvider",r.Animation="Animation",r.Loader="Loader",r.MetadataGenerator="MetadataGenerator",r.OptionFunction="OptionFunction",r.OnCreateFunction="OnCreateFunction",r.DataFilter="DataFilter",r.LayoutStrategy="LayoutStrategy",r.DataLabelProvider="DataLabelProvider"},81751:function(e,t){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.EChart3DModifierType=t.EChart2DModifierType=void 0,(r=t.EChart2DModifierType||(t.EChart2DModifierType={})).Cursor="Cursor",r.DataPointSelection="DataPointSelection",r.Legend="Legend",r.MouseWheelZoom="MouseWheelZoom",r.PinchZoom="PinchZoom",r.Rollover="Rollover",r.VerticalSlice="VerticalSlice",r.RubberBandXYZoom="RubberBandXYZoom",r.SeriesSelection="SeriesSelection",r.XAxisDrag="XAxisDrag",r.YAxisDrag="YAxisDrag",r.ZoomExtents="ZoomExtents",r.ZoomPan="ZoomPan",r.OverviewRangeSelection="OverviewRangeSelection",r.Custom="Custom",(i=t.EChart3DModifierType||(t.EChart3DModifierType={})).MouseWheelZoom="MouseWheelZoom",i.Orbit="Orbit",i.ZoomExtents="ZoomExtents",i.Tooltip="Tooltip",i.PinchZoom="PinchZoom",i.Custom="Custom"},47405:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EColor=void 0,(r=t.EColor||(t.EColor={})).Aqua="#00ffff",r.BackgroundColor="#1c1c1e",r.Blue="#368BC1",r.DarkGreen="#03925e",r.DarkRed="#be0000",r.DarkGrey="#7e8486",r.DefaultGridBandsColor="#202123",r.DefaultTextColor="#c8c7c3",r.DodgerBlue="#1E90FF",r.Green="#228B22",r.LightGrey="#eeeeee",r.LightSteelBlue="#b0c4de",r.LimeGreen="#32CD32",r.Orange="#ff6600",r.OrangeRed="#FF4500",r.Purple="#B200FF",r.Red="#ff0000",r.White="#ffffff",r.Yellow="#FFFF00"},24764:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ECursorStyle=void 0,(r=t.ECursorStyle||(t.ECursorStyle={})).NS="ns-resize",r.EW="ew-resize",r.Defalut="auto"},34422:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EDataFilterType=void 0,(r=t.EDataFilterType||(t.EDataFilterType={})).XyLinearTrend="XyLinearTrend",r.XyMovingAverage="XyMovingAverage",r.XyRatio="XyRatio",r.XyScaleOffset="XyScaleOffset",r.XyyScaleOffset="XyyScaleOffset",r.XyzScaleOffset="XyzScaleOffset",r.HlcScaleOffset="HlcScaleOffset",r.OhlcScaleOffset="OhlcScaleOffset"},15140:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EDataLabelProviderType=void 0,(r=t.EDataLabelProviderType||(t.EDataLabelProviderType={})).Default="Default",r.Line="Line",r.Column="Column",r.Text="Text",r.Heatmap="Heatmap",r.Band="Band",r.Bubble="Bubble",r.NonUniformHeatmap="NonUniformHeatmap",r.Contours="Contours",r.Custom="Custom"},92767:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EDataLabelSkipMode=void 0,(r=t.EDataLabelSkipMode||(t.EDataLabelSkipMode={})).ShowAll="ShowAll",r.SkipIfOverlapPrevious="SkipIfOverlapPrevious",r.SkipIfOverlapNext="SkipIfOverlapNext",r.SkipIfSame="SkipIfSame"},33186:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EDataPointWidthMode=void 0,(r=t.EDataPointWidthMode||(t.EDataPointWidthMode={})).Absolute="Absolute",r.Relative="Relative"},17575:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EDefaultRenderLayer=void 0,(r=t.EDefaultRenderLayer||(t.EDefaultRenderLayer={}))[r.Background=0]="Background",r[r.AxisBandsLayer=1]="AxisBandsLayer",r[r.MinorGridLinesLayer=2]="MinorGridLinesLayer",r[r.MajorGridLinesLayer=3]="MajorGridLinesLayer",r[r.AnnotationsBelowSeriesLayer=4]="AnnotationsBelowSeriesLayer",r[r.SeriesLayer=5]="SeriesLayer",r[r.AxisBordersLayer=6]="AxisBordersLayer",r[r.AxesLayer=7]="AxesLayer",r[r.AnnotationsAboveSeriesLayer=8]="AnnotationsAboveSeriesLayer"},39406:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EDragMode=void 0,(r=t.EDragMode||(t.EDragMode={})).Scaling="Scaling",r.Panning="Panning"},15958:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EErrorDirection=void 0,(r=t.EErrorDirection||(t.EErrorDirection={})).Horizontal="Horizontal",r.Vertical="Vertical"},66379:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EErrorMode=void 0,(r=t.EErrorMode||(t.EErrorMode={})).Both="Both",r.High="High",r.Low="Low"},6954:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EExecuteOn=void 0,(r=t.EExecuteOn||(t.EExecuteOn={}))[r.MouseLeftButton=0]="MouseLeftButton",r[r.MouseMiddleButton=1]="MouseMiddleButton",r[r.MouseRightButton=2]="MouseRightButton",r[r.BrowserBackButton=3]="BrowserBackButton",r[r.BrowserForwardButton=4]="BrowserForwardButton"},90531:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ELabelAlignment=void 0,(r=t.ELabelAlignment||(t.ELabelAlignment={})).Auto="Auto",r.Left="Left",r.Right="Right",r.Center="Center"},87706:function(e,t){"use strict";var r,i,n;Object.defineProperty(t,"__esModule",{value:!0}),t.EVerticalAlignment=t.EHorizontalAlignment=t.ELabelPlacement=void 0,(r=t.ELabelPlacement||(t.ELabelPlacement={})).Right="Right",r.TopRight="TopRight",r.BottomRight="BottomRight",r.Bottom="Bottom",r.Left="Left",r.TopLeft="TopLeft",r.BottomLeft="BottomLeft",r.Top="Top",r.Axis="Axis",r.Auto="Auto",(i=t.EHorizontalAlignment||(t.EHorizontalAlignment={})).Right="Right",i.Left="Left",(n=t.EVerticalAlignment||(t.EVerticalAlignment={})).Top="Top",n.Bottom="Bottom"},73326:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ELabelProviderType=void 0,(r=t.ELabelProviderType||(t.ELabelProviderType={})).Numeric="Numeric",r.Logarithmic="Logarithmic",r.Date="Date",r.SmartDate="SmartDate",r.Text="Text",r.Pie="Pie"},18638:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ELayoutManagerType=void 0,(r=t.ELayoutManagerType||(t.ELayoutManagerType={})).Default="Default",r.CentralAxes="CentralAxes",r.Synchronised="Synchronised"},8558:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ELayoutStrategyType=void 0,(r=t.ELayoutStrategyType||(t.ELayoutStrategyType={})).LeftOuter="LeftOuter",r.RightOuter="RightOuter",r.TopOuter="TopOuter",r.BottomOuter="BottomOuter",r.LeftInner="LeftInner",r.RightInner="RightInner",r.TopInner="TopInner",r.BottomInner="BottomInner",r.LeftStacked="LeftStacked",r.RightStacked="RightStacked",r.TopStacked="TopStacked",r.BottomStacked="BottomStacked",r.Custom="Custom"},55617:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EMousePosition=void 0,(r=t.EMousePosition||(t.EMousePosition={})).OutOfCanvas="OutOfCanvas",r.AxisArea="AxisArea",r.SeriesArea="SeriesArea"},17570:function(e,t){"use strict";function isTypedArray(e){return e instanceof Float64Array}Object.defineProperty(t,"__esModule",{value:!0}),t.subArray=t.isNumberArray=t.isTypedArray=void 0,t.isTypedArray=isTypedArray,t.isNumberArray=function(e){return Array.isArray(e)&&(!(e.length>0)||"number"==typeof e[0])},t.subArray=function(e,t,r){return isTypedArray(e)?e.subarray(t,r):e.slice(t,r)}},44841:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ENumericFormat=void 0,(r=t.ENumericFormat||(t.ENumericFormat={})).NoFormat="NoFormat",r.Decimal="Decimal",r.SignificantFigures="SignificantFigures",r.Date_DDMMYYYY="Date_DDMMYYYY",r.Date_DDMMYY="Date_DDMMYY",r.Date_DDMMHHMM="Date_DDMMHHMM",r.Date_DDMM="Date_DDMM",r.Date_HHMM="Date_HHMM",r.Date_HHMMSS="Date_HHMMSS",r.Exponential="Exponential",r.Scientific="Scientific"},86538:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EPaletteProviderType=void 0,(r=t.EPaletteProviderType||(t.EPaletteProviderType={})).Gradient="Gradient",r.DataPointSelection="DataPointSelection",r.Custom="Custom"},67423:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EPointMarkerType=void 0,(r=t.EPointMarkerType||(t.EPointMarkerType={})).Ellipse="Ellipse",r.Cross="Cross",r.Sprite="Sprite",r.Square="Square",r.Triangle="Triangle",r.X="X",r.Custom="Custom"},73014:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ERenderLayer=void 0,(r=t.ERenderLayer||(t.ERenderLayer={}))[r.First=0]="First",r[r.Second=1]="Second",r[r.Third=2]="Third"},6130:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ESceneEntityType=void 0,(r=t.ESceneEntityType||(t.ESceneEntityType={}))[r.AxisCubeEntity=0]="AxisCubeEntity",r[r.Custom=1]="Custom",r[r.GizmoEntity=2]="GizmoEntity",r[r.RootSceneEntity=3]="RootSceneEntity",r[r.ScatterPointsSceneEntity=4]="ScatterPointsSceneEntity",r[r.SCRTSceneEntity=5]="SCRTSceneEntity",r[r.SurfaceMeshSceneEntity=6]="SurfaceMeshSceneEntity",r[r.PointLine3DSceneEntity=7]="PointLine3DSceneEntity"},82042:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ESciChartSurfaceType=void 0,(r=t.ESciChartSurfaceType||(t.ESciChartSurfaceType={})).Default2D="Default2D",r.Pie2D="Pie2D",r.Default3D="Default3D"},96565:function(e,t){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.convertSearchMode=t.ESearchMode=void 0,(r=i=t.ESearchMode||(t.ESearchMode={})).Exact="Exact",r.Nearest="Nearest",r.RoundDown="RoundDown",r.RoundUp="RoundUp",t.convertSearchMode=function(e,t){switch(t){case i.Exact:return e.SCRTFindIndexSearchMode.Exact;case i.Nearest:return e.SCRTFindIndexSearchMode.Nearest;case i.RoundDown:return e.SCRTFindIndexSearchMode.RoundDown;case i.RoundUp:return e.SCRTFindIndexSearchMode.RoundUp}}},55687:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ESeriesType=void 0,(r=t.ESeriesType||(t.ESeriesType={})).BandSeries="BandSeries",r.SplineBandSeries="SplineBandSeries",r.BubbleSeries="BubbleSeries",r.CandlestickSeries="CandlestickSeries",r.ColumnSeries="ColumnSeries",r.ImpulseSeries="ImpulseSeries",r.LineSeries="LineSeries",r.SplineLineSeries="SplineLineSeries",r.MountainSeries="MountainSeries",r.SplineMountainSeries="SplineMountainSeries",r.OhlcSeries="OhlcSeries",r.StackedColumnSeries="StackedColumnSeries",r.StackedMountainSeries="StackedMountainSeries",r.UniformContoursSeries="UniformContoursSeries",r.UniformHeatmapSeries="UniformHeatmapSeries",r.NonUniformHeatmapSeries="NonUniformHeatmapSeries",r.StackedMountainCollection="StackedMountainCollection",r.StackedColumnCollection="StackedColumnCollection",r.ScatterSeries="ScatterSeries",r.ErrorBarsSeries="ErrorBarsSeries",r.TextSeries="TextSeries",r.Custom="Custom"},5399:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EShaderEffectType=void 0,(r=t.EShaderEffectType||(t.EShaderEffectType={})).Glow="Glow",r.Shadow="Shadow"},67475:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Size=void 0;var r=function(){function Size(e,t){this.width=e,this.height=t}return Size.EMPTY=new Size(0,0),Size}();t.Size=r},96538:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ESvgClippingMode=void 0,(r=t.ESvgClippingMode||(t.ESvgClippingMode={})).SeriesViewRect="SeriesViewRect",r.SubChart="SubChart",r.Chart="Chart"},66219:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EColorMapMode=void 0,(r=t.EColorMapMode||(t.EColorMapMode={}))[r.Interpolated=0]="Interpolated",r[r.Stepped=1]="Stepped"},3979:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7556:function(e,t){"use strict";var r,i,n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.convertMultiLineAlignment=t.EMultiLineAlignment=t.EVerticalTextPosition=t.EHorizontalTextPosition=void 0,(r=t.EHorizontalTextPosition||(t.EHorizontalTextPosition={})).Left="Left",r.Center="Center",r.Right="Right",(i=t.EVerticalTextPosition||(t.EVerticalTextPosition={})).Above="Above",i.Center="Center",i.Below="Below",(n=o=t.EMultiLineAlignment||(t.EMultiLineAlignment={})).Left="Left",n.Right="Right",n.Center="Center",t.convertMultiLineAlignment=function(e,t){var r=t.eTSRTextAlignMode.Left;switch(e){case o.Left:r=t.eTSRTextAlignMode.Left;break;case o.Right:r=t.eTSRTextAlignMode.Right;break;case o.Center:r=t.eTSRTextAlignMode.Center}return r}},19313:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.adjustTextStyle=t.areEqualTextStyles=t.areEqualSimpleTextStyles=t.areEqualNativeTextStyles=t.areEqualTextureTextStyles=t.handleInvalidTextAlignment=t.handleInvalidChartTitlePosition=t.getIsHorizontalPlacement=t.ETitlePosition=t.ETextAlignment=void 0;var i,n,o,a=r(91462);(i=t.ETextAlignment||(t.ETextAlignment={})).Center="Center",i.Left="Left",i.Right="Right",(n=o=t.ETitlePosition||(t.ETitlePosition={})).Top="Top",n.Bottom="Bottom",n.Right="Right",n.Left="Left",t.getIsHorizontalPlacement=function(e){return e===o.Top||e===o.Bottom},t.handleInvalidChartTitlePosition=function(e){throw Error("Invalid chart title position: ".concat(e,"!"))},t.handleInvalidTextAlignment=function(e){throw Error('Invalid text alignment "'.concat(e,'"!'))},t.areEqualTextureTextStyles=function(e,t){return e.color===t.color&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.fontStyle===t.fontStyle&&e.fontWeight===t.fontWeight&&e.lineSpacing===t.lineSpacing&&(void 0===e.padding&&void 0===t.padding||e.padding.equals(t.padding))},t.areEqualNativeTextStyles=function(e,t){return e.color===t.color&&e.fontFamily===t.fontFamily&&e.fontSize===t.fontSize&&e.lineSpacing===t.lineSpacing&&(void 0===e.padding&&void 0===t.padding||e.padding.equals(t.padding))},t.areEqualSimpleTextStyles=function(e,r){return!!e&&!!r&&!e.useNativeText==!r.useNativeText&&(e.useNativeText&&r.useNativeText?(0,t.areEqualNativeTextStyles)(e,r):(0,t.areEqualTextureTextStyles)(e,r))},t.areEqualTextStyles=function(e,r){return(0,t.areEqualSimpleTextStyles)(e,r)&&e.rotation===r.rotation&&e.multilineAlignment===r.multilineAlignment},t.adjustTextStyle=function(e){return a.DpiHelper.adjustTextStyle(e)}},64913:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EThemeProviderType=void 0,(r=t.EThemeProviderType||(t.EThemeProviderType={})).Light="Light",r.Dark="Dark",r.DarkV2="DarkV2",r.Navy="Navy",r.Custom="Custom"},36108:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EWatermarkPosition=void 0,(r=t.EWatermarkPosition||(t.EWatermarkPosition={}))[r.BottomLeft=0]="BottomLeft",r[r.BottomRight=1]="BottomRight",r[r.TopLeft=2]="TopLeft",r[r.TopRight=3]="TopRight"},24510:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EXyDirection=void 0,(r=t.EXyDirection||(t.EXyDirection={})).XDirection="XDirection",r.YDirection="YDirection",r.XyDirection="XyDirection"},60717:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EYRangeMode=void 0,(r=t.EYRangeMode||(t.EYRangeMode={})).Visible="Visible",r.Drawn="Drawn"},81762:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.EZoomState=void 0,(r=t.EZoomState||(t.EZoomState={}))[r.AtExtents=0]="AtExtents",r[r.UserZooming=1]="UserZooming"},61619:function(e,t){"use strict";var r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.LicenseCheckStatus=t.LicenseType=void 0,(r=t.LicenseType||(t.LicenseType={}))[r.NoLicense=0]="NoLicense",r[r.Trial=1]="Trial",r[r.Full=2]="Full",r[r.Full_Expired=3]="Full_Expired",r[r.Trial_Expired=4]="Trial_Expired",r[r.Subscription_Expired=5]="Subscription_Expired",r[r.Invalid_Developer=6]="Invalid_Developer",r[r.Requres_Validation=7]="Requres_Validation",r[r.Invalid=8]="Invalid",r[r.Community=9]="Community",(i=t.LicenseCheckStatus||(t.LicenseCheckStatus={}))[i.NoLicense=0]="NoLicense",i[i.FetchingFromServer=1]="FetchingFromServer",i[i.StartLookingForLicenseWizard=2]="StartLookingForLicenseWizard",i[i.LookingForLicenseWizard=3]="LookingForLicenseWizard",i[i.ValidatingDeveloperLicense=4]="ValidatingDeveloperLicense",i[i.NoLicenseInWizard=5]="NoLicenseInWizard",i[i.FailedToFindLicenseWizard=6]="FailedToFindLicenseWizard",i[i.FailedToValidateDeveloperLicense=7]="FailedToValidateDeveloperLicense",i[i.DevKeyInRuntimeKey=8]="DevKeyInRuntimeKey",i[i.LicenseOK=9]="LicenseOK"},29502:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MemoryUsageHelper=t.generateIdentifier=t.ObjectRegistry=void 0;var i=r(6695),n=r(92200),o=function(){function ObjectRegistry(){var e=this;this.weakMapRegistry=new WeakMap,this.undeletedObjectsMap=new Map,this.uncollectedObjectsMap=new Map,this.finalizationRegistry=new FinalizationRegistry(function(t){e.uncollectedObjectsMap.delete(t),e.onCollect(t)})}return ObjectRegistry.prototype.add=function(e,t,r){void 0===r&&(r={isWasmObject:!1});var i,n,o=r.isWasmObject;this.weakMapRegistry.has(e)&&console.warn("Adding existing entry to the registry!",t),this.undeletedObjectsMap.has(t)&&console.warn("Adding existing entry id to the registry!",t),this.finalizationRegistry.register(e,t),this.weakMapRegistry.set(e,t);var a=null!==(n=null===(i=null==r?void 0:r.revocableToken)||void 0===i?void 0:i.proxy)&&void 0!==n?n:null==r?void 0:r.proxy,s=null==r?void 0:r.revocableToken;a&&this.weakMapRegistry.set(a,t);var l={isWasmObject:o,objectRef:new WeakRef(e),proxyRef:a&&new WeakRef(a),revocableTokenRef:s&&new WeakRef(s)};e.delete&&this.undeletedObjectsMap.set(t,l),this.uncollectedObjectsMap.set(t,l)},ObjectRegistry.prototype.remove=function(e){return this.undeletedObjectsMap.has(e)||this.uncollectedObjectsMap.has(e)||console.warn("".concat(e," was not found in the ObjectRegistry!")),this.undeletedObjectsMap.delete(e)},ObjectRegistry.prototype.getObjectId=function(e){return this.weakMapRegistry.get(e)},ObjectRegistry.prototype.deleteIDeletableObjects=function(){var e=this;this.undeletedObjectsMap.forEach(function(t,r){t.isWasmObject||e.deleteEntry(t,r)})},ObjectRegistry.prototype.deleteWasmObjects=function(){var e=this;this.undeletedObjectsMap.forEach(function(t,r){t.isWasmObject&&e.deleteEntry(t,r)})},ObjectRegistry.prototype.log=function(){var e=this,t=Array.from(this.undeletedObjectsMap.keys()),r=Array.from(this.uncollectedObjectsMap.keys()),i=t.filter(function(t){return!e.uncollectedObjectsMap.has(t)}),n=r.filter(function(t){return!e.undeletedObjectsMap.has(t)});console.log("Object Registry Log Start:"),console.log("undeletedObjectsMap",this.undeletedObjectsMap),console.log("uncollectedObjectsMap",this.uncollectedObjectsMap),console.log("collectedNotDeleted",i),console.log("deletedNotCollected",n),console.log("weakMap",this.weakMapRegistry),console.log("Object Registry Log End")},ObjectRegistry.prototype.getState=function(){var e=Array.from(this.undeletedObjectsMap.keys()),t=Array.from(this.uncollectedObjectsMap.keys()),r={};return e.length&&(r.undeletedObjectsIds=e),t.length&&(r.uncollectedObjectsIds=t),r},ObjectRegistry.prototype.deleteEntry=function(e,t){var r=e.objectRef.deref();r?(r.delete(),this.remove(t)):console.warn("Looks like the ".concat(t," has already been garbage collected, thus the proper cleanup could not be executed!"))},ObjectRegistry.prototype.onCollect=function(e){},ObjectRegistry}();t.ObjectRegistry=o,t.generateIdentifier=function(e){return"".concat(null==e?void 0:e.constructor.name,"_").concat((0,n.generateGuid)())};var a=function(){function MemoryUsageHelper(){}return Object.defineProperty(MemoryUsageHelper,"isMemoryUsageDebugEnabled",{get:function(){return this.isMemoryUsageDebugEnabledProperty},set:function(e){e&&console.warn("Memory usage debug enabled! Make sure to disable it for production build!")},enumerable:!1,configurable:!0}),MemoryUsageHelper.register=function(e,r){var i;if(!e){console.warn('Registering invalid object "'.concat(e,'"!'));return}null===(i=MemoryUsageHelper.objectRegistry)||void 0===i||i.add(e,null!=r?r:(0,t.generateIdentifier)(e))},MemoryUsageHelper.unregister=function(e){var t;null===(t=MemoryUsageHelper.objectRegistry)||void 0===t||t.remove(e)},MemoryUsageHelper.destroyMultiChart=function(){i.sciChartDestinations.forEach(function(e){return e.sciChartSurface.delete(!0)}),i.sciChart3DDestinations.forEach(function(e){return e.sciChartSurface.delete(!0)})},MemoryUsageHelper.destroySingleCharts=function(){i.sciChartSingleDestinations.forEach(function(e){return e.sciChartSurface.delete(!0)}),i.sciChart3DSingleDestinations.forEach(function(e){return e.sciChartSurface.delete(!0)})},MemoryUsageHelper.destroyPieCharts=function(){i.sciChartPieDestinations.forEach(function(e){return e.sciChartSurface.delete(!0)})},MemoryUsageHelper.destroyAllCharts=function(){MemoryUsageHelper.destroyMultiChart(),MemoryUsageHelper.destroySingleCharts(),MemoryUsageHelper.destroyPieCharts()},MemoryUsageHelper.isMemoryUsageDebugEnabledProperty=!1,MemoryUsageHelper}();t.MemoryUsageHelper=a},70250:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendRangeFifo=t.makeIncArray=t.isArraySorted=t.arrayRemove=t.areArraysEqual=t.countUnique=t.getUniqueValues=void 0,t.getUniqueValues=function(e){return e.filter(function(e,t,r){return null!=e&&r.indexOf(e)===t})},t.countUnique=function(e){return new Set(e).size},t.areArraysEqual=function(e,t){if(e===t)return!0;if((null==e?void 0:e.length)!==(null==t?void 0:t.length))return!1;if(e&&t){for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1}return!0},t.arrayRemove=function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t){e.splice(r,1);break}return e},t.isArraySorted=function(e,t){void 0===t&&(t=!0);for(var r=!0,i=t?function(t){return e[t]>e[t+1]}:function(t){return e[t]<e[t+1]},n=0;n<e.length-1;n++)if(i(n)){r=!1;break}return r},t.makeIncArray=function(e,t,r){var i=Array.from(Array(e)).map(function(e,r){return(null!=t?t:1)*r});return r?i.map(r):i},t.appendRangeFifo=function(e,t,r,i){var n=t.length,o=e.length;if(r>=n+o){t.length+=o;for(var a=0;a<o;++a)t[n+a]=e[a]}else if(o>r)t=e.slice(o-r);else if(r>n){var s=r-n;t.length=r;for(var a=0;a<o;++a)a<s?t[n+a]=e[a]:t[s-a]=e[a]}else{var s=o;i+o>r&&(s=r-i);for(var a=0;a<o;++a)a<s?t[i+a]=e[a]:t[s-a]=e[a]}}},35218:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcAverageForArray=t.calcAverageForDoubleVector=void 0,t.calcAverageForDoubleVector=function(e,t,r){var i=e.size(),n=null!=r?r:i-1;if(n>=i||n<0)throw Error("index should be in range [0, length-1]");if(n+1<t)return NaN;for(var o=0,a=n+1-t;a<n+1;a++)o+=e.get(a);return o/t},t.calcAverageForArray=function(e,t,r){var i=e.length,n=null!=r?r:i-1;if(n>=i||n<0)throw Error("index should be in range [0, length-1]");if(n+1<t)return NaN;for(var o=0,a=n+1-t;a<n+1;a++)o+=e[a];return o/t}},24714:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendDoubleVectorFromJsArray=t.memCopyFloat32=t.insertDoubleVectorFromJsArray=t.SIZEOF_FLOAT32=t.SIZEOF_NUMBER=void 0;var i=r(92530);t.SIZEOF_NUMBER=8,t.SIZEOF_FLOAT32=4,t.insertDoubleVectorFromJsArray=function(e,r,n,o){i.Guard.notNull(e,"wasmContext"),i.Guard.notNull(r,"source"),i.Guard.notNull(n,"dest"),i.Guard.isTrue(o>=0,"destIndex must be greater than or equal to zero"),i.Guard.isTrue(o<=n.size(),"destIndex must be less than or equal to dest.size()");var a=r.length;if(0!==a){var s=n.size();n.resizeFast(s+a),o<s&&e.SCRTMemMove(n.dataPtr(o+a),n.dataPtr(o),(s-o)*t.SIZEOF_NUMBER),e.HEAPF64.set(r,n.dataPtr(o)/t.SIZEOF_NUMBER)}},t.memCopyFloat32=function(e,r,n,o){i.Guard.notNull(e,"wasmContext"),i.Guard.notNull(r,"source"),i.Guard.notNull(n,"dest"),i.Guard.isTrue(o>=0,"destIndex must be greater than or equal to zero"),i.Guard.isTrue(o<=n.size()+r.length,"destIndex must be less than or equal to dest.size() + source.Length"),0!==r.length&&e.HEAPF32.set(r,n.dataPtr(o)/t.SIZEOF_FLOAT32)},t.appendDoubleVectorFromJsArray=function(e,r,i,n){void 0===n&&(n=!0);try{if(n){var o,a=r.size(),s=i.length,l=a,u=l+s;r.resizeFast(u);var c=r.dataPtr(l);e.HEAPF64.set(i,c/t.SIZEOF_NUMBER)}else{var a=r.size(),s=i.length,l=a,u=l+s;e.SCRTSetActiveDoubleVector(r,a),o=e._malloc(8*s),e.HEAPF64.set(i,o/t.SIZEOF_NUMBER),e.ccall("SCRTFillActiveDoubleVector",null,["number","number","number"],[o,l,u])}}catch(e){console.log(e)}finally{o&&e._free(o)}}},13973:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyOpacityToHtmlColor=t.uintArgbColorIsTransparent=t.uintArgbColorOverrideOpacity=t.uintArgbColorMultiplyOpacity=t.uintArgbColorToAbgr=t.linearColorMapLerp=t.uintArgbColorLerp=t.uintArgbColorLerp24bit=void 0;var i=r(66219),n=r(48053);function uintArgbColorLerp24bit(e,t,r){var i=256*r,n=256-i;return(16711935&e)*n+(16711935&t)*i>>8&16711935|(4278255360&e)*n+(4278255360&t)*i>>8&4278255360}function uintArgbColorLerp(e,t,r){return(uintArgbColorLerp24bit(e>>>16,t>>>16,r)<<16>>>0)+uintArgbColorLerp24bit((65535&e)>>>0,(65535&t)>>>0,r)}t.uintArgbColorLerp24bit=uintArgbColorLerp24bit,t.uintArgbColorLerp=uintArgbColorLerp,t.linearColorMapLerp=function(e,t){if(t<e.Minimum)return(0,n.parseColorToUIntArgb)(e.GradientStops[0].color);var r,o=1/(e.Maximum-e.Minimum),a=(t-e.Minimum)*o,s=e.GradientStops,l=[];for(r=1;r<s.length;r++)l.push(1/(s[r].offset-s[r-1].offset));for(r=0;r<s.length-1;r++){var u=s[r],c=s[r+1];if(a>=u.offset&&a<c.offset){if(e.Mode===i.EColorMapMode.Stepped)return(0,n.parseColorToUIntArgb)(u.color);var d=(a-u.offset)*l[r];return uintArgbColorLerp((0,n.parseColorToUIntArgb)(u.color),(0,n.parseColorToUIntArgb)(c.color),d)}}return(0,n.parseColorToUIntArgb)(e.GradientStops[r].color)},t.uintArgbColorToAbgr=function(e){return e-(16777215&e)+(((255&e)<<16)+((65280&e)>>8<<8)+((16711680&e)>>16))},t.uintArgbColorMultiplyOpacity=function(e,t){var r=e-(16777215&e);return r>>>=24,r*=t,(r=16777216*Math.floor(r))+(16777215&e)},t.uintArgbColorOverrideOpacity=function(e,t){var r=255*t;return(r=16777216*Math.floor(r))+(16777215&e)},t.uintArgbColorIsTransparent=function(e){return 4278190080!=e-(16777215&e)},t.applyOpacityToHtmlColor=function(e,t){var r=(0,n.parseColorToTArgb)(e);return r.opacity=Math.floor(256*t),(0,n.parseTArgbToHtmlColor)(r)}},45343:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertRgbToHexColor=t.convertColor=void 0,t.convertColor=function(e,t){void 0===t&&(t=1);var r=convertComponent(t),i=e.toLowerCase();return 0===i.length?"":"#"===i[0]?"0x".concat(r).concat(i.substr(1)):"0x".concat(r).concat(i)},t.convertRgbToHexColor=function(e,t,r){return"#"+convertComponent(e)+convertComponent(t)+convertComponent(r)};var convertComponent=function(e){if(e>=1)return"ff";if(e<=0)return"00";var t=Math.floor(256*e).toString(16);return 1===t.length?"0"+t:t}},18154:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToPixel=void 0,t.convertToPixel=function(e,t,r,i){return parseInt("0x"+toHex(i)+toHex(e)+toHex(t)+toHex(r),16)};var toHex=function(e){return e>=255?"ff":e<=0?"00":e.toString(16)}},1107:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteCookie=t.getCookie=t.setCookie=void 0,t.setCookie=function(e,t,r){var i=new Date;i.setTime(i.getTime()+864e5*r),"undefined"!=typeof document&&(document.cookie=e+"="+t+"; expires="+i.toUTCString()+"; path=/")},t.getCookie=function(e){if("undefined"==typeof document)return null;var t=("; "+document.cookie).split("; "+e+"=");return 2===t.length?t.pop().split(";").shift():""},t.deleteCookie=function(e){if("undefined"!=typeof document){var t=new Date;t.setTime(t.getTime()+-864e5),document.cookie=e+"=; expires="+t.toUTCString()+"; path=/"}}},20234:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyDoubleVector=void 0;var i=r(24714);t.copyDoubleVector=function(e,t,r){var n=e.size();t.resizeFast(n),r.SCRTMemCopy(t.dataPtr(0),e.dataPtr(0),n*i.SIZEOF_NUMBER)}},28615:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatUnixDateToHumanStringYYYY=t.formatUnixDateToHumanStringDD=t.formatUnixDateToHumanStringMMM=t.formatUnixDateToHumanStringMMMDD=t.formatUnixDateToHumanStringHHMM=t.formatUnixDateToHumanStringHHMMSS=t.formatUnixDateToHumanStringDDMM=t.formatUnixDateToHumanStringDDMMHHMM=t.formatUnixDateToHumanStringDDMMYY=t.formatUnixDateToHumanString=void 0,t.formatUnixDateToHumanString=function(e,t){void 0===t&&(t="en-US");var r=new Date(1e3*e).toLocaleDateString(t,{month:"numeric",year:"numeric",day:"numeric"});return"Invalid Date"===r?"":r},t.formatUnixDateToHumanStringDDMMYY=function(e){var t=new Date(1e3*e).toLocaleDateString("en-GB",{timeZone:"utc",year:"2-digit",month:"2-digit",day:"2-digit"});return"Invalid Date"===t?"":t},t.formatUnixDateToHumanStringDDMMHHMM=function(e){var r=(0,t.formatUnixDateToHumanStringDDMM)(e),i=(0,t.formatUnixDateToHumanStringHHMM)(e);return"".concat(r," ").concat(i)},t.formatUnixDateToHumanStringDDMM=function(e){var t=new Date(1e3*e).toLocaleDateString("en-GB",{timeZone:"utc",day:"numeric",month:"numeric"});return"Invalid Date"===t?"":t},t.formatUnixDateToHumanStringHHMMSS=function(e){var t=new Date(1e3*e),r=t.getUTCHours(),i=t.getUTCMinutes(),n=t.getUTCSeconds();if(isNaN(r)||isNaN(i)||isNaN(n))return"";var o=r<=9?"0".concat(r):r.toString(10),a=i<=9?"0".concat(i):i.toString(10),s=n<=9?"0".concat(n):n.toString(10);return"".concat(o,":").concat(a,":").concat(s)},t.formatUnixDateToHumanStringHHMM=function(e){var t=new Date(1e3*e),r=t.getUTCHours(),i=t.getUTCMinutes();if(isNaN(r)||isNaN(i))return"";var n=r<=9?"0".concat(r):r.toString(10),o=i<=9?"0".concat(i):i.toString(10);return"".concat(n,":").concat(o)},t.formatUnixDateToHumanStringMMMDD=function(e){var t=new Date(1e3*e),r=t.getUTCMonth(),i=t.getUTCDate();return isNaN(r)||isNaN(i)?"":"".concat(getMonthString(r)," ").concat(i)},t.formatUnixDateToHumanStringMMM=function(e){var t=new Date(1e3*e).getUTCMonth();return isNaN(t)?"":getMonthString(t)},t.formatUnixDateToHumanStringDD=function(e){var t=new Date(1e3*e).getUTCDate();if(isNaN(t))return"";var r=t.toString();return 2===r.length?r:1===r.length?"0".concat(r):""},t.formatUnixDateToHumanStringYYYY=function(e){var t=new Date(1e3*e).getUTCFullYear();return isNaN(t)?"":t.toString(10)};var getMonthString=function(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:throw Error("Not correct month")}}},41046:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logDoubleVector=void 0,t.logDoubleVector=function(e,t,r){void 0===r&&(r=2);for(var i="",n=0;n<e.size();n++)i+=e.get(n).toFixed(r)+",";t?console.log(t,i):console.log(i)}},53134:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFontString=void 0,t.getFontString=function(e,t,r,i){return t?"".concat(e," ").concat(t," ").concat(r,"px ").concat(i):"".concat(e," ").concat(r,"px ").concat(i)}},92200:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base64Id=t.generateGuid=void 0,t.generateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.base64Id=function(e){void 0===e&&(e=22);for(var t="";t.length<e;){var r=Math.floor(64*Math.random());t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r)}return t}},86822:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasAllProperties=void 0,t.hasAllProperties=function(e,t){for(var r=0;r<t.length;r++)if(!e.hasOwnProperty(t[r]))return!1;return!0}},4348:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hashUtils=void 0;var generateHash=function(e){return e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0)};t.hashUtils={generateHash:generateHash,generateObjectHash:function(e){return generateHash(JSON.stringify(e))},generateBooleanHash:function(e){return!1===e?generateHash("0"):!0===e?generateHash("1"):generateHash("-1")},generateNumberHash:function(e){return generateHash(e.toString(10))},generateCombinedHash:function(e){return e.reduce(function(e,t){return 397*e^t},0)}}},29144:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringOccurrences=t.htmlToElement=void 0,t.htmlToElement=function(e){var t=document.createElement("template");return e=e.trim(),t.innerHTML=e,t.content.firstChild},t.stringOccurrences=function(e,t,r){if(void 0===r&&(r=!1),e+="",(t+="").length<=0)return e.length+1;for(var i=0,n=0,o=r?1:t.length;;)if((n=e.indexOf(t,n))>=0)++i,n+=o;else break;return i}},84907:function(e,t){"use strict";function createImageAsync(e){return new Promise(function(t,r){var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){return t(i)},i.onerror=r,i.src=e})}Object.defineProperty(t,"__esModule",{value:!0}),t.createImagesArrayAsync=t.createImageAsync=void 0,t.createImageAsync=createImageAsync,t.createImagesArrayAsync=function(e){return Promise.all(e.map(function(e){return createImageAsync(e)}))}},24409:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testHasExcluded=t.getIncludedAxis=void 0,t.getIncludedAxis=function(e,r){return 0===r.size?e:(0,t.testHasExcluded)(r)?e.filter(function(e){return!1!==r.get(e.id)}):e.filter(function(e){return!0===r.get(e.id)})},t.testHasExcluded=function(e){var t=!1;return e.forEach(function(e){!1===e&&(t=!0)}),t}},51877:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRealNumber=void 0,t.isRealNumber=function(e){return!isNaN(e)&&isFinite(e)&&e!==Number.MAX_VALUE&&e!==Number.MIN_VALUE}},14464:function(e,t){"use strict";var r=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var i=function(){function Logger(){}return Logger.log=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];console.log(e,t)},Logger.debug=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];Logger.enableDebug&&console.debug.apply(console,r([e],t,!1))},Logger.enableDebug=!1,Logger}();t.Logger=i},93823:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logToBase=t.fillNoisySinewave=t.getNoisySinewave=void 0,t.getNoisySinewave=function(e,t,r,i,n){for(var o=[],a=[],s=2*Math.PI*(r/t),l=0;l<e;l++){var u=l*t/(e-1);o.push(u);var c=i*Math.sin(u*s),d=(Math.random()-.5)*n;a.push(c+d)}return[o,a]},t.fillNoisySinewave=function(e,t,r,i,n,o){var a=2*Math.PI*(r/t),s=o.getNativeXValues(),l=o.getNativeYValues();s.reserve(e),l.reserve(e);for(var u=0;u<e;u++){var c=u*t/(e-1),d=i*Math.sin(c*a),p=(Math.random()-.5)*n;s.push_back(c),l.push_back(d+p)}},t.logToBase=function(e,t){return 10===t?Math.log10(e):Math.log(e)/(t?Math.log(t):1)}},76812:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=void 0,t.memoize=function(e,t){var r,i,n=null!=t?t:function(e,t){return!e.some(function(e,r){return e!==t[r]})};return function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var a=i&&n(t,i);return i&&a||(i=t,r=e.apply(void 0,t)),r}}},1411:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkIsNaN=t.toScientific=t.toSuperScript=t.formatNumber=t.numericHashCode=t.formatNumber2Digits=void 0;var i=r(44841),n=r(28615),o=r(93823);t.formatNumber2Digits=function(e){return(Math.round((e+Number.EPSILON)*100)/100).toFixed(2)},t.numericHashCode=function(e,t){return e=31*e-e+t|0},t.formatNumber=function(e,r,o){if(void 0===e)return"";switch(r){case i.ENumericFormat.NoFormat:return e.toString();case i.ENumericFormat.Decimal:return e.toFixed(o);case i.ENumericFormat.SignificantFigures:return Number(e.toPrecision(o)).toString();case i.ENumericFormat.Exponential:return e.toExponential(o);case i.ENumericFormat.Scientific:return(0,t.toScientific)(e,o,10);case i.ENumericFormat.Date_DDMMYYYY:return(0,n.formatUnixDateToHumanString)(e);case i.ENumericFormat.Date_DDMMYY:return(0,n.formatUnixDateToHumanStringDDMMYY)(e);case i.ENumericFormat.Date_DDMMHHMM:return(0,n.formatUnixDateToHumanStringDDMMHHMM)(e);case i.ENumericFormat.Date_DDMM:return(0,n.formatUnixDateToHumanStringDDMM)(e);case i.ENumericFormat.Date_HHMM:return(0,n.formatUnixDateToHumanStringHHMM)(e);case i.ENumericFormat.Date_HHMMSS:return(0,n.formatUnixDateToHumanStringHHMMSS)(e)}};var a=["","\xb9","\xb2","\xb3","","","","","",""];t.toSuperScript=function(e){for(var t="",r=Math.abs(e).toString(),i=0;i<r.length;i++){var n=Number.parseInt(r[i]);isNaN(n)||(t+=a[n])}return(e<0?"":"")+t},t.toScientific=function(e,r,i){if(0===e)return"0";var n=(0,o.logToBase)(Math.abs(e),i);return(e/Math.pow(i,n=Math.floor(n))).toPrecision(r).toString()+"x"+i.toString()+(0,t.toSuperScript)(n)},t.checkIsNaN=function(e){return e!=e}},48053:function(e,t){"use strict";function parseColorToHexStringArgb(e,t){var r=parseColorToTArgb(e);return"0x"+toHex(null!=t?t:r.opacity)+toHex(r.red)+toHex(r.green)+toHex(r.blue)}function toHex(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function parseColorToTArgb(e){if(!e||!e.length||e.length>50)throw Error("'"+e+"' is not a valid color...");var r=e.match(/^#?([0-9a-f]{3})$/i);if(r){var i=r[1],n=255,o=17*parseInt(i.charAt(0),16),a=17*parseInt(i.charAt(1),16),s=17*parseInt(i.charAt(2),16);return validateColorValues([o,a,s],["red","green","blue"]),{opacity:n,red:o,green:a,blue:s}}var l=e.match(/^#?([0-9a-f]{6})$/i);if(l){var i=l[1],n=255,o=parseInt(i.substr(0,2),16),a=parseInt(i.substr(2,2),16),s=parseInt(i.substr(4,2),16);return validateColorValues([o,a,s],["red","green","blue"]),{opacity:n,red:o,green:a,blue:s}}var u=e.match(/^#?([0-9a-f]{8})$/i);if(u){var i=u[1],o=parseInt(i.substr(0,2),16),a=parseInt(i.substr(2,2),16),s=parseInt(i.substr(4,2),16),n=parseInt(i.substr(6,2),16);return validateColorValues([n,o,a,s],["opacity","red","green","blue"]),{opacity:n,red:o,green:a,blue:s}}var c=e.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d*\.?\d*)\s*\)$/i);if(c){var d=parseFloat(c[4]);!function(e){if(void 0===e)throw Error("parseColor error opacity should not be null");if(Number.isNaN(e))throw Error("parseColor error opacity should not be NaN");if(e<0||e>1)throw Error("parseColor error opacity should be within [0, 1] range")}(d);var n=convertOpacity(d),o=parseInt(c[1],10),a=parseInt(c[2],10),s=parseInt(c[3],10);return validateColorValues([o,a,s],["red","green","blue"]),{opacity:n,red:o,green:a,blue:s}}var p=t.webColors[e.toLowerCase()];if(p)return parseColorToTArgb(p);throw Error("'"+e+"' is not a valid color...")}function validateColorValues(e,t){e.forEach(function(e,r){var i=t[r];if(void 0===e)throw Error("parseColor error ".concat(i," color should not be null"));if(Number.isNaN(e))throw Error("parseColor error ".concat(i," color should not be NaN"));if(e<0||e>255)throw Error("parseColor error ".concat(i," color should be within [0, 255] range"))})}Object.defineProperty(t,"__esModule",{value:!0}),t.webColors=t.parseTArgbToHtmlColor=t.parseArgbToHtmlColor=t.parseColorToTArgb=t.toHex=t.parseColorToUIntArgb=t.parseColorToHexStringAbgr=t.parseColorToHexStringArgb=void 0,t.parseColorToHexStringArgb=parseColorToHexStringArgb,t.parseColorToHexStringAbgr=function(e,t){var r=parseColorToTArgb(e);return"0x"+toHex(t||r.opacity)+toHex(r.blue)+toHex(r.green)+toHex(r.red)},t.parseColorToUIntArgb=function(e,t){return parseInt(parseColorToHexStringArgb(e,t),16)},t.toHex=toHex,t.parseColorToTArgb=parseColorToTArgb,t.parseArgbToHtmlColor=function(e){var t=e.toString(16);if(t.length>8)throw Error("HTML color length cannot be greater than 8");var addLeadingZeros=function(e,t){return Array(t-e.length+1).join("0")+e};return"#"+addLeadingZeros(t.substr(-6),6)+addLeadingZeros(t.substring(0,t.length-6),2)},t.parseTArgbToHtmlColor=function(e){return("#"+convertComponent(e.red)+convertComponent(e.green)+convertComponent(e.blue)+convertComponent(e.opacity)).toUpperCase()};var convertOpacity=function(e){return e>=1?255:e<=0?0:Math.floor(256*e)},convertComponent=function(e){if(e>=256)return"ff";if(e<=0)return"00";var t=e.toString(16);return 1===t.length?"0"+t:t};t.webColors={transparent:"#00000000",aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},22099:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PerformanceDebugHelper=t.EPerformanceMarkType=void 0;var i,n=r(92200);(i=t.EPerformanceMarkType||(t.EPerformanceMarkType={})).InitializationStart="InitializationStart",i.InitializationEnd="InitializationEnd",i.EngineInitStart="EngineInitStart",i.EngineInitEnd="EngineInitEnd",i.LeadingInvalidate="LeadingInvalidate",i.Invalidate="Invalidate",i.DataUpdateStart="DataUpdateStart",i.DataUpdateEnd="DataUpdateEnd",i.RenderStart="RenderStart",i.RenderEnd="RenderEnd",i.Rendered="Rendered",i.FullStateRendered="FullStateRendered",i.Resize="Resize",i.DpiChange="DpiChange",i.SetupStart="SetupStart",i.SetupEnd="SetupEnd";var o=function(){function PerformanceDebugHelper(){}return PerformanceDebugHelper.mark=function(e,t){var r;if(PerformanceDebugHelper.enableDebug){var i=null!==(r=null==t?void 0:t.relatedId)&&void 0!==r?r:(0,n.generateGuid)();return performance.mark("".concat(e,"_").concat(i),{detail:{relatedId:i,contextId:null==t?void 0:t.contextId}})}return null},PerformanceDebugHelper.outputLogs=function(){performance.getEntriesByType("mark").forEach(function(e){console.log(e.name,e.startTime)})},PerformanceDebugHelper.enableDebug=!1,PerformanceDebugHelper}();t.PerformanceDebugHelper=o},93343:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calcDistanceFromLineSegment=t.calcDotProduct=t.testIsInInterval=t.testIsInXBounds=t.calcAnnotationBordersForAxisMarker=t.testIsInBounds=t.calcDistance=t.calcCrossProduct=t.calcDistanceFromLine=void 0;var i=r(86599);t.calcDistanceFromLine=function(e,r,i,n,o,a){return Math.abs((0,t.calcCrossProduct)(i,n,o,a,e,r)/(0,t.calcDistance)(i,n,o,a))},t.calcCrossProduct=function(e,t,r,i,n,o){return(r-e)*(o-t)-(i-t)*(n-e)},t.calcDistance=function(e,t,r,i){var n=e-r,o=t-i;return Math.sqrt(n*n+o*o)},t.testIsInBounds=function(e,t,r,i,n,o,a){return void 0===a&&(a=0),e>=r-a&&e<=n+a&&t<=i-a&&t>=o+a},t.calcAnnotationBordersForAxisMarker=function(e,t,r,n,o,a,s,l,u,c,d,p,h,f){var y={x1:0,x2:0,y1:0,y2:0};return e?t?n.axisAlignment===i.EAxisAlignment.Top?o.axisAlignment===i.EAxisAlignment.Left?(y.x1=a-s.y,y.y1=u-s.y,y.x2=0,y.y2=u+c-s.y):o.axisAlignment===i.EAxisAlignment.Right&&(y.x1=s.width-a+s.y,y.y1=u-s.y,y.x2=s.width,y.y2=u+c-s.y):o.axisAlignment===i.EAxisAlignment.Left?(y.x1=a-s.x+d,y.y1=u-s.y,y.x2=0,y.y2=u+c-s.y):o.axisAlignment===i.EAxisAlignment.Right&&(y.x1=l-d,y.y1=u-s.y,y.x2=s.width,y.y2=u+c-s.y):r&&(n.axisAlignment===i.EAxisAlignment.Top?(y.x1=l+a/2-s.x+p,y.y1=c-s.y+p,y.x2=l-a/2-s.x+p,y.y2=0):(y.x1=l-a/2-s.x+p,y.y1=u-p,y.x2=l+a/2-s.x+p,y.y2=s.height)):t?h?(y.x1=l-a/2+p,y.y1=u+c-s.y,y.x2=l+a/2,y.y2=u):f?(y.x1=l-a/2+d-s.x,y.y1=u-d,y.x2=l+a/2+d-s.x,y.y2=s.height):(y.x1=l-a/2-p,y.y1=u-d,y.x2=l+a/2-p,y.y2=u+c-s.y):r&&(f?(y.x1=a-s.x+p,y.y1=u-c/2,y.x2=0,y.y2=u+c/2):(y.x1=l-p,y.y1=u-c/2-d,y.x2=l+a,y.y2=u+c/2-d)),y},t.testIsInXBounds=function(e,t,r){return Math.abs(e-t)<r},t.testIsInInterval=function(e,t,r,i){return(void 0===i&&(i=0),t<=r)?t-i<=e&&e<=r+i:r-i<=e&&e<=t+i},t.calcDotProduct=function(e,t,r,i,n,o){return(r-e)*(n-r)+(i-t)*(o-i)},t.calcDistanceFromLineSegment=function(e,r,i,n,o,a){return(0,t.calcDotProduct)(i,n,o,a,e,r)>0?(0,t.calcDistance)(o,a,e,r):(0,t.calcDotProduct)(o,a,i,n,e,r)>0?(0,t.calcDistance)(i,n,e,r):(0,t.calcDistanceFromLine)(e,r,i,n,o,a)}},46136:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRandomInRange=void 0,t.getRandomInRange=function(e,t,r){return parseInt(((e+Math.random()*(t-e))*Math.pow(10,r)).toFixed(r),10)/Math.pow(10,r)}},42460:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextRandomPriceBarFactory=t.getStocksDataFactory=void 0;var i=r(46136);t.getStocksDataFactory=function(e,t,r){return function(n,o){var a=(0,i.getRandomInRange)(t,r,3),s=Math.abs(o-a),l=Math.max(o,a),u=(0,i.getRandomInRange)(l,Math.min(r,l+.7*s),3),c=Math.min(o,a);return{xValue:n+e,openValue:o,highValue:u,lowValue:(0,i.getRandomInRange)(Math.max(t,c-.7*s),c,3),closeValue:a}}};var PriceBar=function(e,t,r,i,n,o){this.xValue=e,this.openValue=t,this.highValue=r,this.lowValue=i,this.closeValue=n,this.volume=o};t.getNextRandomPriceBarFactory=function(e,t,r,i){var n=e,o=new PriceBar(e,i,i,i,i,0);return function(e){var a,s,l,u,c,d,p,h,f,y,g,v,m,S;return(void 0===e&&(e=!1),e)?(s=(a=o.closeValue+(Math.random()-.48)*(o.closeValue/100))>o.highValue?a:o.highValue,l=a<o.lowValue?a:o.lowValue,u=(3e4*Math.random()+2e4)*.05,o=new PriceBar(o.xValue,o.openValue,s,l,a,o.volume+u)):(c=o.closeValue,d=(Math.random()-.9)*i/30,f=Math.max(c,h=.5*i+i/2*Math.sin(727220521664304e-20*n)+i/16*Math.cos(727220521664304e-19*n)+i/32*Math.sin(727220521664304e-19*(10+(p=Math.random()))*n)+i/64*Math.cos(727220521664304e-19*(20+p)*n)+d),y=Math.random()*i/100,g=Math.min(c,h),v=Math.random()*i/100,m=3e4*Math.random()+2e4,S=r?emulateDateGap(o.xValue):o.xValue,o=new PriceBar(S+60*t,c,f+y,g-v,h,m),n+=60*t,o)}};var emulateDateGap=function(e){return e}},60183:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAttributeFromString=void 0,t.getAttributeFromString=function(e,t){var r=e.indexOf(t);if(r>=0){var i=e.indexOf('"',r),n=i>=0?e.indexOf('"',i+1):-1;if(n>=0){var o=parseInt(e.substr(i+1,n-i-1),10);if(!isNaN(o))return o}}}},99496:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNativeTextSize=t.wrapNativeText=void 0;var i=r(94485);t.wrapNativeText=function(e,t,r,i){if(0===t)return e;if(!e)return"";var n=[],o=e.split(" "),a=o[0].trim(),s=a+" "+a+"\n"+o.map(function(e){return e.trim()}).join("\n");r.CalculateStringBounds(null!=s?s:"",i,2);for(var l="",u=0,c=i.GetLineBounds(0).m_fWidth-2*i.GetLineBounds(1).m_fWidth,d=0;d<o.length;d++){var p=o[d],h=i.GetLineBounds(d+1).m_fWidth,f=l+(""!==l?" ":"")+p;(u+=(""!==l?c:0)+h)>t?""===l?(n.push(p),u=0):(n.push(l),l=p,u=h):l=f,l.endsWith("\n")&&(u=0)}return n.push(l),n.join("\n")},t.getNativeTextSize=function(e,t,r,n,o){void 0===o&&(o=0);var a=(0,i.getTextBounds)(n);t.CalculateStringBounds(e,a,0);for(var s=0,l=0;l<a.GetLinesCount();l++){var u=a.GetLineBounds(l),c=u.m_fHeight-u.m_fOffsetY;s<c&&(s=c)}var d=Math.round(s*(r.lineSpacing-1)),p=Math.round(a.m_fHeight+(a.GetLinesCount()-1)*d+r.padding.top+r.padding.bottom),h=Math.round(a.m_fWidth+r.padding.left+r.padding.right),f=a.GetLineBounds(0).m_fHeight,y=o%360*Math.PI/180,g=Math.sin(y),v=Math.cos(y),m=Math.round(h*Math.abs(v)+p*Math.abs(g)),S=Math.round(h*Math.abs(g)+p*Math.abs(v)),b=0,P=0;return o>=0&&o<90?(b=(p-r.padding.top-f)*g+r.padding.left*v,P=r.padding.left*g+(r.padding.top+f)*v):o>=90&&o<=180?(b=m-(r.padding.top+f)*g+r.padding.left*v,P=-(p-r.padding.top-f)*v+r.padding.left*g):o>180&&o<=270?(b=m-(r.padding.top+f-p)*g+r.padding.left*v,P=S+(r.padding.top+f)*v+r.padding.left*g):o>270&&o<360&&(b=-(r.padding.top+f)*g+r.padding.left*v,P=S-(p-f-r.padding.top)*v+r.padding.left*g),{textHeight:S,textWidth:m,nativeLineSpacing:d,deltaX:b,deltaY:P}}},41108:function(e,t){"use strict";var r,i,n,o,a,s;Object.defineProperty(t,"__esModule",{value:!0}),t.getTooltipPositionProperties=t.getUpdatedPoints=t.getEndPoint=t.getStartPoint=t.getTotalSpacing=t.getTotalSize=t.checkHasOverlap=t.spreadTooltips=t.EShift=t.ECoord=t.ESize=void 0,(r=o=t.ESize||(t.ESize={})).width="width",r.height="height",(i=a=t.ECoord||(t.ECoord={})).xCoord="xCoord",i.yCoord="yCoord",(n=s=t.EShift||(t.EShift={})).xCoordShift="xCoordShift",n.yCoordShift="yCoordShift",t.spreadTooltips=function(e,r,i,n,o){var a=new Map,s=e.length,l=(0,t.getTotalSize)(e,i.sizePropertyName),u=(0,t.getTotalSpacing)(e,n),c=e[0],d=e[s-1],p=(0,t.getStartPoint)(c[i.coordPropertyName],c[i.shiftPropertyName],r),h=(0,t.getEndPoint)(d[i.coordPropertyName],d[i.shiftPropertyName],r,d[i.sizePropertyName]),f=(0,t.getUpdatedPoints)(p,h,l+u,o[i.sizePropertyName]);p=f.start;var y=((h=f.end)-p-l)/(e.length-1);return e.reduce(function(e,t){return a.set(t.index,(e-t[i.coordPropertyName])/r),e+t[i.sizePropertyName]+y},p),a},t.checkHasOverlap=function(e,t,r,i){for(var n=e.length,o=0;o<n-1;o++){var a=e[o],s=a[i.coordPropertyName]+a[i.sizePropertyName]+a[i.shiftPropertyName]*r,l=e[o+1];if(l[i.coordPropertyName]+l[i.shiftPropertyName]*r-s<t)return!0}return!1},t.getTotalSize=function(e,t){return e.reduce(function(e,r){var i=r[t];return"number"==typeof i?e+i:e},0)},t.getTotalSpacing=function(e,t){return(e.length-1)*t},t.getStartPoint=function(e,t,r){return e+t*r},t.getEndPoint=function(e,t,r,i){return e+t*r+i},t.getUpdatedPoints=function(e,t,r,i){var n=r-(t-e),o=n/2,a=i-t,s=e-o,l=t+o;return e<o&&(s=0,l=t+(n-e)),a<o&&(s=e-(n-a),l=i),{start:s,end:l}},t.getTooltipPositionProperties=function(e){return e?{sizePropertyName:o.width,coordPropertyName:a.xCoord,shiftPropertyName:s.xCoordShift}:{sizePropertyName:o.height,coordPropertyName:a.yCoord,shiftPropertyName:s.yCoordShift}}},79361:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToRelativeHtmlSize=t.convertToHtmlPx=t.translateDataValueRectToAbsolute=t.translateToNotScaled=t.translateFromSeriesViewRectToCanvasY=t.translateFromSeriesViewRectToCanvasX=t.translateFromCanvasToSeriesViewRectY=t.translateFromCanvasToSeriesViewRectX=t.translateFromSeriesViewRectToCanvas=t.translateFromCanvasToSeriesViewRect=void 0;var i=r(91462),n=r(48484),o=r(47494);t.translateFromCanvasToSeriesViewRect=function(e,t,r){if(void 0===r&&(r=!1),t){var i=e.x-t.x,o=e.y-t.y;if(r||!(i<0)&&!(i>t.width)&&!(o<0)&&!(o>t.height))return new n.Point(i,o)}},t.translateFromSeriesViewRectToCanvas=function(e,t,r){if(void 0===r&&(r=!1),t){var i=e.x+t.x,o=e.y+t.y;if(r||!(i<0)&&!(i>t.width)&&!(o<0)&&!(o>t.height))return new n.Point(i,o)}},t.translateFromCanvasToSeriesViewRectX=function(e,t,r){if(void 0===r&&(r=!1),t){var i=e-t.x;if(r||!(i<0)&&!(i>t.width))return i}},t.translateFromCanvasToSeriesViewRectY=function(e,t,r){if(void 0===r&&(r=!1),t){var i=e-t.y;if(r||!(i<0)&&!(i>t.height))return i}},t.translateFromSeriesViewRectToCanvasX=function(e,t,r){if(void 0===r&&(r=!1),t){var i=e+t.x;if(r||!(i<0)&&!(i>t.width))return i}},t.translateFromSeriesViewRectToCanvasY=function(e,t,r){if(void 0===r&&(r=!1),t){var i=e+t.y;if(r||!(i<0)&&!(i>t.height))return i}},t.translateToNotScaled=function(e){return e/i.DpiHelper.PIXEL_RATIO},t.translateDataValueRectToAbsolute=function(e,r,i,n){var a=e.x,s=e.y,l=e.width,u=e.height,c=(0,t.translateToNotScaled)(n.left),d=(0,t.translateToNotScaled)(n.top),p=r.getCurrentCoordinateCalculator(),h=i.getCurrentCoordinateCalculator(),f=r.isVerticalChart?h.getCoordinate(a):p.getCoordinate(a),y=r.isVerticalChart?p.getCoordinate(s):h.getCoordinate(s);f=Math.max((0,t.translateToNotScaled)(f),0),y=Math.max((0,t.translateToNotScaled)(y),0);var g=r.flippedCoordinates?a-l:a+l,v=i.flippedCoordinates?s+u:s-u,m=(0,t.translateToNotScaled)(r.isVerticalChart?p.getCoordinate(v):h.getCoordinate(v)),S=(0,t.translateToNotScaled)(r.isVerticalChart?h.getCoordinate(g):p.getCoordinate(g));return f+=c,y+=d,S+=c,m+=d,new o.Rect(f,y,Math.abs(S-f),Math.abs(y-m))},t.convertToHtmlPx=function(e){return"".concat(e,"px")},t.convertToRelativeHtmlSize=function(e){return"".concat(100*e,"%")}},86710:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromTsrVector4=t.updateTsrVector4=void 0;var i=r(92530);t.updateTsrVector4=function(e,t){i.Guard.notNull(e,"color");var r=1/255;t.x=e.red*r,t.y=e.green*r,t.z=e.blue*r,t.w=e.opacity*r},t.fromTsrVector4=function(e){return i.Guard.notNull(e,"tsrColor"),{red:Math.round(255*e.x),green:Math.round(255*e.y),blue:Math.round(255*e.z),opacity:Math.round(255*e.w)}}},45833:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zeroArray2D=void 0,t.zeroArray2D=function(e){if(e){for(var r=[],i=0;i<e[0];++i)r.push(1===e.length?0:(0,t.zeroArray2D)(e.slice(1)));return r}}},89596:function(e){e.exports={importDefault:e=>e&&e.__esModule?e.default:e}},64037:function(e,t,r){let i=r(72871),{BASE_STYLES:n,SCROLLBAR_SIZE_UTILITIES:o,addColorUtilities:a,addRoundedUtilities:s,addSizeUtilities:l}=r(80007),{addVariantOverrides:u}=r(67227);e.exports=i.withOptions((e={})=>t=>{t.addBase(n),t.addUtilities(o),a(t),u(t),e.nocompatible&&(s(t),l(t))})},60554:function(e,t){t.unused={}},80007:function(e,t,r){let i=r(41877),n=r(54472);r(60554);let{importDefault:o}=r(89596),a=o(i),s=o(n),l=["track","thumb","corner"],u={"scrollbar-color":"var(--scrollbar-thumb, initial) var(--scrollbar-track, initial)",...Object.fromEntries(l.map(e=>{let t=`&::-webkit-scrollbar-${e}`;return[[t,{"background-color":`var(--scrollbar-${e})`,"border-radius":`var(--scrollbar-${e}-radius)`}],[`${t}:hover`,{"background-color":`var(--scrollbar-${e}-hover, var(--scrollbar-${e}))`}],[`${t}:active`,{"background-color":`var(--scrollbar-${e}-active, var(--scrollbar-${e}-hover, var(--scrollbar-${e})))`}]]}).flat())},c={".scrollbar":{...u,"scrollbar-width":"auto","&::-webkit-scrollbar":{display:"block",width:"var(--scrollbar-width, 16px)",height:"var(--scrollbar-height, 16px)"}},".scrollbar-thin":{...u,"scrollbar-width":"thin","&::-webkit-scrollbar":{display:"block",width:"8px",height:"8px"}},".scrollbar-none":{"scrollbar-width":"none","&::-webkit-scrollbar":{display:"none"}}};e.exports={BASE_STYLES:{"*":{"scrollbar-color":"initial","scrollbar-width":"initial"}},SCROLLBAR_SIZE_UTILITIES:c,addColorUtilities:({matchUtilities:e,theme:t})=>{let r=a(t("colors")),i=Object.fromEntries(Object.entries(r).map(([e,t])=>[e,s(t)]));l.forEach(t=>{e({[`scrollbar-${t}`]:e=>{let r=s(e);return{[`--scrollbar-${t}`]:`${r} !important`}}},{values:i,type:"color"})})},addRoundedUtilities:({theme:e,matchUtilities:t})=>{l.forEach(r=>{t({[`scrollbar-${r}-rounded`]:e=>({[`--scrollbar-${r}-radius`]:e})},{values:e("borderRadius")})})},addSizeUtilities:({matchUtilities:e,theme:t})=>{["width","height"].forEach(r=>{e({[`scrollbar-${r[0]}`]:e=>({[`--scrollbar-${r}`]:e})},{values:t(r)})})}}},67227:function(e,t,r){let{flagEnabled:i}=r(9345);r(60554);let n=["hover","focus","focus-visible","active","enabled","disabled"],getDefaultFormat=(e,t)=>"hover"===e&&i&&i(t(),"hoverOnlyWhenSupported")?"@media (hover: hover) and (pointer: fine) { &:hover }":`&:${e}`,getScrollbarFormat=(e,t)=>"hover"===e&&i&&i(t(),"hoverOnlyWhenSupported")?"@media (hover: hover) and (pointer: fine) { & }":"&";e.exports={addVariantOverrides:({addVariant:e,config:t})=>{n.forEach(r=>{e(r,({container:e})=>{let i=`-${r}`,n=!1;return(e.walkRules(e=>{e.walkDecls(/^--scrollbar-/,e=>{n=!0,e.prop.endsWith(i)||(e.prop+=i)})}),n)?getScrollbarFormat(r,t):getDefaultFormat(r,t)})})}}},49513:function(e,t,r){let i=r(72871);function filterDefault(e){return Object.fromEntries(Object.entries(e).filter(([e])=>"DEFAULT"!==e))}e.exports=i(({addUtilities:e,matchUtilities:t,theme:r})=>{e({"@keyframes enter":r("keyframes.enter"),"@keyframes exit":r("keyframes.exit"),".animate-in":{animationName:"enter",animationDuration:r("animationDuration.DEFAULT"),"--tw-enter-opacity":"initial","--tw-enter-scale":"initial","--tw-enter-rotate":"initial","--tw-enter-translate-x":"initial","--tw-enter-translate-y":"initial"},".animate-out":{animationName:"exit",animationDuration:r("animationDuration.DEFAULT"),"--tw-exit-opacity":"initial","--tw-exit-scale":"initial","--tw-exit-rotate":"initial","--tw-exit-translate-x":"initial","--tw-exit-translate-y":"initial"}}),t({"fade-in":e=>({"--tw-enter-opacity":e}),"fade-out":e=>({"--tw-exit-opacity":e})},{values:r("animationOpacity")}),t({"zoom-in":e=>({"--tw-enter-scale":e}),"zoom-out":e=>({"--tw-exit-scale":e})},{values:r("animationScale")}),t({"spin-in":e=>({"--tw-enter-rotate":e}),"spin-out":e=>({"--tw-exit-rotate":e})},{values:r("animationRotate")}),t({"slide-in-from-top":e=>({"--tw-enter-translate-y":`-${e}`}),"slide-in-from-bottom":e=>({"--tw-enter-translate-y":e}),"slide-in-from-left":e=>({"--tw-enter-translate-x":`-${e}`}),"slide-in-from-right":e=>({"--tw-enter-translate-x":e}),"slide-out-to-top":e=>({"--tw-exit-translate-y":`-${e}`}),"slide-out-to-bottom":e=>({"--tw-exit-translate-y":e}),"slide-out-to-left":e=>({"--tw-exit-translate-x":`-${e}`}),"slide-out-to-right":e=>({"--tw-exit-translate-x":e})},{values:r("animationTranslate")}),t({duration:e=>({animationDuration:e})},{values:filterDefault(r("animationDuration"))}),t({delay:e=>({animationDelay:e})},{values:r("animationDelay")}),t({ease:e=>({animationTimingFunction:e})},{values:filterDefault(r("animationTimingFunction"))}),e({".running":{animationPlayState:"running"},".paused":{animationPlayState:"paused"}}),t({"fill-mode":e=>({animationFillMode:e})},{values:r("animationFillMode")}),t({direction:e=>({animationDirection:e})},{values:r("animationDirection")}),t({repeat:e=>({animationIterationCount:e})},{values:r("animationRepeat")})},{theme:{extend:{animationDelay:({theme:e})=>({...e("transitionDelay")}),animationDuration:({theme:e})=>({0:"0ms",...e("transitionDuration")}),animationTimingFunction:({theme:e})=>({...e("transitionTimingFunction")}),animationFillMode:{none:"none",forwards:"forwards",backwards:"backwards",both:"both"},animationDirection:{normal:"normal",reverse:"reverse",alternate:"alternate","alternate-reverse":"alternate-reverse"},animationOpacity:({theme:e})=>({DEFAULT:0,...e("opacity")}),animationTranslate:({theme:e})=>({DEFAULT:"100%",...e("translate")}),animationScale:({theme:e})=>({DEFAULT:0,...e("scale")}),animationRotate:({theme:e})=>({DEFAULT:"30deg",...e("rotate")}),animationRepeat:{0:"0",1:"1",infinite:"infinite"},keyframes:{enter:{from:{opacity:"var(--tw-enter-opacity, 1)",transform:"translate3d(var(--tw-enter-translate-x, 0), var(--tw-enter-translate-y, 0), 0) scale3d(var(--tw-enter-scale, 1), var(--tw-enter-scale, 1), var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))"}},exit:{to:{opacity:"var(--tw-exit-opacity, 1)",transform:"translate3d(var(--tw-exit-translate-x, 0), var(--tw-exit-translate-y, 0), 0) scale3d(var(--tw-exit-scale, 1), var(--tw-exit-scale, 1), var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))"}}}}}})},97444:function(e,t,r){let i=r(73059);e.exports=(i.__esModule?i:{default:i}).default},46175:function(e,t,r){let i=r(6468);e.exports=(i.__esModule?i:{default:i}).default},69734:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let r=["preflight","container","accessibility","pointerEvents","visibility","position","inset","isolation","zIndex","order","gridColumn","gridColumnStart","gridColumnEnd","gridRow","gridRowStart","gridRowEnd","float","clear","margin","boxSizing","lineClamp","display","aspectRatio","size","height","maxHeight","minHeight","width","minWidth","maxWidth","flex","flexShrink","flexGrow","flexBasis","tableLayout","captionSide","borderCollapse","borderSpacing","transformOrigin","translate","rotate","skew","scale","transform","animation","cursor","touchAction","userSelect","resize","scrollSnapType","scrollSnapAlign","scrollSnapStop","scrollMargin","scrollPadding","listStylePosition","listStyleType","listStyleImage","appearance","columns","breakBefore","breakInside","breakAfter","gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateColumns","gridTemplateRows","flexDirection","flexWrap","placeContent","placeItems","alignContent","alignItems","justifyContent","justifyItems","gap","space","divideWidth","divideStyle","divideColor","divideOpacity","placeSelf","alignSelf","justifySelf","overflow","overscrollBehavior","scrollBehavior","textOverflow","hyphens","whitespace","textWrap","wordBreak","borderRadius","borderWidth","borderStyle","borderColor","borderOpacity","backgroundColor","backgroundOpacity","backgroundImage","gradientColorStops","boxDecorationBreak","backgroundSize","backgroundAttachment","backgroundClip","backgroundPosition","backgroundRepeat","backgroundOrigin","fill","stroke","strokeWidth","objectFit","objectPosition","padding","textAlign","textIndent","verticalAlign","fontFamily","fontSize","fontWeight","textTransform","fontStyle","fontVariantNumeric","lineHeight","letterSpacing","textColor","textOpacity","textDecoration","textDecorationColor","textDecorationStyle","textDecorationThickness","textUnderlineOffset","fontSmoothing","placeholderColor","placeholderOpacity","caretColor","accentColor","opacity","backgroundBlendMode","mixBlendMode","boxShadow","boxShadowColor","outlineStyle","outlineWidth","outlineOffset","outlineColor","ringWidth","ringColor","ringOpacity","ringOffsetWidth","ringOffsetColor","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filter","backdropBlur","backdropBrightness","backdropContrast","backdropGrayscale","backdropHueRotate","backdropInvert","backdropOpacity","backdropSaturate","backdropSepia","backdropFilter","transitionProperty","transitionDelay","transitionDuration","transitionTimingFunction","willChange","content","forcedColorAdjust"]},9345:function(e,t,r){"use strict";var i=r(28070);Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{flagEnabled:function(){return flagEnabled},issueFlagNotices:function(){return issueFlagNotices},default:function(){return l}});let n=_interop_require_default(r(3969)),o=_interop_require_default(r(40542));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}let a={optimizeUniversalDefaults:!1,generalizedModifiers:!0,get disableColorOpacityUtilitiesByDefault(){return!1},get relativeContentPathsByDefault(){return!1}},s={future:["hoverOnlyWhenSupported","respectDefaultRingColorOpacity","disableColorOpacityUtilitiesByDefault","relativeContentPathsByDefault"],experimental:["optimizeUniversalDefaults","generalizedModifiers"]};function flagEnabled(e,t){var r,i,n,o,l,u;return s.future.includes(t)?"all"===e.future||null!==(n=null!==(i=null==e?void 0:null===(r=e.future)||void 0===r?void 0:r[t])&&void 0!==i?i:a[t])&&void 0!==n&&n:!!s.experimental.includes(t)&&("all"===e.experimental||null!==(u=null!==(l=null==e?void 0:null===(o=e.experimental)||void 0===o?void 0:o[t])&&void 0!==l?l:a[t])&&void 0!==u&&u)}function experimentalFlagsEnabled(e){var t;return"all"===e.experimental?s.experimental:Object.keys(null!==(t=null==e?void 0:e.experimental)&&void 0!==t?t:{}).filter(t=>s.experimental.includes(t)&&e.experimental[t])}function issueFlagNotices(e){if(void 0===i.env.JEST_WORKER_ID&&experimentalFlagsEnabled(e).length>0){let t=experimentalFlagsEnabled(e).map(e=>n.default.yellow(e)).join(", ");o.default.warn("experimental-flags-enabled",[`You have enabled experimental features: ${t}`,"Experimental features in Tailwind CSS are not covered by semver, may introduce breaking changes, and can change at any time."])}}let l=s},73059:function(e,t,r){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=(i=r(40542))&&i.__esModule?i:{default:i};function warn({version:e,from:t,to:r}){n.default.warn(`${t}-color-renamed`,[`As of Tailwind CSS ${e}, \`${t}\` has been renamed to \`${r}\`.`,"Update your configuration file to silence this warning."])}let o={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return warn({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return warn({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return warn({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return warn({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return warn({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}},49622:function(e,t,r){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o}});let n=(i=r(46470))&&i.__esModule?i:{default:i},o=n.default},6468:function(e,t,r){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let n=r(61221),o=(i=r(70104))&&i.__esModule?i:{default:i},a=(0,n.cloneDeep)(o.default.theme)},10617:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return resolveConfig}});let i=_interop_require_default(r(90871)),n=_interop_require_default(r(12048));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function resolveConfig(...e){let[,...t]=(0,n.default)(e[0]);return(0,i.default)([...e,...t])}},61221:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"cloneDeep",{enumerable:!0,get:function(){return function cloneDeep(e){return Array.isArray(e)?e.map(e=>cloneDeep(e)):"object"==typeof e&&null!==e?Object.fromEntries(Object.entries(e).map(([e,t])=>[e,cloneDeep(t)])):e}}})},76792:function(e,t,r){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{parseColor:function(){return parseColor},formatColor:function(){return formatColor}});let n=(i=r(19991))&&i.__esModule?i:{default:i},o=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,a=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,s=/(?:\d+|\d*\.\d+)%?/,l=/(?:\s*,\s*|\s+)/,u=/\s*[,/]\s*/,c=/var\(--(?:[^ )]*?)(?:,(?:[^ )]*?|var\(--[^ )]*?\)))?\)/,d=RegExp(`^(rgba?)\\(\\s*(${s.source}|${c.source})(?:${l.source}(${s.source}|${c.source}))?(?:${l.source}(${s.source}|${c.source}))?(?:${u.source}(${s.source}|${c.source}))?\\s*\\)$`),p=RegExp(`^(hsla?)\\(\\s*((?:${s.source})(?:deg|rad|grad|turn)?|${c.source})(?:${l.source}(${s.source}|${c.source}))?(?:${l.source}(${s.source}|${c.source}))?(?:${u.source}(${s.source}|${c.source}))?\\s*\\)$`);function parseColor(e,{loose:t=!1}={}){var r,i,s;if("string"!=typeof e)return null;if("transparent"===(e=e.trim()))return{mode:"rgb",color:["0","0","0"],alpha:"0"};if(e in n.default)return{mode:"rgb",color:n.default[e].map(e=>e.toString())};let l=e.replace(a,(e,t,r,i,n)=>["#",t,t,r,r,i,i,n?n+n:""].join("")).match(o);if(null!==l)return{mode:"rgb",color:[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)].map(e=>e.toString()),alpha:l[4]?(parseInt(l[4],16)/255).toString():void 0};let u=null!==(s=e.match(d))&&void 0!==s?s:e.match(p);if(null===u)return null;let c=[u[2],u[3],u[4]].filter(Boolean).map(e=>e.toString());return 2===c.length&&c[0].startsWith("var(")?{mode:u[1],color:[c[0]],alpha:c[1]}:(t||3===c.length)&&(!(c.length<3)||c.some(e=>/^var\(.*?\)$/.test(e)))?{mode:u[1],color:c,alpha:null===(r=u[5])||void 0===r?void 0:null===(i=r.toString)||void 0===i?void 0:i.call(r)}:null}function formatColor({mode:e,color:t,alpha:r}){let i=void 0!==r;return"rgba"===e||"hsla"===e?`${e}(${t.join(", ")}${i?`, ${r}`:""})`:`${e}(${t.join(" ")}${i?` / ${r}`:""})`}},19991:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let r={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},92157:function(e,t){"use strict";function _default(e,t){if(void 0===e)return t;let r=Array.isArray(e)?e:[...new Set(t.filter(t=>!1!==e&&!1!==e[t]).concat(Object.keys(e).filter(t=>!1!==e[t])))];return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return _default}})},46470:function(e,t){"use strict";function createPlugin(e,t){return{handler:e,config:t}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),createPlugin.withOptions=function(e,t=()=>({})){let optionsFunction=function(r){return{__options:r,handler:e(r),config:t(r)}};return optionsFunction.__isOptionsFunction=!0,optionsFunction.__pluginFunction=e,optionsFunction.__configFunction=t,optionsFunction};let r=createPlugin},59773:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{normalize:function(){return normalize},url:function(){return url},number:function(){return number},percentage:function(){return percentage},length:function(){return length},lineWidth:function(){return lineWidth},shadow:function(){return shadow},color:function(){return color},image:function(){return image},gradient:function(){return gradient},position:function(){return position},familyName:function(){return familyName},genericName:function(){return genericName},absoluteSize:function(){return absoluteSize},relativeSize:function(){return relativeSize}});let i=r(76792),n=r(6765),o=r(44709),a=["min","max","clamp","calc"];function isCSSFunction(e){return a.some(t=>RegExp(`^${t}\\(.*\\)`).test(e))}let s=new Set(["scroll-timeline-name","timeline-scope","view-timeline-name","font-palette","scroll-timeline","animation-timeline","view-timeline"]);function normalize(e,t=null,r=!0){let i,n,o=t&&s.has(t.property);return e.startsWith("--")&&!o?`var(${e})`:e.includes("url(")?e.split(/(url\(.*?\))/g).filter(Boolean).map(e=>/^url\(.*?\)$/.test(e)?e:normalize(e,t,!1)).join(""):(e=e.replace(/([^\\])_+/g,(e,t)=>t+" ".repeat(e.length-1)).replace(/^_/g," ").replace(/\\_/g,"_"),r&&(e=e.trim()),i=["theme"],n=["min-content","max-content","fit-content","safe-area-inset-top","safe-area-inset-right","safe-area-inset-bottom","safe-area-inset-left","titlebar-area-x","titlebar-area-y","titlebar-area-width","titlebar-area-height","keyboard-inset-top","keyboard-inset-right","keyboard-inset-bottom","keyboard-inset-left","keyboard-inset-width","keyboard-inset-height","radial-gradient","linear-gradient","conic-gradient","repeating-radial-gradient","repeating-linear-gradient","repeating-conic-gradient"],e=e.replace(/(calc|min|max|clamp)\(.+\)/g,e=>{let t="";for(let r=0;r<e.length;r++){function peek(t){return t.split("").every((t,i)=>e[r+i]===t)}function consumeUntil(t){let i=1/0;for(let n of t){let t=e.indexOf(n,r);-1!==t&&t<i&&(i=t)}let n=e.slice(r,i);return r+=n.length-1,n}let o=e[r];if(peek("var"))t+=consumeUntil([")",","]);else if(n.some(e=>peek(e))){let e=n.find(e=>peek(e));t+=e,r+=e.length-1}else i.some(e=>peek(e))?t+=consumeUntil([")"]):peek("[")?t+=consumeUntil(["]"]):["+","-","*","/"].includes(o)&&!["(","+","-","*","/",","].includes(function(){let e=t.trimEnd();return e[e.length-1]}())?t+=` ${o} `:t+=o}return t.replace(/\s+/g," ")}))}function url(e){return e.startsWith("url(")}function number(e){return!isNaN(Number(e))||isCSSFunction(e)}function percentage(e){return e.endsWith("%")&&number(e.slice(0,-1))||isCSSFunction(e)}function length(e){return"0"===e||RegExp("^[+-]?[0-9]*\\.?[0-9]+(?:[eE][+-]?[0-9]+)?(?:cm|mm|Q|in|pc|pt|px|em|ex|ch|rem|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cqw|cqh|cqi|cqb|cqmin|cqmax)$").test(e)||isCSSFunction(e)}let l=new Set(["thin","medium","thick"]);function lineWidth(e){return l.has(e)}function shadow(e){for(let t of(0,n.parseBoxShadowValue)(normalize(e)))if(!t.valid)return!1;return!0}function color(e){let t=0;return!!(0,o.splitAtTopLevelOnly)(e,"_").every(e=>!!(e=normalize(e)).startsWith("var(")||null!==(0,i.parseColor)(e,{loose:!0})&&(t++,!0))&&t>0}function image(e){let t=0;return!!(0,o.splitAtTopLevelOnly)(e,",").every(e=>!!(e=normalize(e)).startsWith("var(")||!!(url(e)||gradient(e)||["element(","image(","cross-fade(","image-set("].some(t=>e.startsWith(t)))&&(t++,!0))&&t>0}let u=new Set(["conic-gradient","linear-gradient","radial-gradient","repeating-conic-gradient","repeating-linear-gradient","repeating-radial-gradient"]);function gradient(e){for(let t of(e=normalize(e),u))if(e.startsWith(`${t}(`))return!0;return!1}let c=new Set(["center","top","right","bottom","left"]);function position(e){let t=0;return!!(0,o.splitAtTopLevelOnly)(e,"_").every(e=>!!(e=normalize(e)).startsWith("var(")||!!(c.has(e)||length(e)||percentage(e))&&(t++,!0))&&t>0}function familyName(e){let t=0;return!!(0,o.splitAtTopLevelOnly)(e,",").every(e=>!!(e=normalize(e)).startsWith("var(")||!(e.includes(" ")&&!/(['"])([^"']+)\1/g.test(e)||/^\d/g.test(e))&&(t++,!0))&&t>0}let d=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]);function genericName(e){return d.has(e)}let p=new Set(["xx-small","x-small","small","medium","large","x-large","x-large","xxx-large"]);function absoluteSize(e){return p.has(e)}let h=new Set(["larger","smaller"]);function relativeSize(e){return h.has(e)}},24027:function(e,t){"use strict";function defaults(e,...t){for(let n of t){var r,i;for(let t in n)(null==e?void 0:null===(r=e.hasOwnProperty)||void 0===r?void 0:r.call(e,t))||(e[t]=n[t]);for(let t of Object.getOwnPropertySymbols(n))(null==e?void 0:null===(i=e.hasOwnProperty)||void 0===i?void 0:i.call(e,t))||(e[t]=n[t])}return e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"defaults",{enumerable:!0,get:function(){return defaults}})},88082:function(e,t){"use strict";function escapeCommas(e){return e.replace(/\\,/g,"\\2c ")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return escapeCommas}})},41877:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}});let flattenColorPalette=e=>Object.assign({},...Object.entries(null!=e?e:{}).flatMap(([e,t])=>"object"==typeof t?Object.entries(flattenColorPalette(t)).map(([t,r])=>({[e+("DEFAULT"===t?"":`-${t}`)]:r})):[{[`${e}`]:t}])),r=flattenColorPalette},12048:function(e,t,r){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return function getAllConfigs(e){var t;let r=(null!==(t=null==e?void 0:e.presets)&&void 0!==t?t:[n.default]).slice().reverse().flatMap(e=>getAllConfigs(e instanceof Function?e():e)),i={respectDefaultRingColorOpacity:{theme:{ringColor:({theme:e})=>({DEFAULT:"#3b82f67f",...e("colors")})}},disableColorOpacityUtilitiesByDefault:{corePlugins:{backgroundOpacity:!1,borderOpacity:!1,divideOpacity:!1,placeholderOpacity:!1,ringOpacity:!1,textOpacity:!1}}},a=Object.keys(i).filter(t=>(0,o.flagEnabled)(e,t)).map(e=>i[e]);return[e,...a,...r]}}});let n=(i=r(70104))&&i.__esModule?i:{default:i},o=r(9345)},29047:function(e,t){"use strict";function isPlainObject(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||null===Object.getPrototypeOf(t)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return isPlainObject}})},40542:function(e,t,r){"use strict";var i,n=r(28070);Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{dim:function(){return dim},default:function(){return s}});let o=(i=r(3969))&&i.__esModule?i:{default:i},a=new Set;function log(e,t,r){(void 0===n||!n.env.JEST_WORKER_ID)&&(r&&a.has(r)||(r&&a.add(r),console.warn(""),t.forEach(t=>console.warn(e,"-",t))))}function dim(e){return o.default.dim(e)}let s={info(e,t){log(o.default.bold(o.default.cyan("info")),...Array.isArray(e)?[e]:[t,e])},warn(e,t){log(o.default.bold(o.default.yellow("warn")),...Array.isArray(e)?[e]:[t,e])},risk(e,t){log(o.default.bold(o.default.magenta("risk")),...Array.isArray(e)?[e]:[t,e])}}},97593:function(e,t){"use strict";function negateValue(e){if("0"==(e=`${e}`))return"0";if(/^[+-]?(\d+|\d*\.\d+)(e[+-]?\d+)?(%|\w+)?$/.test(e))return e.replace(/^[+-]?/,e=>"-"===e?"":"-");for(let t of["var","calc","min","max","clamp"])if(e.includes(`${t}(`))return`calc(${e} * -1)`}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return negateValue}})},98734:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeConfig",{enumerable:!0,get:function(){return normalizeConfig}});let i=r(9345),n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=_getRequireWildcardCache(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=n?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}(r(40542));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(_getRequireWildcardCache=function(e){return e?r:t})(e)}function normalizeConfig(e){var t,r,o,a,s,l,u;let c,d;for(let p of(((()=>{if(e.purge||!e.content||!Array.isArray(e.content)&&!("object"==typeof e.content&&null!==e.content))return!1;if(Array.isArray(e.content))return e.content.every(e=>"string"==typeof e||"string"==typeof(null==e?void 0:e.raw)&&(null==e||!e.extension||"string"==typeof(null==e?void 0:e.extension)));if("object"==typeof e.content&&null!==e.content){if(Object.keys(e.content).some(e=>!["files","relative","extract","transform"].includes(e)))return!1;if(Array.isArray(e.content.files)){if(!e.content.files.every(e=>"string"==typeof e||"string"==typeof(null==e?void 0:e.raw)&&(null==e||!e.extension||"string"==typeof(null==e?void 0:e.extension))))return!1;if("object"==typeof e.content.extract){for(let t of Object.values(e.content.extract))if("function"!=typeof t)return!1}else if(!(void 0===e.content.extract||"function"==typeof e.content.extract))return!1;if("object"==typeof e.content.transform){for(let t of Object.values(e.content.transform))if("function"!=typeof t)return!1}else if(!(void 0===e.content.transform||"function"==typeof e.content.transform))return!1;if("boolean"!=typeof e.content.relative&&void 0!==e.content.relative)return!1}return!0}return!1})()||n.default.warn("purge-deprecation",["The `purge`/`content` options have changed in Tailwind CSS v3.0.","Update your configuration file to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#configure-content-sources"]),e.safelist=(()=>{var t;let{content:r,purge:i,safelist:n}=e;return Array.isArray(n)?n:Array.isArray(null==r?void 0:r.safelist)?r.safelist:Array.isArray(null==i?void 0:i.safelist)?i.safelist:Array.isArray(null==i?void 0:null===(t=i.options)||void 0===t?void 0:t.safelist)?i.options.safelist:[]})(),e.blocklist=(()=>{let{blocklist:t}=e;if(Array.isArray(t)){if(t.every(e=>"string"==typeof e))return t;n.default.warn("blocklist-invalid",["The `blocklist` option must be an array of strings.","https://tailwindcss.com/docs/content-configuration#discarding-classes"])}return[]})(),"function"==typeof e.prefix)?(n.default.warn("prefix-function",["As of Tailwind CSS v3.0, `prefix` cannot be a function.","Update `prefix` in your configuration to be a string to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#prefix-cannot-be-a-function"]),e.prefix=""):e.prefix=null!==(t=e.prefix)&&void 0!==t?t:"",e.content={relative:(()=>{let{content:t}=e;return(null==t?void 0:t.relative)?t.relative:(0,i.flagEnabled)(e,"relativeContentPathsByDefault")})(),files:(()=>{let{content:t,purge:r}=e;return Array.isArray(r)?r:Array.isArray(null==r?void 0:r.content)?r.content:Array.isArray(t)?t:Array.isArray(null==t?void 0:t.content)?t.content:Array.isArray(null==t?void 0:t.files)?t.files:[]})(),extract:(()=>{var t,r,i,n,o,a,s,l,u,c,d,p,h,f;let y=(null===(t=e.purge)||void 0===t?void 0:t.extract)?e.purge.extract:(null===(r=e.content)||void 0===r?void 0:r.extract)?e.content.extract:(null===(i=e.purge)||void 0===i?void 0:null===(n=i.extract)||void 0===n?void 0:n.DEFAULT)?e.purge.extract.DEFAULT:(null===(o=e.content)||void 0===o?void 0:null===(a=o.extract)||void 0===a?void 0:a.DEFAULT)?e.content.extract.DEFAULT:(null===(s=e.purge)||void 0===s?void 0:null===(l=s.options)||void 0===l?void 0:l.extractors)?e.purge.options.extractors:(null===(u=e.content)||void 0===u?void 0:null===(c=u.options)||void 0===c?void 0:c.extractors)?e.content.options.extractors:{},g={},v=(null===(d=e.purge)||void 0===d?void 0:null===(p=d.options)||void 0===p?void 0:p.defaultExtractor)?e.purge.options.defaultExtractor:(null===(h=e.content)||void 0===h?void 0:null===(f=h.options)||void 0===f?void 0:f.defaultExtractor)?e.content.options.defaultExtractor:void 0;if(void 0!==v&&(g.DEFAULT=v),"function"==typeof y)g.DEFAULT=y;else if(Array.isArray(y))for(let{extensions:e,extractor:t}of null!=y?y:[])for(let r of e)g[r]=t;else"object"==typeof y&&null!==y&&Object.assign(g,y);return g})(),transform:(c=(null===(r=e.purge)||void 0===r?void 0:r.transform)?e.purge.transform:(null===(o=e.content)||void 0===o?void 0:o.transform)?e.content.transform:(null===(a=e.purge)||void 0===a?void 0:null===(s=a.transform)||void 0===s?void 0:s.DEFAULT)?e.purge.transform.DEFAULT:(null===(l=e.content)||void 0===l?void 0:null===(u=l.transform)||void 0===u?void 0:u.DEFAULT)?e.content.transform.DEFAULT:{},d={},"function"==typeof c&&(d.DEFAULT=c),"object"==typeof c&&null!==c&&Object.assign(d,c),d)},e.content.files))if("string"==typeof p&&/{([^,]*?)}/g.test(p)){n.default.warn("invalid-glob-braces",[`The glob pattern ${(0,n.dim)(p)} in your Tailwind CSS configuration is invalid.`,`Update it to ${(0,n.dim)(p.replace(/{([^,]*?)}/g,"$1"))} to silence this warning.`]);break}return e}},6765:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{parseBoxShadowValue:function(){return parseBoxShadowValue},formatBoxShadowValue:function(){return formatBoxShadowValue}});let i=r(44709),n=new Set(["inset","inherit","initial","revert","unset"]),o=/\ +(?![^(]*\))/g,a=/^-?(\d+|\.\d+)(.*?)$/g;function parseBoxShadowValue(e){return(0,i.splitAtTopLevelOnly)(e,",").map(e=>{let t=e.trim(),r={raw:t},i=t.split(o),s=new Set;for(let e of i)a.lastIndex=0,!s.has("KEYWORD")&&n.has(e)?(r.keyword=e,s.add("KEYWORD")):a.test(e)?s.has("X")?s.has("Y")?s.has("BLUR")?s.has("SPREAD")||(r.spread=e,s.add("SPREAD")):(r.blur=e,s.add("BLUR")):(r.y=e,s.add("Y")):(r.x=e,s.add("X")):r.color?(r.unknown||(r.unknown=[]),r.unknown.push(e)):r.color=e;return r.valid=void 0!==r.x&&void 0!==r.y,r})}function formatBoxShadowValue(e){return e.map(e=>e.valid?[e.keyword,e.x,e.y,e.blur,e.spread,e.color].filter(Boolean).join(" "):e.raw).join(", ")}},26591:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{updateAllClasses:function(){return updateAllClasses},asValue:function(){return asValue},parseColorFormat:function(){return parseColorFormat},asColor:function(){return asColor},asLookupValue:function(){return asLookupValue},typeMap:function(){return u},coerceValue:function(){return coerceValue},getMatchingTypes:function(){return getMatchingTypes}});let i=_interop_require_default(r(88082)),n=r(5016),o=r(59773),a=_interop_require_default(r(97593)),s=r(302),l=r(9345);function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function updateAllClasses(e,t){e.walkClasses(e=>{e.value=t(e.value),e.raws&&e.raws.value&&(e.raws.value=(0,i.default)(e.raws.value))})}function resolveArbitraryValue(e,t){if(!isArbitraryValue(e))return;let r=e.slice(1,-1);if(t(r))return(0,o.normalize)(r)}function asValue(e,t={},{validate:r=()=>!0}={}){var i;let n=null===(i=t.values)||void 0===i?void 0:i[e];return void 0!==n?n:t.supportsNegativeValues&&e.startsWith("-")?function(e,t={},r){let i=t[e];if(void 0!==i)return(0,a.default)(i);if(isArbitraryValue(e)){let t=resolveArbitraryValue(e,r);if(void 0===t)return;return(0,a.default)(t)}}(e.slice(1),t.values,r):resolveArbitraryValue(e,r)}function isArbitraryValue(e){return e.startsWith("[")&&e.endsWith("]")}function splitUtilityModifier(e){let t=e.lastIndexOf("/"),r=e.lastIndexOf("[",t),i=e.indexOf("]",t);return(!("]"===e[t-1]||"["===e[t+1])&&-1!==r&&-1!==i&&r<t&&t<i&&(t=e.lastIndexOf("/",r)),-1===t||t===e.length-1||isArbitraryValue(e)&&!e.includes("]/["))?[e,void 0]:[e.slice(0,t),e.slice(t+1)]}function parseColorFormat(e){return"string"==typeof e&&e.includes("<alpha-value>")?({opacityValue:t=1})=>e.replace("<alpha-value>",t):e}function unwrapArbitraryModifier(e){return(0,o.normalize)(e.slice(1,-1))}function asColor(e,t={},{tailwindConfig:r={}}={}){var i,a,s,l,u,c;if((null===(i=t.values)||void 0===i?void 0:i[e])!==void 0)return parseColorFormat(null===(a=t.values)||void 0===a?void 0:a[e]);let[d,p]=splitUtilityModifier(e);if(void 0!==p){let e=null!==(c=null===(s=t.values)||void 0===s?void 0:s[d])&&void 0!==c?c:isArbitraryValue(d)?d.slice(1,-1):void 0;if(void 0===e)return;if(e=parseColorFormat(e),isArbitraryValue(p))return(0,n.withAlphaValue)(e,unwrapArbitraryModifier(p));if((null===(l=r.theme)||void 0===l?void 0:null===(u=l.opacity)||void 0===u?void 0:u[p])===void 0)return;return(0,n.withAlphaValue)(e,r.theme.opacity[p])}return asValue(e,t,{validate:o.color})}function asLookupValue(e,t={}){var r;return null===(r=t.values)||void 0===r?void 0:r[e]}function guess(e){return(t,r)=>asValue(t,r,{validate:e})}let u={any:asValue,color:asColor,url:guess(o.url),image:guess(o.image),length:guess(o.length),percentage:guess(o.percentage),position:guess(o.position),lookup:asLookupValue,"generic-name":guess(o.genericName),"family-name":guess(o.familyName),number:guess(o.number),"line-width":guess(o.lineWidth),"absolute-size":guess(o.absoluteSize),"relative-size":guess(o.relativeSize),shadow:guess(o.shadow),size:guess(s.backgroundSize)},c=Object.keys(u);function coerceValue(e,t,r,i){if(r.values&&t in r.values)for(let{type:n}of null!=e?e:[]){let e=u[n](t,r,{tailwindConfig:i});if(void 0!==e)return[e,n,null]}if(isArbitraryValue(t)){let e,i=t.slice(1,-1),[n,o]=-1===(e=i.indexOf(":"))?[void 0,i]:[i.slice(0,e),i.slice(e+1)];if(/^[\w-_]+$/g.test(n)){if(void 0!==n&&!c.includes(n))return[]}else o=i;if(o.length>0&&c.includes(n))return[asValue(`[${o}]`,r),n,null]}for(let n of getMatchingTypes(e,t,r,i))return n;return[]}function*getMatchingTypes(e,t,r,i){let n=(0,l.flagEnabled)(i,"generalizedModifiers"),[o,a]=splitUtilityModifier(t);if(n&&null!=r.modifiers&&("any"===r.modifiers||"object"==typeof r.modifiers&&(a&&isArbitraryValue(a)||a in r.modifiers))||(o=t,a=void 0),void 0!==a&&""===o&&(o="DEFAULT"),void 0!==a&&"object"==typeof r.modifiers){var s,c;let e=null!==(c=null===(s=r.modifiers)||void 0===s?void 0:s[a])&&void 0!==c?c:null;null!==e?a=e:isArbitraryValue(a)&&(a=unwrapArbitraryModifier(a))}for(let{type:t}of null!=e?e:[]){let e=u[t](o,r,{tailwindConfig:i});void 0!==e&&(yield[e,t,null!=a?a:null])}}},90871:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return resolveConfig}});let i=_interop_require_default(r(97593)),n=_interop_require_default(r(69734)),o=_interop_require_default(r(92157)),a=_interop_require_default(r(73059)),s=r(24027),l=r(16604),u=r(98734),c=_interop_require_default(r(29047)),d=r(61221),p=r(26591),h=r(5016),f=_interop_require_default(r(54472));function _interop_require_default(e){return e&&e.__esModule?e:{default:e}}function isFunction(e){return"function"==typeof e}function mergeWith(e,...t){let r=t.pop();for(let i of t)for(let t in i){let n=r(e[t],i[t]);void 0===n?(0,c.default)(e[t])&&(0,c.default)(i[t])?e[t]=mergeWith({},e[t],i[t],r):e[t]=i[t]:e[t]=n}return e}let y={colors:a.default,negative:e=>Object.keys(e).filter(t=>"0"!==e[t]).reduce((t,r)=>{let n=(0,i.default)(e[r]);return void 0!==n&&(t[`-${r}`]=n),t},{}),breakpoints:e=>Object.keys(e).filter(t=>"string"==typeof e[t]).reduce((t,r)=>({...t,[`screen-${r}`]:e[r]}),{})};function mergeExtensionCustomizer(e,t){return Array.isArray(e)&&(0,c.default)(e[0])?e.concat(t):Array.isArray(t)&&(0,c.default)(t[0])&&(0,c.default)(e)?[e,...t]:Array.isArray(t)?t:void 0}function resolveConfig(e){var t,r,i;let a=[...function extractPluginConfigs(e){let t=[];return e.forEach(e=>{var r;t=[...t,e];let i=null!==(r=null==e?void 0:e.plugins)&&void 0!==r?r:[];0!==i.length&&i.forEach(e=>{var r;e.__isOptionsFunction&&(e=e()),t=[...t,...extractPluginConfigs([null!==(r=null==e?void 0:e.config)&&void 0!==r?r:{}])]})}),t}(e),{prefix:"",important:!1,separator:":"}];return(0,u.normalizeConfig)((0,s.defaults)({theme:function(e){let resolvePath=(t,r)=>{for(let r of function*(e){let t=(0,l.toPath)(e);if(0===t.length||(yield t,Array.isArray(e)))return;let r=e.match(/^(.*?)\s*\/\s*([^/]+)$/);if(null!==r){let[,e,t]=r,i=(0,l.toPath)(e);i.alpha=t,yield i}}(t)){let t=0,i=e;for(;null!=i&&t<r.length;)i=isFunction(i=i[r[t++]])&&(void 0===r.alpha||t<=r.length-1)?i(resolvePath,y):i;if(void 0!==i){if(void 0!==r.alpha){let e=(0,p.parseColorFormat)(i);return(0,h.withAlphaValue)(e,r.alpha,(0,f.default)(e))}if((0,c.default)(i))return(0,d.cloneDeep)(i);return i}}return r};return Object.assign(resolvePath,{theme:resolvePath,...y}),Object.keys(e).reduce((t,r)=>(t[r]=isFunction(e[r])?e[r](resolvePath,y):e[r],t),{})}(function({extend:e,...t}){return mergeWith(t,e,(e,t)=>isFunction(e)||t.some(isFunction)?(r,i)=>mergeWith({},...[e,...t].map(e=>(function(e,...t){return isFunction(e)?e(...t):e})(e,r,i)),mergeExtensionCustomizer):mergeWith({},e,...t,mergeExtensionCustomizer))}({...(i=a.map(e=>null!==(t=null==e?void 0:e.theme)&&void 0!==t?t:{})).reduce((e,t)=>(0,s.defaults)(e,t),{}),extend:i.reduce((e,{extend:t})=>mergeWith(e,t,(e,t)=>void 0===e?[t]:Array.isArray(e)?[t,...e]:[t,e]),{})})),corePlugins:function(e){let t=[...e].reduceRight((e,t)=>isFunction(t)?t({corePlugins:e}):(0,o.default)(t,e),n.default);return t}(a.map(e=>e.corePlugins)),plugins:function(e){let t=[...e].reduceRight((e,t)=>[...e,...t],[]);return t}(e.map(e=>null!==(r=null==e?void 0:e.plugins)&&void 0!==r?r:[]))},...a))}},44709:function(e,t){"use strict";function splitAtTopLevelOnly(e,t){let r=[],i=[],n=0,o=!1;for(let a=0;a<e.length;a++){let s=e[a];0!==r.length||s!==t[0]||o||1!==t.length&&e.slice(a,a+t.length)!==t||(i.push(e.slice(n,a)),n=a+t.length),o?o=!1:"\\"===s&&(o=!0),"("===s||"["===s||"{"===s?r.push(s):(")"===s&&"("===r[r.length-1]||"]"===s&&"["===r[r.length-1]||"}"===s&&"{"===r[r.length-1])&&r.pop()}return i.push(e.slice(n)),i}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"splitAtTopLevelOnly",{enumerable:!0,get:function(){return splitAtTopLevelOnly}})},54472:function(e,t){"use strict";function toColorValue(e){return"function"==typeof e?e({}):e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return toColorValue}})},16604:function(e,t){"use strict";function toPath(e){if(Array.isArray(e))return e;if(e.split("[").length-1!=e.split("]").length-1)throw Error(`Path is invalid. Has unbalanced brackets: ${e}`);return e.split(/\.(?![^\[]*\])|[\[\]]/g).filter(Boolean)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"toPath",{enumerable:!0,get:function(){return toPath}})},302:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"backgroundSize",{enumerable:!0,get:function(){return backgroundSize}});let i=r(59773),n=r(44709);function backgroundSize(e){let t=["cover","contain"];return(0,n.splitAtTopLevelOnly)(e,",").every(e=>{let r=(0,n.splitAtTopLevelOnly)(e,"_").filter(Boolean);return!!(1===r.length&&t.includes(r[0]))||(1===r.length||2===r.length)&&r.every(e=>(0,i.length)(e)||(0,i.percentage)(e)||"auto"===e)})}},5016:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{withAlphaValue:function(){return withAlphaValue},default:function(){return withAlphaVariable}});let i=r(76792);function withAlphaValue(e,t,r){if("function"==typeof e)return e({opacityValue:t});let n=(0,i.parseColor)(e,{loose:!0});return null===n?r:(0,i.formatColor)({...n,alpha:t})}function withAlphaVariable({color:e,property:t,variable:r}){let n=[].concat(t);if("function"==typeof e)return{[r]:"1",...Object.fromEntries(n.map(t=>[t,e({opacityVariable:r,opacityValue:`var(${r})`})]))};let o=(0,i.parseColor)(e);return null===o?Object.fromEntries(n.map(t=>[t,e])):void 0!==o.alpha?Object.fromEntries(n.map(t=>[t,e])):{[r]:"1",...Object.fromEntries(n.map(e=>[e,(0,i.formatColor)({...o,alpha:`var(${r})`})]))}}},72871:function(e,t,r){let i=r(49622);e.exports=(i.__esModule?i:{default:i}).default},85232:function(e,t,r){let i=r(10617);e.exports=(i.__esModule?i:{default:i}).default},70104:function(e){e.exports={content:[],presets:[],darkMode:"media",theme:{accentColor:({theme:e})=>({...e("colors"),auto:"auto"}),animation:{none:"none",spin:"spin 1s linear infinite",ping:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",pulse:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",bounce:"bounce 1s infinite"},aria:{busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},aspectRatio:{auto:"auto",square:"1 / 1",video:"16 / 9"},backdropBlur:({theme:e})=>e("blur"),backdropBrightness:({theme:e})=>e("brightness"),backdropContrast:({theme:e})=>e("contrast"),backdropGrayscale:({theme:e})=>e("grayscale"),backdropHueRotate:({theme:e})=>e("hueRotate"),backdropInvert:({theme:e})=>e("invert"),backdropOpacity:({theme:e})=>e("opacity"),backdropSaturate:({theme:e})=>e("saturate"),backdropSepia:({theme:e})=>e("sepia"),backgroundColor:({theme:e})=>e("colors"),backgroundImage:{none:"none","gradient-to-t":"linear-gradient(to top, var(--tw-gradient-stops))","gradient-to-tr":"linear-gradient(to top right, var(--tw-gradient-stops))","gradient-to-r":"linear-gradient(to right, var(--tw-gradient-stops))","gradient-to-br":"linear-gradient(to bottom right, var(--tw-gradient-stops))","gradient-to-b":"linear-gradient(to bottom, var(--tw-gradient-stops))","gradient-to-bl":"linear-gradient(to bottom left, var(--tw-gradient-stops))","gradient-to-l":"linear-gradient(to left, var(--tw-gradient-stops))","gradient-to-tl":"linear-gradient(to top left, var(--tw-gradient-stops))"},backgroundOpacity:({theme:e})=>e("opacity"),backgroundPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},backgroundSize:{auto:"auto",cover:"cover",contain:"contain"},blur:{0:"0",none:"0",sm:"4px",DEFAULT:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},borderColor:({theme:e})=>({...e("colors"),DEFAULT:e("colors.gray.200","currentColor")}),borderOpacity:({theme:e})=>e("opacity"),borderRadius:{none:"0px",sm:"0.125rem",DEFAULT:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},borderSpacing:({theme:e})=>({...e("spacing")}),borderWidth:{DEFAULT:"1px",0:"0px",2:"2px",4:"4px",8:"8px"},boxShadow:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",DEFAULT:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",none:"none"},boxShadowColor:({theme:e})=>e("colors"),brightness:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5",200:"2"},caretColor:({theme:e})=>e("colors"),colors:({colors:e})=>({inherit:e.inherit,current:e.current,transparent:e.transparent,black:e.black,white:e.white,slate:e.slate,gray:e.gray,zinc:e.zinc,neutral:e.neutral,stone:e.stone,red:e.red,orange:e.orange,amber:e.amber,yellow:e.yellow,lime:e.lime,green:e.green,emerald:e.emerald,teal:e.teal,cyan:e.cyan,sky:e.sky,blue:e.blue,indigo:e.indigo,violet:e.violet,purple:e.purple,fuchsia:e.fuchsia,pink:e.pink,rose:e.rose}),columns:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12","3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},container:{},content:{none:"none"},contrast:{0:"0",50:".5",75:".75",100:"1",125:"1.25",150:"1.5",200:"2"},cursor:{auto:"auto",default:"default",pointer:"pointer",wait:"wait",text:"text",move:"move",help:"help","not-allowed":"not-allowed",none:"none","context-menu":"context-menu",progress:"progress",cell:"cell",crosshair:"crosshair","vertical-text":"vertical-text",alias:"alias",copy:"copy","no-drop":"no-drop",grab:"grab",grabbing:"grabbing","all-scroll":"all-scroll","col-resize":"col-resize","row-resize":"row-resize","n-resize":"n-resize","e-resize":"e-resize","s-resize":"s-resize","w-resize":"w-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","se-resize":"se-resize","sw-resize":"sw-resize","ew-resize":"ew-resize","ns-resize":"ns-resize","nesw-resize":"nesw-resize","nwse-resize":"nwse-resize","zoom-in":"zoom-in","zoom-out":"zoom-out"},divideColor:({theme:e})=>e("borderColor"),divideOpacity:({theme:e})=>e("borderOpacity"),divideWidth:({theme:e})=>e("borderWidth"),dropShadow:{sm:"0 1px 1px rgb(0 0 0 / 0.05)",DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],md:["0 4px 3px rgb(0 0 0 / 0.07)","0 2px 2px rgb(0 0 0 / 0.06)"],lg:["0 10px 8px rgb(0 0 0 / 0.04)","0 4px 3px rgb(0 0 0 / 0.1)"],xl:["0 20px 13px rgb(0 0 0 / 0.03)","0 8px 5px rgb(0 0 0 / 0.08)"],"2xl":"0 25px 25px rgb(0 0 0 / 0.15)",none:"0 0 #0000"},fill:({theme:e})=>({none:"none",...e("colors")}),flex:{1:"1 1 0%",auto:"1 1 auto",initial:"0 1 auto",none:"none"},flexBasis:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%"}),flexGrow:{0:"0",DEFAULT:"1"},flexShrink:{0:"0",DEFAULT:"1"},fontFamily:{sans:["ui-sans-serif","system-ui","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"]},fontSize:{xs:["0.75rem",{lineHeight:"1rem"}],sm:["0.875rem",{lineHeight:"1.25rem"}],base:["1rem",{lineHeight:"1.5rem"}],lg:["1.125rem",{lineHeight:"1.75rem"}],xl:["1.25rem",{lineHeight:"1.75rem"}],"2xl":["1.5rem",{lineHeight:"2rem"}],"3xl":["1.875rem",{lineHeight:"2.25rem"}],"4xl":["2.25rem",{lineHeight:"2.5rem"}],"5xl":["3rem",{lineHeight:"1"}],"6xl":["3.75rem",{lineHeight:"1"}],"7xl":["4.5rem",{lineHeight:"1"}],"8xl":["6rem",{lineHeight:"1"}],"9xl":["8rem",{lineHeight:"1"}]},fontWeight:{thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},gap:({theme:e})=>e("spacing"),gradientColorStops:({theme:e})=>e("colors"),gradientColorStopPositions:{"0%":"0%","5%":"5%","10%":"10%","15%":"15%","20%":"20%","25%":"25%","30%":"30%","35%":"35%","40%":"40%","45%":"45%","50%":"50%","55%":"55%","60%":"60%","65%":"65%","70%":"70%","75%":"75%","80%":"80%","85%":"85%","90%":"90%","95%":"95%","100%":"100%"},grayscale:{0:"0",DEFAULT:"100%"},gridAutoColumns:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridAutoRows:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridColumn:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridColumnEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridColumnStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRow:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridRowEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRowStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridTemplateColumns:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},gridTemplateRows:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},height:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),hueRotate:{0:"0deg",15:"15deg",30:"30deg",60:"60deg",90:"90deg",180:"180deg"},inset:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),invert:{0:"0",DEFAULT:"100%"},keyframes:{spin:{to:{transform:"rotate(360deg)"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},pulse:{"50%":{opacity:".5"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}}},letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeight:{none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},listStyleType:{none:"none",disc:"disc",decimal:"decimal"},listStyleImage:{none:"none"},margin:({theme:e})=>({auto:"auto",...e("spacing")}),lineClamp:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},maxHeight:({theme:e})=>({...e("spacing"),none:"none",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),maxWidth:({theme:e,breakpoints:t})=>({...e("spacing"),none:"none",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",full:"100%",min:"min-content",max:"max-content",fit:"fit-content",prose:"65ch",...t(e("screens"))}),minHeight:({theme:e})=>({...e("spacing"),full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),minWidth:({theme:e})=>({...e("spacing"),full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),objectPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},opacity:{0:"0",5:"0.05",10:"0.1",15:"0.15",20:"0.2",25:"0.25",30:"0.3",35:"0.35",40:"0.4",45:"0.45",50:"0.5",55:"0.55",60:"0.6",65:"0.65",70:"0.7",75:"0.75",80:"0.8",85:"0.85",90:"0.9",95:"0.95",100:"1"},order:{first:"-9999",last:"9999",none:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},outlineColor:({theme:e})=>e("colors"),outlineOffset:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},outlineWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},padding:({theme:e})=>e("spacing"),placeholderColor:({theme:e})=>e("colors"),placeholderOpacity:({theme:e})=>e("opacity"),ringColor:({theme:e})=>({DEFAULT:e("colors.blue.500","#3b82f6"),...e("colors")}),ringOffsetColor:({theme:e})=>e("colors"),ringOffsetWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},ringOpacity:({theme:e})=>({DEFAULT:"0.5",...e("opacity")}),ringWidth:{DEFAULT:"3px",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},rotate:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg",45:"45deg",90:"90deg",180:"180deg"},saturate:{0:"0",50:".5",100:"1",150:"1.5",200:"2"},scale:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5"},screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},scrollMargin:({theme:e})=>({...e("spacing")}),scrollPadding:({theme:e})=>e("spacing"),sepia:{0:"0",DEFAULT:"100%"},skew:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg"},space:({theme:e})=>({...e("spacing")}),spacing:{px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},stroke:({theme:e})=>({none:"none",...e("colors")}),strokeWidth:{0:"0",1:"1",2:"2"},supports:{},data:{},textColor:({theme:e})=>e("colors"),textDecorationColor:({theme:e})=>e("colors"),textDecorationThickness:{auto:"auto","from-font":"from-font",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},textIndent:({theme:e})=>({...e("spacing")}),textOpacity:({theme:e})=>e("opacity"),textUnderlineOffset:{auto:"auto",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},transformOrigin:{center:"center",top:"top","top-right":"top right",right:"right","bottom-right":"bottom right",bottom:"bottom","bottom-left":"bottom left",left:"left","top-left":"top left"},transitionDelay:{0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionDuration:{DEFAULT:"150ms",0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionProperty:{none:"none",all:"all",DEFAULT:"color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"color, background-color, border-color, text-decoration-color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},transitionTimingFunction:{DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)",linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},translate:({theme:e})=>({...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),size:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),width:({theme:e})=>({auto:"auto",...e("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",screen:"100vw",svw:"100svw",lvw:"100lvw",dvw:"100dvw",min:"min-content",max:"max-content",fit:"fit-content"}),willChange:{auto:"auto",scroll:"scroll-position",contents:"contents",transform:"transform"},zIndex:{auto:"auto",0:"0",10:"10",20:"20",30:"30",40:"40",50:"50"}},plugins:[]}}}]);
//# sourceMappingURL=9607-fb3dddfaa7d44646.js.map